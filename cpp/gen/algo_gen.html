<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" />

    <!-- Generated with Sphinx 6.2.1 and Furo 2024.01.29 -->
        <title>cpp/gen/algo_gen.cpp - Openacr Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?digest=369552022d0b975c8e74270ce6eabe0fb7978f24" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --sidebar-item-spacing-horizontal: 1.0rem;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --sidebar-item-spacing-horizontal: 1.0rem;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --sidebar-item-spacing-horizontal: 1.0rem;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Openacr Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  
  <span class="sidebar-brand-text">Openacr Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../txt/intro/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../txt/start/setup.html">Setup And Installation</a></li>
</ul>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../txt/fun/README.html">Fundamentals</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Fundamentals</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/fun/cpp/README.html">C++ integration</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of C++ integration</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/fun/cpp/coding-style.html">Coding Style</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/fun/cpp/fun_06.html">C++ target</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/fun/cpp/intro.html">AMC Intro</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/fun/ssim/README.html">Ssimfiles for Information Management</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Ssimfiles for Information Management</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/fun/ssim/fun_01.html"><strong>ssim</strong> tuples and <strong>ssimfiles</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/fun/ssim/fun_02.html"><strong>ssim</strong> tuples and SQL Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/fun/ssim/fun_03.html"><strong>fldfunc fields</strong> in <strong>ssim</strong> tuples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/fun/ssim/fun_04.html"><strong>ssimfile</strong> cross-references</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/fun/ssim/fun_05.html">Information Management Insights</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../txt/recipe/README.html">Recipes</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Recipes</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/recipe/cpp/README.html">C++</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of C++</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/recipe/cpp/recipe_04.html">How to create C++ <strong>target</strong></a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/recipe/ssim/README.html">Ssimfiles</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Ssimfiles</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/recipe/ssim/recipe_01.html">How to define a new ssimfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/recipe/ssim/recipe_02.html">How to edit an existing ssimfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/recipe/ssim/recipe_03.html">How to display an existing ssimfile</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../txt/tut/README.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../txt/tut/tut1.html">Tutorial 1: Parts And Projects Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/tut/tut2.html">Tutorial 2: Parts And Projects in SQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/tut/tut3.html">Tutorial 3: Scheduling And Main Loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/tut/tut4.html">Tutorial 4: Command Lines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/tut/tut5.html">Tutorial 5: Running multiple subprocesses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/tut/tut6.html">Iohook &amp; Fbuf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/tut/tut7.html">Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/tut/tut8.html">tut8 - ACR live tutorial</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../txt/ssimdb/README.html">Ssim Databases</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Ssim Databases</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/amcdb/README.html">amcdb - Algo Model Compiler support tables</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of amcdb - Algo Model Compiler support tables</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/amcdb/bltin.html">amcdb.bltin - Specify properties of a C built-in type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/amcdb/curstype.html">amcdb.curstype - Cursor type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/amcdb/gen.html">amcdb.gen -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/amcdb/regxtype.html">amcdb.regxtype -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/amcdb/tclass.html">amcdb.tclass - AMC template class</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/amcdb/tcurs.html">amcdb.tcurs - Cursor template</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/amcdb/tfunc.html">amcdb.tfunc - AMC template function</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/amsdb/README.html">amsdb - AMS configuration (ssim database)</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of amsdb - AMS configuration (ssim database)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/amsdb/proctype.html">amsdb.proctype -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/amsdb/streamtype.html">amsdb.streamtype -</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/atfdb/README.html">atfdb - Support tables for testing</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of atfdb - Support tables for testing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/amctest.html">atfdb.amctest -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/cijob.html">atfdb.cijob -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/cipackage.html">atfdb.cipackage -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/citest.html">atfdb.citest -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/comptest.html">atfdb.comptest -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/fuzzstrat.html">atfdb.fuzzstrat -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/msgdir.html">atfdb.msgdir -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/targs.html">atfdb.targs -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/test_gsymbol_char.html">atfdb.test_gsymbol_char -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/test_gsymbol_pkey.html">atfdb.test_gsymbol_pkey -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/test_gsymbol_strptr.html">atfdb.test_gsymbol_strptr -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/tfilt.html">atfdb.tfilt -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/tmsg.html">atfdb.tmsg -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/unittest.html">atfdb.unittest -</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/dclidb/README.html">dclidb - docker db</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of dclidb - docker db</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dclidb/dclicmd.html">dclidb.dclicmd -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dclidb/dclicmdsel.html">dclidb.dclicmdsel -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dclidb/dclicmdstep.html">dclidb.dclicmdstep -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dclidb/dclisel.html">dclidb.dclisel -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dclidb/dctr.html">dclidb.dctr - Container</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dclidb/dctrhost.html">dclidb.dctrhost - Container/host</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dclidb/dctrua.html">dclidb.dctrua - User attribute</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dclidb/dhost.html">dclidb.dhost - Host</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dclidb/duascript.html">dclidb.duascript - Script type (step in preparation of container)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dclidb/duascriptstep.html">dclidb.duascriptstep - Script step ordering</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/dev/README.html">dev - Tables supporting compilation of programs</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of dev - Tables supporting compilation of programs</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/arch.html">dev.arch - System architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/badline.html">dev.badline - Regex of a dubious source code line</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/builddir.html">dev.builddir - Directory where object files/executables go. Determines compile/link options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/cfg.html">dev.cfg - Compiler configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/compiler.html">dev.compiler - One of the known compilers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/copyright.html">dev.copyright - Copyrighting entity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/covfile.html">dev.covfile -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/covline.html">dev.covline -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/covtarget.html">dev.covtarget -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/edaction.html">dev.edaction - acr_ed editing action (only one can exist at a time)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/edacttype.html">dev.edacttype - acr_ed editing action type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/gitfile.html">dev.gitfile - File managed by git</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/gitinfo.html">dev.gitinfo -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/hilite.html">dev.hilite - Mapping of perl regx-&gt;hilite pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/htmlentity.html">dev.htmlentity - Known HTML entity strings &amp; codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/include.html">dev.include - A site where one file includes another</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/license.html">dev.license - Source code license</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/linelim.html">dev.linelim -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/mdsection.html">dev.mdsection - Template for updating a markdown file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/msgfile.html">dev.msgfile - File in repo containing messages that should be normalized during CI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/noindent.html">dev.noindent - Indicates that a file should not be automatically indented</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/opt_type.html">dev.opt_type - Type of option (used in tool_opt)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/package.html">dev.package - OpenACR package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/pkgdep.html">dev.pkgdep - OpenACR Package dependency</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/pkgkey.html">dev.pkgkey - Keys belonging to the OpenACR package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/readme.html">dev.readme - File containing documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/readmecat.html">dev.readmecat - sorted categories of txt/ *.md files presented in dev.readme</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/sandbox.html">dev.sandbox - Registered sandbox</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/sbpath.html">dev.sbpath - Extra files to copy into the sandbox</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/scriptfile.html">dev.scriptfile - Known script file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/srcfile.html">dev.srcfile - Source file or header (key is pathname)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/syscmd.html">dev.syscmd - System command to execute</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/syscmddep.html">dev.syscmddep - Dependency between two commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/syslib.html">dev.syslib - Registered system library</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/targdep.html">dev.targdep - Dependency between targets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/target.html">dev.target - Build target</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/targsrc.html">dev.targsrc - List of sources for target</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/targsyslib.html">dev.targsyslib - Use of system library by target</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/tgtcov.html">dev.tgtcov - Captured line coverate information by target</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/timefmt.html">dev.timefmt - Time formats supported by orgfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/tool_opt.html">dev.tool_opt - Compiler/linker options to use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/uname.html">dev.uname - List of known unames</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/unstablefld.html">dev.unstablefld - Fields that should be stripped from component test output because they contain timestamps etc.</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/dmmeta/README.html">dmmeta - Tables holding metadata (data model meta)</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of dmmeta - Tables holding metadata (data model meta)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/anonfld.html">dmmeta.anonfld - Omit field name where possible (command line, enums, constants)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/argvtype.html">dmmeta.argvtype - Customize parsing of command lines (rarely used)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/basepool.html">dmmeta.basepool - Specify pool to be used for allocating elements of a type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/bitfld.html">dmmeta.bitfld - Specify offset/width of a bitfield within another field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cafter.html">dmmeta.cafter - Control amc processing order for unrelated types (used in rare situations)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cascdel.html">dmmeta.cascdel - Request cascading delete of referenced rows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ccmp.html">dmmeta.ccmp - Generate hash function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cdflt.html">dmmeta.cdflt - Specify default value for single-value types that lack fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cextern.html">dmmeta.cextern - Externally defined ctype (a struct from system header, or from a c++ library)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cfast.html">dmmeta.cfast - FAST properties for ctype</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cfmt.html">dmmeta.cfmt - Specify options for printing/reading ctypes into multiple formats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cget.html">dmmeta.cget - Generate state functions for these ctypes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/charset.html">dmmeta.charset - Generate functions to determine if a character is a member of a set</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/chash.html">dmmeta.chash - Generate hash function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cppfunc.html">dmmeta.cppfunc - Value of field provided by this expression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cppkeyword.html">dmmeta.cppkeyword - Built-in C++ keyword</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cpptype.html">dmmeta.cpptype - Specify whether a ctype can be passed by value, and other c++ options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/csize.html">dmmeta.csize - Specify size/alignment for built-in C++ types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cstr.html">dmmeta.cstr - Specify that type behaves like a string</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ctype.html">dmmeta.ctype - Struct</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ctypelen.html">dmmeta.ctypelen - Size of Ctype</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/dispatch.html">dmmeta.dispatch - Generate code for a multi-way branch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/dispatch_msg.html">dmmeta.dispatch_msg - Add message to a dispatch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/dispctx.html">dmmeta.dispctx - Use context with dispatch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/dispfilter.html">dmmeta.dispfilter - Generate filter function on dispatch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/dispsig.html">dmmeta.dispsig - Cryptographic signature of all dispatches</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/dispsigcheck.html">dmmeta.dispsigcheck - Check signature of input data against executable’s version</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/disptrace.html">dmmeta.disptrace - Generate trace fields (cycles, counts) for all dispatch branches</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/falias.html">dmmeta.falias - Alias field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fastenc.html">dmmeta.fastenc -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fastinstr.html">dmmeta.fastinstr -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fastop.html">dmmeta.fastop -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fbase.html">dmmeta.fbase - Customize imported Base fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fbigend.html">dmmeta.fbigend - Annotate field as having big-endian storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fbitset.html">dmmeta.fbitset - Generate bitset functions over integer field or array</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fbuf.html">dmmeta.fbuf - Buffer for reading/writing messages, works with Iohook</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fbufdir.html">dmmeta.fbufdir - Buffer direction (in,out)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fbuftype.html">dmmeta.fbuftype - Buffer type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fcast.html">dmmeta.fcast - Generate implicit conversion from field to c++ expression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fcleanup.html">dmmeta.fcleanup - Request user-implemented function to be called at Uninit time for a field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fcmap.html">dmmeta.fcmap - Bidirectional mapping between fconst values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fcmdline.html">dmmeta.fcmdline - Annotate field that holds process command line</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fcmp.html">dmmeta.fcmp - Request versionsort or case-insensitive sort for field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fcompact.html">dmmeta.fcompact - Request compaction upon removal from index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fconst.html">dmmeta.fconst - Specify enum value (integer + string constant) for a field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fcurs.html">dmmeta.fcurs - Request generation of custom cursor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fdec.html">dmmeta.fdec - Specify that field has an implied # of decimal places and specify formatting options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fdelay.html">dmmeta.fdelay - Control elapsed time between execution of a step</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ffast.html">dmmeta.ffast - FAST properties for field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fflag.html">dmmeta.fflag - Options for command-line flags</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/field.html">dmmeta.field - Specify field of a struct</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/findrem.html">dmmeta.findrem - Request generation of FindRemove function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/finput.html">dmmeta.finput - Describe input table of a program</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fldoffset.html">dmmeta.fldoffset - Assert field offset - will result in compile-time error if violated</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/floadtuples.html">dmmeta.floadtuples - Request that process automatically load any input tables on startup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fnoremove.html">dmmeta.fnoremove - Omit any functions for removing elements from table; Table is append-only</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/foutput.html">dmmeta.foutput - Generate function to save index/table back to disk</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fprefix.html">dmmeta.fprefix - Mapping between field prefix and Reftype</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fregx.html">dmmeta.fregx - Specify options for command-line regx field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fsort.html">dmmeta.fsort - Generate custom sort function for array field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fstep.html">dmmeta.fstep - Generate a main loop step to be executed whenever a field is non-empty</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ftrace.html">dmmeta.ftrace - Generate cycle/step counting fields for a step</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ftuple.html">dmmeta.ftuple -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/func.html">dmmeta.func -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/funique.html">dmmeta.funique - This field must be unique in the table. Not needed for primary key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fuserinit.html">dmmeta.fuserinit - Add user-defined initialization function for field (see fcleanup)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fwddecl.html">dmmeta.fwddecl - Request forward declaration of a field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/gconst.html">dmmeta.gconst - Import ssim table columns as fconst for a field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/gstatic.html">dmmeta.gstatic - Load entries for this table at startup time</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/gsymbol.html">dmmeta.gsymbol - Create C++ symbols from entries in ssim table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/hashtype.html">dmmeta.hashtype - Hash function type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/hook.html">dmmeta.hook - Required on Hook fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/inlary.html">dmmeta.inlary - Generate inline array of fixed or variable length (all entries fit within parent struct)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/lenfld.html">dmmeta.lenfld - Specify which gives length of varlen portion in bytes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/listtype.html">dmmeta.listtype - Specify structure of linked list based on field prefix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/llist.html">dmmeta.llist - Options for Llist field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/logcat.html">dmmeta.logcat - Log category</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/main.html">dmmeta.main - Generate Main function for namespace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/msgtype.html">dmmeta.msgtype - Specify message type for each eligible message, controls dispatch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nocascdel.html">dmmeta.nocascdel - Remove cascade delete for this index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nossimfile.html">dmmeta.nossimfile - Indicates that ssimfile does not exist for this ssimdb ctype</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/noxref.html">dmmeta.noxref - Explicitly specify that no x-ref exists between tables (don’t use unless forced)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ns.html">dmmeta.ns - Namespace (for in-memory database, protocol, etc)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nscpp.html">dmmeta.nscpp - Generate C++ code for this namespace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nsdb.html">dmmeta.nsdb - Annotate ssimdb namespaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nsfast.html">dmmeta.nsfast - Whether namespace is FAST</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nsinclude.html">dmmeta.nsinclude - Explicitly specify a C++ include file for namespace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nsjs.html">dmmeta.nsjs - Generate JavaScript code for this namespace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nsproto.html">dmmeta.nsproto - Annotate protocol namespace (collection of types, no state)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nstype.html">dmmeta.nstype - Namespace type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nsversion.html">dmmeta.nsversion - Namespace version</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nsx.html">dmmeta.nsx - Control code-generation and exception handling options for process/library</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/numstr.html">dmmeta.numstr - Add functions to read numbers out of a string field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/pack.html">dmmeta.pack - Request byte-packing of structure fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/pmaskfld.html">dmmeta.pmaskfld - Specify which field holds presence mask bits (one for each field in struct)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/pmaskfld_member.html">dmmeta.pmaskfld_member - Explicit field-to-pmask association</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/pnew.html">dmmeta.pnew - Generate custom constructor (placement new), for use with binary protocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/pnewtype.html">dmmeta.pnewtype - Type of fbuf</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/printfmt.html">dmmeta.printfmt - Print format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ptrary.html">dmmeta.ptrary - Required for fields with reftype:Ptrary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/reftype.html">dmmeta.reftype - Field type constructor (e.g. reference type)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/rowid.html">dmmeta.rowid - Initialize field to row id of element</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/smallstr.html">dmmeta.smallstr - Generated fixed-length padded or length-delimited string field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/sortfld.html">dmmeta.sortfld - Specify what field an index (Bheap,Atree) is sorted on</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/sorttype.html">dmmeta.sorttype - Sort type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/sqltype.html">dmmeta.sqltype - Mapping of ctype -&gt; SQL expression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ssimfile.html">dmmeta.ssimfile - File with ssim tuples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ssimreq.html">dmmeta.ssimreq - Extended constraints for ssim records</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ssimsort.html">dmmeta.ssimsort - Define sort order for ssimfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ssimvolatile.html">dmmeta.ssimvolatile - Types based on ssim files marked this way cannot be cross-referenced</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/steptype.html">dmmeta.steptype - Type of scheduler step</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/strfmt.html">dmmeta.strfmt - Cfmt conversion type (misnomer, not necessarily a string)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/strtype.html">dmmeta.strtype - Type of small string</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/substr.html">dmmeta.substr - Specify that the field value is computed from a substring of another field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/svtype.html">dmmeta.svtype - Table for determining ctype from separated value file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/tary.html">dmmeta.tary - Indirect linear dynamically alocated array (used for strings, arrays of data, etc)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/thash.html">dmmeta.thash - Hash index, required for fields with reftype Thash</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/tracefld.html">dmmeta.tracefld - Trace fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/tracerec.html">dmmeta.tracerec - Trace record</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/typefld.html">dmmeta.typefld - Specifies which field of a message carries the type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/usertracefld.html">dmmeta.usertracefld - Add custom user trace fields to process’s trace struct</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/xref.html">dmmeta.xref - Specify how to cross-reference (i.e. project, or group-by) one record with another</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/fmdb/README.html">fmdb - Fault management tables (ssim database)</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of fmdb - Fault management tables (ssim database)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/fmdb/alarm.html">fmdb.alarm -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/fmdb/alm_code.html">fmdb.alm_code -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/fmdb/alm_objtype.html">fmdb.alm_objtype - Alarm resource type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/fmdb/alm_source.html">fmdb.alm_source - Subsystem where alarm has been detected</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/gclidb/README.html">gclidb - gcli db</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of gclidb - gcli db</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gact.html">gclidb.gact - Action that may be performed on a table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gatv.html">gclidb.gatv -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gclicmd.html">gclidb.gclicmd -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gclicmdf2j.html">gclidb.gclicmdf2j - Mapping of internal fields to JSON fields for gitlab/github</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gclicmdt.html">gclidb.gclicmdt - Internal test</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gclienv.html">gclidb.gclienv -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gclienvsub.html">gclidb.gclienvsub -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gclisub.html">gclidb.gclisub -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gfld.html">gclidb.gfld - Gitlab/github field name</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/githost.html">gclidb.githost -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gmethod.html">gclidb.gmethod - HTTP method list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/grepo.html">gclidb.grepo - Repo table (acr grepo -in ~/.ssim)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/grepogitport.html">gclidb.grepogitport - Default ports for repositories</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/grepossh.html">gclidb.grepossh - Ssh key table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gstate.html">gclidb.gstate - Issue/MR state list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gstatet.html">gclidb.gstatet - Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gtbl.html">gclidb.gtbl - Supported gcli tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gtblact.html">gclidb.gtblact -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gtblactfld.html">gclidb.gtblactfld - List of available for each table &amp; action combination</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gtblacttst.html">gclidb.gtblacttst -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gtblacttstout.html">gclidb.gtblacttstout -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gtype.html">gclidb.gtype - Platform type (ghp=github; glpat=gitlab)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gtypeh.html">gclidb.gtypeh - HTTP heaaderes for user with platform</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gtypeprefix.html">gclidb.gtypeprefix - Token prefix mapping to platform</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/issue.html">gclidb.issue - Gitlab project issue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/issuenote.html">gclidb.issuenote - Issue note</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/issuepipeline.html">gclidb.issuepipeline - Issue pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/label.html">gclidb.label - List of labels for gitlab/github</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/milestone.html">gclidb.milestone - Gclidb project milestone</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/mr.html">gclidb.mr - Gitlab project mr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/mrjob.html">gclidb.mrjob - Mr job</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/mrnote.html">gclidb.mrnote - Issue note</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/project.html">gclidb.project - Gitlab project mr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/user.html">gclidb.user -</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/gmvdb/README.html">gmvdb - gmv db</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of gmvdb - gmv db</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gmvdb/gmvproj.html">gmvdb.gmvproj -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gmvdb/gmvscript.html">gmvdb.gmvscript - action type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gmvdb/gmvua.html">gmvdb.gmvua - User attribute</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/spnxdb/README.html">spnxdb - Sphinx-based Websites build tool DB</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of spnxdb - Sphinx-based Websites build tool DB</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/spnxdb/build.html">spnxdb.build - list of actions supported by sphinx-build</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/spnxdb/pkgapt.html">spnxdb.pkgapt - required packages to be installed by apt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/spnxdb/pkgpip.html">spnxdb.pkgpip - required packages to be installed by pip</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/spnxdb/site.html">spnxdb.site - list of sites supported by bin/spnx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/spnxdb/siteattr.html">spnxdb.siteattr - list of attributes and values by the site</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/spnxdb/srcext.html">spnxdb.srcext - source extensions read as md by sphinx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/spnxdb/theme.html">spnxdb.theme -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/spnxdb/userattr.html">spnxdb.userattr - list of possible attributes referred by spnxdb.siteattr</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/wclidb/README.html">wclidb - wiki db</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of wclidb - wiki db</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/atfwclicmd.html">wclidb.atfwclicmd - management commands for atf_wcli</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/atfwclicmdfld.html">wclidb.atfwclicmdfld - arguments taken by management commands for atf_wcli</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/curlarg.html">wclidb.curlarg - an internal list of curl arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/ftype.html">wclidb.ftype - wiki file ftype types used by wcli to copy files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/page.html">wclidb.page - a form for wcli page operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/pagesec.html">wclidb.pagesec - a from for wcli page sections operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/pagetitle.html">wclidb.pagetitle - a form for wcli page reporting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wact.html">wclidb.wact - wcli actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wcliapi.html">wclidb.wcliapi - api tokens for wcli</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wclicmd.html">wclidb.wclicmd - wcli api commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wclicmdapi.html">wclidb.wclicmdapi - wcli api commands with arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wclicmdf2j.html">wclidb.wclicmdf2j - Mapping of internal fields to JSON fields for gitlab/github</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wfld.html">wclidb.wfld - Wiki field name</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wikiext.html">wclidb.wikiext - wiki allowed file extensions, dynamic read</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wikigroup.html">wclidb.wikigroup - wiki default user groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wikins.html">wclidb.wikins - wiki namespaces, dynamic read</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wikisite.html">wclidb.wikisite - wiki site types supported by wcli - the main wcli key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wikisitesub.html">wclidb.wikisitesub - atf_wcli args substitution table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wikisub.html">wclidb.wikisub - atf_wcli substitutions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wikitoken.html">wclidb.wikitoken - wcli medaiwiki auth token types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wikitokenapi.html">wclidb.wikitokenapi - wcli tie-in of a token to an api action</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wikiuser.html">wclidb.wikiuser -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wikiuseruser.html">wclidb.wikiuseruser -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wlogin.html">wclidb.wlogin - a form for wcli login operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wtbl.html">wclidb.wtbl - scope for wcli actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wtblact.html">wclidb.wtblact - a wcli tie-in of table and action</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wtblactfld.html">wclidb.wtblactfld - List of available for each table &amp; action combination</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wtblacttst.html">wclidb.wtblacttst - atf_wcli wcli regression testcases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wtblacttstout.html">wclidb.wtblacttstout - atf_wcli wcli regression results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wwiki.html">wclidb.wwiki - user/auth tokens holding structure</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/wsdb/README.html">wsdb - WebSocket db</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of wsdb - WebSocket db</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wsdb/status.html">wsdb.status -</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/x2db/README.html">x2db - operational info for algornd</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of x2db - operational info for algornd</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/admact.html">x2db.admact - x2admin actions for startup scripts generation and use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/admsvc.html">x2db.admsvc - x2admin scope for services like user, host, ssh applied to envnodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/admsvcact.html">x2db.admsvcact - x2admin coupling for the scope and the actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/dctrport.html">x2db.dctrport - tie-in docker ports with uids for containers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/env.html">x2db.env - x2 environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/envctr.html">x2db.envctr - envnode to container tie-in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/envhost.html">x2db.envhost - envnode to hosts tie-in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/envktypeuser.html">x2db.envktypeuser - environment to “ssh key type” to a user and its public key tie in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/envnode.html">x2db.envnode - environment to node tie in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/envnodeacct.html">x2db.envnodeacct - envnode to its users accounts tie in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/envnodeacctuser.html">x2db.envnodeacctuser - envnode accounts to users tie in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/envnodecname.html">x2db.envnodecname - envnode to cname tie in - cname used in /etc/hosts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/ktype.html">x2db.ktype - “ssh key types” list for different purposes/env</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/node.html">x2db.node - node name</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/nodektype.html">x2db.nodektype - A node to “ssh key type” assignment list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/uid.html">x2db.uid - x2 user linux uid list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/user.html">x2db.user - x2 users list</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../txt/protocol/README.html">Protocols</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of Protocols</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/protocol/algo/README.html">algo - Basic types and functions</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of algo - Basic types and functions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Attr.html">txt/protocol/algo/Attr.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Bool.html">txt/protocol/algo/Bool.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Charset.html">txt/protocol/algo/Charset.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Comment.html">txt/protocol/algo/Comment.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/CppExpr.html">txt/protocol/algo/CppExpr.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/DateCache.html">txt/protocol/algo/DateCache.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Decimal.html">txt/protocol/algo/Decimal.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/DirEntry.html">txt/protocol/algo/DirEntry.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Errcode.html">txt/protocol/algo/Errcode.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Errns.html">txt/protocol/algo/Errns.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Fildes.html">txt/protocol/algo/Fildes.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/FileFlags.html">txt/protocol/algo/FileFlags.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/IOEvtFlags.html">txt/protocol/algo/IOEvtFlags.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/IPoint.html">txt/protocol/algo/IPoint.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Imtable.html">txt/protocol/algo/Imtable.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Ipmask.html">txt/protocol/algo/Ipmask.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/LineBuf.html">txt/protocol/algo/LineBuf.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Md5Digest.html">txt/protocol/algo/Md5Digest.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Month.html">txt/protocol/algo/Month.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/NumParseFlags.html">txt/protocol/algo/NumParseFlags.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/PrlogFcn.html">txt/protocol/algo/PrlogFcn.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/SchedTime.html">txt/protocol/algo/SchedTime.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/SeqType.html">txt/protocol/algo/SeqType.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Sha1sig.html">txt/protocol/algo/Sha1sig.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/TFNNtTestAlert.html">txt/protocol/algo/TFNNtTestAlert.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/TermStyle.html">txt/protocol/algo/TermStyle.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/TextJust.html">txt/protocol/algo/TextJust.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/TstampCache.html">txt/protocol/algo/TstampCache.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Tuple.html">txt/protocol/algo/Tuple.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/URL.html">txt/protocol/algo/URL.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/UnDiff.html">txt/protocol/algo/UnDiff.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/UnTime.html">txt/protocol/algo/UnTime.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/UnixDiff.html">txt/protocol/algo/UnixDiff.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/UnixTime.html">txt/protocol/algo/UnixTime.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/cstring.html">txt/protocol/algo/cstring.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/memptr.html">txt/protocol/algo/memptr.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/strptr.html">txt/protocol/algo/strptr.md</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/protocol/ams/README.html">ams - Algo Messaging System protocol</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of ams - Algo Messaging System protocol</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/AlarmSyncMsg.html">txt/protocol/ams/AlarmSyncMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/DfltStream.html">txt/protocol/ams/DfltStream.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/DumpStreamTableMsg.html">txt/protocol/ams/DumpStreamTableMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/ExpectMsg.html">txt/protocol/ams/ExpectMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/HeartbeatMsg.html">txt/protocol/ams/HeartbeatMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/InputLineMsg.html">txt/protocol/ams/InputLineMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/LogMsg.html">txt/protocol/ams/LogMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/Member.html">txt/protocol/ams/Member.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/MsgBlock.html">txt/protocol/ams/MsgBlock.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/MsgHeader.html">txt/protocol/ams/MsgHeader.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/OpenMsg.html">txt/protocol/ams/OpenMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/PrlogMsg.html">txt/protocol/ams/PrlogMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/ProcAddMsg.html">txt/protocol/ams/ProcAddMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/ProcId.html">txt/protocol/ams/ProcId.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/ProcRemoveMsg.html">txt/protocol/ams/ProcRemoveMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/ProcType.html">txt/protocol/ams/ProcType.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/Seqmsg.html">txt/protocol/ams/Seqmsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/SeqmsgId.html">txt/protocol/ams/SeqmsgId.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/SeqmsgTrace.html">txt/protocol/ams/SeqmsgTrace.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/StreamFlags.html">txt/protocol/ams/StreamFlags.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/StreamHbMsg.html">txt/protocol/ams/StreamHbMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/StreamId.html">txt/protocol/ams/StreamId.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/StreamPos.html">txt/protocol/ams/StreamPos.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/StreamType.html">txt/protocol/ams/StreamType.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/TerminateMsg.html">txt/protocol/ams/TerminateMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/Trace2Msg.html">txt/protocol/ams/Trace2Msg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/TraceInfo2Msg.html">txt/protocol/ams/TraceInfo2Msg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/TraceInfoMsg.html">txt/protocol/ams/TraceInfoMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/TraceMsg.html">txt/protocol/ams/TraceMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/UdpFrame.html">txt/protocol/ams/UdpFrame.md</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/protocol/atf/README.html">atf - Algo Testing Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/protocol/command/README.html">command - Command line descriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/protocol/emdi12/README.html">emdi12 -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/protocol/fasttest/README.html">fasttest -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/protocol/fm/README.html">fm - Fault management types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/protocol/ietf/README.html">ietf - Some IETF structs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/protocol/js/README.html">js - Reserved for JavaScript builtin types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/protocol/report/README.html">report - Command reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/protocol/ws/README.html">ws - WebSocket binary protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/protocol/x2/README.html">x2 - X2 protocol</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../txt/lib/README.html">Libraries</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of Libraries</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/algo_lib/README.html">algo_lib - Support library for all executables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_amcdb/README.html">lib_amcdb - Library used by amc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_ams/README.html">lib_ams - Library for AMS middleware, supporting file format &amp; messaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_ams/README.html#ams-library">AMS Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_ams/README.html#list-of-ams-messages">List of AMS Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_ams/README.html#in-memory-stream-format-flow-control">In-memory stream format; Flow control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_ctype/README.html">lib_ctype - Helpful library for reading/writing ctypes as text tuples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_exec/README.html">lib_exec - Build and run a dag of subprocesses with N parallel jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_fast/README.html">lib_fast - FAST prococol support library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_finprot/README.html">lib_finprot - Library of financial protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_fm/README.html">lib_fm - Library for dynamic alarm management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_git/README.html">lib_git - Helpful git wrappers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_iconv/README.html">lib_iconv - Iconv wrapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_json/README.html">lib_json - Full json support library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_mysql/README.html">lib_mysql - Mysql adaptor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_prot/README.html">lib_prot - Library covering all protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_sql/README.html">lib_sql - SQL formatting functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_ws/README.html">lib_ws - WebSocket library</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../txt/exe/README.html">Executables</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of Executables</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/abt/README.html">abt - Algo Build Tool - build &amp; link C++ targets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/abt_md/README.html">abt_md - Tool to generate markdown documentation</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/exe/acr/README.html">acr - Algo Cross-Reference - ssimfile database &amp; update tool</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of acr - Algo Cross-Reference - ssimfile database &amp; update tool</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/acr/relnotes.html">ACR release notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/acr_compl/README.html">acr_compl - ACR shell auto-complete for all targets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/acr_dm/README.html">acr_dm - ACR Diff/Merge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/acr_ed/README.html">acr_ed - Script generator for common dev tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/acr_in/README.html">acr_in - ACR Input - compute set of ssimfiles or tuples used by a specific target</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/acr_my/README.html">acr_my - ACR &lt;-&gt; MariaDB adaptor</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/exe/amc/README.html">amc - Algo Model Compiler: generate code under include/gen and cpp/gen</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of amc - Algo Model Compiler: generate code under include/gen and cpp/gen</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/enum.html">AMC Enumerated Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/exec.html">AMC Subprocess Invocation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/pmask.html">AMC Presence Masks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/pools.html">AMC Memory Pools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/proto.html">AMC Protocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/reflection.html">AMC Reflection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/reftypes.html">AMC Reftypes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/relnotes.html">AMC release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/runtime.html">AMC Runtime</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/strings.html">AMC Strings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/xref.html">AMC Cross-References (xrefs)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/amc_gc/README.html">amc_gc - Garbage collector for in-memory databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/amc_js/README.html">amc_js - Model compiler for javascript targets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/amc_vis/README.html">amc_vis - Draw access path diagrams</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/ams_cat/README.html">ams_cat - Algo Messaging System sample tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/ams_sendtest/README.html">ams_sendtest - Algo Messaging System test tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/apm/README.html">apm - Algo Package Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_amc/README.html">atf_amc - Unit tests for amc (see amctest table)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_ci/README.html">atf_ci - Normalization tests (see citest table)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_cmdline/README.html">atf_cmdline - Test tool for command line parsing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_comp/README.html">atf_comp - Algo Test Framework - Component test execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_cov/README.html">atf_cov - Line coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_cov/README.html#line-coverage">Line coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_fuzz/README.html">atf_fuzz - Generator of bad inputs for targets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_gcli/README.html">atf_gcli - test harness for gcli</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_netio/README.html">atf_netio - Test driver for netio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_nrun/README.html">atf_nrun - Run N subprocesses in parallel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_unit/README.html">atf_unit - Unit tests (see unittest table)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_wcli/README.html">atf_wcli - wiki management and test harness for wcli tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_ws/README.html">atf_ws - Component test driver for lib_ws</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/bash2html/README.html">bash2html - Convert bash output and colours to html</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/dcli/README.html">dcli - command line tool for container operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/dcli_ed/README.html">dcli_ed - Docker Client Editor - generator of dcli commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/fast/README.html">fast - FAST utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/gcache/README.html">gcache - Compiler cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/gcli/README.html">gcli - Gcli - gitlab/github command-line client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/gmv/README.html">gmv - Utility to move parts of the project in or out to a different project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/lib_x2/README.html">lib_x2 -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/mdbg/README.html">mdbg - Gdb front-end</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/mysql2ssim/README.html">mysql2ssim - mysql -&gt; ssim conversion tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/orgfile/README.html">orgfile - Organize and deduplicate files by timestamp and by contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/samp_regx/README.html">samp_regx - Test tool for regular expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/samp_ws/README.html">samp_ws - WebSocket sample</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/sandbox/README.html">sandbox - Sandbox - sandbox management tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/spnx/README.html">spnx - website generator based on sphinx</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/src_func/README.html">src_func - Access / edit functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/src_hdr/README.html">src_hdr - Manage source copyright+license header in source files and scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/src_lim/README.html">src_lim - Enforce line length, function length, and indentation limits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/ssim2csv/README.html">ssim2csv - Ssim -&gt; csv conversion tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/ssim2mysql/README.html">ssim2mysql - Ssim -&gt; mysql</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/ssimfilt/README.html">ssimfilt - Tuple utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/strconv/README.html">strconv - A simple string utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/sv2ssim/README.html">sv2ssim - sv2ssim - Separated Value file processor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/ttrack/README.html">ttrack - Tool for keeping track of work time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/wcli/README.html">wcli - wiki cli to operate on wikis via API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/x2admin/README.html">x2admin - utility to generate admsvc control for containers etc…</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/x2cmt/README.html">x2cmt - X2 - Commit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/x2gf/README.html">x2gf - X2 - Gapfill</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/x2gw/README.html">x2gw - X2 - Gateway</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/x2mon/README.html">x2mon - X2 - Monitor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/x2node/README.html">x2node - ssh tool to access varios aops nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/x2read/README.html">x2read - X2 - Read client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/x2sup/README.html">x2sup - X2 - Supervisor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/x2txn/README.html">x2txn - X2 - Transaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/x2write/README.html">x2write - X2 - Write client</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../txt/script/README.html">Scripts</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle navigation of Scripts</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/abt_md_filt.html">bin/abt_md_filt - Eliminate unstable fields from inline-command output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/ai.html">bin/ai - Bootstrapped compilation script</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/alexei-setup-soft-links.html">bin/alexei-setup-soft-links -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/break-long-lines.html">bin/break-long-lines - Read input and break long lines into multiple lines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/ci-show-log.html">bin/ci-show-log - Fetch gitlab runner output for current issue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/cpp-indent.html">bin/cpp-indent - Indent specified files using emacs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/delete-duplicate-lines.html">bin/delete-duplicate-lines - Read input and eliminate duplicate lines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/diff-to-errlist.html">bin/diff-to-errlist - Read standard diff format on input and produce output suitable for errlist</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/edit-conflicts.html">bin/edit-conflicts - Open any files marked as being in confict using EDITOR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/em.html">bin/em - Alias for ‘emacs -nw’</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/errlist.html">bin/errlist - Open error list in editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/ff.html">bin/ff - Find files and inside files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/find-non-copyrighted.html">bin/find-non-copyrighted - Find any files with missing copyrights</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/fix-gen-conflicts.html">bin/fix-gen-conflicts - Auto-fix for git merge- or rebase-related conflicts by re-running generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-add-to-last-commit.html">bin/git-add-to-last-commit - Add any currently modified changes to the most recent commit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-branch-gc.html">bin/git-branch-gc - Attempt to rebase all branches and delete branches merged into HEAD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-clean-branches.html">bin/git-clean-branches -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-commits-per-user.html">bin/git-commits-per-user -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-current-ref.html">bin/git-current-ref - Print gitref of current HEAD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-diff-annotate.html">bin/git-diff-annotate -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-grep-reflog.html">bin/git-grep-reflog - Find a commit in reflog whose delta contains given regex</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-mdiff.html">bin/git-mdiff - Git diff but exclude generated files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-mod-plot.html">bin/git-mod-plot -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-praise.html">bin/git-praise -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-rebase-origin.html">bin/git-rebase-origin - Rebase current branch onto origin master</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-rebase-remote.html">bin/git-rebase-remote - Rebase current branch onto given <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-recent-branches.html">bin/git-recent-branches - List recent branches that you worked on</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-rollback-file.html">bin/git-rollback-file - Roll back specified files to the previous commit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-update-config.html">bin/git-update-config -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/gitconfig-setup.html">bin/gitconfig-setup -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/grephunk.html">bin/grephunk - Patch file filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/hilite-error.html">bin/hilite-error - Read input and highlight errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/hilite.html">bin/hilite - Inline highlighter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/limit-output.html">bin/limit-output - Read input and show at most N lines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/lines-to-dots.html">bin/lines-to-dots - Read input and print a dot for each input line</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/lsfunc.html">bin/lsfunc - List all functions from all source files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/msloc.pl.html">bin/msloc.pl - Word count statistics for non-generated source files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/normalize.html">bin/normalize - Run standard normalization tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/select-bootstrap.html">bin/select-bootstrap -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/sha1.html">bin/sha1 -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/sloc.pl.html">bin/sloc.pl - Word count statistics for specified list of source files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/tags.html">bin/tags -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/targ-diff.html">bin/targ-diff - Show changes in TARG’s source code between this branch and REF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/test-orgfile.html">bin/test-orgfile -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/timestamps.html">bin/timestamps - Read input and timestamp each line</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/toamc.html">bin/toamc - Try to extract amc schema from specified C++ file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/todo.html">bin/todo -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/update-gitfile.html">bin/update-gitfile -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/update-hdr.html">bin/update-hdr -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/update-scriptfile.html">bin/update-scriptfile -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/zfs_snapshot.pl.html">bin/zfs_snapshot.pl -</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="cpp-gen-algo-gen-cpp">
<h1>cpp/gen/algo_gen.cpp<a class="headerlink" href="#cpp-gen-algo-gen-cpp" title="Permalink to this heading">#</a></h1>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="linenos">    1</span><span class="c1">//</span>
<span class="linenos">    2</span><span class="c1">// cpp/gen/algo_gen.cpp</span>
<span class="linenos">    3</span><span class="c1">// Generated by AMC</span>
<span class="linenos">    4</span><span class="c1">//</span>
<span class="linenos">    5</span><span class="c1">// Copyright (C) 2008-2013 AlgoEngineering LLC</span>
<span class="linenos">    6</span><span class="c1">// Copyright (C) 2013-2019 NYSE | Intercontinental Exchange</span>
<span class="linenos">    7</span><span class="c1">// Copyright (C) 2020-2023 Astra</span>
<span class="linenos">    8</span><span class="c1">// Copyright (C) 2023 AlgoRND</span>
<span class="linenos">    9</span><span class="c1">//</span>
<span class="linenos">   10</span><span class="c1">// This program is free software: you can redistribute it and/or modify</span>
<span class="linenos">   11</span><span class="c1">// it under the terms of the GNU General Public License as published by</span>
<span class="linenos">   12</span><span class="c1">// the Free Software Foundation, either version 3 of the License, or</span>
<span class="linenos">   13</span><span class="c1">// (at your option) any later version.</span>
<span class="linenos">   14</span><span class="c1">//</span>
<span class="linenos">   15</span><span class="c1">// This program is distributed in the hope that it will be useful,</span>
<span class="linenos">   16</span><span class="c1">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="linenos">   17</span><span class="c1">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="linenos">   18</span><span class="c1">// GNU General Public License for more details.</span>
<span class="linenos">   19</span><span class="c1">//</span>
<span class="linenos">   20</span><span class="c1">// You should have received a copy of the GNU General Public License</span>
<span class="linenos">   21</span><span class="c1">// along with this program.  If not, see &lt;https://www.gnu.org/licenses/&gt;.</span>
<span class="linenos">   22</span><span class="c1">//</span>
<span class="linenos">   23</span>
<span class="linenos">   24</span>
<span class="linenos">   25</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;include/algo.h&quot;</span><span class="c1">  // hard-coded include</span>
<span class="linenos">   26</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;include/gen/algo_gen.h&quot;</span>
<span class="linenos">   27</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;include/gen/algo_gen.inl.h&quot;</span>
<span class="linenos">   28</span><span class="c1">//#pragma endinclude</span>
<span class="linenos">   29</span><span class="k">namespace</span><span class="w"> </span><span class="nn">algo</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// gen:ns_print_proto</span>
<span class="linenos">   30</span><span class="w">    </span><span class="c1">// func:algo.FileFlags.append.ReadStrptrMaybe</span>
<span class="linenos">   31</span><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w">          </span><span class="nf">append_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">   32</span><span class="w">    </span><span class="c1">// func:algo.FileFlags.read.ReadStrptrMaybe</span>
<span class="linenos">   33</span><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w">          </span><span class="nf">read_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">   34</span><span class="w">    </span><span class="c1">// func:algo.FileFlags.write.ReadStrptrMaybe</span>
<span class="linenos">   35</span><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w">          </span><span class="nf">write_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">   36</span><span class="w">    </span><span class="c1">// func:algo.FileFlags._throw.ReadStrptrMaybe</span>
<span class="linenos">   37</span><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w">          </span><span class="nf">_throw_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">   38</span><span class="w">    </span><span class="c1">// func:algo.FileFlags.temp.ReadStrptrMaybe</span>
<span class="linenos">   39</span><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w">          </span><span class="nf">temp_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">   40</span><span class="w">    </span><span class="c1">// func:algo.FileFlags.overlap.ReadStrptrMaybe</span>
<span class="linenos">   41</span><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w">          </span><span class="nf">overlap_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">   42</span><span class="w">    </span><span class="c1">// func:algo.FileFlags.linear.ReadStrptrMaybe</span>
<span class="linenos">   43</span><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w">          </span><span class="nf">linear_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">   44</span><span class="w">    </span><span class="c1">// func:algo.FileFlags.printerr.ReadStrptrMaybe</span>
<span class="linenos">   45</span><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w">          </span><span class="nf">printerr_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">   46</span><span class="w">    </span><span class="c1">// func:algo.IOEvtFlags.read.ReadStrptrMaybe</span>
<span class="linenos">   47</span><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w">          </span><span class="nf">read_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">IOEvtFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">   48</span><span class="w">    </span><span class="c1">// func:algo.IOEvtFlags.write.ReadStrptrMaybe</span>
<span class="linenos">   49</span><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w">          </span><span class="nf">write_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">IOEvtFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">   50</span><span class="w">    </span><span class="c1">// func:algo.IOEvtFlags.eof.ReadStrptrMaybe</span>
<span class="linenos">   51</span><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w">          </span><span class="nf">eof_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">IOEvtFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">   52</span><span class="w">    </span><span class="c1">// func:algo.IOEvtFlags.err.ReadStrptrMaybe</span>
<span class="linenos">   53</span><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w">          </span><span class="nf">err_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">IOEvtFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">   54</span><span class="w">    </span><span class="c1">// func:algo.NumParseFlags.err.ReadStrptrMaybe</span>
<span class="linenos">   55</span><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w">          </span><span class="nf">err_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">NumParseFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">   56</span><span class="w">    </span><span class="c1">// func:algo.NumParseFlags.ok.ReadStrptrMaybe</span>
<span class="linenos">   57</span><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w">          </span><span class="nf">ok_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">NumParseFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">   58</span><span class="w">    </span><span class="c1">// func:algo.NumParseFlags.neg.ReadStrptrMaybe</span>
<span class="linenos">   59</span><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w">          </span><span class="nf">neg_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">NumParseFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">   60</span><span class="w">    </span><span class="c1">// func:algo.NumParseFlags.overflow.ReadStrptrMaybe</span>
<span class="linenos">   61</span><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w">          </span><span class="nf">overflow_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">NumParseFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">   62</span><span class="w">    </span><span class="c1">// func:algo.NumParseFlags.hex.ReadStrptrMaybe</span>
<span class="linenos">   63</span><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w">          </span><span class="nf">hex_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">NumParseFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">   64</span><span class="w">    </span><span class="c1">// func:algo...SizeCheck</span>
<span class="linenos">   65</span><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w">          </span><span class="nf">SizeCheck</span><span class="p">();</span>
<span class="linenos">   66</span><span class="p">}</span><span class="w"> </span><span class="c1">// gen:ns_print_proto</span>
<span class="linenos">   67</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">::</span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">   68</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Setary</span><span class="p">(</span><span class="o">*</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">   69</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="p">;</span>
<span class="linenos">   70</span><span class="p">}</span>
<span class="linenos">   71</span>
<span class="linenos">   72</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">::</span><span class="n">cstring</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">   73</span><span class="w">    </span><span class="n">cstring_Init</span><span class="p">(</span><span class="o">*</span><span class="k">this</span><span class="p">);</span>
<span class="linenos">   74</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Setary</span><span class="p">(</span><span class="o">*</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="p">)</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">   75</span><span class="p">}</span>
<span class="linenos">   76</span>
<span class="linenos">   77</span>
<span class="linenos">   78</span><span class="c1">// --- algo.cstring.ch.Eq</span>
<span class="linenos">   79</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Eq</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">   80</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_N</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">   81</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">len</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">ch_N</span><span class="p">(</span><span class="n">rhs</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">   82</span><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">   83</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">   84</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">   85</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ch_elems</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">ch_elems</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">   86</span><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">   87</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">   88</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">   89</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">   90</span><span class="p">}</span>
<span class="linenos">   91</span>
<span class="linenos">   92</span><span class="c1">// --- algo.cstring.ch.Cmp</span>
<span class="linenos">   93</span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Cmp</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">   94</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">ch_N</span><span class="p">(</span><span class="n">parent</span><span class="p">),</span><span class="w"> </span><span class="n">ch_N</span><span class="p">(</span><span class="n">rhs</span><span class="p">));</span>
<span class="linenos">   95</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">   96</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">   97</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">char_Cmp</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ch_elems</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">ch_elems</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="linenos">   98</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">   99</span><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">  100</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">  101</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  102</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">i32_Cmp</span><span class="p">(</span><span class="n">ch_N</span><span class="p">(</span><span class="n">parent</span><span class="p">),</span><span class="w"> </span><span class="n">ch_N</span><span class="p">(</span><span class="n">rhs</span><span class="p">));</span>
<span class="linenos">  103</span><span class="p">}</span>
<span class="linenos">  104</span>
<span class="linenos">  105</span><span class="c1">// --- algo.cstring.ch.Addary</span>
<span class="linenos">  106</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">  107</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">  108</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">  109</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  110</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">overlaps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="o">&gt;</span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_max</span><span class="p">;</span>
<span class="linenos">  111</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">UNLIKELY</span><span class="p">(</span><span class="n">overlaps</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  112</span><span class="w">        </span><span class="n">FatalErrorExit</span><span class="p">(</span><span class="s">&quot;algo.tary_alias  field:algo.cstring.ch  comment:&#39;alias error: sub-array is being appended to the whole&#39;&quot;</span><span class="p">);</span>
<span class="linenos">  113</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  114</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nnew</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">  115</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="p">);</span><span class="w"> </span><span class="c1">// reserve space</span>
<span class="linenos">  116</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_n</span><span class="p">;</span>
<span class="linenos">  117</span><span class="w">    </span><span class="n">memcpy</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">));</span>
<span class="linenos">  118</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">nnew</span><span class="p">;</span>
<span class="linenos">  119</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="p">);</span>
<span class="linenos">  120</span><span class="p">}</span>
<span class="linenos">  121</span>
<span class="linenos">  122</span><span class="c1">// --- algo.cstring.ch.Alloc</span>
<span class="linenos">  123</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">  124</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">  125</span><span class="kt">char</span><span class="o">&amp;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Alloc</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  126</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">  127</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_n</span><span class="p">;</span>
<span class="linenos">  128</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<span class="linenos">  129</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_elems</span><span class="p">;</span>
<span class="linenos">  130</span><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="kt">char</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">// construct new element, default initializer</span>
<span class="linenos">  131</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">  132</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">elems</span><span class="p">[</span><span class="n">at</span><span class="p">];</span>
<span class="linenos">  133</span><span class="p">}</span>
<span class="linenos">  134</span>
<span class="linenos">  135</span><span class="c1">// --- algo.cstring.ch.AllocAt</span>
<span class="linenos">  136</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">  137</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">  138</span><span class="kt">char</span><span class="o">&amp;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_AllocAt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  139</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">  140</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_n</span><span class="p">;</span>
<span class="linenos">  141</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">UNLIKELY</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  142</span><span class="w">        </span><span class="n">FatalErrorExit</span><span class="p">(</span><span class="s">&quot;algo.bad_alloc_at  field:algo.cstring.ch  comment:&#39;index out of range&#39;&quot;</span><span class="p">);</span>
<span class="linenos">  143</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  144</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_elems</span><span class="p">;</span>
<span class="linenos">  145</span><span class="w">    </span><span class="n">memmove</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">));</span>
<span class="linenos">  146</span><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="kt">char</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">// construct element, default initializer</span>
<span class="linenos">  147</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">  148</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">elems</span><span class="p">[</span><span class="n">at</span><span class="p">];</span>
<span class="linenos">  149</span><span class="p">}</span>
<span class="linenos">  150</span>
<span class="linenos">  151</span><span class="c1">// --- algo.cstring.ch.AllocN</span>
<span class="linenos">  152</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">  153</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_AllocN</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  154</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos">  155</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">old_n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_n</span><span class="p">;</span>
<span class="linenos">  156</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">new_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old_n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">  157</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_elems</span><span class="p">;</span>
<span class="linenos">  158</span><span class="w">    </span><span class="n">memset</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">old_n</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">new_n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">old_n</span><span class="p">);</span><span class="w"> </span><span class="c1">// initialize new space</span>
<span class="linenos">  159</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_n</span><span class="p">;</span>
<span class="linenos">  160</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">old_n</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos">  161</span><span class="p">}</span>
<span class="linenos">  162</span>
<span class="linenos">  163</span><span class="c1">// --- algo.cstring.ch.Remove</span>
<span class="linenos">  164</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">  165</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Remove</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  166</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">lim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_n</span><span class="p">;</span>
<span class="linenos">  167</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_elems</span><span class="p">;</span>
<span class="linenos">  168</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">lim</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  169</span><span class="w">        </span><span class="n">memmove</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">lim</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)));</span>
<span class="linenos">  170</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lim</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">  171</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  172</span><span class="p">}</span>
<span class="linenos">  173</span>
<span class="linenos">  174</span><span class="c1">// --- algo.cstring.ch.RemoveLast</span>
<span class="linenos">  175</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">  176</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_RemoveLast</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  177</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_n</span><span class="p">;</span>
<span class="linenos">  178</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  179</span><span class="w">        </span><span class="n">n</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">  180</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<span class="linenos">  181</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  182</span><span class="p">}</span>
<span class="linenos">  183</span>
<span class="linenos">  184</span><span class="c1">// --- algo.cstring.ch.AbsReserve</span>
<span class="linenos">  185</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">  186</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_AbsReserve</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  187</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">old_max</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_max</span><span class="p">;</span>
<span class="linenos">  188</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">i32</span><span class="p">(</span><span class="n">old_max</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  189</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">new_max</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Max</span><span class="p">(</span><span class="n">i32_Max</span><span class="p">(</span><span class="n">old_max</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">),</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="linenos">  190</span><span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">new_mem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">lpool_ReallocMem</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ch_elems</span><span class="p">,</span><span class="w"> </span><span class="n">old_max</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">),</span><span class="w"> </span><span class="n">new_max</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">));</span>
<span class="linenos">  191</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">UNLIKELY</span><span class="p">(</span><span class="o">!</span><span class="n">new_mem</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  192</span><span class="w">            </span><span class="n">FatalErrorExit</span><span class="p">(</span><span class="s">&quot;algo.tary_nomem  field:algo.cstring.ch  comment:&#39;out of memory&#39;&quot;</span><span class="p">);</span>
<span class="linenos">  193</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">  194</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">new_mem</span><span class="p">;</span>
<span class="linenos">  195</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_max</span><span class="p">;</span>
<span class="linenos">  196</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  197</span><span class="p">}</span>
<span class="linenos">  198</span>
<span class="linenos">  199</span><span class="c1">// --- algo.cstring.ch.Print</span>
<span class="linenos">  200</span><span class="c1">// Convert ch to a string.</span>
<span class="linenos">  201</span><span class="c1">// Array is printed as a regular string.</span>
<span class="linenos">  202</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  203</span><span class="w">    </span><span class="n">rhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">  204</span><span class="p">}</span>
<span class="linenos">  205</span>
<span class="linenos">  206</span><span class="c1">// --- algo.cstring.ch.Setary</span>
<span class="linenos">  207</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">  208</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Setary</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  209</span><span class="w">    </span><span class="n">ch_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">  210</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nnew</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">ch_n</span><span class="p">;</span>
<span class="linenos">  211</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="p">);</span><span class="w"> </span><span class="c1">// reserve space</span>
<span class="linenos">  212</span><span class="w">    </span><span class="n">memcpy</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ch_elems</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">ch_elems</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">));</span>
<span class="linenos">  213</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nnew</span><span class="p">;</span>
<span class="linenos">  214</span><span class="p">}</span>
<span class="linenos">  215</span>
<span class="linenos">  216</span><span class="c1">// --- algo.cstring.ch.Setary2</span>
<span class="linenos">  217</span><span class="c1">// Copy specified array into ch, discarding previous contents.</span>
<span class="linenos">  218</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">  219</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Setary</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  220</span><span class="w">    </span><span class="n">ch_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">  221</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">  222</span><span class="p">}</span>
<span class="linenos">  223</span>
<span class="linenos">  224</span><span class="c1">// --- algo.cstring.ch.AllocNVal</span>
<span class="linenos">  225</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">  226</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_AllocNVal</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  227</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos">  228</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">old_n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_n</span><span class="p">;</span>
<span class="linenos">  229</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">new_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old_n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">  230</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_elems</span><span class="p">;</span>
<span class="linenos">  231</span><span class="w">    </span><span class="n">memset</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">old_n</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">new_n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">old_n</span><span class="p">);</span><span class="w"> </span><span class="c1">// initialize new space</span>
<span class="linenos">  232</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_n</span><span class="p">;</span>
<span class="linenos">  233</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">old_n</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos">  234</span><span class="p">}</span>
<span class="linenos">  235</span>
<span class="linenos">  236</span><span class="c1">// --- algo.cstring.ch.ReadStrptrMaybe</span>
<span class="linenos">  237</span><span class="c1">// The array is replaced with the input string. Function always succeeds.</span>
<span class="linenos">  238</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  239</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">  240</span><span class="w">    </span><span class="n">ch_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">  241</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">  242</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">  243</span><span class="p">}</span>
<span class="linenos">  244</span>
<span class="linenos">  245</span><span class="c1">// --- algo.cstring..Uninit</span>
<span class="linenos">  246</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring_Uninit</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  247</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">;</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">row</span><span class="p">;</span>
<span class="linenos">  248</span>
<span class="linenos">  249</span><span class="w">    </span><span class="c1">// algo.cstring.ch.Uninit (Tary)  //</span>
<span class="linenos">  250</span><span class="w">    </span><span class="c1">// remove all elements from algo.cstring.ch</span>
<span class="linenos">  251</span><span class="w">    </span><span class="n">ch_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">  252</span><span class="w">    </span><span class="c1">// free memory for Tary algo.cstring.ch</span>
<span class="linenos">  253</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">lpool_FreeMem</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ch_elems</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">)</span><span class="o">*</span><span class="n">parent</span><span class="p">.</span><span class="n">ch_max</span><span class="p">);</span><span class="w"> </span><span class="c1">// (algo.cstring.ch)</span>
<span class="linenos">  254</span><span class="p">}</span>
<span class="linenos">  255</span>
<span class="linenos">  256</span><span class="c1">// --- algo.Bool.value.ToCstr</span>
<span class="linenos">  257</span><span class="c1">// Convert numeric value of field to one of predefined string constants.</span>
<span class="linenos">  258</span><span class="c1">// If string is found, return a static C string. Otherwise, return NULL.</span>
<span class="linenos">  259</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ToCstr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Bool</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  260</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="linenos">  261</span><span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">value_GetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  262</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_Bool_N</span><span class="w">                   </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;N&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  263</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_Bool_Y</span><span class="w">                   </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Y&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  264</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  265</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="linenos">  266</span><span class="p">}</span>
<span class="linenos">  267</span>
<span class="linenos">  268</span><span class="c1">// --- algo.Bool.value.Print</span>
<span class="linenos">  269</span><span class="c1">// Convert value to a string. First, attempt conversion to a known string.</span>
<span class="linenos">  270</span><span class="c1">// If no string matches, print value as a numeric value.</span>
<span class="linenos">  271</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Bool</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  272</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">strval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value_ToCstr</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">  273</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  274</span><span class="w">        </span><span class="n">lhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">strval</span><span class="p">;</span>
<span class="linenos">  275</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  276</span><span class="w">        </span><span class="n">lhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">  277</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  278</span><span class="p">}</span>
<span class="linenos">  279</span>
<span class="linenos">  280</span><span class="c1">// --- algo.Bool.value.SetStrptrMaybe</span>
<span class="linenos">  281</span><span class="c1">// Convert string to field.</span>
<span class="linenos">  282</span><span class="c1">// If the string is invalid, do not modify field and return false.</span>
<span class="linenos">  283</span><span class="c1">// In case of success, return true</span>
<span class="linenos">  284</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Bool</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  285</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">  286</span><span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">rhs</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  287</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  288</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">rhs</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  289</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  290</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Bool_0</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  291</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  292</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  293</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Bool_1</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  294</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  295</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;N&#39;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  296</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Bool_N</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  297</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  298</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;Y&#39;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  299</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Bool_Y</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  300</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  301</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">  302</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  303</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">  304</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">2</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  305</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE16</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  306</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR2</span><span class="p">(</span><span class="sc">&#39;n&#39;</span><span class="p">,</span><span class="sc">&#39;o&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  307</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Bool_no</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  308</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  309</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR2</span><span class="p">(</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;n&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  310</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Bool_on</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  311</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  312</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">  313</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  314</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">  315</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">3</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  316</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE16</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">rhs</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">&lt;&lt;</span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  317</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR3</span><span class="p">(</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;f&#39;</span><span class="p">,</span><span class="sc">&#39;f&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  318</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Bool_off</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  319</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  320</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR3</span><span class="p">(</span><span class="sc">&#39;y&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;s&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  321</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Bool_yes</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  322</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  323</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">  324</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  325</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">  326</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">4</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  327</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  328</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR4</span><span class="p">(</span><span class="sc">&#39;t&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;u&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  329</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Bool_true</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  330</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  331</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">  332</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  333</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">  334</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">5</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  335</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">rhs</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span><span class="o">&lt;&lt;</span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  336</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR5</span><span class="p">(</span><span class="sc">&#39;f&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;l&#39;</span><span class="p">,</span><span class="sc">&#39;s&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  337</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Bool_false</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  338</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  339</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">  340</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  341</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">  342</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  343</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="linenos">  344</span><span class="p">}</span>
<span class="linenos">  345</span>
<span class="linenos">  346</span><span class="c1">// --- algo.Bool.value.SetStrptr</span>
<span class="linenos">  347</span><span class="c1">// Convert string to field.</span>
<span class="linenos">  348</span><span class="c1">// If the string is invalid, set numeric value to DFLT</span>
<span class="linenos">  349</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Bool</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">,</span><span class="w"> </span><span class="n">algo_BoolEnum</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  350</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">rhs</span><span class="p">))</span><span class="w"> </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">dflt</span><span class="p">);</span>
<span class="linenos">  351</span><span class="p">}</span>
<span class="linenos">  352</span>
<span class="linenos">  353</span><span class="c1">// --- algo.ByteAry.ary.Addary</span>
<span class="linenos">  354</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">  355</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">  356</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">  357</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">u8</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_Addary</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ByteAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">u8</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  358</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">overlaps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="o">&gt;</span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_max</span><span class="p">;</span>
<span class="linenos">  359</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">UNLIKELY</span><span class="p">(</span><span class="n">overlaps</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  360</span><span class="w">        </span><span class="n">FatalErrorExit</span><span class="p">(</span><span class="s">&quot;algo.tary_alias  field:algo.ByteAry.ary  comment:&#39;alias error: sub-array is being appended to the whole&#39;&quot;</span><span class="p">);</span>
<span class="linenos">  361</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  362</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nnew</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">  363</span><span class="w">    </span><span class="n">ary_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="p">);</span><span class="w"> </span><span class="c1">// reserve space</span>
<span class="linenos">  364</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">  365</span><span class="w">    </span><span class="n">memcpy</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">u8</span><span class="p">));</span>
<span class="linenos">  366</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">nnew</span><span class="p">;</span>
<span class="linenos">  367</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">u8</span><span class="o">&gt;</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="p">);</span>
<span class="linenos">  368</span><span class="p">}</span>
<span class="linenos">  369</span>
<span class="linenos">  370</span><span class="c1">// --- algo.ByteAry.ary.Alloc</span>
<span class="linenos">  371</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">  372</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">  373</span><span class="n">u8</span><span class="o">&amp;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_Alloc</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ByteAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  374</span><span class="w">    </span><span class="n">ary_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">  375</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">  376</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<span class="linenos">  377</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">;</span>
<span class="linenos">  378</span><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">u8</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">// construct new element, default initializer</span>
<span class="linenos">  379</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">  380</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">elems</span><span class="p">[</span><span class="n">at</span><span class="p">];</span>
<span class="linenos">  381</span><span class="p">}</span>
<span class="linenos">  382</span>
<span class="linenos">  383</span><span class="c1">// --- algo.ByteAry.ary.AllocAt</span>
<span class="linenos">  384</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">  385</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">  386</span><span class="n">u8</span><span class="o">&amp;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_AllocAt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ByteAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  387</span><span class="w">    </span><span class="n">ary_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">  388</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">  389</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">UNLIKELY</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  390</span><span class="w">        </span><span class="n">FatalErrorExit</span><span class="p">(</span><span class="s">&quot;algo.bad_alloc_at  field:algo.ByteAry.ary  comment:&#39;index out of range&#39;&quot;</span><span class="p">);</span>
<span class="linenos">  391</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  392</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">;</span>
<span class="linenos">  393</span><span class="w">    </span><span class="n">memmove</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">u8</span><span class="p">));</span>
<span class="linenos">  394</span><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">u8</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">// construct element, default initializer</span>
<span class="linenos">  395</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">  396</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">elems</span><span class="p">[</span><span class="n">at</span><span class="p">];</span>
<span class="linenos">  397</span><span class="p">}</span>
<span class="linenos">  398</span>
<span class="linenos">  399</span><span class="c1">// --- algo.ByteAry.ary.AllocN</span>
<span class="linenos">  400</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">  401</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">u8</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_AllocN</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ByteAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  402</span><span class="w">    </span><span class="n">ary_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos">  403</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">old_n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">  404</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">new_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old_n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">  405</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">;</span>
<span class="linenos">  406</span><span class="w">    </span><span class="n">memset</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">old_n</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">new_n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">old_n</span><span class="p">);</span><span class="w"> </span><span class="c1">// initialize new space</span>
<span class="linenos">  407</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_n</span><span class="p">;</span>
<span class="linenos">  408</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">u8</span><span class="o">&gt;</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">old_n</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos">  409</span><span class="p">}</span>
<span class="linenos">  410</span>
<span class="linenos">  411</span><span class="c1">// --- algo.ByteAry.ary.Remove</span>
<span class="linenos">  412</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">  413</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_Remove</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ByteAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  414</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">lim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">  415</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">;</span>
<span class="linenos">  416</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">lim</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  417</span><span class="w">        </span><span class="n">memmove</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">u8</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">lim</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)));</span>
<span class="linenos">  418</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lim</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">  419</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  420</span><span class="p">}</span>
<span class="linenos">  421</span>
<span class="linenos">  422</span><span class="c1">// --- algo.ByteAry.ary.RemoveLast</span>
<span class="linenos">  423</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">  424</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_RemoveLast</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ByteAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  425</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">  426</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  427</span><span class="w">        </span><span class="n">n</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">  428</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<span class="linenos">  429</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  430</span><span class="p">}</span>
<span class="linenos">  431</span>
<span class="linenos">  432</span><span class="c1">// --- algo.ByteAry.ary.AbsReserve</span>
<span class="linenos">  433</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">  434</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_AbsReserve</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ByteAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  435</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">old_max</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_max</span><span class="p">;</span>
<span class="linenos">  436</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">i32</span><span class="p">(</span><span class="n">old_max</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  437</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">new_max</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Max</span><span class="p">(</span><span class="n">i32_Max</span><span class="p">(</span><span class="n">old_max</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">),</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="linenos">  438</span><span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">new_mem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">malloc_ReallocMem</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">,</span><span class="w"> </span><span class="n">old_max</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">u8</span><span class="p">),</span><span class="w"> </span><span class="n">new_max</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">u8</span><span class="p">));</span>
<span class="linenos">  439</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">UNLIKELY</span><span class="p">(</span><span class="o">!</span><span class="n">new_mem</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  440</span><span class="w">            </span><span class="n">FatalErrorExit</span><span class="p">(</span><span class="s">&quot;algo.tary_nomem  field:algo.ByteAry.ary  comment:&#39;out of memory&#39;&quot;</span><span class="p">);</span>
<span class="linenos">  441</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">  442</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">new_mem</span><span class="p">;</span>
<span class="linenos">  443</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_max</span><span class="p">;</span>
<span class="linenos">  444</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  445</span><span class="p">}</span>
<span class="linenos">  446</span>
<span class="linenos">  447</span><span class="c1">// --- algo.ByteAry.ary.Print</span>
<span class="linenos">  448</span><span class="c1">// Convert ary to a string.</span>
<span class="linenos">  449</span><span class="c1">// Array is printed as a regular string.</span>
<span class="linenos">  450</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ByteAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  451</span><span class="w">    </span><span class="n">rhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">memptr_ToStrptr</span><span class="p">(</span><span class="n">ary_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">  452</span><span class="p">}</span>
<span class="linenos">  453</span>
<span class="linenos">  454</span><span class="c1">// --- algo.ByteAry.ary.Setary</span>
<span class="linenos">  455</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">  456</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_Setary</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ByteAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ByteAry</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  457</span><span class="w">    </span><span class="n">ary_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">  458</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nnew</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">  459</span><span class="w">    </span><span class="n">ary_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="p">);</span><span class="w"> </span><span class="c1">// reserve space</span>
<span class="linenos">  460</span><span class="w">    </span><span class="n">memcpy</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">u8</span><span class="p">));</span>
<span class="linenos">  461</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nnew</span><span class="p">;</span>
<span class="linenos">  462</span><span class="p">}</span>
<span class="linenos">  463</span>
<span class="linenos">  464</span><span class="c1">// --- algo.ByteAry.ary.Setary2</span>
<span class="linenos">  465</span><span class="c1">// Copy specified array into ary, discarding previous contents.</span>
<span class="linenos">  466</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">  467</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_Setary</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ByteAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">u8</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  468</span><span class="w">    </span><span class="n">ary_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">  469</span><span class="w">    </span><span class="n">ary_Addary</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">  470</span><span class="p">}</span>
<span class="linenos">  471</span>
<span class="linenos">  472</span><span class="c1">// --- algo.ByteAry.ary.AllocNVal</span>
<span class="linenos">  473</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">  474</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">u8</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_AllocNVal</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ByteAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">u8</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  475</span><span class="w">    </span><span class="n">ary_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos">  476</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">old_n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">  477</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">new_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old_n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">  478</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">;</span>
<span class="linenos">  479</span><span class="w">    </span><span class="n">memset</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">old_n</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">new_n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">old_n</span><span class="p">);</span><span class="w"> </span><span class="c1">// initialize new space</span>
<span class="linenos">  480</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_n</span><span class="p">;</span>
<span class="linenos">  481</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">u8</span><span class="o">&gt;</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">old_n</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos">  482</span><span class="p">}</span>
<span class="linenos">  483</span>
<span class="linenos">  484</span><span class="c1">// --- algo.ByteAry.ary.ReadStrptrMaybe</span>
<span class="linenos">  485</span><span class="c1">// The array is replaced with the input string. Function always succeeds.</span>
<span class="linenos">  486</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ByteAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  487</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">  488</span><span class="w">    </span><span class="n">ary_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">  489</span><span class="w">    </span><span class="n">ary_Addary</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_ToMemptr</span><span class="p">(</span><span class="n">in_str</span><span class="p">));</span>
<span class="linenos">  490</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">  491</span><span class="p">}</span>
<span class="linenos">  492</span>
<span class="linenos">  493</span><span class="c1">// --- algo.ByteAry..Uninit</span>
<span class="linenos">  494</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ByteAry_Uninit</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ByteAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  495</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ByteAry</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">;</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">row</span><span class="p">;</span>
<span class="linenos">  496</span>
<span class="linenos">  497</span><span class="w">    </span><span class="c1">// algo.ByteAry.ary.Uninit (Tary)  //</span>
<span class="linenos">  498</span><span class="w">    </span><span class="c1">// remove all elements from algo.ByteAry.ary</span>
<span class="linenos">  499</span><span class="w">    </span><span class="n">ary_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">  500</span><span class="w">    </span><span class="c1">// free memory for Tary algo.ByteAry.ary</span>
<span class="linenos">  501</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">malloc_FreeMem</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">u8</span><span class="p">)</span><span class="o">*</span><span class="n">parent</span><span class="p">.</span><span class="n">ary_max</span><span class="p">);</span><span class="w"> </span><span class="c1">// (algo.ByteAry.ary)</span>
<span class="linenos">  502</span><span class="p">}</span>
<span class="linenos">  503</span>
<span class="linenos">  504</span><span class="c1">// --- algo.Charset.ch.Print</span>
<span class="linenos">  505</span><span class="c1">// Convert ch to a string.</span>
<span class="linenos">  506</span><span class="c1">// The separator character is &#39;,&#39;.</span>
<span class="linenos">  507</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Charset</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  508</span><span class="w">    </span><span class="n">ind_beg</span><span class="p">(</span><span class="n">Charset_ch_curs</span><span class="p">,</span><span class="n">ch_elem</span><span class="p">,</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  509</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ind_curs</span><span class="p">(</span><span class="n">ch_elem</span><span class="p">).</span><span class="n">index</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  510</span><span class="w">            </span><span class="n">rhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sc">&#39;,&#39;</span><span class="p">;</span>
<span class="linenos">  511</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">  512</span><span class="w">        </span><span class="n">u64_Print</span><span class="p">(</span><span class="n">ch_elem</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">  513</span><span class="w">    </span><span class="p">}</span><span class="n">ind_end</span><span class="p">;</span>
<span class="linenos">  514</span><span class="p">}</span>
<span class="linenos">  515</span>
<span class="linenos">  516</span><span class="c1">// --- algo.Charset.ch.ReadStrptrMaybe</span>
<span class="linenos">  517</span><span class="c1">// Read array from string</span>
<span class="linenos">  518</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">  519</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Charset</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  520</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">  521</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">in_str</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  522</span><span class="w">        </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">token</span><span class="p">;</span>
<span class="linenos">  523</span><span class="w">        </span><span class="n">algo</span><span class="o">::</span><span class="n">NextSep</span><span class="p">(</span><span class="n">in_str</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;,&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">token</span><span class="p">);</span>
<span class="linenos">  524</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u64_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ch_elems</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="n">token</span><span class="p">);</span>
<span class="linenos">  525</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  526</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  527</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">  528</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  529</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">  530</span><span class="p">}</span>
<span class="linenos">  531</span>
<span class="linenos">  532</span><span class="c1">// --- algo.Charset.ch_bitcurs.Next</span>
<span class="linenos">  533</span><span class="c1">// proceed to next item</span>
<span class="linenos">  534</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Charset_ch_bitcurs_Next</span><span class="p">(</span><span class="n">Charset_ch_bitcurs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  535</span><span class="w">    </span><span class="o">++</span><span class="n">curs</span><span class="p">.</span><span class="n">bit</span><span class="p">;</span>
<span class="linenos">  536</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">curs</span><span class="p">.</span><span class="n">bit</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos">  537</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">curs</span><span class="p">.</span><span class="n">bit</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos">  538</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">curs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  539</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">rest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">curs</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">offset</span><span class="p">;</span>
<span class="linenos">  540</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rest</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  541</span><span class="w">            </span><span class="n">offset</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_BitScanForward</span><span class="p">(</span><span class="n">rest</span><span class="p">);</span>
<span class="linenos">  542</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  543</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">  544</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  545</span><span class="w">    </span><span class="n">curs</span><span class="p">.</span><span class="n">bit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">offset</span><span class="p">;</span>
<span class="linenos">  546</span><span class="p">}</span>
<span class="linenos">  547</span>
<span class="linenos">  548</span><span class="c1">// --- algo.Smallstr150.ch.Print</span>
<span class="linenos">  549</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr150</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  550</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">  551</span><span class="p">}</span>
<span class="linenos">  552</span>
<span class="linenos">  553</span><span class="c1">// --- algo.Smallstr150.ch.ReadStrptrMaybe</span>
<span class="linenos">  554</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">  555</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr150</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  556</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">  557</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">150</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  558</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">  559</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">  560</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  561</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 150&quot;</span><span class="p">);</span>
<span class="linenos">  562</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  563</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">  564</span><span class="p">}</span>
<span class="linenos">  565</span>
<span class="linenos">  566</span><span class="c1">// --- algo.Smallstr150.ch.SetStrptr</span>
<span class="linenos">  567</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">  568</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">  569</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">  570</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr150</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  571</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">);</span>
<span class="linenos">  572</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">  573</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">  574</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">  575</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  576</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">  577</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  578</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">n_ch</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">u8</span><span class="p">(</span><span class="n">len</span><span class="p">);</span>
<span class="linenos">  579</span><span class="p">}</span>
<span class="linenos">  580</span>
<span class="linenos">  581</span><span class="c1">// --- algo.Smallstr150..Hash</span>
<span class="linenos">  582</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr150_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr150</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  583</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">  584</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">  585</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">  586</span><span class="p">}</span>
<span class="linenos">  587</span>
<span class="linenos">  588</span><span class="c1">// --- algo.Smallstr150..ReadStrptrMaybe</span>
<span class="linenos">  589</span><span class="c1">// Read fields of algo::Smallstr150 from an ascii string.</span>
<span class="linenos">  590</span><span class="c1">// The format of the string is the format of the algo::Smallstr150&#39;s only field</span>
<span class="linenos">  591</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr150_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr150</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  592</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">  593</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">  594</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">  595</span><span class="p">}</span>
<span class="linenos">  596</span>
<span class="linenos">  597</span><span class="c1">// --- algo.Smallstr150..Print</span>
<span class="linenos">  598</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">  599</span><span class="c1">// cfmt:algo.Smallstr150.String  printfmt:Raw</span>
<span class="linenos">  600</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr150_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr150</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  601</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">  602</span><span class="p">}</span>
<span class="linenos">  603</span>
<span class="linenos">  604</span><span class="c1">// --- algo.Comment..ReadStrptrMaybe</span>
<span class="linenos">  605</span><span class="c1">// Read fields of algo::Comment from an ascii string.</span>
<span class="linenos">  606</span><span class="c1">// The format of the string is the format of the algo::Comment&#39;s only field</span>
<span class="linenos">  607</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Comment_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Comment</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  608</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">  609</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr150_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">  610</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">  611</span><span class="p">}</span>
<span class="linenos">  612</span>
<span class="linenos">  613</span><span class="c1">// --- algo.Comment..Print</span>
<span class="linenos">  614</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">  615</span><span class="c1">// cfmt:algo.Comment.String  printfmt:Raw</span>
<span class="linenos">  616</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Comment_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Comment</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  617</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr150_Print</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">  618</span><span class="p">}</span>
<span class="linenos">  619</span>
<span class="linenos">  620</span><span class="c1">// --- algo.Smallstr250.ch.Print</span>
<span class="linenos">  621</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr250</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  622</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">  623</span><span class="p">}</span>
<span class="linenos">  624</span>
<span class="linenos">  625</span><span class="c1">// --- algo.Smallstr250.ch.ReadStrptrMaybe</span>
<span class="linenos">  626</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">  627</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr250</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  628</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">  629</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">250</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  630</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">  631</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">  632</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  633</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 250&quot;</span><span class="p">);</span>
<span class="linenos">  634</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  635</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">  636</span><span class="p">}</span>
<span class="linenos">  637</span>
<span class="linenos">  638</span><span class="c1">// --- algo.Smallstr250.ch.SetStrptr</span>
<span class="linenos">  639</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">  640</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">  641</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">  642</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr250</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  643</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">250</span><span class="p">);</span>
<span class="linenos">  644</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">  645</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">  646</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">  647</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  648</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">  649</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  650</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">n_ch</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">u8</span><span class="p">(</span><span class="n">len</span><span class="p">);</span>
<span class="linenos">  651</span><span class="p">}</span>
<span class="linenos">  652</span>
<span class="linenos">  653</span><span class="c1">// --- algo.Smallstr250..Hash</span>
<span class="linenos">  654</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr250_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr250</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  655</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">  656</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">  657</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">  658</span><span class="p">}</span>
<span class="linenos">  659</span>
<span class="linenos">  660</span><span class="c1">// --- algo.Smallstr250..ReadStrptrMaybe</span>
<span class="linenos">  661</span><span class="c1">// Read fields of algo::Smallstr250 from an ascii string.</span>
<span class="linenos">  662</span><span class="c1">// The format of the string is the format of the algo::Smallstr250&#39;s only field</span>
<span class="linenos">  663</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr250_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr250</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  664</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">  665</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">  666</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">  667</span><span class="p">}</span>
<span class="linenos">  668</span>
<span class="linenos">  669</span><span class="c1">// --- algo.Smallstr250..Print</span>
<span class="linenos">  670</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">  671</span><span class="c1">// cfmt:algo.Smallstr250.String  printfmt:Raw</span>
<span class="linenos">  672</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr250_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr250</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  673</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">  674</span><span class="p">}</span>
<span class="linenos">  675</span>
<span class="linenos">  676</span><span class="c1">// --- algo.CppExpr..ReadStrptrMaybe</span>
<span class="linenos">  677</span><span class="c1">// Read fields of algo::CppExpr from an ascii string.</span>
<span class="linenos">  678</span><span class="c1">// The format of the string is the format of the algo::CppExpr&#39;s only field</span>
<span class="linenos">  679</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">CppExpr_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">CppExpr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  680</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">  681</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr250_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">  682</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">  683</span><span class="p">}</span>
<span class="linenos">  684</span>
<span class="linenos">  685</span><span class="c1">// --- algo.CppExpr..Print</span>
<span class="linenos">  686</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">  687</span><span class="c1">// cfmt:algo.CppExpr.String  printfmt:Raw</span>
<span class="linenos">  688</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">CppExpr_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">CppExpr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  689</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr250_Print</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">  690</span><span class="p">}</span>
<span class="linenos">  691</span>
<span class="linenos">  692</span><span class="c1">// --- algo.DirEntry..Init</span>
<span class="linenos">  693</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">  694</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">DirEntry_Init</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">DirEntry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  695</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="linenos">  696</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="linenos">  697</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">eof</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">bool</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
<span class="linenos">  698</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">match</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">bool</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
<span class="linenos">  699</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">is_dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">bool</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
<span class="linenos">  700</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">dir_handle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="linenos">  701</span><span class="p">}</span>
<span class="linenos">  702</span>
<span class="linenos">  703</span><span class="c1">// --- algo.DirEntry..Uninit</span>
<span class="linenos">  704</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">DirEntry_Uninit</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">DirEntry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  705</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">DirEntry</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">;</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">row</span><span class="p">;</span>
<span class="linenos">  706</span><span class="w">    </span><span class="n">dir_handle_Cleanup</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span><span class="w"> </span><span class="c1">// dmmeta.fcleanup:algo.DirEntry.dir_handle</span>
<span class="linenos">  707</span><span class="p">}</span>
<span class="linenos">  708</span>
<span class="linenos">  709</span><span class="c1">// --- algo.DryrunQ..Print</span>
<span class="linenos">  710</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">  711</span><span class="c1">// cfmt:algo.DryrunQ.String  printfmt:Raw</span>
<span class="linenos">  712</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">DryrunQ_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">DryrunQ</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  713</span><span class="w">    </span><span class="n">bool_Print</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">  714</span><span class="p">}</span>
<span class="linenos">  715</span>
<span class="linenos">  716</span><span class="c1">// --- algo.EchoQ.value.ToCstr</span>
<span class="linenos">  717</span><span class="c1">// Convert numeric value of field to one of predefined string constants.</span>
<span class="linenos">  718</span><span class="c1">// If string is found, return a static C string. Otherwise, return NULL.</span>
<span class="linenos">  719</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ToCstr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">EchoQ</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  720</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="linenos">  721</span><span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">value_GetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  722</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_EchoQ_true</span><span class="w">               </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;true&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  723</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_EchoQ_false</span><span class="w">              </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;false&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  724</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  725</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="linenos">  726</span><span class="p">}</span>
<span class="linenos">  727</span>
<span class="linenos">  728</span><span class="c1">// --- algo.EchoQ.value.Print</span>
<span class="linenos">  729</span><span class="c1">// Convert value to a string. First, attempt conversion to a known string.</span>
<span class="linenos">  730</span><span class="c1">// If no string matches, print value as a numeric value.</span>
<span class="linenos">  731</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">EchoQ</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  732</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">strval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value_ToCstr</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">  733</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  734</span><span class="w">        </span><span class="n">lhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">strval</span><span class="p">;</span>
<span class="linenos">  735</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  736</span><span class="w">        </span><span class="n">lhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">  737</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  738</span><span class="p">}</span>
<span class="linenos">  739</span>
<span class="linenos">  740</span><span class="c1">// --- algo.EchoQ.value.SetStrptrMaybe</span>
<span class="linenos">  741</span><span class="c1">// Convert string to field.</span>
<span class="linenos">  742</span><span class="c1">// If the string is invalid, do not modify field and return false.</span>
<span class="linenos">  743</span><span class="c1">// In case of success, return true</span>
<span class="linenos">  744</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">EchoQ</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  745</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">  746</span><span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">rhs</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  747</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">4</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  748</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  749</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR4</span><span class="p">(</span><span class="sc">&#39;t&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;u&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  750</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_EchoQ_true</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  751</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  752</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">  753</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  754</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">  755</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">5</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  756</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">rhs</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span><span class="o">&lt;&lt;</span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  757</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR5</span><span class="p">(</span><span class="sc">&#39;f&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;l&#39;</span><span class="p">,</span><span class="sc">&#39;s&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  758</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_EchoQ_false</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  759</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  760</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">  761</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  762</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">  763</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  764</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="linenos">  765</span><span class="p">}</span>
<span class="linenos">  766</span>
<span class="linenos">  767</span><span class="c1">// --- algo.EchoQ.value.SetStrptr</span>
<span class="linenos">  768</span><span class="c1">// Convert string to field.</span>
<span class="linenos">  769</span><span class="c1">// If the string is invalid, set numeric value to DFLT</span>
<span class="linenos">  770</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">EchoQ</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">,</span><span class="w"> </span><span class="n">algo_EchoQEnum</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  771</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">rhs</span><span class="p">))</span><span class="w"> </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">dflt</span><span class="p">);</span>
<span class="linenos">  772</span><span class="p">}</span>
<span class="linenos">  773</span>
<span class="linenos">  774</span><span class="c1">// --- algo.EchoQ..Print</span>
<span class="linenos">  775</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">  776</span><span class="c1">// cfmt:algo.EchoQ.String  printfmt:Raw</span>
<span class="linenos">  777</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">EchoQ_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">EchoQ</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  778</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">  779</span><span class="p">}</span>
<span class="linenos">  780</span>
<span class="linenos">  781</span><span class="c1">// --- algo.Errns.value.ToCstr</span>
<span class="linenos">  782</span><span class="c1">// Convert numeric value of field to one of predefined string constants.</span>
<span class="linenos">  783</span><span class="c1">// If string is found, return a static C string. Otherwise, return NULL.</span>
<span class="linenos">  784</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ToCstr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Errns</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  785</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="linenos">  786</span><span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">value_GetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  787</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_Errns_unix</span><span class="w">               </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;unix&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  788</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_Errns_win</span><span class="w">                </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;win&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  789</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  790</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="linenos">  791</span><span class="p">}</span>
<span class="linenos">  792</span>
<span class="linenos">  793</span><span class="c1">// --- algo.Errns.value.Print</span>
<span class="linenos">  794</span><span class="c1">// Convert value to a string. First, attempt conversion to a known string.</span>
<span class="linenos">  795</span><span class="c1">// If no string matches, print value as a numeric value.</span>
<span class="linenos">  796</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Errns</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  797</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">strval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value_ToCstr</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">  798</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  799</span><span class="w">        </span><span class="n">lhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">strval</span><span class="p">;</span>
<span class="linenos">  800</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  801</span><span class="w">        </span><span class="n">lhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">  802</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  803</span><span class="p">}</span>
<span class="linenos">  804</span>
<span class="linenos">  805</span><span class="c1">// --- algo.Errns.value.SetStrptrMaybe</span>
<span class="linenos">  806</span><span class="c1">// Convert string to field.</span>
<span class="linenos">  807</span><span class="c1">// If the string is invalid, do not modify field and return false.</span>
<span class="linenos">  808</span><span class="c1">// In case of success, return true</span>
<span class="linenos">  809</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Errns</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  810</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">  811</span><span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">rhs</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  812</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">3</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  813</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE16</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">rhs</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">&lt;&lt;</span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  814</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR3</span><span class="p">(</span><span class="sc">&#39;w&#39;</span><span class="p">,</span><span class="sc">&#39;i&#39;</span><span class="p">,</span><span class="sc">&#39;n&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  815</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Errns_win</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  816</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  817</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">  818</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  819</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">  820</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">4</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  821</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  822</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR4</span><span class="p">(</span><span class="sc">&#39;u&#39;</span><span class="p">,</span><span class="sc">&#39;n&#39;</span><span class="p">,</span><span class="sc">&#39;i&#39;</span><span class="p">,</span><span class="sc">&#39;x&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  823</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Errns_unix</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  824</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  825</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">  826</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  827</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">  828</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  829</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="linenos">  830</span><span class="p">}</span>
<span class="linenos">  831</span>
<span class="linenos">  832</span><span class="c1">// --- algo.Errns.value.SetStrptr</span>
<span class="linenos">  833</span><span class="c1">// Convert string to field.</span>
<span class="linenos">  834</span><span class="c1">// If the string is invalid, set numeric value to DFLT</span>
<span class="linenos">  835</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Errns</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">,</span><span class="w"> </span><span class="n">algo_ErrnsEnum</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  836</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">rhs</span><span class="p">))</span><span class="w"> </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">dflt</span><span class="p">);</span>
<span class="linenos">  837</span><span class="p">}</span>
<span class="linenos">  838</span>
<span class="linenos">  839</span><span class="c1">// --- algo.FailokQ.value.ToCstr</span>
<span class="linenos">  840</span><span class="c1">// Convert numeric value of field to one of predefined string constants.</span>
<span class="linenos">  841</span><span class="c1">// If string is found, return a static C string. Otherwise, return NULL.</span>
<span class="linenos">  842</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ToCstr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FailokQ</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  843</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="linenos">  844</span><span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">value_GetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  845</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FailokQ_true</span><span class="w">             </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;true&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  846</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FailokQ_false</span><span class="w">            </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;false&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  847</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  848</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="linenos">  849</span><span class="p">}</span>
<span class="linenos">  850</span>
<span class="linenos">  851</span><span class="c1">// --- algo.FailokQ.value.Print</span>
<span class="linenos">  852</span><span class="c1">// Convert value to a string. First, attempt conversion to a known string.</span>
<span class="linenos">  853</span><span class="c1">// If no string matches, print value as a numeric value.</span>
<span class="linenos">  854</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FailokQ</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  855</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">strval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value_ToCstr</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">  856</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  857</span><span class="w">        </span><span class="n">lhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">strval</span><span class="p">;</span>
<span class="linenos">  858</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  859</span><span class="w">        </span><span class="n">lhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">  860</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  861</span><span class="p">}</span>
<span class="linenos">  862</span>
<span class="linenos">  863</span><span class="c1">// --- algo.FailokQ.value.SetStrptrMaybe</span>
<span class="linenos">  864</span><span class="c1">// Convert string to field.</span>
<span class="linenos">  865</span><span class="c1">// If the string is invalid, do not modify field and return false.</span>
<span class="linenos">  866</span><span class="c1">// In case of success, return true</span>
<span class="linenos">  867</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FailokQ</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  868</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">  869</span><span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">rhs</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  870</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">4</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  871</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  872</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR4</span><span class="p">(</span><span class="sc">&#39;t&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;u&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  873</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FailokQ_true</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  874</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  875</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">  876</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  877</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">  878</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">5</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  879</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">rhs</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span><span class="o">&lt;&lt;</span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  880</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR5</span><span class="p">(</span><span class="sc">&#39;f&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;l&#39;</span><span class="p">,</span><span class="sc">&#39;s&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  881</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FailokQ_false</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  882</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  883</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">  884</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  885</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">  886</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  887</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="linenos">  888</span><span class="p">}</span>
<span class="linenos">  889</span>
<span class="linenos">  890</span><span class="c1">// --- algo.FailokQ.value.SetStrptr</span>
<span class="linenos">  891</span><span class="c1">// Convert string to field.</span>
<span class="linenos">  892</span><span class="c1">// If the string is invalid, set numeric value to DFLT</span>
<span class="linenos">  893</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FailokQ</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">,</span><span class="w"> </span><span class="n">algo_FailokQEnum</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  894</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">rhs</span><span class="p">))</span><span class="w"> </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">dflt</span><span class="p">);</span>
<span class="linenos">  895</span><span class="p">}</span>
<span class="linenos">  896</span>
<span class="linenos">  897</span><span class="c1">// --- algo.FailokQ..Print</span>
<span class="linenos">  898</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">  899</span><span class="c1">// cfmt:algo.FailokQ.String  printfmt:Raw</span>
<span class="linenos">  900</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FailokQ_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FailokQ</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  901</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">  902</span><span class="p">}</span>
<span class="linenos">  903</span>
<span class="linenos">  904</span><span class="c1">// --- algo.FieldId.value.ToCstr</span>
<span class="linenos">  905</span><span class="c1">// Convert numeric value of field to one of predefined string constants.</span>
<span class="linenos">  906</span><span class="c1">// If string is found, return a static C string. Otherwise, return NULL.</span>
<span class="linenos">  907</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ToCstr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FieldId</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  908</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="linenos">  909</span><span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">value_GetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  910</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_name</span><span class="w">             </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;name&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  911</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_value</span><span class="w">            </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;value&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  912</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_ch</span><span class="w">               </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;ch&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  913</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_exponent</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;exponent&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  914</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_mantissa</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;mantissa&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  915</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_append</span><span class="w">           </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;append&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  916</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_read</span><span class="w">             </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;read&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  917</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_write</span><span class="w">            </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;write&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  918</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId__throw</span><span class="w">           </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;_throw&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  919</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_temp</span><span class="w">             </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;temp&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  920</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_overlap</span><span class="w">          </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;overlap&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  921</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_linear</span><span class="w">           </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;linear&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  922</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_printerr</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;printerr&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  923</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_eof</span><span class="w">              </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;eof&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  924</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_err</span><span class="w">              </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;err&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  925</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_x</span><span class="w">                </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;x&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  926</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_y</span><span class="w">                </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;y&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  927</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_ip_host</span><span class="w">          </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;ip_host&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  928</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_mask</span><span class="w">             </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;mask&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  929</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_ok</span><span class="w">               </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;ok&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  930</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_neg</span><span class="w">              </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;neg&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  931</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_overflow</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;overflow&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  932</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_hex</span><span class="w">              </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;hex&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  933</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_sha1sig</span><span class="w">          </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;sha1sig&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  934</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_ary</span><span class="w">              </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;ary&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  935</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_attrs</span><span class="w">            </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;attrs&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  936</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_head</span><span class="w">             </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;head&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  937</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_protocol</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;protocol&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  938</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_username</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;username&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  939</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_password</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;password&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  940</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_server</span><span class="w">           </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;server&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  941</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_dir</span><span class="w">              </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;dir&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  942</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_port</span><span class="w">             </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;port&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  943</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_source_addr_host</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;source_addr_host&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  944</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_host</span><span class="w">             </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;host&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  945</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  946</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="linenos">  947</span><span class="p">}</span>
<span class="linenos">  948</span>
<span class="linenos">  949</span><span class="c1">// --- algo.FieldId.value.Print</span>
<span class="linenos">  950</span><span class="c1">// Convert value to a string. First, attempt conversion to a known string.</span>
<span class="linenos">  951</span><span class="c1">// If no string matches, print value as a numeric value.</span>
<span class="linenos">  952</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FieldId</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  953</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">strval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value_ToCstr</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">  954</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  955</span><span class="w">        </span><span class="n">lhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">strval</span><span class="p">;</span>
<span class="linenos">  956</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  957</span><span class="w">        </span><span class="n">lhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">  958</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">  959</span><span class="p">}</span>
<span class="linenos">  960</span>
<span class="linenos">  961</span><span class="c1">// --- algo.FieldId.value.SetStrptrMaybe</span>
<span class="linenos">  962</span><span class="c1">// Convert string to field.</span>
<span class="linenos">  963</span><span class="c1">// If the string is invalid, do not modify field and return false.</span>
<span class="linenos">  964</span><span class="c1">// In case of success, return true</span>
<span class="linenos">  965</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FieldId</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  966</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">  967</span><span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">rhs</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  968</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  969</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">rhs</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  970</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;x&#39;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  971</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_x</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  972</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  973</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;y&#39;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  974</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_y</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  975</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  976</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">  977</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  978</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">  979</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">2</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  980</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE16</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  981</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR2</span><span class="p">(</span><span class="sc">&#39;c&#39;</span><span class="p">,</span><span class="sc">&#39;h&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  982</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_ch</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  983</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  984</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR2</span><span class="p">(</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;k&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  985</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_ok</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  986</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  987</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">  988</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  989</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">  990</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">3</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  991</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE16</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">rhs</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">&lt;&lt;</span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  992</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR3</span><span class="p">(</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;y&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  993</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_ary</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  994</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  995</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR3</span><span class="p">(</span><span class="sc">&#39;d&#39;</span><span class="p">,</span><span class="sc">&#39;i&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  996</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_dir</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">  997</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">  998</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR3</span><span class="p">(</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;f&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">  999</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_eof</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1000</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1001</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR3</span><span class="p">(</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1002</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_err</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1003</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1004</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR3</span><span class="p">(</span><span class="sc">&#39;h&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;x&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1005</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_hex</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1006</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1007</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR3</span><span class="p">(</span><span class="sc">&#39;n&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;g&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1008</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_neg</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1009</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1010</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 1011</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1012</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1013</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">4</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1014</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1015</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR4</span><span class="p">(</span><span class="sc">&#39;h&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;d&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1016</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_head</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1017</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1018</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR4</span><span class="p">(</span><span class="sc">&#39;h&#39;</span><span class="p">,</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;s&#39;</span><span class="p">,</span><span class="sc">&#39;t&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1019</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_host</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1020</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1021</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR4</span><span class="p">(</span><span class="sc">&#39;m&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;s&#39;</span><span class="p">,</span><span class="sc">&#39;k&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1022</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_mask</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1023</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1024</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR4</span><span class="p">(</span><span class="sc">&#39;n&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;m&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1025</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_name</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1026</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1027</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR4</span><span class="p">(</span><span class="sc">&#39;p&#39;</span><span class="p">,</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;t&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1028</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_port</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1029</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1030</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR4</span><span class="p">(</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;d&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1031</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_read</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1032</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1033</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR4</span><span class="p">(</span><span class="sc">&#39;t&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;m&#39;</span><span class="p">,</span><span class="sc">&#39;p&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1034</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_temp</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1035</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1036</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 1037</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1038</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1039</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">5</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1040</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">rhs</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span><span class="o">&lt;&lt;</span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1041</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR5</span><span class="p">(</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;t&#39;</span><span class="p">,</span><span class="sc">&#39;t&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;s&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1042</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_attrs</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1043</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1044</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR5</span><span class="p">(</span><span class="sc">&#39;v&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;l&#39;</span><span class="p">,</span><span class="sc">&#39;u&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1045</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_value</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1046</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1047</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR5</span><span class="p">(</span><span class="sc">&#39;w&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;i&#39;</span><span class="p">,</span><span class="sc">&#39;t&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1048</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_write</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1049</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1050</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 1051</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1052</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1053</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">6</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1054</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE16</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="o">+</span><span class="mi">4</span><span class="p">))</span><span class="o">&lt;&lt;</span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1055</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR6</span><span class="p">(</span><span class="sc">&#39;_&#39;</span><span class="p">,</span><span class="sc">&#39;t&#39;</span><span class="p">,</span><span class="sc">&#39;h&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;w&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1056</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId__throw</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1057</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1058</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR6</span><span class="p">(</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;p&#39;</span><span class="p">,</span><span class="sc">&#39;p&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;n&#39;</span><span class="p">,</span><span class="sc">&#39;d&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1059</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_append</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1060</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1061</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR6</span><span class="p">(</span><span class="sc">&#39;l&#39;</span><span class="p">,</span><span class="sc">&#39;i&#39;</span><span class="p">,</span><span class="sc">&#39;n&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1062</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_linear</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1063</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1064</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR6</span><span class="p">(</span><span class="sc">&#39;s&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;v&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1065</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_server</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1066</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1067</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 1068</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1069</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1070</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">7</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1071</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE16</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="o">+</span><span class="mi">4</span><span class="p">))</span><span class="o">&lt;&lt;</span><span class="mi">32</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">rhs</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span><span class="o">&lt;&lt;</span><span class="mi">48</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1072</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR7</span><span class="p">(</span><span class="sc">&#39;i&#39;</span><span class="p">,</span><span class="sc">&#39;p&#39;</span><span class="p">,</span><span class="sc">&#39;_&#39;</span><span class="p">,</span><span class="sc">&#39;h&#39;</span><span class="p">,</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;s&#39;</span><span class="p">,</span><span class="sc">&#39;t&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1073</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_ip_host</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1074</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1075</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR7</span><span class="p">(</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;v&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;l&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;p&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1076</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_overlap</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1077</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1078</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR7</span><span class="p">(</span><span class="sc">&#39;s&#39;</span><span class="p">,</span><span class="sc">&#39;h&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;1&#39;</span><span class="p">,</span><span class="sc">&#39;s&#39;</span><span class="p">,</span><span class="sc">&#39;i&#39;</span><span class="p">,</span><span class="sc">&#39;g&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1079</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_sha1sig</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1080</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1081</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 1082</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1083</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1084</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">8</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1085</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE64</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1086</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR8</span><span class="p">(</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;x&#39;</span><span class="p">,</span><span class="sc">&#39;p&#39;</span><span class="p">,</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;n&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;n&#39;</span><span class="p">,</span><span class="sc">&#39;t&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1087</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_exponent</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1088</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1089</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR8</span><span class="p">(</span><span class="sc">&#39;m&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;n&#39;</span><span class="p">,</span><span class="sc">&#39;t&#39;</span><span class="p">,</span><span class="sc">&#39;i&#39;</span><span class="p">,</span><span class="sc">&#39;s&#39;</span><span class="p">,</span><span class="sc">&#39;s&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1090</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_mantissa</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1091</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1092</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR8</span><span class="p">(</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;v&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;f&#39;</span><span class="p">,</span><span class="sc">&#39;l&#39;</span><span class="p">,</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;w&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1093</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_overflow</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1094</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1095</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR8</span><span class="p">(</span><span class="sc">&#39;p&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;s&#39;</span><span class="p">,</span><span class="sc">&#39;s&#39;</span><span class="p">,</span><span class="sc">&#39;w&#39;</span><span class="p">,</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;d&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1096</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_password</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1097</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1098</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR8</span><span class="p">(</span><span class="sc">&#39;p&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;i&#39;</span><span class="p">,</span><span class="sc">&#39;n&#39;</span><span class="p">,</span><span class="sc">&#39;t&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1099</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_printerr</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1100</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1101</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR8</span><span class="p">(</span><span class="sc">&#39;p&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;t&#39;</span><span class="p">,</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;c&#39;</span><span class="p">,</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;l&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1102</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_protocol</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1103</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1104</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR8</span><span class="p">(</span><span class="sc">&#39;u&#39;</span><span class="p">,</span><span class="sc">&#39;s&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;n&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;m&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1105</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_username</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1106</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1107</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 1108</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1109</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1110</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">16</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1111</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE64</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1112</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR8</span><span class="p">(</span><span class="sc">&#39;s&#39;</span><span class="p">,</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;u&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;c&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;_&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1113</span><span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">memcmp</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="o">+</span><span class="mi">8</span><span class="p">,</span><span class="s">&quot;ddr_host&quot;</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_FieldId_source_addr_host</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 1114</span><span class="w">                    </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1115</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1116</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 1117</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1118</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1119</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1120</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="linenos"> 1121</span><span class="p">}</span>
<span class="linenos"> 1122</span>
<span class="linenos"> 1123</span><span class="c1">// --- algo.FieldId.value.SetStrptr</span>
<span class="linenos"> 1124</span><span class="c1">// Convert string to field.</span>
<span class="linenos"> 1125</span><span class="c1">// If the string is invalid, set numeric value to DFLT</span>
<span class="linenos"> 1126</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FieldId</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">,</span><span class="w"> </span><span class="n">algo_FieldIdEnum</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1127</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">rhs</span><span class="p">))</span><span class="w"> </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">dflt</span><span class="p">);</span>
<span class="linenos"> 1128</span><span class="p">}</span>
<span class="linenos"> 1129</span>
<span class="linenos"> 1130</span><span class="c1">// --- algo.FieldId.value.ReadStrptrMaybe</span>
<span class="linenos"> 1131</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 1132</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FieldId</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1133</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 1134</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">rhs</span><span class="p">);</span><span class="w"> </span><span class="c1">// try symbol conversion</span>
<span class="linenos"> 1135</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// didn&#39;t work? try reading as underlying type</span>
<span class="linenos"> 1136</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 1137</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1138</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1139</span><span class="p">}</span>
<span class="linenos"> 1140</span>
<span class="linenos"> 1141</span><span class="c1">// --- algo.FieldId..ReadStrptrMaybe</span>
<span class="linenos"> 1142</span><span class="c1">// Read fields of algo::FieldId from an ascii string.</span>
<span class="linenos"> 1143</span><span class="c1">// The format of the string is the format of the algo::FieldId&#39;s only field</span>
<span class="linenos"> 1144</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FieldId_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1145</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 1146</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 1147</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1148</span><span class="p">}</span>
<span class="linenos"> 1149</span>
<span class="linenos"> 1150</span><span class="c1">// --- algo.FieldId..Print</span>
<span class="linenos"> 1151</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 1152</span><span class="c1">// cfmt:algo.FieldId.String  printfmt:Raw</span>
<span class="linenos"> 1153</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FieldId_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FieldId</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1154</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 1155</span><span class="p">}</span>
<span class="linenos"> 1156</span>
<span class="linenos"> 1157</span><span class="c1">// --- algo.Fildes..ReadStrptrMaybe</span>
<span class="linenos"> 1158</span><span class="c1">// Read fields of algo::Fildes from an ascii string.</span>
<span class="linenos"> 1159</span><span class="c1">// The format of the string is the format of the algo::Fildes&#39;s only field</span>
<span class="linenos"> 1160</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1161</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 1162</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">i32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 1163</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1164</span><span class="p">}</span>
<span class="linenos"> 1165</span>
<span class="linenos"> 1166</span><span class="c1">// --- algo.Fildes..Print</span>
<span class="linenos"> 1167</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 1168</span><span class="c1">// cfmt:algo.Fildes.String  printfmt:Raw</span>
<span class="linenos"> 1169</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1170</span><span class="w">    </span><span class="n">i32_Print</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 1171</span><span class="p">}</span>
<span class="linenos"> 1172</span>
<span class="linenos"> 1173</span><span class="c1">// --- algo.FileFlags.append.ReadStrptrMaybe</span>
<span class="linenos"> 1174</span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">append_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1175</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 1176</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">append_tmp</span><span class="p">;</span>
<span class="linenos"> 1177</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bool_ReadStrptrMaybe</span><span class="p">(</span><span class="n">append_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 1178</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1179</span><span class="w">        </span><span class="n">append_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">append_tmp</span><span class="p">);</span>
<span class="linenos"> 1180</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1181</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1182</span><span class="p">}</span>
<span class="linenos"> 1183</span>
<span class="linenos"> 1184</span><span class="c1">// --- algo.FileFlags.read.ReadStrptrMaybe</span>
<span class="linenos"> 1185</span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">read_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1186</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 1187</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">read_tmp</span><span class="p">;</span>
<span class="linenos"> 1188</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bool_ReadStrptrMaybe</span><span class="p">(</span><span class="n">read_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 1189</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1190</span><span class="w">        </span><span class="n">read_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">read_tmp</span><span class="p">);</span>
<span class="linenos"> 1191</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1192</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1193</span><span class="p">}</span>
<span class="linenos"> 1194</span>
<span class="linenos"> 1195</span><span class="c1">// --- algo.FileFlags.write.ReadStrptrMaybe</span>
<span class="linenos"> 1196</span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">write_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1197</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 1198</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">write_tmp</span><span class="p">;</span>
<span class="linenos"> 1199</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bool_ReadStrptrMaybe</span><span class="p">(</span><span class="n">write_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 1200</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1201</span><span class="w">        </span><span class="n">write_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">write_tmp</span><span class="p">);</span>
<span class="linenos"> 1202</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1203</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1204</span><span class="p">}</span>
<span class="linenos"> 1205</span>
<span class="linenos"> 1206</span><span class="c1">// --- algo.FileFlags._throw.ReadStrptrMaybe</span>
<span class="linenos"> 1207</span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">_throw_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1208</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 1209</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">_throw_tmp</span><span class="p">;</span>
<span class="linenos"> 1210</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bool_ReadStrptrMaybe</span><span class="p">(</span><span class="n">_throw_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 1211</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1212</span><span class="w">        </span><span class="n">_throw_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">_throw_tmp</span><span class="p">);</span>
<span class="linenos"> 1213</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1214</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1215</span><span class="p">}</span>
<span class="linenos"> 1216</span>
<span class="linenos"> 1217</span><span class="c1">// --- algo.FileFlags.temp.ReadStrptrMaybe</span>
<span class="linenos"> 1218</span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">temp_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1219</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 1220</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">temp_tmp</span><span class="p">;</span>
<span class="linenos"> 1221</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bool_ReadStrptrMaybe</span><span class="p">(</span><span class="n">temp_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 1222</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1223</span><span class="w">        </span><span class="n">temp_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">temp_tmp</span><span class="p">);</span>
<span class="linenos"> 1224</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1225</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1226</span><span class="p">}</span>
<span class="linenos"> 1227</span>
<span class="linenos"> 1228</span><span class="c1">// --- algo.FileFlags.overlap.ReadStrptrMaybe</span>
<span class="linenos"> 1229</span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">overlap_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1230</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 1231</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">overlap_tmp</span><span class="p">;</span>
<span class="linenos"> 1232</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bool_ReadStrptrMaybe</span><span class="p">(</span><span class="n">overlap_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 1233</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1234</span><span class="w">        </span><span class="n">overlap_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">overlap_tmp</span><span class="p">);</span>
<span class="linenos"> 1235</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1236</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1237</span><span class="p">}</span>
<span class="linenos"> 1238</span>
<span class="linenos"> 1239</span><span class="c1">// --- algo.FileFlags.linear.ReadStrptrMaybe</span>
<span class="linenos"> 1240</span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">linear_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1241</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 1242</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">linear_tmp</span><span class="p">;</span>
<span class="linenos"> 1243</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bool_ReadStrptrMaybe</span><span class="p">(</span><span class="n">linear_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 1244</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1245</span><span class="w">        </span><span class="n">linear_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">linear_tmp</span><span class="p">);</span>
<span class="linenos"> 1246</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1247</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1248</span><span class="p">}</span>
<span class="linenos"> 1249</span>
<span class="linenos"> 1250</span><span class="c1">// --- algo.FileFlags.printerr.ReadStrptrMaybe</span>
<span class="linenos"> 1251</span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">printerr_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1252</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 1253</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">printerr_tmp</span><span class="p">;</span>
<span class="linenos"> 1254</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bool_ReadStrptrMaybe</span><span class="p">(</span><span class="n">printerr_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 1255</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1256</span><span class="w">        </span><span class="n">printerr_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">printerr_tmp</span><span class="p">);</span>
<span class="linenos"> 1257</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1258</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1259</span><span class="p">}</span>
<span class="linenos"> 1260</span>
<span class="linenos"> 1261</span><span class="c1">// --- algo.FileFlags..ReadFieldMaybe</span>
<span class="linenos"> 1262</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags_ReadFieldMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1263</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 1264</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field_id</span><span class="p">;</span>
<span class="linenos"> 1265</span><span class="w">    </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">field_id</span><span class="p">,</span><span class="n">field</span><span class="p">);</span>
<span class="linenos"> 1266</span><span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">field_id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1267</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_value</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1268</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 1269</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1270</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1271</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_append</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1272</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">append_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 1273</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1274</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1275</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_read</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1276</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">read_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 1277</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1278</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1279</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_write</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1280</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">write_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 1281</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1282</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1283</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId__throw</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1284</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_throw_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 1285</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1286</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1287</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_temp</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1288</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 1289</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1290</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1291</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_overlap</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1292</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">overlap_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 1293</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1294</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1295</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_linear</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1296</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">linear_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 1297</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1298</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1299</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_printerr</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1300</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">printerr_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 1301</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1302</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1303</span><span class="w">        </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1304</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1305</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1306</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">AppendErrtext</span><span class="p">(</span><span class="s">&quot;attr&quot;</span><span class="p">,</span><span class="n">field</span><span class="p">);</span>
<span class="linenos"> 1307</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1308</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1309</span><span class="p">}</span>
<span class="linenos"> 1310</span>
<span class="linenos"> 1311</span><span class="c1">// --- algo.FileFlags..ReadStrptrMaybe</span>
<span class="linenos"> 1312</span><span class="c1">// Read fields of algo::FileFlags from an ascii string.</span>
<span class="linenos"> 1313</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1314</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 1315</span><span class="w">    </span><span class="c1">// Clear affected bits first)</span>
<span class="linenos"> 1316</span><span class="w">    </span><span class="n">append_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos"> 1317</span><span class="w">    </span><span class="n">read_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos"> 1318</span><span class="w">    </span><span class="n">write_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos"> 1319</span><span class="w">    </span><span class="n">_throw_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos"> 1320</span><span class="w">    </span><span class="n">temp_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos"> 1321</span><span class="w">    </span><span class="n">overlap_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos"> 1322</span><span class="w">    </span><span class="n">linear_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos"> 1323</span><span class="w">    </span><span class="n">printerr_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos"> 1324</span><span class="w">    </span><span class="c1">// Read &#39;,&#39;-separated list of bools</span>
<span class="linenos"> 1325</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">ch_N</span><span class="p">(</span><span class="n">in_str</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1326</span><span class="w">        </span><span class="n">strptr</span><span class="w"> </span><span class="n">field_name</span><span class="p">;</span>
<span class="linenos"> 1327</span><span class="w">        </span><span class="n">algo</span><span class="o">::</span><span class="n">NextSep</span><span class="p">(</span><span class="n">in_str</span><span class="p">,</span><span class="sc">&#39;,&#39;</span><span class="p">,</span><span class="n">field_name</span><span class="p">);</span>
<span class="linenos"> 1328</span><span class="w">        </span><span class="n">field_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Trimmed</span><span class="p">(</span><span class="n">field_name</span><span class="p">);</span>
<span class="linenos"> 1329</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch_N</span><span class="p">(</span><span class="n">field_name</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1330</span><span class="w">            </span><span class="n">algo</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field_id</span><span class="p">;</span>
<span class="linenos"> 1331</span><span class="w">            </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">field_id</span><span class="p">,</span><span class="n">field_name</span><span class="p">);</span>
<span class="linenos"> 1332</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1333</span><span class="w">                </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">field_id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1334</span><span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_append</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1335</span><span class="w">                        </span><span class="n">append_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 1336</span><span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1337</span><span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_read</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1338</span><span class="w">                        </span><span class="n">read_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 1339</span><span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1340</span><span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_write</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1341</span><span class="w">                        </span><span class="n">write_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 1342</span><span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1343</span><span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId__throw</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1344</span><span class="w">                        </span><span class="n">_throw_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 1345</span><span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1346</span><span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_temp</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1347</span><span class="w">                        </span><span class="n">temp_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 1348</span><span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1349</span><span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_overlap</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1350</span><span class="w">                        </span><span class="n">overlap_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 1351</span><span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1352</span><span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_linear</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1353</span><span class="w">                        </span><span class="n">linear_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 1354</span><span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1355</span><span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_printerr</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1356</span><span class="w">                        </span><span class="n">printerr_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 1357</span><span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1358</span><span class="w">                    </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 1359</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 1360</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 1361</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1362</span><span class="w">                </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">AppendErrtext</span><span class="p">(</span><span class="s">&quot;bitfld&quot;</span><span class="p">,</span><span class="n">field_name</span><span class="p">);</span>
<span class="linenos"> 1363</span><span class="w">                </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 1364</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 1365</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1366</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1367</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1368</span><span class="p">}</span>
<span class="linenos"> 1369</span>
<span class="linenos"> 1370</span><span class="c1">// --- algo.FileFlags..Print</span>
<span class="linenos"> 1371</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 1372</span><span class="c1">// cfmt:algo.FileFlags.String  printfmt:Bitset</span>
<span class="linenos"> 1373</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1374</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ListSep</span><span class="w"> </span><span class="n">ls</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">);</span>
<span class="linenos"> 1375</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">append_Get</span><span class="p">(</span><span class="n">row</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1376</span><span class="w">        </span><span class="n">str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;append&quot;</span><span class="p">;</span>
<span class="linenos"> 1377</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1378</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">read_Get</span><span class="p">(</span><span class="n">row</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1379</span><span class="w">        </span><span class="n">str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;read&quot;</span><span class="p">;</span>
<span class="linenos"> 1380</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1381</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">write_Get</span><span class="p">(</span><span class="n">row</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1382</span><span class="w">        </span><span class="n">str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;write&quot;</span><span class="p">;</span>
<span class="linenos"> 1383</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1384</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_throw_Get</span><span class="p">(</span><span class="n">row</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1385</span><span class="w">        </span><span class="n">str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;_throw&quot;</span><span class="p">;</span>
<span class="linenos"> 1386</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1387</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">temp_Get</span><span class="p">(</span><span class="n">row</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1388</span><span class="w">        </span><span class="n">str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;temp&quot;</span><span class="p">;</span>
<span class="linenos"> 1389</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1390</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">overlap_Get</span><span class="p">(</span><span class="n">row</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1391</span><span class="w">        </span><span class="n">str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;overlap&quot;</span><span class="p">;</span>
<span class="linenos"> 1392</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1393</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">linear_Get</span><span class="p">(</span><span class="n">row</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1394</span><span class="w">        </span><span class="n">str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;linear&quot;</span><span class="p">;</span>
<span class="linenos"> 1395</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1396</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">printerr_Get</span><span class="p">(</span><span class="n">row</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1397</span><span class="w">        </span><span class="n">str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;printerr&quot;</span><span class="p">;</span>
<span class="linenos"> 1398</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1399</span><span class="p">}</span>
<span class="linenos"> 1400</span>
<span class="linenos"> 1401</span><span class="c1">// --- algo.FileFlags..GetAnon</span>
<span class="linenos"> 1402</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags_GetAnon</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1403</span><span class="w">    </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">parent</span><span class="p">;</span><span class="c1">//only to avoid -Wunused-parameter</span>
<span class="linenos"> 1404</span><span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1405</span><span class="w">        </span><span class="k">case</span><span class="p">(</span><span class="mi">0</span><span class="p">):</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">strptr</span><span class="p">(</span><span class="s">&quot;value&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="linenos"> 1406</span><span class="w">        </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">();</span>
<span class="linenos"> 1407</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1408</span><span class="p">}</span>
<span class="linenos"> 1409</span>
<span class="linenos"> 1410</span><span class="c1">// --- algo.I32Dec1.value.SetDoubleMaybe</span>
<span class="linenos"> 1411</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos"> 1412</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos"> 1413</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec1</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1414</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 1415</span><span class="w">    </span><span class="n">i32</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32</span><span class="p">(</span><span class="mi">-2147483648LL</span><span class="p">);</span>
<span class="linenos"> 1416</span><span class="w">    </span><span class="n">i32</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32</span><span class="p">(</span><span class="mf">2147483647L</span><span class="n">L</span><span class="p">);</span>
<span class="linenos"> 1417</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos"> 1418</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos"> 1419</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1420</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos"> 1421</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos"> 1422</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1423</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1424</span><span class="p">}</span>
<span class="linenos"> 1425</span>
<span class="linenos"> 1426</span><span class="c1">// --- algo.I32Dec1.value.ReadStrptrMaybe</span>
<span class="linenos"> 1427</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec1</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1428</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 1429</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 1430</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos"> 1431</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1432</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 1433</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 1434</span><span class="w">    </span><span class="p">};</span>
<span class="linenos"> 1435</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos"> 1436</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 1437</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos"> 1438</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos"> 1439</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos"> 1440</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1441</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos"> 1442</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1443</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos"> 1444</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 1445</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1446</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 1&#39;th</span>
<span class="linenos"> 1447</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos"> 1448</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 1449</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 1450</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 1451</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 1452</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1453</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos"> 1454</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1455</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1456</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos"> 1457</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 1458</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 1459</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 1460</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 1461</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1462</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 1463</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">2147483647L</span><span class="n">L</span><span class="p">;</span><span class="w"> </span><span class="c1">// u-&gt;i coversion, check limits</span>
<span class="linenos"> 1464</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">neg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1465</span><span class="w">        </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">final_val</span><span class="p">;</span>
<span class="linenos"> 1466</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">-2147483648LL</span><span class="p">;</span>
<span class="linenos"> 1467</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1468</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1469</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos"> 1470</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1471</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos"> 1472</span><span class="p">}</span>
<span class="linenos"> 1473</span>
<span class="linenos"> 1474</span><span class="c1">// --- algo.I32Dec1.value.Print</span>
<span class="linenos"> 1475</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec1</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1476</span><span class="w">    </span><span class="n">i32</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 1477</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos"> 1478</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1479</span><span class="w">        </span><span class="n">ch_Alloc</span><span class="p">(</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 1480</span><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 1481</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1482</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos"> 1483</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 1484</span><span class="p">}</span>
<span class="linenos"> 1485</span>
<span class="linenos"> 1486</span><span class="c1">// --- algo.I32Dec1..ReadStrptrMaybe</span>
<span class="linenos"> 1487</span><span class="c1">// Read fields of algo::I32Dec1 from an ascii string.</span>
<span class="linenos"> 1488</span><span class="c1">// The format of the string is the format of the algo::I32Dec1&#39;s only field</span>
<span class="linenos"> 1489</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec1_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec1</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1490</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 1491</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 1492</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1493</span><span class="p">}</span>
<span class="linenos"> 1494</span>
<span class="linenos"> 1495</span><span class="c1">// --- algo.I32Dec1..Print</span>
<span class="linenos"> 1496</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 1497</span><span class="c1">// cfmt:algo.I32Dec1.String  printfmt:Raw</span>
<span class="linenos"> 1498</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec1_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec1</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1499</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 1500</span><span class="p">}</span>
<span class="linenos"> 1501</span>
<span class="linenos"> 1502</span><span class="c1">// --- algo.I32Dec2.value.SetDoubleMaybe</span>
<span class="linenos"> 1503</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos"> 1504</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos"> 1505</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1506</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="linenos"> 1507</span><span class="w">    </span><span class="n">i32</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32</span><span class="p">(</span><span class="mi">-2147483648LL</span><span class="p">);</span>
<span class="linenos"> 1508</span><span class="w">    </span><span class="n">i32</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32</span><span class="p">(</span><span class="mf">2147483647L</span><span class="n">L</span><span class="p">);</span>
<span class="linenos"> 1509</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos"> 1510</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos"> 1511</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1512</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos"> 1513</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos"> 1514</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1515</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1516</span><span class="p">}</span>
<span class="linenos"> 1517</span>
<span class="linenos"> 1518</span><span class="c1">// --- algo.I32Dec2.value.ReadStrptrMaybe</span>
<span class="linenos"> 1519</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1520</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 1521</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 1522</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos"> 1523</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1524</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 1525</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 1526</span><span class="w">    </span><span class="p">};</span>
<span class="linenos"> 1527</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos"> 1528</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 1529</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos"> 1530</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos"> 1531</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos"> 1532</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1533</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos"> 1534</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1535</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos"> 1536</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 1537</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1538</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 2&#39;th</span>
<span class="linenos"> 1539</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos"> 1540</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 1541</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 1542</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 1543</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 1544</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1545</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos"> 1546</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1547</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1548</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos"> 1549</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 1550</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 1551</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 1552</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 1553</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1554</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 1555</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">2147483647L</span><span class="n">L</span><span class="p">;</span><span class="w"> </span><span class="c1">// u-&gt;i coversion, check limits</span>
<span class="linenos"> 1556</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">neg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1557</span><span class="w">        </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">final_val</span><span class="p">;</span>
<span class="linenos"> 1558</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">-2147483648LL</span><span class="p">;</span>
<span class="linenos"> 1559</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1560</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1561</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos"> 1562</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1563</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos"> 1564</span><span class="p">}</span>
<span class="linenos"> 1565</span>
<span class="linenos"> 1566</span><span class="c1">// --- algo.I32Dec2.value.Print</span>
<span class="linenos"> 1567</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1568</span><span class="w">    </span><span class="n">i32</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 1569</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos"> 1570</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1571</span><span class="w">        </span><span class="n">ch_Alloc</span><span class="p">(</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 1572</span><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 1573</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1574</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos"> 1575</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 1576</span><span class="p">}</span>
<span class="linenos"> 1577</span>
<span class="linenos"> 1578</span><span class="c1">// --- algo.I32Dec2..ReadStrptrMaybe</span>
<span class="linenos"> 1579</span><span class="c1">// Read fields of algo::I32Dec2 from an ascii string.</span>
<span class="linenos"> 1580</span><span class="c1">// The format of the string is the format of the algo::I32Dec2&#39;s only field</span>
<span class="linenos"> 1581</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec2_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec2</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1582</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 1583</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 1584</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1585</span><span class="p">}</span>
<span class="linenos"> 1586</span>
<span class="linenos"> 1587</span><span class="c1">// --- algo.I32Dec2..Print</span>
<span class="linenos"> 1588</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 1589</span><span class="c1">// cfmt:algo.I32Dec2.String  printfmt:Raw</span>
<span class="linenos"> 1590</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec2_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec2</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1591</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 1592</span><span class="p">}</span>
<span class="linenos"> 1593</span>
<span class="linenos"> 1594</span><span class="c1">// --- algo.I32Dec3.value.SetDoubleMaybe</span>
<span class="linenos"> 1595</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos"> 1596</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos"> 1597</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1598</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span>
<span class="linenos"> 1599</span><span class="w">    </span><span class="n">i32</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32</span><span class="p">(</span><span class="mi">-2147483648LL</span><span class="p">);</span>
<span class="linenos"> 1600</span><span class="w">    </span><span class="n">i32</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32</span><span class="p">(</span><span class="mf">2147483647L</span><span class="n">L</span><span class="p">);</span>
<span class="linenos"> 1601</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos"> 1602</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos"> 1603</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1604</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos"> 1605</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos"> 1606</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1607</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1608</span><span class="p">}</span>
<span class="linenos"> 1609</span>
<span class="linenos"> 1610</span><span class="c1">// --- algo.I32Dec3.value.ReadStrptrMaybe</span>
<span class="linenos"> 1611</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1612</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 1613</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 1614</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos"> 1615</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1616</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 1617</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 1618</span><span class="w">    </span><span class="p">};</span>
<span class="linenos"> 1619</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos"> 1620</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 1621</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos"> 1622</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos"> 1623</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos"> 1624</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1625</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos"> 1626</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1627</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos"> 1628</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 1629</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1630</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 3&#39;th</span>
<span class="linenos"> 1631</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos"> 1632</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 1633</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 1634</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 1635</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 1636</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1637</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos"> 1638</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1639</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1640</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos"> 1641</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 1642</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 1643</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 1644</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 1645</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1646</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 1647</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">2147483647L</span><span class="n">L</span><span class="p">;</span><span class="w"> </span><span class="c1">// u-&gt;i coversion, check limits</span>
<span class="linenos"> 1648</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">neg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1649</span><span class="w">        </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">final_val</span><span class="p">;</span>
<span class="linenos"> 1650</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">-2147483648LL</span><span class="p">;</span>
<span class="linenos"> 1651</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1652</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1653</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos"> 1654</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1655</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos"> 1656</span><span class="p">}</span>
<span class="linenos"> 1657</span>
<span class="linenos"> 1658</span><span class="c1">// --- algo.I32Dec3.value.Print</span>
<span class="linenos"> 1659</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1660</span><span class="w">    </span><span class="n">i32</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 1661</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos"> 1662</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1663</span><span class="w">        </span><span class="n">ch_Alloc</span><span class="p">(</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 1664</span><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 1665</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1666</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos"> 1667</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 1668</span><span class="p">}</span>
<span class="linenos"> 1669</span>
<span class="linenos"> 1670</span><span class="c1">// --- algo.I32Dec3..ReadStrptrMaybe</span>
<span class="linenos"> 1671</span><span class="c1">// Read fields of algo::I32Dec3 from an ascii string.</span>
<span class="linenos"> 1672</span><span class="c1">// The format of the string is the format of the algo::I32Dec3&#39;s only field</span>
<span class="linenos"> 1673</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec3_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec3</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1674</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 1675</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 1676</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1677</span><span class="p">}</span>
<span class="linenos"> 1678</span>
<span class="linenos"> 1679</span><span class="c1">// --- algo.I32Dec3..Print</span>
<span class="linenos"> 1680</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 1681</span><span class="c1">// cfmt:algo.I32Dec3.String  printfmt:Raw</span>
<span class="linenos"> 1682</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec3_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec3</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1683</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 1684</span><span class="p">}</span>
<span class="linenos"> 1685</span>
<span class="linenos"> 1686</span><span class="c1">// --- algo.I32Dec4.value.SetDoubleMaybe</span>
<span class="linenos"> 1687</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos"> 1688</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos"> 1689</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1690</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10000</span><span class="p">;</span>
<span class="linenos"> 1691</span><span class="w">    </span><span class="n">i32</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32</span><span class="p">(</span><span class="mi">-2147483648LL</span><span class="p">);</span>
<span class="linenos"> 1692</span><span class="w">    </span><span class="n">i32</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32</span><span class="p">(</span><span class="mf">2147483647L</span><span class="n">L</span><span class="p">);</span>
<span class="linenos"> 1693</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos"> 1694</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos"> 1695</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1696</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos"> 1697</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos"> 1698</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1699</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1700</span><span class="p">}</span>
<span class="linenos"> 1701</span>
<span class="linenos"> 1702</span><span class="c1">// --- algo.I32Dec4.value.ReadStrptrMaybe</span>
<span class="linenos"> 1703</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1704</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 1705</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 1706</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos"> 1707</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1708</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 1709</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 1710</span><span class="w">    </span><span class="p">};</span>
<span class="linenos"> 1711</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos"> 1712</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 1713</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos"> 1714</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos"> 1715</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos"> 1716</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1717</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos"> 1718</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1719</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos"> 1720</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 1721</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1722</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 4&#39;th</span>
<span class="linenos"> 1723</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos"> 1724</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 1725</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 1726</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 1727</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 1728</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1729</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos"> 1730</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1731</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1732</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos"> 1733</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 1734</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 1735</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 1736</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 1737</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1738</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 1739</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">2147483647L</span><span class="n">L</span><span class="p">;</span><span class="w"> </span><span class="c1">// u-&gt;i coversion, check limits</span>
<span class="linenos"> 1740</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">neg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1741</span><span class="w">        </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">final_val</span><span class="p">;</span>
<span class="linenos"> 1742</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">-2147483648LL</span><span class="p">;</span>
<span class="linenos"> 1743</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1744</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1745</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos"> 1746</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1747</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos"> 1748</span><span class="p">}</span>
<span class="linenos"> 1749</span>
<span class="linenos"> 1750</span><span class="c1">// --- algo.I32Dec4.value.Print</span>
<span class="linenos"> 1751</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1752</span><span class="w">    </span><span class="n">i32</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 1753</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos"> 1754</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1755</span><span class="w">        </span><span class="n">ch_Alloc</span><span class="p">(</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 1756</span><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 1757</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1758</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos"> 1759</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 1760</span><span class="p">}</span>
<span class="linenos"> 1761</span>
<span class="linenos"> 1762</span><span class="c1">// --- algo.I32Dec4..ReadStrptrMaybe</span>
<span class="linenos"> 1763</span><span class="c1">// Read fields of algo::I32Dec4 from an ascii string.</span>
<span class="linenos"> 1764</span><span class="c1">// The format of the string is the format of the algo::I32Dec4&#39;s only field</span>
<span class="linenos"> 1765</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec4_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec4</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1766</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 1767</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 1768</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1769</span><span class="p">}</span>
<span class="linenos"> 1770</span>
<span class="linenos"> 1771</span><span class="c1">// --- algo.I32Dec4..Print</span>
<span class="linenos"> 1772</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 1773</span><span class="c1">// cfmt:algo.I32Dec4.String  printfmt:Raw</span>
<span class="linenos"> 1774</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec4_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec4</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1775</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 1776</span><span class="p">}</span>
<span class="linenos"> 1777</span>
<span class="linenos"> 1778</span><span class="c1">// --- algo.I32Dec5.value.SetDoubleMaybe</span>
<span class="linenos"> 1779</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos"> 1780</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos"> 1781</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1782</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100000</span><span class="p">;</span>
<span class="linenos"> 1783</span><span class="w">    </span><span class="n">i32</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32</span><span class="p">(</span><span class="mi">-2147483648LL</span><span class="p">);</span>
<span class="linenos"> 1784</span><span class="w">    </span><span class="n">i32</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32</span><span class="p">(</span><span class="mf">2147483647L</span><span class="n">L</span><span class="p">);</span>
<span class="linenos"> 1785</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos"> 1786</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos"> 1787</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1788</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos"> 1789</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos"> 1790</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1791</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1792</span><span class="p">}</span>
<span class="linenos"> 1793</span>
<span class="linenos"> 1794</span><span class="c1">// --- algo.I32Dec5.value.ReadStrptrMaybe</span>
<span class="linenos"> 1795</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1796</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 1797</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 1798</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos"> 1799</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1800</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 1801</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 1802</span><span class="w">    </span><span class="p">};</span>
<span class="linenos"> 1803</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos"> 1804</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 1805</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos"> 1806</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos"> 1807</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos"> 1808</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1809</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos"> 1810</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1811</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos"> 1812</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 1813</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1814</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 5&#39;th</span>
<span class="linenos"> 1815</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos"> 1816</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 1817</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 1818</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 1819</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 1820</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1821</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos"> 1822</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1823</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1824</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos"> 1825</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 1826</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 1827</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 1828</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 1829</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1830</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 1831</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">2147483647L</span><span class="n">L</span><span class="p">;</span><span class="w"> </span><span class="c1">// u-&gt;i coversion, check limits</span>
<span class="linenos"> 1832</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">neg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1833</span><span class="w">        </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">final_val</span><span class="p">;</span>
<span class="linenos"> 1834</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">-2147483648LL</span><span class="p">;</span>
<span class="linenos"> 1835</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1836</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1837</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos"> 1838</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1839</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos"> 1840</span><span class="p">}</span>
<span class="linenos"> 1841</span>
<span class="linenos"> 1842</span><span class="c1">// --- algo.I32Dec5.value.Print</span>
<span class="linenos"> 1843</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1844</span><span class="w">    </span><span class="n">i32</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 1845</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos"> 1846</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1847</span><span class="w">        </span><span class="n">ch_Alloc</span><span class="p">(</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 1848</span><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 1849</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1850</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos"> 1851</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 1852</span><span class="p">}</span>
<span class="linenos"> 1853</span>
<span class="linenos"> 1854</span><span class="c1">// --- algo.I32Dec5..ReadStrptrMaybe</span>
<span class="linenos"> 1855</span><span class="c1">// Read fields of algo::I32Dec5 from an ascii string.</span>
<span class="linenos"> 1856</span><span class="c1">// The format of the string is the format of the algo::I32Dec5&#39;s only field</span>
<span class="linenos"> 1857</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec5_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec5</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1858</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 1859</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 1860</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1861</span><span class="p">}</span>
<span class="linenos"> 1862</span>
<span class="linenos"> 1863</span><span class="c1">// --- algo.I32Dec5..Print</span>
<span class="linenos"> 1864</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 1865</span><span class="c1">// cfmt:algo.I32Dec5.String  printfmt:Raw</span>
<span class="linenos"> 1866</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec5_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I32Dec5</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1867</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 1868</span><span class="p">}</span>
<span class="linenos"> 1869</span>
<span class="linenos"> 1870</span><span class="c1">// --- algo.I64Dec1.value.SetDoubleMaybe</span>
<span class="linenos"> 1871</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos"> 1872</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos"> 1873</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec1</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1874</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 1875</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mi">-9223372036854775807LL</span><span class="p">);</span>
<span class="linenos"> 1876</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mf">9223372036854775807L</span><span class="n">L</span><span class="p">);</span>
<span class="linenos"> 1877</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos"> 1878</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos"> 1879</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1880</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos"> 1881</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos"> 1882</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1883</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1884</span><span class="p">}</span>
<span class="linenos"> 1885</span>
<span class="linenos"> 1886</span><span class="c1">// --- algo.I64Dec1.value.ReadStrptrMaybe</span>
<span class="linenos"> 1887</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec1</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1888</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 1889</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 1890</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos"> 1891</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1892</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 1893</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 1894</span><span class="w">    </span><span class="p">};</span>
<span class="linenos"> 1895</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos"> 1896</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 1897</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos"> 1898</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos"> 1899</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos"> 1900</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1901</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos"> 1902</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1903</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos"> 1904</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 1905</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1906</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 1&#39;th</span>
<span class="linenos"> 1907</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos"> 1908</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 1909</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 1910</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 1911</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 1912</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1913</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos"> 1914</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 1915</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1916</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos"> 1917</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 1918</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 1919</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 1920</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 1921</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1922</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 1923</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">9223372036854775807L</span><span class="n">L</span><span class="p">;</span><span class="w"> </span><span class="c1">// u-&gt;i coversion, check limits</span>
<span class="linenos"> 1924</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">neg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1925</span><span class="w">        </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">final_val</span><span class="p">;</span>
<span class="linenos"> 1926</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">-9223372036854775807LL</span><span class="p">;</span>
<span class="linenos"> 1927</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1928</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1929</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos"> 1930</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1931</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos"> 1932</span><span class="p">}</span>
<span class="linenos"> 1933</span>
<span class="linenos"> 1934</span><span class="c1">// --- algo.I64Dec1.value.Print</span>
<span class="linenos"> 1935</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec1</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1936</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 1937</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos"> 1938</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1939</span><span class="w">        </span><span class="n">ch_Alloc</span><span class="p">(</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 1940</span><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 1941</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1942</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos"> 1943</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 1944</span><span class="p">}</span>
<span class="linenos"> 1945</span>
<span class="linenos"> 1946</span><span class="c1">// --- algo.I64Dec1..ReadStrptrMaybe</span>
<span class="linenos"> 1947</span><span class="c1">// Read fields of algo::I64Dec1 from an ascii string.</span>
<span class="linenos"> 1948</span><span class="c1">// The format of the string is the format of the algo::I64Dec1&#39;s only field</span>
<span class="linenos"> 1949</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec1_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec1</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1950</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 1951</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 1952</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1953</span><span class="p">}</span>
<span class="linenos"> 1954</span>
<span class="linenos"> 1955</span><span class="c1">// --- algo.I64Dec1..Print</span>
<span class="linenos"> 1956</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 1957</span><span class="c1">// cfmt:algo.I64Dec1.String  printfmt:Raw</span>
<span class="linenos"> 1958</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec1_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec1</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1959</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 1960</span><span class="p">}</span>
<span class="linenos"> 1961</span>
<span class="linenos"> 1962</span><span class="c1">// --- algo.I64Dec10.value.SetDoubleMaybe</span>
<span class="linenos"> 1963</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos"> 1964</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos"> 1965</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec10</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1966</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10000000000</span><span class="p">;</span>
<span class="linenos"> 1967</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mi">-9223372036854775807LL</span><span class="p">);</span>
<span class="linenos"> 1968</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mf">9223372036854775807L</span><span class="n">L</span><span class="p">);</span>
<span class="linenos"> 1969</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos"> 1970</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos"> 1971</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1972</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos"> 1973</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos"> 1974</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 1975</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 1976</span><span class="p">}</span>
<span class="linenos"> 1977</span>
<span class="linenos"> 1978</span><span class="c1">// --- algo.I64Dec10.value.ReadStrptrMaybe</span>
<span class="linenos"> 1979</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec10</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1980</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 1981</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 1982</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos"> 1983</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1984</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 1985</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 1986</span><span class="w">    </span><span class="p">};</span>
<span class="linenos"> 1987</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos"> 1988</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 1989</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos"> 1990</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos"> 1991</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos"> 1992</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1993</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos"> 1994</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1995</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos"> 1996</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 1997</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 1998</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 10&#39;th</span>
<span class="linenos"> 1999</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos"> 2000</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2001</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 2002</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2003</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 2004</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2005</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos"> 2006</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 2007</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2008</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos"> 2009</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 2010</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2011</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 2012</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2013</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2014</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2015</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">9223372036854775807L</span><span class="n">L</span><span class="p">;</span><span class="w"> </span><span class="c1">// u-&gt;i coversion, check limits</span>
<span class="linenos"> 2016</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">neg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2017</span><span class="w">        </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">final_val</span><span class="p">;</span>
<span class="linenos"> 2018</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">-9223372036854775807LL</span><span class="p">;</span>
<span class="linenos"> 2019</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2020</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2021</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos"> 2022</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2023</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos"> 2024</span><span class="p">}</span>
<span class="linenos"> 2025</span>
<span class="linenos"> 2026</span><span class="c1">// --- algo.I64Dec10.value.Print</span>
<span class="linenos"> 2027</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec10</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2028</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 2029</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos"> 2030</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2031</span><span class="w">        </span><span class="n">ch_Alloc</span><span class="p">(</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 2032</span><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 2033</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2034</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos"> 2035</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 2036</span><span class="p">}</span>
<span class="linenos"> 2037</span>
<span class="linenos"> 2038</span><span class="c1">// --- algo.I64Dec10..ReadStrptrMaybe</span>
<span class="linenos"> 2039</span><span class="c1">// Read fields of algo::I64Dec10 from an ascii string.</span>
<span class="linenos"> 2040</span><span class="c1">// The format of the string is the format of the algo::I64Dec10&#39;s only field</span>
<span class="linenos"> 2041</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec10_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec10</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2042</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 2043</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 2044</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2045</span><span class="p">}</span>
<span class="linenos"> 2046</span>
<span class="linenos"> 2047</span><span class="c1">// --- algo.I64Dec10..Print</span>
<span class="linenos"> 2048</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 2049</span><span class="c1">// cfmt:algo.I64Dec10.String  printfmt:Raw</span>
<span class="linenos"> 2050</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec10_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec10</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2051</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 2052</span><span class="p">}</span>
<span class="linenos"> 2053</span>
<span class="linenos"> 2054</span><span class="c1">// --- algo.I64Dec2.value.SetDoubleMaybe</span>
<span class="linenos"> 2055</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos"> 2056</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos"> 2057</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2058</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="linenos"> 2059</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mi">-9223372036854775807LL</span><span class="p">);</span>
<span class="linenos"> 2060</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mf">9223372036854775807L</span><span class="n">L</span><span class="p">);</span>
<span class="linenos"> 2061</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos"> 2062</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos"> 2063</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2064</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos"> 2065</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos"> 2066</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2067</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2068</span><span class="p">}</span>
<span class="linenos"> 2069</span>
<span class="linenos"> 2070</span><span class="c1">// --- algo.I64Dec2.value.ReadStrptrMaybe</span>
<span class="linenos"> 2071</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2072</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2073</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 2074</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos"> 2075</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2076</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 2077</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2078</span><span class="w">    </span><span class="p">};</span>
<span class="linenos"> 2079</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos"> 2080</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2081</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos"> 2082</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos"> 2083</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos"> 2084</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2085</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos"> 2086</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2087</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos"> 2088</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2089</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2090</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 2&#39;th</span>
<span class="linenos"> 2091</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos"> 2092</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2093</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 2094</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2095</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 2096</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2097</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos"> 2098</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 2099</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2100</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos"> 2101</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 2102</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2103</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 2104</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2105</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2106</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2107</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">9223372036854775807L</span><span class="n">L</span><span class="p">;</span><span class="w"> </span><span class="c1">// u-&gt;i coversion, check limits</span>
<span class="linenos"> 2108</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">neg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2109</span><span class="w">        </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">final_val</span><span class="p">;</span>
<span class="linenos"> 2110</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">-9223372036854775807LL</span><span class="p">;</span>
<span class="linenos"> 2111</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2112</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2113</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos"> 2114</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2115</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos"> 2116</span><span class="p">}</span>
<span class="linenos"> 2117</span>
<span class="linenos"> 2118</span><span class="c1">// --- algo.I64Dec2.value.Print</span>
<span class="linenos"> 2119</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2120</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 2121</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos"> 2122</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2123</span><span class="w">        </span><span class="n">ch_Alloc</span><span class="p">(</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 2124</span><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 2125</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2126</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos"> 2127</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 2128</span><span class="p">}</span>
<span class="linenos"> 2129</span>
<span class="linenos"> 2130</span><span class="c1">// --- algo.I64Dec2..ReadStrptrMaybe</span>
<span class="linenos"> 2131</span><span class="c1">// Read fields of algo::I64Dec2 from an ascii string.</span>
<span class="linenos"> 2132</span><span class="c1">// The format of the string is the format of the algo::I64Dec2&#39;s only field</span>
<span class="linenos"> 2133</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec2_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec2</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2134</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 2135</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 2136</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2137</span><span class="p">}</span>
<span class="linenos"> 2138</span>
<span class="linenos"> 2139</span><span class="c1">// --- algo.I64Dec2..Print</span>
<span class="linenos"> 2140</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 2141</span><span class="c1">// cfmt:algo.I64Dec2.String  printfmt:Raw</span>
<span class="linenos"> 2142</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec2_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec2</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2143</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 2144</span><span class="p">}</span>
<span class="linenos"> 2145</span>
<span class="linenos"> 2146</span><span class="c1">// --- algo.I64Dec3.value.SetDoubleMaybe</span>
<span class="linenos"> 2147</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos"> 2148</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos"> 2149</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2150</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span>
<span class="linenos"> 2151</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mi">-9223372036854775807LL</span><span class="p">);</span>
<span class="linenos"> 2152</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mf">9223372036854775807L</span><span class="n">L</span><span class="p">);</span>
<span class="linenos"> 2153</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos"> 2154</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos"> 2155</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2156</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos"> 2157</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos"> 2158</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2159</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2160</span><span class="p">}</span>
<span class="linenos"> 2161</span>
<span class="linenos"> 2162</span><span class="c1">// --- algo.I64Dec3.value.ReadStrptrMaybe</span>
<span class="linenos"> 2163</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2164</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2165</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 2166</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos"> 2167</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2168</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 2169</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2170</span><span class="w">    </span><span class="p">};</span>
<span class="linenos"> 2171</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos"> 2172</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2173</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos"> 2174</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos"> 2175</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos"> 2176</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2177</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos"> 2178</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2179</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos"> 2180</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2181</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2182</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 3&#39;th</span>
<span class="linenos"> 2183</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos"> 2184</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2185</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 2186</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2187</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 2188</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2189</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos"> 2190</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 2191</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2192</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos"> 2193</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 2194</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2195</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 2196</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2197</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2198</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2199</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">9223372036854775807L</span><span class="n">L</span><span class="p">;</span><span class="w"> </span><span class="c1">// u-&gt;i coversion, check limits</span>
<span class="linenos"> 2200</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">neg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2201</span><span class="w">        </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">final_val</span><span class="p">;</span>
<span class="linenos"> 2202</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">-9223372036854775807LL</span><span class="p">;</span>
<span class="linenos"> 2203</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2204</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2205</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos"> 2206</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2207</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos"> 2208</span><span class="p">}</span>
<span class="linenos"> 2209</span>
<span class="linenos"> 2210</span><span class="c1">// --- algo.I64Dec3.value.Print</span>
<span class="linenos"> 2211</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2212</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 2213</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos"> 2214</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2215</span><span class="w">        </span><span class="n">ch_Alloc</span><span class="p">(</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 2216</span><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 2217</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2218</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos"> 2219</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 2220</span><span class="p">}</span>
<span class="linenos"> 2221</span>
<span class="linenos"> 2222</span><span class="c1">// --- algo.I64Dec3..ReadStrptrMaybe</span>
<span class="linenos"> 2223</span><span class="c1">// Read fields of algo::I64Dec3 from an ascii string.</span>
<span class="linenos"> 2224</span><span class="c1">// The format of the string is the format of the algo::I64Dec3&#39;s only field</span>
<span class="linenos"> 2225</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec3_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec3</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2226</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 2227</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 2228</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2229</span><span class="p">}</span>
<span class="linenos"> 2230</span>
<span class="linenos"> 2231</span><span class="c1">// --- algo.I64Dec3..Print</span>
<span class="linenos"> 2232</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 2233</span><span class="c1">// cfmt:algo.I64Dec3.String  printfmt:Raw</span>
<span class="linenos"> 2234</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec3_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec3</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2235</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 2236</span><span class="p">}</span>
<span class="linenos"> 2237</span>
<span class="linenos"> 2238</span><span class="c1">// --- algo.I64Dec4.value.SetDoubleMaybe</span>
<span class="linenos"> 2239</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos"> 2240</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos"> 2241</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2242</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10000</span><span class="p">;</span>
<span class="linenos"> 2243</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mi">-9223372036854775807LL</span><span class="p">);</span>
<span class="linenos"> 2244</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mf">9223372036854775807L</span><span class="n">L</span><span class="p">);</span>
<span class="linenos"> 2245</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos"> 2246</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos"> 2247</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2248</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos"> 2249</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos"> 2250</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2251</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2252</span><span class="p">}</span>
<span class="linenos"> 2253</span>
<span class="linenos"> 2254</span><span class="c1">// --- algo.I64Dec4.value.ReadStrptrMaybe</span>
<span class="linenos"> 2255</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2256</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2257</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 2258</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos"> 2259</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2260</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 2261</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2262</span><span class="w">    </span><span class="p">};</span>
<span class="linenos"> 2263</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos"> 2264</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2265</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos"> 2266</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos"> 2267</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos"> 2268</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2269</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos"> 2270</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2271</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos"> 2272</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2273</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2274</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 4&#39;th</span>
<span class="linenos"> 2275</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos"> 2276</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2277</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 2278</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2279</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 2280</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2281</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos"> 2282</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 2283</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2284</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos"> 2285</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 2286</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2287</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 2288</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2289</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2290</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2291</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">9223372036854775807L</span><span class="n">L</span><span class="p">;</span><span class="w"> </span><span class="c1">// u-&gt;i coversion, check limits</span>
<span class="linenos"> 2292</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">neg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2293</span><span class="w">        </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">final_val</span><span class="p">;</span>
<span class="linenos"> 2294</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">-9223372036854775807LL</span><span class="p">;</span>
<span class="linenos"> 2295</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2296</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2297</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos"> 2298</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2299</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos"> 2300</span><span class="p">}</span>
<span class="linenos"> 2301</span>
<span class="linenos"> 2302</span><span class="c1">// --- algo.I64Dec4.value.Print</span>
<span class="linenos"> 2303</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2304</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 2305</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos"> 2306</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2307</span><span class="w">        </span><span class="n">ch_Alloc</span><span class="p">(</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 2308</span><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 2309</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2310</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos"> 2311</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 2312</span><span class="p">}</span>
<span class="linenos"> 2313</span>
<span class="linenos"> 2314</span><span class="c1">// --- algo.I64Dec4..ReadStrptrMaybe</span>
<span class="linenos"> 2315</span><span class="c1">// Read fields of algo::I64Dec4 from an ascii string.</span>
<span class="linenos"> 2316</span><span class="c1">// The format of the string is the format of the algo::I64Dec4&#39;s only field</span>
<span class="linenos"> 2317</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec4_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec4</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2318</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 2319</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 2320</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2321</span><span class="p">}</span>
<span class="linenos"> 2322</span>
<span class="linenos"> 2323</span><span class="c1">// --- algo.I64Dec4..Print</span>
<span class="linenos"> 2324</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 2325</span><span class="c1">// cfmt:algo.I64Dec4.String  printfmt:Raw</span>
<span class="linenos"> 2326</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec4_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec4</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2327</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 2328</span><span class="p">}</span>
<span class="linenos"> 2329</span>
<span class="linenos"> 2330</span><span class="c1">// --- algo.I64Dec5.value.SetDoubleMaybe</span>
<span class="linenos"> 2331</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos"> 2332</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos"> 2333</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2334</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100000</span><span class="p">;</span>
<span class="linenos"> 2335</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mi">-9223372036854775807LL</span><span class="p">);</span>
<span class="linenos"> 2336</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mf">9223372036854775807L</span><span class="n">L</span><span class="p">);</span>
<span class="linenos"> 2337</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos"> 2338</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos"> 2339</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2340</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos"> 2341</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos"> 2342</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2343</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2344</span><span class="p">}</span>
<span class="linenos"> 2345</span>
<span class="linenos"> 2346</span><span class="c1">// --- algo.I64Dec5.value.ReadStrptrMaybe</span>
<span class="linenos"> 2347</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2348</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2349</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 2350</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos"> 2351</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2352</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 2353</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2354</span><span class="w">    </span><span class="p">};</span>
<span class="linenos"> 2355</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos"> 2356</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2357</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos"> 2358</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos"> 2359</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos"> 2360</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2361</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos"> 2362</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2363</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos"> 2364</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2365</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2366</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 5&#39;th</span>
<span class="linenos"> 2367</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos"> 2368</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2369</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 2370</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2371</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 2372</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2373</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos"> 2374</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 2375</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2376</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos"> 2377</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 2378</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2379</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 2380</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2381</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2382</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2383</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">9223372036854775807L</span><span class="n">L</span><span class="p">;</span><span class="w"> </span><span class="c1">// u-&gt;i coversion, check limits</span>
<span class="linenos"> 2384</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">neg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2385</span><span class="w">        </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">final_val</span><span class="p">;</span>
<span class="linenos"> 2386</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">-9223372036854775807LL</span><span class="p">;</span>
<span class="linenos"> 2387</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2388</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2389</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos"> 2390</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2391</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos"> 2392</span><span class="p">}</span>
<span class="linenos"> 2393</span>
<span class="linenos"> 2394</span><span class="c1">// --- algo.I64Dec5.value.Print</span>
<span class="linenos"> 2395</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2396</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 2397</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos"> 2398</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2399</span><span class="w">        </span><span class="n">ch_Alloc</span><span class="p">(</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 2400</span><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 2401</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2402</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos"> 2403</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 2404</span><span class="p">}</span>
<span class="linenos"> 2405</span>
<span class="linenos"> 2406</span><span class="c1">// --- algo.I64Dec5..ReadStrptrMaybe</span>
<span class="linenos"> 2407</span><span class="c1">// Read fields of algo::I64Dec5 from an ascii string.</span>
<span class="linenos"> 2408</span><span class="c1">// The format of the string is the format of the algo::I64Dec5&#39;s only field</span>
<span class="linenos"> 2409</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec5_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec5</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2410</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 2411</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 2412</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2413</span><span class="p">}</span>
<span class="linenos"> 2414</span>
<span class="linenos"> 2415</span><span class="c1">// --- algo.I64Dec5..Print</span>
<span class="linenos"> 2416</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 2417</span><span class="c1">// cfmt:algo.I64Dec5.String  printfmt:Raw</span>
<span class="linenos"> 2418</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec5_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec5</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2419</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 2420</span><span class="p">}</span>
<span class="linenos"> 2421</span>
<span class="linenos"> 2422</span><span class="c1">// --- algo.I64Dec6.value.SetDoubleMaybe</span>
<span class="linenos"> 2423</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos"> 2424</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos"> 2425</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec6</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2426</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1000000</span><span class="p">;</span>
<span class="linenos"> 2427</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mi">-9223372036854775807LL</span><span class="p">);</span>
<span class="linenos"> 2428</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mf">9223372036854775807L</span><span class="n">L</span><span class="p">);</span>
<span class="linenos"> 2429</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos"> 2430</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos"> 2431</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2432</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos"> 2433</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos"> 2434</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2435</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2436</span><span class="p">}</span>
<span class="linenos"> 2437</span>
<span class="linenos"> 2438</span><span class="c1">// --- algo.I64Dec6.value.ReadStrptrMaybe</span>
<span class="linenos"> 2439</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec6</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2440</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2441</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 2442</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos"> 2443</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2444</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 2445</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2446</span><span class="w">    </span><span class="p">};</span>
<span class="linenos"> 2447</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos"> 2448</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2449</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos"> 2450</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos"> 2451</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos"> 2452</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2453</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos"> 2454</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2455</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos"> 2456</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2457</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2458</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 6&#39;th</span>
<span class="linenos"> 2459</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos"> 2460</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2461</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 2462</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2463</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 2464</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2465</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos"> 2466</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 2467</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2468</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos"> 2469</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 2470</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2471</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 2472</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2473</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2474</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2475</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">9223372036854775807L</span><span class="n">L</span><span class="p">;</span><span class="w"> </span><span class="c1">// u-&gt;i coversion, check limits</span>
<span class="linenos"> 2476</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">neg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2477</span><span class="w">        </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">final_val</span><span class="p">;</span>
<span class="linenos"> 2478</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">-9223372036854775807LL</span><span class="p">;</span>
<span class="linenos"> 2479</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2480</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2481</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos"> 2482</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2483</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos"> 2484</span><span class="p">}</span>
<span class="linenos"> 2485</span>
<span class="linenos"> 2486</span><span class="c1">// --- algo.I64Dec6.value.Print</span>
<span class="linenos"> 2487</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec6</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2488</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 2489</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos"> 2490</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2491</span><span class="w">        </span><span class="n">ch_Alloc</span><span class="p">(</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 2492</span><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 2493</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2494</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos"> 2495</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 2496</span><span class="p">}</span>
<span class="linenos"> 2497</span>
<span class="linenos"> 2498</span><span class="c1">// --- algo.I64Dec6..ReadStrptrMaybe</span>
<span class="linenos"> 2499</span><span class="c1">// Read fields of algo::I64Dec6 from an ascii string.</span>
<span class="linenos"> 2500</span><span class="c1">// The format of the string is the format of the algo::I64Dec6&#39;s only field</span>
<span class="linenos"> 2501</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec6_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec6</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2502</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 2503</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 2504</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2505</span><span class="p">}</span>
<span class="linenos"> 2506</span>
<span class="linenos"> 2507</span><span class="c1">// --- algo.I64Dec6..Print</span>
<span class="linenos"> 2508</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 2509</span><span class="c1">// cfmt:algo.I64Dec6.String  printfmt:Raw</span>
<span class="linenos"> 2510</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec6_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec6</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2511</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 2512</span><span class="p">}</span>
<span class="linenos"> 2513</span>
<span class="linenos"> 2514</span><span class="c1">// --- algo.I64Dec7.value.SetDoubleMaybe</span>
<span class="linenos"> 2515</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos"> 2516</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos"> 2517</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec7</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2518</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10000000</span><span class="p">;</span>
<span class="linenos"> 2519</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mi">-9223372036854775807LL</span><span class="p">);</span>
<span class="linenos"> 2520</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mf">9223372036854775807L</span><span class="n">L</span><span class="p">);</span>
<span class="linenos"> 2521</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos"> 2522</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos"> 2523</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2524</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos"> 2525</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos"> 2526</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2527</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2528</span><span class="p">}</span>
<span class="linenos"> 2529</span>
<span class="linenos"> 2530</span><span class="c1">// --- algo.I64Dec7.value.ReadStrptrMaybe</span>
<span class="linenos"> 2531</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec7</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2532</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2533</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 2534</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos"> 2535</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2536</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 2537</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2538</span><span class="w">    </span><span class="p">};</span>
<span class="linenos"> 2539</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos"> 2540</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2541</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos"> 2542</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos"> 2543</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos"> 2544</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2545</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos"> 2546</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2547</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos"> 2548</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2549</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2550</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 7&#39;th</span>
<span class="linenos"> 2551</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos"> 2552</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2553</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 2554</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2555</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 2556</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2557</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos"> 2558</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 2559</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2560</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos"> 2561</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 2562</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2563</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 2564</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2565</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2566</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2567</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">9223372036854775807L</span><span class="n">L</span><span class="p">;</span><span class="w"> </span><span class="c1">// u-&gt;i coversion, check limits</span>
<span class="linenos"> 2568</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">neg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2569</span><span class="w">        </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">final_val</span><span class="p">;</span>
<span class="linenos"> 2570</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">-9223372036854775807LL</span><span class="p">;</span>
<span class="linenos"> 2571</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2572</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2573</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos"> 2574</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2575</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos"> 2576</span><span class="p">}</span>
<span class="linenos"> 2577</span>
<span class="linenos"> 2578</span><span class="c1">// --- algo.I64Dec7.value.Print</span>
<span class="linenos"> 2579</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec7</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2580</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 2581</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos"> 2582</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2583</span><span class="w">        </span><span class="n">ch_Alloc</span><span class="p">(</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 2584</span><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 2585</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2586</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos"> 2587</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 2588</span><span class="p">}</span>
<span class="linenos"> 2589</span>
<span class="linenos"> 2590</span><span class="c1">// --- algo.I64Dec7..ReadStrptrMaybe</span>
<span class="linenos"> 2591</span><span class="c1">// Read fields of algo::I64Dec7 from an ascii string.</span>
<span class="linenos"> 2592</span><span class="c1">// The format of the string is the format of the algo::I64Dec7&#39;s only field</span>
<span class="linenos"> 2593</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec7_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec7</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2594</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 2595</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 2596</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2597</span><span class="p">}</span>
<span class="linenos"> 2598</span>
<span class="linenos"> 2599</span><span class="c1">// --- algo.I64Dec7..Print</span>
<span class="linenos"> 2600</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 2601</span><span class="c1">// cfmt:algo.I64Dec7.String  printfmt:Raw</span>
<span class="linenos"> 2602</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec7_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec7</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2603</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 2604</span><span class="p">}</span>
<span class="linenos"> 2605</span>
<span class="linenos"> 2606</span><span class="c1">// --- algo.I64Dec8.value.SetDoubleMaybe</span>
<span class="linenos"> 2607</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos"> 2608</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos"> 2609</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec8</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2610</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100000000</span><span class="p">;</span>
<span class="linenos"> 2611</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mi">-9223372036854775807LL</span><span class="p">);</span>
<span class="linenos"> 2612</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mf">9223372036854775807L</span><span class="n">L</span><span class="p">);</span>
<span class="linenos"> 2613</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos"> 2614</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos"> 2615</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2616</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos"> 2617</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos"> 2618</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2619</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2620</span><span class="p">}</span>
<span class="linenos"> 2621</span>
<span class="linenos"> 2622</span><span class="c1">// --- algo.I64Dec8.value.ReadStrptrMaybe</span>
<span class="linenos"> 2623</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec8</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2624</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2625</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 2626</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos"> 2627</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2628</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 2629</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2630</span><span class="w">    </span><span class="p">};</span>
<span class="linenos"> 2631</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos"> 2632</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2633</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos"> 2634</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos"> 2635</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos"> 2636</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2637</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos"> 2638</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2639</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos"> 2640</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2641</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2642</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 8&#39;th</span>
<span class="linenos"> 2643</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos"> 2644</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2645</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 2646</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2647</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 2648</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2649</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos"> 2650</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 2651</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2652</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos"> 2653</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 2654</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2655</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 2656</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2657</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2658</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2659</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">9223372036854775807L</span><span class="n">L</span><span class="p">;</span><span class="w"> </span><span class="c1">// u-&gt;i coversion, check limits</span>
<span class="linenos"> 2660</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">neg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2661</span><span class="w">        </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">final_val</span><span class="p">;</span>
<span class="linenos"> 2662</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">-9223372036854775807LL</span><span class="p">;</span>
<span class="linenos"> 2663</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2664</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2665</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos"> 2666</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2667</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos"> 2668</span><span class="p">}</span>
<span class="linenos"> 2669</span>
<span class="linenos"> 2670</span><span class="c1">// --- algo.I64Dec8.value.Print</span>
<span class="linenos"> 2671</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec8</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2672</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 2673</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos"> 2674</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2675</span><span class="w">        </span><span class="n">ch_Alloc</span><span class="p">(</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 2676</span><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 2677</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2678</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos"> 2679</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 2680</span><span class="p">}</span>
<span class="linenos"> 2681</span>
<span class="linenos"> 2682</span><span class="c1">// --- algo.I64Dec8..ReadStrptrMaybe</span>
<span class="linenos"> 2683</span><span class="c1">// Read fields of algo::I64Dec8 from an ascii string.</span>
<span class="linenos"> 2684</span><span class="c1">// The format of the string is the format of the algo::I64Dec8&#39;s only field</span>
<span class="linenos"> 2685</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec8_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec8</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2686</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 2687</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 2688</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2689</span><span class="p">}</span>
<span class="linenos"> 2690</span>
<span class="linenos"> 2691</span><span class="c1">// --- algo.I64Dec8..Print</span>
<span class="linenos"> 2692</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 2693</span><span class="c1">// cfmt:algo.I64Dec8.String  printfmt:Raw</span>
<span class="linenos"> 2694</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec8_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec8</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2695</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 2696</span><span class="p">}</span>
<span class="linenos"> 2697</span>
<span class="linenos"> 2698</span><span class="c1">// --- algo.I64Dec9.value.SetDoubleMaybe</span>
<span class="linenos"> 2699</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos"> 2700</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos"> 2701</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec9</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2702</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1000000000</span><span class="p">;</span>
<span class="linenos"> 2703</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mi">-9223372036854775807LL</span><span class="p">);</span>
<span class="linenos"> 2704</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mf">9223372036854775807L</span><span class="n">L</span><span class="p">);</span>
<span class="linenos"> 2705</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos"> 2706</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos"> 2707</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2708</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos"> 2709</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos"> 2710</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2711</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2712</span><span class="p">}</span>
<span class="linenos"> 2713</span>
<span class="linenos"> 2714</span><span class="c1">// --- algo.I64Dec9.value.ReadStrptrMaybe</span>
<span class="linenos"> 2715</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec9</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2716</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2717</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 2718</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos"> 2719</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2720</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 2721</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2722</span><span class="w">    </span><span class="p">};</span>
<span class="linenos"> 2723</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos"> 2724</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2725</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos"> 2726</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos"> 2727</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos"> 2728</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2729</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos"> 2730</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2731</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos"> 2732</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2733</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2734</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 9&#39;th</span>
<span class="linenos"> 2735</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos"> 2736</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2737</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 2738</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 2739</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 2740</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2741</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos"> 2742</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 2743</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2744</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos"> 2745</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 2746</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2747</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos"> 2748</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 2749</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2750</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 2751</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">9223372036854775807L</span><span class="n">L</span><span class="p">;</span><span class="w"> </span><span class="c1">// u-&gt;i coversion, check limits</span>
<span class="linenos"> 2752</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">neg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2753</span><span class="w">        </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">final_val</span><span class="p">;</span>
<span class="linenos"> 2754</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">-9223372036854775807LL</span><span class="p">;</span>
<span class="linenos"> 2755</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2756</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2757</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos"> 2758</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2759</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos"> 2760</span><span class="p">}</span>
<span class="linenos"> 2761</span>
<span class="linenos"> 2762</span><span class="c1">// --- algo.I64Dec9.value.Print</span>
<span class="linenos"> 2763</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec9</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2764</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 2765</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos"> 2766</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2767</span><span class="w">        </span><span class="n">ch_Alloc</span><span class="p">(</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 2768</span><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 2769</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2770</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos"> 2771</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 2772</span><span class="p">}</span>
<span class="linenos"> 2773</span>
<span class="linenos"> 2774</span><span class="c1">// --- algo.I64Dec9..ReadStrptrMaybe</span>
<span class="linenos"> 2775</span><span class="c1">// Read fields of algo::I64Dec9 from an ascii string.</span>
<span class="linenos"> 2776</span><span class="c1">// The format of the string is the format of the algo::I64Dec9&#39;s only field</span>
<span class="linenos"> 2777</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec9_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec9</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2778</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 2779</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 2780</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2781</span><span class="p">}</span>
<span class="linenos"> 2782</span>
<span class="linenos"> 2783</span><span class="c1">// --- algo.I64Dec9..Print</span>
<span class="linenos"> 2784</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 2785</span><span class="c1">// cfmt:algo.I64Dec9.String  printfmt:Raw</span>
<span class="linenos"> 2786</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec9_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec9</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2787</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 2788</span><span class="p">}</span>
<span class="linenos"> 2789</span>
<span class="linenos"> 2790</span><span class="c1">// --- algo.IOEvtFlags.read.ReadStrptrMaybe</span>
<span class="linenos"> 2791</span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">read_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">IOEvtFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2792</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 2793</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">read_tmp</span><span class="p">;</span>
<span class="linenos"> 2794</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bool_ReadStrptrMaybe</span><span class="p">(</span><span class="n">read_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 2795</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2796</span><span class="w">        </span><span class="n">read_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">read_tmp</span><span class="p">);</span>
<span class="linenos"> 2797</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2798</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2799</span><span class="p">}</span>
<span class="linenos"> 2800</span>
<span class="linenos"> 2801</span><span class="c1">// --- algo.IOEvtFlags.write.ReadStrptrMaybe</span>
<span class="linenos"> 2802</span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">write_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">IOEvtFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2803</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 2804</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">write_tmp</span><span class="p">;</span>
<span class="linenos"> 2805</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bool_ReadStrptrMaybe</span><span class="p">(</span><span class="n">write_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 2806</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2807</span><span class="w">        </span><span class="n">write_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">write_tmp</span><span class="p">);</span>
<span class="linenos"> 2808</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2809</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2810</span><span class="p">}</span>
<span class="linenos"> 2811</span>
<span class="linenos"> 2812</span><span class="c1">// --- algo.IOEvtFlags.eof.ReadStrptrMaybe</span>
<span class="linenos"> 2813</span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">eof_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">IOEvtFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2814</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 2815</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">eof_tmp</span><span class="p">;</span>
<span class="linenos"> 2816</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bool_ReadStrptrMaybe</span><span class="p">(</span><span class="n">eof_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 2817</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2818</span><span class="w">        </span><span class="n">eof_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">eof_tmp</span><span class="p">);</span>
<span class="linenos"> 2819</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2820</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2821</span><span class="p">}</span>
<span class="linenos"> 2822</span>
<span class="linenos"> 2823</span><span class="c1">// --- algo.IOEvtFlags.err.ReadStrptrMaybe</span>
<span class="linenos"> 2824</span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">err_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">IOEvtFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2825</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 2826</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">err_tmp</span><span class="p">;</span>
<span class="linenos"> 2827</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bool_ReadStrptrMaybe</span><span class="p">(</span><span class="n">err_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 2828</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2829</span><span class="w">        </span><span class="n">err_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">err_tmp</span><span class="p">);</span>
<span class="linenos"> 2830</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2831</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2832</span><span class="p">}</span>
<span class="linenos"> 2833</span>
<span class="linenos"> 2834</span><span class="c1">// --- algo.IOEvtFlags..ReadFieldMaybe</span>
<span class="linenos"> 2835</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">IOEvtFlags_ReadFieldMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">IOEvtFlags</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2836</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 2837</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field_id</span><span class="p">;</span>
<span class="linenos"> 2838</span><span class="w">    </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">field_id</span><span class="p">,</span><span class="n">field</span><span class="p">);</span>
<span class="linenos"> 2839</span><span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">field_id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2840</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_value</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2841</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 2842</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 2843</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 2844</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_read</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2845</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">read_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 2846</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 2847</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 2848</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_write</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2849</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">write_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 2850</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 2851</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 2852</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_eof</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2853</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">eof_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 2854</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 2855</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 2856</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_err</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2857</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">err_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 2858</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 2859</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 2860</span><span class="w">        </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 2861</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2862</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2863</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">AppendErrtext</span><span class="p">(</span><span class="s">&quot;attr&quot;</span><span class="p">,</span><span class="n">field</span><span class="p">);</span>
<span class="linenos"> 2864</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2865</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2866</span><span class="p">}</span>
<span class="linenos"> 2867</span>
<span class="linenos"> 2868</span><span class="c1">// --- algo.IOEvtFlags..ReadStrptrMaybe</span>
<span class="linenos"> 2869</span><span class="c1">// Read fields of algo::IOEvtFlags from an ascii string.</span>
<span class="linenos"> 2870</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">IOEvtFlags_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">IOEvtFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2871</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 2872</span><span class="w">    </span><span class="c1">// Clear affected bits first)</span>
<span class="linenos"> 2873</span><span class="w">    </span><span class="n">read_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos"> 2874</span><span class="w">    </span><span class="n">write_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos"> 2875</span><span class="w">    </span><span class="n">eof_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos"> 2876</span><span class="w">    </span><span class="n">err_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos"> 2877</span><span class="w">    </span><span class="c1">// Read &#39;,&#39;-separated list of bools</span>
<span class="linenos"> 2878</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">ch_N</span><span class="p">(</span><span class="n">in_str</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2879</span><span class="w">        </span><span class="n">strptr</span><span class="w"> </span><span class="n">field_name</span><span class="p">;</span>
<span class="linenos"> 2880</span><span class="w">        </span><span class="n">algo</span><span class="o">::</span><span class="n">NextSep</span><span class="p">(</span><span class="n">in_str</span><span class="p">,</span><span class="sc">&#39;,&#39;</span><span class="p">,</span><span class="n">field_name</span><span class="p">);</span>
<span class="linenos"> 2881</span><span class="w">        </span><span class="n">field_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Trimmed</span><span class="p">(</span><span class="n">field_name</span><span class="p">);</span>
<span class="linenos"> 2882</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch_N</span><span class="p">(</span><span class="n">field_name</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2883</span><span class="w">            </span><span class="n">algo</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field_id</span><span class="p">;</span>
<span class="linenos"> 2884</span><span class="w">            </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">field_id</span><span class="p">,</span><span class="n">field_name</span><span class="p">);</span>
<span class="linenos"> 2885</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2886</span><span class="w">                </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">field_id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2887</span><span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_read</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2888</span><span class="w">                        </span><span class="n">read_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 2889</span><span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 2890</span><span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_write</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2891</span><span class="w">                        </span><span class="n">write_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 2892</span><span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 2893</span><span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_eof</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2894</span><span class="w">                        </span><span class="n">eof_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 2895</span><span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 2896</span><span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_err</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2897</span><span class="w">                        </span><span class="n">err_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 2898</span><span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 2899</span><span class="w">                    </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 2900</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 2901</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 2902</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2903</span><span class="w">                </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">AppendErrtext</span><span class="p">(</span><span class="s">&quot;bitfld&quot;</span><span class="p">,</span><span class="n">field_name</span><span class="p">);</span>
<span class="linenos"> 2904</span><span class="w">                </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 2905</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 2906</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 2907</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2908</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2909</span><span class="p">}</span>
<span class="linenos"> 2910</span>
<span class="linenos"> 2911</span><span class="c1">// --- algo.IOEvtFlags..Print</span>
<span class="linenos"> 2912</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 2913</span><span class="c1">// cfmt:algo.IOEvtFlags.String  printfmt:Bitset</span>
<span class="linenos"> 2914</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">IOEvtFlags_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">IOEvtFlags</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2915</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ListSep</span><span class="w"> </span><span class="n">ls</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">);</span>
<span class="linenos"> 2916</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">read_Get</span><span class="p">(</span><span class="n">row</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2917</span><span class="w">        </span><span class="n">str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;read&quot;</span><span class="p">;</span>
<span class="linenos"> 2918</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2919</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">write_Get</span><span class="p">(</span><span class="n">row</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2920</span><span class="w">        </span><span class="n">str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;write&quot;</span><span class="p">;</span>
<span class="linenos"> 2921</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2922</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">eof_Get</span><span class="p">(</span><span class="n">row</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2923</span><span class="w">        </span><span class="n">str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;eof&quot;</span><span class="p">;</span>
<span class="linenos"> 2924</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2925</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err_Get</span><span class="p">(</span><span class="n">row</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2926</span><span class="w">        </span><span class="n">str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;err&quot;</span><span class="p">;</span>
<span class="linenos"> 2927</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2928</span><span class="p">}</span>
<span class="linenos"> 2929</span>
<span class="linenos"> 2930</span><span class="c1">// --- algo.IOEvtFlags..GetAnon</span>
<span class="linenos"> 2931</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">IOEvtFlags_GetAnon</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">IOEvtFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2932</span><span class="w">    </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">parent</span><span class="p">;</span><span class="c1">//only to avoid -Wunused-parameter</span>
<span class="linenos"> 2933</span><span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2934</span><span class="w">        </span><span class="k">case</span><span class="p">(</span><span class="mi">0</span><span class="p">):</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">strptr</span><span class="p">(</span><span class="s">&quot;value&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="linenos"> 2935</span><span class="w">        </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">();</span>
<span class="linenos"> 2936</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2937</span><span class="p">}</span>
<span class="linenos"> 2938</span>
<span class="linenos"> 2939</span><span class="c1">// --- algo.IPoint..ReadFieldMaybe</span>
<span class="linenos"> 2940</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">IPoint_ReadFieldMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">IPoint</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2941</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 2942</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field_id</span><span class="p">;</span>
<span class="linenos"> 2943</span><span class="w">    </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">field_id</span><span class="p">,</span><span class="n">field</span><span class="p">);</span>
<span class="linenos"> 2944</span><span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">field_id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2945</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_x</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2946</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 2947</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 2948</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 2949</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_y</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2950</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 2951</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 2952</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 2953</span><span class="w">        </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 2954</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2955</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2956</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">AppendErrtext</span><span class="p">(</span><span class="s">&quot;attr&quot;</span><span class="p">,</span><span class="n">field</span><span class="p">);</span>
<span class="linenos"> 2957</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 2958</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2959</span><span class="p">}</span>
<span class="linenos"> 2960</span>
<span class="linenos"> 2961</span><span class="c1">// --- algo.IPoint..ReadStrptrMaybe</span>
<span class="linenos"> 2962</span><span class="c1">// Read fields of algo::IPoint from an ascii string.</span>
<span class="linenos"> 2963</span><span class="c1">// The format of the string is a string with separated values</span>
<span class="linenos"> 2964</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">IPoint_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">IPoint</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2965</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 2966</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 2967</span>
<span class="linenos"> 2968</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">NextSep</span><span class="p">(</span><span class="n">in_str</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<span class="linenos"> 2969</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">i32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<span class="linenos"> 2970</span>
<span class="linenos"> 2971</span><span class="w">    </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in_str</span><span class="p">;</span>
<span class="linenos"> 2972</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">i32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<span class="linenos"> 2973</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 2974</span><span class="p">}</span>
<span class="linenos"> 2975</span>
<span class="linenos"> 2976</span><span class="c1">// --- algo.IPoint..Print</span>
<span class="linenos"> 2977</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 2978</span><span class="c1">// cfmt:algo.IPoint.String  printfmt:Sep</span>
<span class="linenos"> 2979</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">IPoint_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">IPoint</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2980</span><span class="w">    </span><span class="n">i32_Print</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 2981</span><span class="w">    </span><span class="n">str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos"> 2982</span><span class="w">    </span><span class="n">i32_Print</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 2983</span><span class="p">}</span>
<span class="linenos"> 2984</span>
<span class="linenos"> 2985</span><span class="c1">// --- algo.Smallstr50.ch.Print</span>
<span class="linenos"> 2986</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2987</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 2988</span><span class="p">}</span>
<span class="linenos"> 2989</span>
<span class="linenos"> 2990</span><span class="c1">// --- algo.Smallstr50.ch.ReadStrptrMaybe</span>
<span class="linenos"> 2991</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 2992</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2993</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 2994</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2995</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 2996</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 2997</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2998</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 50&quot;</span><span class="p">);</span>
<span class="linenos"> 2999</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3000</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3001</span><span class="p">}</span>
<span class="linenos"> 3002</span>
<span class="linenos"> 3003</span><span class="c1">// --- algo.Smallstr50.ch.SetStrptr</span>
<span class="linenos"> 3004</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 3005</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 3006</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 3007</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3008</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">);</span>
<span class="linenos"> 3009</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 3010</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3011</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3012</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3013</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 3014</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3015</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">n_ch</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">u8</span><span class="p">(</span><span class="n">len</span><span class="p">);</span>
<span class="linenos"> 3016</span><span class="p">}</span>
<span class="linenos"> 3017</span>
<span class="linenos"> 3018</span><span class="c1">// --- algo.Smallstr50..Hash</span>
<span class="linenos"> 3019</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3020</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 3021</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 3022</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 3023</span><span class="p">}</span>
<span class="linenos"> 3024</span>
<span class="linenos"> 3025</span><span class="c1">// --- algo.Smallstr50..ReadStrptrMaybe</span>
<span class="linenos"> 3026</span><span class="c1">// Read fields of algo::Smallstr50 from an ascii string.</span>
<span class="linenos"> 3027</span><span class="c1">// The format of the string is the format of the algo::Smallstr50&#39;s only field</span>
<span class="linenos"> 3028</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3029</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3030</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 3031</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3032</span><span class="p">}</span>
<span class="linenos"> 3033</span>
<span class="linenos"> 3034</span><span class="c1">// --- algo.Smallstr50..Print</span>
<span class="linenos"> 3035</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 3036</span><span class="c1">// cfmt:algo.Smallstr50.String  printfmt:Raw</span>
<span class="linenos"> 3037</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3038</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 3039</span><span class="p">}</span>
<span class="linenos"> 3040</span>
<span class="linenos"> 3041</span><span class="c1">// --- algo.Imdb..Print</span>
<span class="linenos"> 3042</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 3043</span><span class="c1">// cfmt:algo.Imdb.String  printfmt:Tuple</span>
<span class="linenos"> 3044</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Imdb_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Imdb</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3045</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<span class="linenos"> 3046</span><span class="w">    </span><span class="n">str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;algo.Imdb&quot;</span><span class="p">;</span>
<span class="linenos"> 3047</span>
<span class="linenos"> 3048</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50_Print</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="n">imdb</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="p">);</span>
<span class="linenos"> 3049</span><span class="w">    </span><span class="n">PrintAttrSpaceReset</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="s">&quot;imdb&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="p">);</span>
<span class="linenos"> 3050</span>
<span class="linenos"> 3051</span>
<span class="linenos"> 3052</span>
<span class="linenos"> 3053</span>
<span class="linenos"> 3054</span>
<span class="linenos"> 3055</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Comment_Print</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="n">comment</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="p">);</span>
<span class="linenos"> 3056</span><span class="w">    </span><span class="n">PrintAttrSpaceReset</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="p">);</span>
<span class="linenos"> 3057</span><span class="p">}</span>
<span class="linenos"> 3058</span>
<span class="linenos"> 3059</span><span class="c1">// --- algo.ImrowPtr..Print</span>
<span class="linenos"> 3060</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 3061</span><span class="c1">// cfmt:algo.ImrowPtr.String  printfmt:Raw</span>
<span class="linenos"> 3062</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ImrowPtr_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ImrowPtr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3063</span><span class="w">    </span><span class="n">u64_Print</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 3064</span><span class="p">}</span>
<span class="linenos"> 3065</span>
<span class="linenos"> 3066</span><span class="c1">// --- algo.Smallstr100.ch.Print</span>
<span class="linenos"> 3067</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3068</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 3069</span><span class="p">}</span>
<span class="linenos"> 3070</span>
<span class="linenos"> 3071</span><span class="c1">// --- algo.Smallstr100.ch.ReadStrptrMaybe</span>
<span class="linenos"> 3072</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 3073</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3074</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 3075</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3076</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 3077</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3078</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3079</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 100&quot;</span><span class="p">);</span>
<span class="linenos"> 3080</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3081</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3082</span><span class="p">}</span>
<span class="linenos"> 3083</span>
<span class="linenos"> 3084</span><span class="c1">// --- algo.Smallstr100.ch.SetStrptr</span>
<span class="linenos"> 3085</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 3086</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 3087</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 3088</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3089</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<span class="linenos"> 3090</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 3091</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3092</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3093</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3094</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 3095</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3096</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">n_ch</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">u8</span><span class="p">(</span><span class="n">len</span><span class="p">);</span>
<span class="linenos"> 3097</span><span class="p">}</span>
<span class="linenos"> 3098</span>
<span class="linenos"> 3099</span><span class="c1">// --- algo.Smallstr100..Hash</span>
<span class="linenos"> 3100</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3101</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 3102</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 3103</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 3104</span><span class="p">}</span>
<span class="linenos"> 3105</span>
<span class="linenos"> 3106</span><span class="c1">// --- algo.Smallstr100..ReadStrptrMaybe</span>
<span class="linenos"> 3107</span><span class="c1">// Read fields of algo::Smallstr100 from an ascii string.</span>
<span class="linenos"> 3108</span><span class="c1">// The format of the string is the format of the algo::Smallstr100&#39;s only field</span>
<span class="linenos"> 3109</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3110</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3111</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 3112</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3113</span><span class="p">}</span>
<span class="linenos"> 3114</span>
<span class="linenos"> 3115</span><span class="c1">// --- algo.Smallstr100..Print</span>
<span class="linenos"> 3116</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 3117</span><span class="c1">// cfmt:algo.Smallstr100.String  printfmt:Raw</span>
<span class="linenos"> 3118</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3119</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 3120</span><span class="p">}</span>
<span class="linenos"> 3121</span>
<span class="linenos"> 3122</span><span class="c1">// --- algo.Imtable..Print</span>
<span class="linenos"> 3123</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 3124</span><span class="c1">// cfmt:algo.Imtable.String  printfmt:Tuple</span>
<span class="linenos"> 3125</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Imtable_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Imtable</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3126</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<span class="linenos"> 3127</span><span class="w">    </span><span class="n">str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;algo.Imtable&quot;</span><span class="p">;</span>
<span class="linenos"> 3128</span>
<span class="linenos"> 3129</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50_Print</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="n">imtable</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="p">);</span>
<span class="linenos"> 3130</span><span class="w">    </span><span class="n">PrintAttrSpaceReset</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="s">&quot;imtable&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="p">);</span>
<span class="linenos"> 3131</span>
<span class="linenos"> 3132</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100_Print</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="n">elem_type</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="p">);</span>
<span class="linenos"> 3133</span><span class="w">    </span><span class="n">PrintAttrSpaceReset</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="s">&quot;elem_type&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="p">);</span>
<span class="linenos"> 3134</span>
<span class="linenos"> 3135</span>
<span class="linenos"> 3136</span>
<span class="linenos"> 3137</span>
<span class="linenos"> 3138</span>
<span class="linenos"> 3139</span><span class="w">    </span><span class="n">i32_Print</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="p">);</span>
<span class="linenos"> 3140</span><span class="w">    </span><span class="n">PrintAttrSpaceReset</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="s">&quot;size&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="p">);</span>
<span class="linenos"> 3141</span>
<span class="linenos"> 3142</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50_Print</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="n">ssimfile</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="p">);</span>
<span class="linenos"> 3143</span><span class="w">    </span><span class="n">PrintAttrSpaceReset</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="s">&quot;ssimfile&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="p">);</span>
<span class="linenos"> 3144</span>
<span class="linenos"> 3145</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Comment_Print</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="n">comment</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="p">);</span>
<span class="linenos"> 3146</span><span class="w">    </span><span class="n">PrintAttrSpaceReset</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="p">);</span>
<span class="linenos"> 3147</span><span class="p">}</span>
<span class="linenos"> 3148</span>
<span class="linenos"> 3149</span><span class="c1">// --- algo.LineBuf.buf.Addary</span>
<span class="linenos"> 3150</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos"> 3151</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos"> 3152</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos"> 3153</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">buf_Addary</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LineBuf</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3154</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">overlaps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="o">&gt;</span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_max</span><span class="p">;</span>
<span class="linenos"> 3155</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">UNLIKELY</span><span class="p">(</span><span class="n">overlaps</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3156</span><span class="w">        </span><span class="n">FatalErrorExit</span><span class="p">(</span><span class="s">&quot;algo.tary_alias  field:algo.LineBuf.buf  comment:&#39;alias error: sub-array is being appended to the whole&#39;&quot;</span><span class="p">);</span>
<span class="linenos"> 3157</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3158</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nnew</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos"> 3159</span><span class="w">    </span><span class="n">buf_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="p">);</span><span class="w"> </span><span class="c1">// reserve space</span>
<span class="linenos"> 3160</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_n</span><span class="p">;</span>
<span class="linenos"> 3161</span><span class="w">    </span><span class="n">memcpy</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">buf_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">));</span>
<span class="linenos"> 3162</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">nnew</span><span class="p">;</span>
<span class="linenos"> 3163</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">buf_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="p">);</span>
<span class="linenos"> 3164</span><span class="p">}</span>
<span class="linenos"> 3165</span>
<span class="linenos"> 3166</span><span class="c1">// --- algo.LineBuf.buf.Alloc</span>
<span class="linenos"> 3167</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos"> 3168</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos"> 3169</span><span class="kt">char</span><span class="o">&amp;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">buf_Alloc</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LineBuf</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3170</span><span class="w">    </span><span class="n">buf_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 3171</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_n</span><span class="p">;</span>
<span class="linenos"> 3172</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<span class="linenos"> 3173</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_elems</span><span class="p">;</span>
<span class="linenos"> 3174</span><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="kt">char</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">// construct new element, default initializer</span>
<span class="linenos"> 3175</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 3176</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">elems</span><span class="p">[</span><span class="n">at</span><span class="p">];</span>
<span class="linenos"> 3177</span><span class="p">}</span>
<span class="linenos"> 3178</span>
<span class="linenos"> 3179</span><span class="c1">// --- algo.LineBuf.buf.AllocAt</span>
<span class="linenos"> 3180</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos"> 3181</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos"> 3182</span><span class="kt">char</span><span class="o">&amp;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">buf_AllocAt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LineBuf</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3183</span><span class="w">    </span><span class="n">buf_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 3184</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_n</span><span class="p">;</span>
<span class="linenos"> 3185</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">UNLIKELY</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3186</span><span class="w">        </span><span class="n">FatalErrorExit</span><span class="p">(</span><span class="s">&quot;algo.bad_alloc_at  field:algo.LineBuf.buf  comment:&#39;index out of range&#39;&quot;</span><span class="p">);</span>
<span class="linenos"> 3187</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3188</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_elems</span><span class="p">;</span>
<span class="linenos"> 3189</span><span class="w">    </span><span class="n">memmove</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">));</span>
<span class="linenos"> 3190</span><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="kt">char</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">// construct element, default initializer</span>
<span class="linenos"> 3191</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 3192</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">elems</span><span class="p">[</span><span class="n">at</span><span class="p">];</span>
<span class="linenos"> 3193</span><span class="p">}</span>
<span class="linenos"> 3194</span>
<span class="linenos"> 3195</span><span class="c1">// --- algo.LineBuf.buf.AllocN</span>
<span class="linenos"> 3196</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos"> 3197</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">buf_AllocN</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LineBuf</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3198</span><span class="w">    </span><span class="n">buf_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos"> 3199</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">old_n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_n</span><span class="p">;</span>
<span class="linenos"> 3200</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">new_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old_n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos"> 3201</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_elems</span><span class="p">;</span>
<span class="linenos"> 3202</span><span class="w">    </span><span class="n">memset</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">old_n</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">new_n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">old_n</span><span class="p">);</span><span class="w"> </span><span class="c1">// initialize new space</span>
<span class="linenos"> 3203</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_n</span><span class="p">;</span>
<span class="linenos"> 3204</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">old_n</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos"> 3205</span><span class="p">}</span>
<span class="linenos"> 3206</span>
<span class="linenos"> 3207</span><span class="c1">// --- algo.LineBuf.buf.Remove</span>
<span class="linenos"> 3208</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos"> 3209</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">buf_Remove</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LineBuf</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3210</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">lim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_n</span><span class="p">;</span>
<span class="linenos"> 3211</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_elems</span><span class="p">;</span>
<span class="linenos"> 3212</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">lim</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3213</span><span class="w">        </span><span class="n">memmove</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">lim</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)));</span>
<span class="linenos"> 3214</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lim</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 3215</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3216</span><span class="p">}</span>
<span class="linenos"> 3217</span>
<span class="linenos"> 3218</span><span class="c1">// --- algo.LineBuf.buf.RemoveLast</span>
<span class="linenos"> 3219</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos"> 3220</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">buf_RemoveLast</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LineBuf</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3221</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_n</span><span class="p">;</span>
<span class="linenos"> 3222</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3223</span><span class="w">        </span><span class="n">n</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 3224</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<span class="linenos"> 3225</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3226</span><span class="p">}</span>
<span class="linenos"> 3227</span>
<span class="linenos"> 3228</span><span class="c1">// --- algo.LineBuf.buf.AbsReserve</span>
<span class="linenos"> 3229</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos"> 3230</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">buf_AbsReserve</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LineBuf</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3231</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">old_max</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_max</span><span class="p">;</span>
<span class="linenos"> 3232</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">i32</span><span class="p">(</span><span class="n">old_max</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3233</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">new_max</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Max</span><span class="p">(</span><span class="n">i32_Max</span><span class="p">(</span><span class="n">old_max</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">),</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="linenos"> 3234</span><span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">new_mem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">malloc_ReallocMem</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">buf_elems</span><span class="p">,</span><span class="w"> </span><span class="n">old_max</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">),</span><span class="w"> </span><span class="n">new_max</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">));</span>
<span class="linenos"> 3235</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">UNLIKELY</span><span class="p">(</span><span class="o">!</span><span class="n">new_mem</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3236</span><span class="w">            </span><span class="n">FatalErrorExit</span><span class="p">(</span><span class="s">&quot;algo.tary_nomem  field:algo.LineBuf.buf  comment:&#39;out of memory&#39;&quot;</span><span class="p">);</span>
<span class="linenos"> 3237</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 3238</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">new_mem</span><span class="p">;</span>
<span class="linenos"> 3239</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_max</span><span class="p">;</span>
<span class="linenos"> 3240</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3241</span><span class="p">}</span>
<span class="linenos"> 3242</span>
<span class="linenos"> 3243</span><span class="c1">// --- algo.LineBuf.buf.Print</span>
<span class="linenos"> 3244</span><span class="c1">// Convert buf to a string.</span>
<span class="linenos"> 3245</span><span class="c1">// Array is printed as a regular string.</span>
<span class="linenos"> 3246</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">buf_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LineBuf</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3247</span><span class="w">    </span><span class="n">rhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">buf_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 3248</span><span class="p">}</span>
<span class="linenos"> 3249</span>
<span class="linenos"> 3250</span><span class="c1">// --- algo.LineBuf.buf.Setary</span>
<span class="linenos"> 3251</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos"> 3252</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">buf_Setary</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LineBuf</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LineBuf</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3253</span><span class="w">    </span><span class="n">buf_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 3254</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nnew</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">buf_n</span><span class="p">;</span>
<span class="linenos"> 3255</span><span class="w">    </span><span class="n">buf_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="p">);</span><span class="w"> </span><span class="c1">// reserve space</span>
<span class="linenos"> 3256</span><span class="w">    </span><span class="n">memcpy</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">buf_elems</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">buf_elems</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">));</span>
<span class="linenos"> 3257</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nnew</span><span class="p">;</span>
<span class="linenos"> 3258</span><span class="p">}</span>
<span class="linenos"> 3259</span>
<span class="linenos"> 3260</span><span class="c1">// --- algo.LineBuf.buf.Setary2</span>
<span class="linenos"> 3261</span><span class="c1">// Copy specified array into buf, discarding previous contents.</span>
<span class="linenos"> 3262</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos"> 3263</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">buf_Setary</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LineBuf</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3264</span><span class="w">    </span><span class="n">buf_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 3265</span><span class="w">    </span><span class="n">buf_Addary</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 3266</span><span class="p">}</span>
<span class="linenos"> 3267</span>
<span class="linenos"> 3268</span><span class="c1">// --- algo.LineBuf.buf.AllocNVal</span>
<span class="linenos"> 3269</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos"> 3270</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">buf_AllocNVal</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LineBuf</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3271</span><span class="w">    </span><span class="n">buf_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos"> 3272</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">old_n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_n</span><span class="p">;</span>
<span class="linenos"> 3273</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">new_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old_n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos"> 3274</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_elems</span><span class="p">;</span>
<span class="linenos"> 3275</span><span class="w">    </span><span class="n">memset</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">old_n</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">new_n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">old_n</span><span class="p">);</span><span class="w"> </span><span class="c1">// initialize new space</span>
<span class="linenos"> 3276</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">buf_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_n</span><span class="p">;</span>
<span class="linenos"> 3277</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">old_n</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos"> 3278</span><span class="p">}</span>
<span class="linenos"> 3279</span>
<span class="linenos"> 3280</span><span class="c1">// --- algo.LineBuf.buf.ReadStrptrMaybe</span>
<span class="linenos"> 3281</span><span class="c1">// The array is replaced with the input string. Function always succeeds.</span>
<span class="linenos"> 3282</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">buf_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LineBuf</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3283</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3284</span><span class="w">    </span><span class="n">buf_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 3285</span><span class="w">    </span><span class="n">buf_Addary</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 3286</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3287</span><span class="p">}</span>
<span class="linenos"> 3288</span>
<span class="linenos"> 3289</span><span class="c1">// --- algo.LineBuf..Uninit</span>
<span class="linenos"> 3290</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LineBuf_Uninit</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LineBuf</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3291</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">LineBuf</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">;</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">row</span><span class="p">;</span>
<span class="linenos"> 3292</span>
<span class="linenos"> 3293</span><span class="w">    </span><span class="c1">// algo.LineBuf.buf.Uninit (Tary)  //</span>
<span class="linenos"> 3294</span><span class="w">    </span><span class="c1">// remove all elements from algo.LineBuf.buf</span>
<span class="linenos"> 3295</span><span class="w">    </span><span class="n">buf_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 3296</span><span class="w">    </span><span class="c1">// free memory for Tary algo.LineBuf.buf</span>
<span class="linenos"> 3297</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">malloc_FreeMem</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">buf_elems</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">)</span><span class="o">*</span><span class="n">parent</span><span class="p">.</span><span class="n">buf_max</span><span class="p">);</span><span class="w"> </span><span class="c1">// (algo.LineBuf.buf)</span>
<span class="linenos"> 3298</span><span class="p">}</span>
<span class="linenos"> 3299</span>
<span class="linenos"> 3300</span><span class="c1">// --- algo.LnumStr10_U64.ch.Print</span>
<span class="linenos"> 3301</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr10_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3302</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 3303</span><span class="p">}</span>
<span class="linenos"> 3304</span>
<span class="linenos"> 3305</span><span class="c1">// --- algo.LnumStr10_U64.ch.ReadStrptrMaybe</span>
<span class="linenos"> 3306</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 3307</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr10_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3308</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 3309</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3310</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 3311</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3312</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3313</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 10&quot;</span><span class="p">);</span>
<span class="linenos"> 3314</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3315</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3316</span><span class="p">}</span>
<span class="linenos"> 3317</span>
<span class="linenos"> 3318</span><span class="c1">// --- algo.LnumStr10_U64.ch.SetStrptr</span>
<span class="linenos"> 3319</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 3320</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 3321</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 3322</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr10_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3323</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="linenos"> 3324</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 3325</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3326</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3327</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3328</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 3329</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3330</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3331</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 3332</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3333</span><span class="p">}</span>
<span class="linenos"> 3334</span>
<span class="linenos"> 3335</span><span class="c1">// --- algo.LnumStr10_U64.ch.Getnum</span>
<span class="linenos"> 3336</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 3337</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 3338</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 3339</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 3340</span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr10_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3341</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3342</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 3343</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">str</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// empty string maps to zero</span>
<span class="linenos"> 3344</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 3345</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aParseNum16</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 3346</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 3347</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3348</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 3349</span><span class="p">}</span>
<span class="linenos"> 3350</span>
<span class="linenos"> 3351</span><span class="c1">// --- algo.LnumStr10_U64.ch.GetnumDflt</span>
<span class="linenos"> 3352</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 3353</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 3354</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 3355</span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr10_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3356</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3357</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 3358</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 3359</span><span class="p">}</span>
<span class="linenos"> 3360</span>
<span class="linenos"> 3361</span><span class="c1">// --- algo.LnumStr10_U64.ch.Geti64</span>
<span class="linenos"> 3362</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 3363</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 3364</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 3365</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr10_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3366</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3367</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 3368</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 3369</span><span class="p">}</span>
<span class="linenos"> 3370</span>
<span class="linenos"> 3371</span><span class="c1">// --- algo.LnumStr10_U64.ch.SetnumMaybe</span>
<span class="linenos"> 3372</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 3373</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 3374</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr10_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3375</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 3376</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3377</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 3378</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 3379</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 3380</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 3381</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3382</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 3383</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3384</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3385</span><span class="p">}</span>
<span class="linenos"> 3386</span>
<span class="linenos"> 3387</span><span class="c1">// --- algo.LnumStr10_U64..Hash</span>
<span class="linenos"> 3388</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr10_U64_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr10_U64</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3389</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 3390</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 3391</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 3392</span><span class="p">}</span>
<span class="linenos"> 3393</span>
<span class="linenos"> 3394</span><span class="c1">// --- algo.LnumStr10_U64..ReadStrptrMaybe</span>
<span class="linenos"> 3395</span><span class="c1">// Read fields of algo::LnumStr10_U64 from an ascii string.</span>
<span class="linenos"> 3396</span><span class="c1">// The format of the string is the format of the algo::LnumStr10_U64&#39;s only field</span>
<span class="linenos"> 3397</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr10_U64_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr10_U64</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3398</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3399</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 3400</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3401</span><span class="p">}</span>
<span class="linenos"> 3402</span>
<span class="linenos"> 3403</span><span class="c1">// --- algo.LnumStr10_U64..Print</span>
<span class="linenos"> 3404</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 3405</span><span class="c1">// cfmt:algo.LnumStr10_U64.String  printfmt:Raw</span>
<span class="linenos"> 3406</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr10_U64_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr10_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3407</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 3408</span><span class="p">}</span>
<span class="linenos"> 3409</span>
<span class="linenos"> 3410</span><span class="c1">// --- algo.LnumStr11_U64.ch.Print</span>
<span class="linenos"> 3411</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr11_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3412</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 3413</span><span class="p">}</span>
<span class="linenos"> 3414</span>
<span class="linenos"> 3415</span><span class="c1">// --- algo.LnumStr11_U64.ch.ReadStrptrMaybe</span>
<span class="linenos"> 3416</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 3417</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr11_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3418</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 3419</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3420</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 3421</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3422</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3423</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 11&quot;</span><span class="p">);</span>
<span class="linenos"> 3424</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3425</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3426</span><span class="p">}</span>
<span class="linenos"> 3427</span>
<span class="linenos"> 3428</span><span class="c1">// --- algo.LnumStr11_U64.ch.SetStrptr</span>
<span class="linenos"> 3429</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 3430</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 3431</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 3432</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr11_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3433</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">);</span>
<span class="linenos"> 3434</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 3435</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3436</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3437</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3438</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 3439</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3440</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3441</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 3442</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3443</span><span class="p">}</span>
<span class="linenos"> 3444</span>
<span class="linenos"> 3445</span><span class="c1">// --- algo.LnumStr11_U64.ch.Getnum</span>
<span class="linenos"> 3446</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 3447</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 3448</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 3449</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 3450</span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr11_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3451</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3452</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 3453</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">str</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// empty string maps to zero</span>
<span class="linenos"> 3454</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 3455</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aParseNum16</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 3456</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 3457</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3458</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 3459</span><span class="p">}</span>
<span class="linenos"> 3460</span>
<span class="linenos"> 3461</span><span class="c1">// --- algo.LnumStr11_U64.ch.GetnumDflt</span>
<span class="linenos"> 3462</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 3463</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 3464</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 3465</span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr11_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3466</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3467</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 3468</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 3469</span><span class="p">}</span>
<span class="linenos"> 3470</span>
<span class="linenos"> 3471</span><span class="c1">// --- algo.LnumStr11_U64.ch.Geti64</span>
<span class="linenos"> 3472</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 3473</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 3474</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 3475</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr11_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3476</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3477</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 3478</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 3479</span><span class="p">}</span>
<span class="linenos"> 3480</span>
<span class="linenos"> 3481</span><span class="c1">// --- algo.LnumStr11_U64.ch.SetnumMaybe</span>
<span class="linenos"> 3482</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 3483</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 3484</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr11_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3485</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 3486</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3487</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 3488</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 3489</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 3490</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">11</span><span class="p">;</span>
<span class="linenos"> 3491</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3492</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 3493</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3494</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3495</span><span class="p">}</span>
<span class="linenos"> 3496</span>
<span class="linenos"> 3497</span><span class="c1">// --- algo.LnumStr11_U64..Hash</span>
<span class="linenos"> 3498</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr11_U64_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr11_U64</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3499</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 3500</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 3501</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 3502</span><span class="p">}</span>
<span class="linenos"> 3503</span>
<span class="linenos"> 3504</span><span class="c1">// --- algo.LnumStr11_U64..ReadStrptrMaybe</span>
<span class="linenos"> 3505</span><span class="c1">// Read fields of algo::LnumStr11_U64 from an ascii string.</span>
<span class="linenos"> 3506</span><span class="c1">// The format of the string is the format of the algo::LnumStr11_U64&#39;s only field</span>
<span class="linenos"> 3507</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr11_U64_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr11_U64</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3508</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3509</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 3510</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3511</span><span class="p">}</span>
<span class="linenos"> 3512</span>
<span class="linenos"> 3513</span><span class="c1">// --- algo.LnumStr11_U64..Print</span>
<span class="linenos"> 3514</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 3515</span><span class="c1">// cfmt:algo.LnumStr11_U64.String  printfmt:Raw</span>
<span class="linenos"> 3516</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr11_U64_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr11_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3517</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 3518</span><span class="p">}</span>
<span class="linenos"> 3519</span>
<span class="linenos"> 3520</span><span class="c1">// --- algo.LnumStr12_U64.ch.Print</span>
<span class="linenos"> 3521</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr12_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3522</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 3523</span><span class="p">}</span>
<span class="linenos"> 3524</span>
<span class="linenos"> 3525</span><span class="c1">// --- algo.LnumStr12_U64.ch.ReadStrptrMaybe</span>
<span class="linenos"> 3526</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 3527</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr12_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3528</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 3529</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">12</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3530</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 3531</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3532</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3533</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 12&quot;</span><span class="p">);</span>
<span class="linenos"> 3534</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3535</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3536</span><span class="p">}</span>
<span class="linenos"> 3537</span>
<span class="linenos"> 3538</span><span class="c1">// --- algo.LnumStr12_U64.ch.SetStrptr</span>
<span class="linenos"> 3539</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 3540</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 3541</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 3542</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr12_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3543</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">);</span>
<span class="linenos"> 3544</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 3545</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3546</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3547</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3548</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 3549</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3550</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3551</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 3552</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3553</span><span class="p">}</span>
<span class="linenos"> 3554</span>
<span class="linenos"> 3555</span><span class="c1">// --- algo.LnumStr12_U64.ch.Getnum</span>
<span class="linenos"> 3556</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 3557</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 3558</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 3559</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 3560</span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr12_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3561</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3562</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 3563</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">str</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// empty string maps to zero</span>
<span class="linenos"> 3564</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 3565</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aParseNum16</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 3566</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 3567</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3568</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 3569</span><span class="p">}</span>
<span class="linenos"> 3570</span>
<span class="linenos"> 3571</span><span class="c1">// --- algo.LnumStr12_U64.ch.GetnumDflt</span>
<span class="linenos"> 3572</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 3573</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 3574</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 3575</span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr12_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3576</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3577</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 3578</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 3579</span><span class="p">}</span>
<span class="linenos"> 3580</span>
<span class="linenos"> 3581</span><span class="c1">// --- algo.LnumStr12_U64.ch.Geti64</span>
<span class="linenos"> 3582</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 3583</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 3584</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 3585</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr12_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3586</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3587</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 3588</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 3589</span><span class="p">}</span>
<span class="linenos"> 3590</span>
<span class="linenos"> 3591</span><span class="c1">// --- algo.LnumStr12_U64.ch.SetnumMaybe</span>
<span class="linenos"> 3592</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 3593</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 3594</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr12_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3595</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 3596</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3597</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 3598</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 3599</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 3600</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">12</span><span class="p">;</span>
<span class="linenos"> 3601</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3602</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 3603</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3604</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3605</span><span class="p">}</span>
<span class="linenos"> 3606</span>
<span class="linenos"> 3607</span><span class="c1">// --- algo.LnumStr12_U64..Hash</span>
<span class="linenos"> 3608</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr12_U64_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr12_U64</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3609</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 3610</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 3611</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 3612</span><span class="p">}</span>
<span class="linenos"> 3613</span>
<span class="linenos"> 3614</span><span class="c1">// --- algo.LnumStr12_U64..ReadStrptrMaybe</span>
<span class="linenos"> 3615</span><span class="c1">// Read fields of algo::LnumStr12_U64 from an ascii string.</span>
<span class="linenos"> 3616</span><span class="c1">// The format of the string is the format of the algo::LnumStr12_U64&#39;s only field</span>
<span class="linenos"> 3617</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr12_U64_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr12_U64</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3618</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3619</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 3620</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3621</span><span class="p">}</span>
<span class="linenos"> 3622</span>
<span class="linenos"> 3623</span><span class="c1">// --- algo.LnumStr12_U64..Print</span>
<span class="linenos"> 3624</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 3625</span><span class="c1">// cfmt:algo.LnumStr12_U64.String  printfmt:Raw</span>
<span class="linenos"> 3626</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr12_U64_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr12_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3627</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 3628</span><span class="p">}</span>
<span class="linenos"> 3629</span>
<span class="linenos"> 3630</span><span class="c1">// --- algo.LnumStr13_U64_Base36.ch.Print</span>
<span class="linenos"> 3631</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr13_U64_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3632</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 3633</span><span class="p">}</span>
<span class="linenos"> 3634</span>
<span class="linenos"> 3635</span><span class="c1">// --- algo.LnumStr13_U64_Base36.ch.ReadStrptrMaybe</span>
<span class="linenos"> 3636</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 3637</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr13_U64_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3638</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 3639</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">13</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3640</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 3641</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3642</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3643</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 13&quot;</span><span class="p">);</span>
<span class="linenos"> 3644</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3645</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3646</span><span class="p">}</span>
<span class="linenos"> 3647</span>
<span class="linenos"> 3648</span><span class="c1">// --- algo.LnumStr13_U64_Base36.ch.SetStrptr</span>
<span class="linenos"> 3649</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 3650</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 3651</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 3652</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr13_U64_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3653</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">);</span>
<span class="linenos"> 3654</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 3655</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3656</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3657</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3658</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 3659</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3660</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3661</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 3662</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3663</span><span class="p">}</span>
<span class="linenos"> 3664</span>
<span class="linenos"> 3665</span><span class="c1">// --- algo.LnumStr13_U64_Base36.ch.Getnum</span>
<span class="linenos"> 3666</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 3667</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 3668</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 3669</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 3670</span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr13_U64_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3671</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3672</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 3673</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3674</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 3675</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 3676</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3677</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 3678</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">36-10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3679</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 3680</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">36-10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3681</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 3682</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3683</span><span class="w">            </span><span class="n">and_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 3684</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 3685</span><span class="w">        </span><span class="c1">// Check for 64-bit overflow inside the loop</span>
<span class="linenos"> 3686</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">36</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">digit</span><span class="p">;</span>
<span class="linenos"> 3687</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">r1</span><span class="p">);</span>
<span class="linenos"> 3688</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r1</span><span class="p">;</span>
<span class="linenos"> 3689</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3690</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 3691</span><span class="p">}</span>
<span class="linenos"> 3692</span>
<span class="linenos"> 3693</span><span class="c1">// --- algo.LnumStr13_U64_Base36.ch.GetnumDflt</span>
<span class="linenos"> 3694</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 3695</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 3696</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 3697</span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr13_U64_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3698</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3699</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 3700</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 3701</span><span class="p">}</span>
<span class="linenos"> 3702</span>
<span class="linenos"> 3703</span><span class="c1">// --- algo.LnumStr13_U64_Base36.ch.Geti64</span>
<span class="linenos"> 3704</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 3705</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 3706</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 3707</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr13_U64_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3708</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3709</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 3710</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 3711</span><span class="p">}</span>
<span class="linenos"> 3712</span>
<span class="linenos"> 3713</span><span class="c1">// --- algo.LnumStr13_U64_Base36.ch.SetnumMaybe</span>
<span class="linenos"> 3714</span><span class="c1">// Set string to number specified in RHS performing base-36 conversion.</span>
<span class="linenos"> 3715</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 3716</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr13_U64_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3717</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 3718</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3719</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 3720</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 3721</span><span class="w">    </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">buf</span><span class="p">);</span>
<span class="linenos"> 3722</span><span class="w">    </span><span class="k">do</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3723</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">rem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">36</span><span class="p">);</span>
<span class="linenos"> 3724</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">36</span><span class="p">;</span>
<span class="linenos"> 3725</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 3726</span><span class="w">        </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rem</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kt">char</span><span class="p">(</span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rem</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">char</span><span class="p">(</span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rem</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="linenos"> 3727</span><span class="w">        </span><span class="n">buf</span><span class="p">[</span><span class="o">--</span><span class="n">charpos</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 3728</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 3729</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">charpos</span><span class="p">;</span>
<span class="linenos"> 3730</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">13</span><span class="p">;</span>
<span class="linenos"> 3731</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3732</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 3733</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3734</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3735</span><span class="p">}</span>
<span class="linenos"> 3736</span>
<span class="linenos"> 3737</span><span class="c1">// --- algo.LnumStr13_U64_Base36..Hash</span>
<span class="linenos"> 3738</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr13_U64_Base36_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr13_U64_Base36</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3739</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 3740</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 3741</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 3742</span><span class="p">}</span>
<span class="linenos"> 3743</span>
<span class="linenos"> 3744</span><span class="c1">// --- algo.LnumStr13_U64_Base36..ReadStrptrMaybe</span>
<span class="linenos"> 3745</span><span class="c1">// Read fields of algo::LnumStr13_U64_Base36 from an ascii string.</span>
<span class="linenos"> 3746</span><span class="c1">// The format of the string is the format of the algo::LnumStr13_U64_Base36&#39;s only field</span>
<span class="linenos"> 3747</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr13_U64_Base36_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr13_U64_Base36</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3748</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3749</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 3750</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3751</span><span class="p">}</span>
<span class="linenos"> 3752</span>
<span class="linenos"> 3753</span><span class="c1">// --- algo.LnumStr13_U64_Base36..Print</span>
<span class="linenos"> 3754</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 3755</span><span class="c1">// cfmt:algo.LnumStr13_U64_Base36.String  printfmt:Raw</span>
<span class="linenos"> 3756</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr13_U64_Base36_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr13_U64_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3757</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 3758</span><span class="p">}</span>
<span class="linenos"> 3759</span>
<span class="linenos"> 3760</span><span class="c1">// --- algo.LnumStr16_U64_Base16.ch.Print</span>
<span class="linenos"> 3761</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr16_U64_Base16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3762</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 3763</span><span class="p">}</span>
<span class="linenos"> 3764</span>
<span class="linenos"> 3765</span><span class="c1">// --- algo.LnumStr16_U64_Base16.ch.ReadStrptrMaybe</span>
<span class="linenos"> 3766</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 3767</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr16_U64_Base16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3768</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 3769</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3770</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 3771</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3772</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3773</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 16&quot;</span><span class="p">);</span>
<span class="linenos"> 3774</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3775</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3776</span><span class="p">}</span>
<span class="linenos"> 3777</span>
<span class="linenos"> 3778</span><span class="c1">// --- algo.LnumStr16_U64_Base16.ch.SetStrptr</span>
<span class="linenos"> 3779</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 3780</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 3781</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 3782</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr16_U64_Base16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3783</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span>
<span class="linenos"> 3784</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 3785</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3786</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3787</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3788</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 3789</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3790</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3791</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 3792</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3793</span><span class="p">}</span>
<span class="linenos"> 3794</span>
<span class="linenos"> 3795</span><span class="c1">// --- algo.LnumStr16_U64_Base16.ch.Getnum</span>
<span class="linenos"> 3796</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 3797</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 3798</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 3799</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 3800</span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr16_U64_Base16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3801</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3802</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 3803</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3804</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 3805</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 3806</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3807</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 3808</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">16-10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3809</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 3810</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">16-10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3811</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 3812</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3813</span><span class="w">            </span><span class="n">and_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 3814</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 3815</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">16</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">digit</span><span class="p">;</span>
<span class="linenos"> 3816</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3817</span><span class="w">    </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">0XFFFFFFFFFFFFFFFF</span><span class="p">;</span>
<span class="linenos"> 3818</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 3819</span><span class="p">}</span>
<span class="linenos"> 3820</span>
<span class="linenos"> 3821</span><span class="c1">// --- algo.LnumStr16_U64_Base16.ch.GetnumDflt</span>
<span class="linenos"> 3822</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 3823</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 3824</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 3825</span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr16_U64_Base16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3826</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3827</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 3828</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 3829</span><span class="p">}</span>
<span class="linenos"> 3830</span>
<span class="linenos"> 3831</span><span class="c1">// --- algo.LnumStr16_U64_Base16.ch.Geti64</span>
<span class="linenos"> 3832</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 3833</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 3834</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 3835</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr16_U64_Base16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3836</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3837</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 3838</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 3839</span><span class="p">}</span>
<span class="linenos"> 3840</span>
<span class="linenos"> 3841</span><span class="c1">// --- algo.LnumStr16_U64_Base16.ch.SetnumMaybe</span>
<span class="linenos"> 3842</span><span class="c1">// Set string to number specified in RHS performing base-16 conversion.</span>
<span class="linenos"> 3843</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 3844</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr16_U64_Base16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3845</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 3846</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3847</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 3848</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 3849</span><span class="w">    </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">buf</span><span class="p">);</span>
<span class="linenos"> 3850</span><span class="w">    </span><span class="k">do</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3851</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">rem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span>
<span class="linenos"> 3852</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">16</span><span class="p">;</span>
<span class="linenos"> 3853</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 3854</span><span class="w">        </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rem</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kt">char</span><span class="p">(</span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rem</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">char</span><span class="p">(</span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rem</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="linenos"> 3855</span><span class="w">        </span><span class="n">buf</span><span class="p">[</span><span class="o">--</span><span class="n">charpos</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 3856</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 3857</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">charpos</span><span class="p">;</span>
<span class="linenos"> 3858</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">16</span><span class="p">;</span>
<span class="linenos"> 3859</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3860</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 3861</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3862</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3863</span><span class="p">}</span>
<span class="linenos"> 3864</span>
<span class="linenos"> 3865</span><span class="c1">// --- algo.LnumStr16_U64_Base16..Hash</span>
<span class="linenos"> 3866</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr16_U64_Base16_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr16_U64_Base16</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3867</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 3868</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 3869</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 3870</span><span class="p">}</span>
<span class="linenos"> 3871</span>
<span class="linenos"> 3872</span><span class="c1">// --- algo.LnumStr16_U64_Base16..ReadStrptrMaybe</span>
<span class="linenos"> 3873</span><span class="c1">// Read fields of algo::LnumStr16_U64_Base16 from an ascii string.</span>
<span class="linenos"> 3874</span><span class="c1">// The format of the string is the format of the algo::LnumStr16_U64_Base16&#39;s only field</span>
<span class="linenos"> 3875</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr16_U64_Base16_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr16_U64_Base16</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3876</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3877</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 3878</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3879</span><span class="p">}</span>
<span class="linenos"> 3880</span>
<span class="linenos"> 3881</span><span class="c1">// --- algo.LnumStr16_U64_Base16..Print</span>
<span class="linenos"> 3882</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 3883</span><span class="c1">// cfmt:algo.LnumStr16_U64_Base16.String  printfmt:Raw</span>
<span class="linenos"> 3884</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr16_U64_Base16_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr16_U64_Base16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3885</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 3886</span><span class="p">}</span>
<span class="linenos"> 3887</span>
<span class="linenos"> 3888</span><span class="c1">// --- algo.LnumStr1_U32.ch.Print</span>
<span class="linenos"> 3889</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr1_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3890</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 3891</span><span class="p">}</span>
<span class="linenos"> 3892</span>
<span class="linenos"> 3893</span><span class="c1">// --- algo.LnumStr1_U32.ch.ReadStrptrMaybe</span>
<span class="linenos"> 3894</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 3895</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr1_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3896</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 3897</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3898</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 3899</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3900</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3901</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 1&quot;</span><span class="p">);</span>
<span class="linenos"> 3902</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3903</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3904</span><span class="p">}</span>
<span class="linenos"> 3905</span>
<span class="linenos"> 3906</span><span class="c1">// --- algo.LnumStr1_U32.ch.SetStrptr</span>
<span class="linenos"> 3907</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 3908</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 3909</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 3910</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr1_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3911</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 3912</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 3913</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3914</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3915</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3916</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 3917</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3918</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3919</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 3920</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3921</span><span class="p">}</span>
<span class="linenos"> 3922</span>
<span class="linenos"> 3923</span><span class="c1">// --- algo.LnumStr1_U32.ch.Getnum</span>
<span class="linenos"> 3924</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 3925</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 3926</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 3927</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 3928</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr1_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3929</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3930</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 3931</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">str</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// empty string maps to zero</span>
<span class="linenos"> 3932</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 3933</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aParseNum4</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 3934</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 3935</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3936</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 3937</span><span class="p">}</span>
<span class="linenos"> 3938</span>
<span class="linenos"> 3939</span><span class="c1">// --- algo.LnumStr1_U32.ch.GetnumDflt</span>
<span class="linenos"> 3940</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 3941</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 3942</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 3943</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr1_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3944</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3945</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 3946</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 3947</span><span class="p">}</span>
<span class="linenos"> 3948</span>
<span class="linenos"> 3949</span><span class="c1">// --- algo.LnumStr1_U32.ch.Geti64</span>
<span class="linenos"> 3950</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 3951</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 3952</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 3953</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr1_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3954</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3955</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 3956</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 3957</span><span class="p">}</span>
<span class="linenos"> 3958</span>
<span class="linenos"> 3959</span><span class="c1">// --- algo.LnumStr1_U32.ch.SetnumMaybe</span>
<span class="linenos"> 3960</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 3961</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 3962</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr1_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3963</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 3964</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 3965</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 3966</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 3967</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 3968</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 3969</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3970</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 3971</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 3972</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3973</span><span class="p">}</span>
<span class="linenos"> 3974</span>
<span class="linenos"> 3975</span><span class="c1">// --- algo.LnumStr1_U32..Hash</span>
<span class="linenos"> 3976</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr1_U32_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr1_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3977</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 3978</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 3979</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 3980</span><span class="p">}</span>
<span class="linenos"> 3981</span>
<span class="linenos"> 3982</span><span class="c1">// --- algo.LnumStr1_U32..ReadStrptrMaybe</span>
<span class="linenos"> 3983</span><span class="c1">// Read fields of algo::LnumStr1_U32 from an ascii string.</span>
<span class="linenos"> 3984</span><span class="c1">// The format of the string is the format of the algo::LnumStr1_U32&#39;s only field</span>
<span class="linenos"> 3985</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr1_U32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr1_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3986</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 3987</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 3988</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 3989</span><span class="p">}</span>
<span class="linenos"> 3990</span>
<span class="linenos"> 3991</span><span class="c1">// --- algo.LnumStr1_U32..Print</span>
<span class="linenos"> 3992</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 3993</span><span class="c1">// cfmt:algo.LnumStr1_U32.String  printfmt:Raw</span>
<span class="linenos"> 3994</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr1_U32_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr1_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 3995</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 3996</span><span class="p">}</span>
<span class="linenos"> 3997</span>
<span class="linenos"> 3998</span><span class="c1">// --- algo.LnumStr20_U64.ch.Print</span>
<span class="linenos"> 3999</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr20_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4000</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 4001</span><span class="p">}</span>
<span class="linenos"> 4002</span>
<span class="linenos"> 4003</span><span class="c1">// --- algo.LnumStr20_U64.ch.ReadStrptrMaybe</span>
<span class="linenos"> 4004</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 4005</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr20_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4006</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 4007</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4008</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 4009</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4010</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4011</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 20&quot;</span><span class="p">);</span>
<span class="linenos"> 4012</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4013</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4014</span><span class="p">}</span>
<span class="linenos"> 4015</span>
<span class="linenos"> 4016</span><span class="c1">// --- algo.LnumStr20_U64.ch.SetStrptr</span>
<span class="linenos"> 4017</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 4018</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 4019</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 4020</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr20_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4021</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span>
<span class="linenos"> 4022</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 4023</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4024</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4025</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4026</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 4027</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4028</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4029</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 4030</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4031</span><span class="p">}</span>
<span class="linenos"> 4032</span>
<span class="linenos"> 4033</span><span class="c1">// --- algo.LnumStr20_U64.ch.Getnum</span>
<span class="linenos"> 4034</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4035</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 4036</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 4037</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4038</span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr20_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4039</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4040</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 4041</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4042</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 4043</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 4044</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4045</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 4046</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4047</span><span class="w">            </span><span class="n">and_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 4048</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 4049</span><span class="w">        </span><span class="c1">// Check for 64-bit overflow inside the loop</span>
<span class="linenos"> 4050</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">digit</span><span class="p">;</span>
<span class="linenos"> 4051</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">r1</span><span class="p">);</span>
<span class="linenos"> 4052</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r1</span><span class="p">;</span>
<span class="linenos"> 4053</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4054</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 4055</span><span class="p">}</span>
<span class="linenos"> 4056</span>
<span class="linenos"> 4057</span><span class="c1">// --- algo.LnumStr20_U64.ch.GetnumDflt</span>
<span class="linenos"> 4058</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4059</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 4060</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4061</span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr20_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4062</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4063</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 4064</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 4065</span><span class="p">}</span>
<span class="linenos"> 4066</span>
<span class="linenos"> 4067</span><span class="c1">// --- algo.LnumStr20_U64.ch.Geti64</span>
<span class="linenos"> 4068</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4069</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 4070</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4071</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr20_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4072</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4073</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 4074</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 4075</span><span class="p">}</span>
<span class="linenos"> 4076</span>
<span class="linenos"> 4077</span><span class="c1">// --- algo.LnumStr20_U64.ch.SetnumMaybe</span>
<span class="linenos"> 4078</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 4079</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 4080</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr20_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4081</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 4082</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4083</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 4084</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 4085</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 4086</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
<span class="linenos"> 4087</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4088</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 4089</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4090</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4091</span><span class="p">}</span>
<span class="linenos"> 4092</span>
<span class="linenos"> 4093</span><span class="c1">// --- algo.LnumStr20_U64..Hash</span>
<span class="linenos"> 4094</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr20_U64_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr20_U64</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4095</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 4096</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 4097</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 4098</span><span class="p">}</span>
<span class="linenos"> 4099</span>
<span class="linenos"> 4100</span><span class="c1">// --- algo.LnumStr20_U64..ReadStrptrMaybe</span>
<span class="linenos"> 4101</span><span class="c1">// Read fields of algo::LnumStr20_U64 from an ascii string.</span>
<span class="linenos"> 4102</span><span class="c1">// The format of the string is the format of the algo::LnumStr20_U64&#39;s only field</span>
<span class="linenos"> 4103</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr20_U64_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr20_U64</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4104</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4105</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 4106</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4107</span><span class="p">}</span>
<span class="linenos"> 4108</span>
<span class="linenos"> 4109</span><span class="c1">// --- algo.LnumStr20_U64..Print</span>
<span class="linenos"> 4110</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 4111</span><span class="c1">// cfmt:algo.LnumStr20_U64.String  printfmt:Raw</span>
<span class="linenos"> 4112</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr20_U64_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr20_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4113</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 4114</span><span class="p">}</span>
<span class="linenos"> 4115</span>
<span class="linenos"> 4116</span><span class="c1">// --- algo.LnumStr22_U64.ch.Print</span>
<span class="linenos"> 4117</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr22_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4118</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 4119</span><span class="p">}</span>
<span class="linenos"> 4120</span>
<span class="linenos"> 4121</span><span class="c1">// --- algo.LnumStr22_U64.ch.ReadStrptrMaybe</span>
<span class="linenos"> 4122</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 4123</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr22_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4124</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 4125</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">22</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4126</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 4127</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4128</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4129</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 22&quot;</span><span class="p">);</span>
<span class="linenos"> 4130</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4131</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4132</span><span class="p">}</span>
<span class="linenos"> 4133</span>
<span class="linenos"> 4134</span><span class="c1">// --- algo.LnumStr22_U64.ch.SetStrptr</span>
<span class="linenos"> 4135</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 4136</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 4137</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 4138</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr22_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4139</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">);</span>
<span class="linenos"> 4140</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 4141</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4142</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4143</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4144</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 4145</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4146</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4147</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 4148</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4149</span><span class="p">}</span>
<span class="linenos"> 4150</span>
<span class="linenos"> 4151</span><span class="c1">// --- algo.LnumStr22_U64.ch.Getnum</span>
<span class="linenos"> 4152</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4153</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 4154</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 4155</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4156</span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr22_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4157</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4158</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 4159</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4160</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 4161</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 4162</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4163</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 4164</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4165</span><span class="w">            </span><span class="n">and_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 4166</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 4167</span><span class="w">        </span><span class="c1">// Check for 64-bit overflow inside the loop</span>
<span class="linenos"> 4168</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">digit</span><span class="p">;</span>
<span class="linenos"> 4169</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">r1</span><span class="p">);</span>
<span class="linenos"> 4170</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r1</span><span class="p">;</span>
<span class="linenos"> 4171</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4172</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 4173</span><span class="p">}</span>
<span class="linenos"> 4174</span>
<span class="linenos"> 4175</span><span class="c1">// --- algo.LnumStr22_U64.ch.GetnumDflt</span>
<span class="linenos"> 4176</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4177</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 4178</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4179</span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr22_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4180</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4181</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 4182</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 4183</span><span class="p">}</span>
<span class="linenos"> 4184</span>
<span class="linenos"> 4185</span><span class="c1">// --- algo.LnumStr22_U64.ch.Geti64</span>
<span class="linenos"> 4186</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4187</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 4188</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4189</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr22_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4190</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4191</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 4192</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 4193</span><span class="p">}</span>
<span class="linenos"> 4194</span>
<span class="linenos"> 4195</span><span class="c1">// --- algo.LnumStr22_U64.ch.SetnumMaybe</span>
<span class="linenos"> 4196</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 4197</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 4198</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr22_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4199</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 4200</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4201</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 4202</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 4203</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 4204</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">22</span><span class="p">;</span>
<span class="linenos"> 4205</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4206</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 4207</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4208</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4209</span><span class="p">}</span>
<span class="linenos"> 4210</span>
<span class="linenos"> 4211</span><span class="c1">// --- algo.LnumStr22_U64..Hash</span>
<span class="linenos"> 4212</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr22_U64_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr22_U64</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4213</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 4214</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 4215</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 4216</span><span class="p">}</span>
<span class="linenos"> 4217</span>
<span class="linenos"> 4218</span><span class="c1">// --- algo.LnumStr22_U64..ReadStrptrMaybe</span>
<span class="linenos"> 4219</span><span class="c1">// Read fields of algo::LnumStr22_U64 from an ascii string.</span>
<span class="linenos"> 4220</span><span class="c1">// The format of the string is the format of the algo::LnumStr22_U64&#39;s only field</span>
<span class="linenos"> 4221</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr22_U64_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr22_U64</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4222</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4223</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 4224</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4225</span><span class="p">}</span>
<span class="linenos"> 4226</span>
<span class="linenos"> 4227</span><span class="c1">// --- algo.LnumStr22_U64..Print</span>
<span class="linenos"> 4228</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 4229</span><span class="c1">// cfmt:algo.LnumStr22_U64.String  printfmt:Raw</span>
<span class="linenos"> 4230</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr22_U64_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr22_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4231</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 4232</span><span class="p">}</span>
<span class="linenos"> 4233</span>
<span class="linenos"> 4234</span><span class="c1">// --- algo.LnumStr2_U32.ch.Print</span>
<span class="linenos"> 4235</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr2_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4236</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 4237</span><span class="p">}</span>
<span class="linenos"> 4238</span>
<span class="linenos"> 4239</span><span class="c1">// --- algo.LnumStr2_U32.ch.ReadStrptrMaybe</span>
<span class="linenos"> 4240</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 4241</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr2_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4242</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 4243</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4244</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 4245</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4246</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4247</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 2&quot;</span><span class="p">);</span>
<span class="linenos"> 4248</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4249</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4250</span><span class="p">}</span>
<span class="linenos"> 4251</span>
<span class="linenos"> 4252</span><span class="c1">// --- algo.LnumStr2_U32.ch.SetStrptr</span>
<span class="linenos"> 4253</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 4254</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 4255</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 4256</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr2_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4257</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos"> 4258</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 4259</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4260</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4261</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4262</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 4263</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4264</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4265</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 4266</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4267</span><span class="p">}</span>
<span class="linenos"> 4268</span>
<span class="linenos"> 4269</span><span class="c1">// --- algo.LnumStr2_U32.ch.Getnum</span>
<span class="linenos"> 4270</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4271</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 4272</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 4273</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4274</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr2_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4275</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4276</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 4277</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">str</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// empty string maps to zero</span>
<span class="linenos"> 4278</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 4279</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aParseNum4</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 4280</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 4281</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4282</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 4283</span><span class="p">}</span>
<span class="linenos"> 4284</span>
<span class="linenos"> 4285</span><span class="c1">// --- algo.LnumStr2_U32.ch.GetnumDflt</span>
<span class="linenos"> 4286</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4287</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 4288</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4289</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr2_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4290</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4291</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 4292</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 4293</span><span class="p">}</span>
<span class="linenos"> 4294</span>
<span class="linenos"> 4295</span><span class="c1">// --- algo.LnumStr2_U32.ch.Geti64</span>
<span class="linenos"> 4296</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4297</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 4298</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4299</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr2_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4300</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4301</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 4302</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 4303</span><span class="p">}</span>
<span class="linenos"> 4304</span>
<span class="linenos"> 4305</span><span class="c1">// --- algo.LnumStr2_U32.ch.SetnumMaybe</span>
<span class="linenos"> 4306</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 4307</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 4308</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr2_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4309</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 4310</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4311</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 4312</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 4313</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 4314</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="linenos"> 4315</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4316</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 4317</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4318</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4319</span><span class="p">}</span>
<span class="linenos"> 4320</span>
<span class="linenos"> 4321</span><span class="c1">// --- algo.LnumStr2_U32..Hash</span>
<span class="linenos"> 4322</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr2_U32_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr2_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4323</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 4324</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 4325</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 4326</span><span class="p">}</span>
<span class="linenos"> 4327</span>
<span class="linenos"> 4328</span><span class="c1">// --- algo.LnumStr2_U32..ReadStrptrMaybe</span>
<span class="linenos"> 4329</span><span class="c1">// Read fields of algo::LnumStr2_U32 from an ascii string.</span>
<span class="linenos"> 4330</span><span class="c1">// The format of the string is the format of the algo::LnumStr2_U32&#39;s only field</span>
<span class="linenos"> 4331</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr2_U32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr2_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4332</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4333</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 4334</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4335</span><span class="p">}</span>
<span class="linenos"> 4336</span>
<span class="linenos"> 4337</span><span class="c1">// --- algo.LnumStr2_U32..Print</span>
<span class="linenos"> 4338</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 4339</span><span class="c1">// cfmt:algo.LnumStr2_U32.String  printfmt:Raw</span>
<span class="linenos"> 4340</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr2_U32_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr2_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4341</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 4342</span><span class="p">}</span>
<span class="linenos"> 4343</span>
<span class="linenos"> 4344</span><span class="c1">// --- algo.LnumStr3_U32.ch.Print</span>
<span class="linenos"> 4345</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr3_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4346</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 4347</span><span class="p">}</span>
<span class="linenos"> 4348</span>
<span class="linenos"> 4349</span><span class="c1">// --- algo.LnumStr3_U32.ch.ReadStrptrMaybe</span>
<span class="linenos"> 4350</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 4351</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr3_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4352</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 4353</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4354</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 4355</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4356</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4357</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 3&quot;</span><span class="p">);</span>
<span class="linenos"> 4358</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4359</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4360</span><span class="p">}</span>
<span class="linenos"> 4361</span>
<span class="linenos"> 4362</span><span class="c1">// --- algo.LnumStr3_U32.ch.SetStrptr</span>
<span class="linenos"> 4363</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 4364</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 4365</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 4366</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr3_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4367</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="linenos"> 4368</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 4369</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4370</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4371</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4372</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 4373</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4374</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4375</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 4376</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4377</span><span class="p">}</span>
<span class="linenos"> 4378</span>
<span class="linenos"> 4379</span><span class="c1">// --- algo.LnumStr3_U32.ch.Getnum</span>
<span class="linenos"> 4380</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4381</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 4382</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 4383</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4384</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr3_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4385</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4386</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 4387</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">str</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// empty string maps to zero</span>
<span class="linenos"> 4388</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 4389</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aParseNum4</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 4390</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 4391</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4392</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 4393</span><span class="p">}</span>
<span class="linenos"> 4394</span>
<span class="linenos"> 4395</span><span class="c1">// --- algo.LnumStr3_U32.ch.GetnumDflt</span>
<span class="linenos"> 4396</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4397</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 4398</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4399</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr3_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4400</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4401</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 4402</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 4403</span><span class="p">}</span>
<span class="linenos"> 4404</span>
<span class="linenos"> 4405</span><span class="c1">// --- algo.LnumStr3_U32.ch.Geti64</span>
<span class="linenos"> 4406</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4407</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 4408</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4409</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr3_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4410</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4411</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 4412</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 4413</span><span class="p">}</span>
<span class="linenos"> 4414</span>
<span class="linenos"> 4415</span><span class="c1">// --- algo.LnumStr3_U32.ch.SetnumMaybe</span>
<span class="linenos"> 4416</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 4417</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 4418</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr3_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4419</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 4420</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4421</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 4422</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 4423</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 4424</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="linenos"> 4425</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4426</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 4427</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4428</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4429</span><span class="p">}</span>
<span class="linenos"> 4430</span>
<span class="linenos"> 4431</span><span class="c1">// --- algo.LnumStr3_U32..Hash</span>
<span class="linenos"> 4432</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr3_U32_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr3_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4433</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 4434</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 4435</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 4436</span><span class="p">}</span>
<span class="linenos"> 4437</span>
<span class="linenos"> 4438</span><span class="c1">// --- algo.LnumStr3_U32..ReadStrptrMaybe</span>
<span class="linenos"> 4439</span><span class="c1">// Read fields of algo::LnumStr3_U32 from an ascii string.</span>
<span class="linenos"> 4440</span><span class="c1">// The format of the string is the format of the algo::LnumStr3_U32&#39;s only field</span>
<span class="linenos"> 4441</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr3_U32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr3_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4442</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4443</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 4444</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4445</span><span class="p">}</span>
<span class="linenos"> 4446</span>
<span class="linenos"> 4447</span><span class="c1">// --- algo.LnumStr3_U32..Print</span>
<span class="linenos"> 4448</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 4449</span><span class="c1">// cfmt:algo.LnumStr3_U32.String  printfmt:Raw</span>
<span class="linenos"> 4450</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr3_U32_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr3_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4451</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 4452</span><span class="p">}</span>
<span class="linenos"> 4453</span>
<span class="linenos"> 4454</span><span class="c1">// --- algo.LnumStr4_U32.ch.Print</span>
<span class="linenos"> 4455</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr4_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4456</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 4457</span><span class="p">}</span>
<span class="linenos"> 4458</span>
<span class="linenos"> 4459</span><span class="c1">// --- algo.LnumStr4_U32.ch.ReadStrptrMaybe</span>
<span class="linenos"> 4460</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 4461</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr4_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4462</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 4463</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4464</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 4465</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4466</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4467</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 4&quot;</span><span class="p">);</span>
<span class="linenos"> 4468</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4469</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4470</span><span class="p">}</span>
<span class="linenos"> 4471</span>
<span class="linenos"> 4472</span><span class="c1">// --- algo.LnumStr4_U32.ch.SetStrptr</span>
<span class="linenos"> 4473</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 4474</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 4475</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 4476</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr4_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4477</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="linenos"> 4478</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 4479</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4480</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4481</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4482</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 4483</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4484</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4485</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 4486</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4487</span><span class="p">}</span>
<span class="linenos"> 4488</span>
<span class="linenos"> 4489</span><span class="c1">// --- algo.LnumStr4_U32.ch.Getnum</span>
<span class="linenos"> 4490</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4491</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 4492</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 4493</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4494</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr4_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4495</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4496</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 4497</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">str</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// empty string maps to zero</span>
<span class="linenos"> 4498</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 4499</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aParseNum4</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 4500</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 4501</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4502</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 4503</span><span class="p">}</span>
<span class="linenos"> 4504</span>
<span class="linenos"> 4505</span><span class="c1">// --- algo.LnumStr4_U32.ch.GetnumDflt</span>
<span class="linenos"> 4506</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4507</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 4508</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4509</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr4_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4510</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4511</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 4512</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 4513</span><span class="p">}</span>
<span class="linenos"> 4514</span>
<span class="linenos"> 4515</span><span class="c1">// --- algo.LnumStr4_U32.ch.Geti64</span>
<span class="linenos"> 4516</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4517</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 4518</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4519</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr4_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4520</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4521</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 4522</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 4523</span><span class="p">}</span>
<span class="linenos"> 4524</span>
<span class="linenos"> 4525</span><span class="c1">// --- algo.LnumStr4_U32.ch.SetnumMaybe</span>
<span class="linenos"> 4526</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 4527</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 4528</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr4_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4529</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 4530</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4531</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 4532</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 4533</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 4534</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="linenos"> 4535</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4536</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 4537</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4538</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4539</span><span class="p">}</span>
<span class="linenos"> 4540</span>
<span class="linenos"> 4541</span><span class="c1">// --- algo.LnumStr4_U32..Hash</span>
<span class="linenos"> 4542</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr4_U32_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr4_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4543</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 4544</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 4545</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 4546</span><span class="p">}</span>
<span class="linenos"> 4547</span>
<span class="linenos"> 4548</span><span class="c1">// --- algo.LnumStr4_U32..ReadStrptrMaybe</span>
<span class="linenos"> 4549</span><span class="c1">// Read fields of algo::LnumStr4_U32 from an ascii string.</span>
<span class="linenos"> 4550</span><span class="c1">// The format of the string is the format of the algo::LnumStr4_U32&#39;s only field</span>
<span class="linenos"> 4551</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr4_U32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr4_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4552</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4553</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 4554</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4555</span><span class="p">}</span>
<span class="linenos"> 4556</span>
<span class="linenos"> 4557</span><span class="c1">// --- algo.LnumStr4_U32..Print</span>
<span class="linenos"> 4558</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 4559</span><span class="c1">// cfmt:algo.LnumStr4_U32.String  printfmt:Raw</span>
<span class="linenos"> 4560</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr4_U32_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr4_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4561</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 4562</span><span class="p">}</span>
<span class="linenos"> 4563</span>
<span class="linenos"> 4564</span><span class="c1">// --- algo.LnumStr5_U32.ch.Print</span>
<span class="linenos"> 4565</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4566</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 4567</span><span class="p">}</span>
<span class="linenos"> 4568</span>
<span class="linenos"> 4569</span><span class="c1">// --- algo.LnumStr5_U32.ch.ReadStrptrMaybe</span>
<span class="linenos"> 4570</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 4571</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4572</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 4573</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4574</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 4575</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4576</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4577</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 5&quot;</span><span class="p">);</span>
<span class="linenos"> 4578</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4579</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4580</span><span class="p">}</span>
<span class="linenos"> 4581</span>
<span class="linenos"> 4582</span><span class="c1">// --- algo.LnumStr5_U32.ch.SetStrptr</span>
<span class="linenos"> 4583</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 4584</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 4585</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 4586</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4587</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="linenos"> 4588</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 4589</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4590</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4591</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4592</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 4593</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4594</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4595</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 4596</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4597</span><span class="p">}</span>
<span class="linenos"> 4598</span>
<span class="linenos"> 4599</span><span class="c1">// --- algo.LnumStr5_U32.ch.Getnum</span>
<span class="linenos"> 4600</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4601</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 4602</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 4603</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4604</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4605</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4606</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 4607</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">str</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// empty string maps to zero</span>
<span class="linenos"> 4608</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 4609</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aParseNum8</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 4610</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 4611</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4612</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 4613</span><span class="p">}</span>
<span class="linenos"> 4614</span>
<span class="linenos"> 4615</span><span class="c1">// --- algo.LnumStr5_U32.ch.GetnumDflt</span>
<span class="linenos"> 4616</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4617</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 4618</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4619</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4620</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4621</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 4622</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 4623</span><span class="p">}</span>
<span class="linenos"> 4624</span>
<span class="linenos"> 4625</span><span class="c1">// --- algo.LnumStr5_U32.ch.Geti64</span>
<span class="linenos"> 4626</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4627</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 4628</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4629</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4630</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4631</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 4632</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 4633</span><span class="p">}</span>
<span class="linenos"> 4634</span>
<span class="linenos"> 4635</span><span class="c1">// --- algo.LnumStr5_U32.ch.SetnumMaybe</span>
<span class="linenos"> 4636</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 4637</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 4638</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4639</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 4640</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4641</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 4642</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 4643</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 4644</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="linenos"> 4645</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4646</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 4647</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4648</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4649</span><span class="p">}</span>
<span class="linenos"> 4650</span>
<span class="linenos"> 4651</span><span class="c1">// --- algo.LnumStr5_U32..Hash</span>
<span class="linenos"> 4652</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4653</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 4654</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 4655</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 4656</span><span class="p">}</span>
<span class="linenos"> 4657</span>
<span class="linenos"> 4658</span><span class="c1">// --- algo.LnumStr5_U32..ReadStrptrMaybe</span>
<span class="linenos"> 4659</span><span class="c1">// Read fields of algo::LnumStr5_U32 from an ascii string.</span>
<span class="linenos"> 4660</span><span class="c1">// The format of the string is the format of the algo::LnumStr5_U32&#39;s only field</span>
<span class="linenos"> 4661</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4662</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4663</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 4664</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4665</span><span class="p">}</span>
<span class="linenos"> 4666</span>
<span class="linenos"> 4667</span><span class="c1">// --- algo.LnumStr5_U32..Print</span>
<span class="linenos"> 4668</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 4669</span><span class="c1">// cfmt:algo.LnumStr5_U32.String  printfmt:Raw</span>
<span class="linenos"> 4670</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4671</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 4672</span><span class="p">}</span>
<span class="linenos"> 4673</span>
<span class="linenos"> 4674</span><span class="c1">// --- algo.LnumStr5_U32_Base36.ch.Print</span>
<span class="linenos"> 4675</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4676</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 4677</span><span class="p">}</span>
<span class="linenos"> 4678</span>
<span class="linenos"> 4679</span><span class="c1">// --- algo.LnumStr5_U32_Base36.ch.ReadStrptrMaybe</span>
<span class="linenos"> 4680</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 4681</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4682</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 4683</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4684</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 4685</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4686</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4687</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 5&quot;</span><span class="p">);</span>
<span class="linenos"> 4688</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4689</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4690</span><span class="p">}</span>
<span class="linenos"> 4691</span>
<span class="linenos"> 4692</span><span class="c1">// --- algo.LnumStr5_U32_Base36.ch.SetStrptr</span>
<span class="linenos"> 4693</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 4694</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 4695</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 4696</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4697</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="linenos"> 4698</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 4699</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4700</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4701</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4702</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 4703</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4704</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4705</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 4706</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4707</span><span class="p">}</span>
<span class="linenos"> 4708</span>
<span class="linenos"> 4709</span><span class="c1">// --- algo.LnumStr5_U32_Base36.ch.Getnum</span>
<span class="linenos"> 4710</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4711</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 4712</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 4713</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4714</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4715</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4716</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 4717</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4718</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 4719</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 4720</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4721</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 4722</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">36-10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4723</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 4724</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">36-10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4725</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 4726</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4727</span><span class="w">            </span><span class="n">and_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 4728</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 4729</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">36</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">digit</span><span class="p">;</span>
<span class="linenos"> 4730</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4731</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 4732</span><span class="p">}</span>
<span class="linenos"> 4733</span>
<span class="linenos"> 4734</span><span class="c1">// --- algo.LnumStr5_U32_Base36.ch.GetnumDflt</span>
<span class="linenos"> 4735</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4736</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 4737</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4738</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4739</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4740</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 4741</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 4742</span><span class="p">}</span>
<span class="linenos"> 4743</span>
<span class="linenos"> 4744</span><span class="c1">// --- algo.LnumStr5_U32_Base36.ch.Geti64</span>
<span class="linenos"> 4745</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4746</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 4747</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4748</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4749</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4750</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 4751</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 4752</span><span class="p">}</span>
<span class="linenos"> 4753</span>
<span class="linenos"> 4754</span><span class="c1">// --- algo.LnumStr5_U32_Base36.ch.SetnumMaybe</span>
<span class="linenos"> 4755</span><span class="c1">// Set string to number specified in RHS performing base-36 conversion.</span>
<span class="linenos"> 4756</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 4757</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4758</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 4759</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4760</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 4761</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 4762</span><span class="w">    </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">buf</span><span class="p">);</span>
<span class="linenos"> 4763</span><span class="w">    </span><span class="k">do</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4764</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">rem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">36</span><span class="p">);</span>
<span class="linenos"> 4765</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">36</span><span class="p">;</span>
<span class="linenos"> 4766</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 4767</span><span class="w">        </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rem</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kt">char</span><span class="p">(</span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rem</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">char</span><span class="p">(</span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rem</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="linenos"> 4768</span><span class="w">        </span><span class="n">buf</span><span class="p">[</span><span class="o">--</span><span class="n">charpos</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 4769</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 4770</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">charpos</span><span class="p">;</span>
<span class="linenos"> 4771</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="linenos"> 4772</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4773</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 4774</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4775</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4776</span><span class="p">}</span>
<span class="linenos"> 4777</span>
<span class="linenos"> 4778</span><span class="c1">// --- algo.LnumStr5_U32_Base36..Hash</span>
<span class="linenos"> 4779</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32_Base36_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32_Base36</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4780</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 4781</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 4782</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 4783</span><span class="p">}</span>
<span class="linenos"> 4784</span>
<span class="linenos"> 4785</span><span class="c1">// --- algo.LnumStr5_U32_Base36..ReadStrptrMaybe</span>
<span class="linenos"> 4786</span><span class="c1">// Read fields of algo::LnumStr5_U32_Base36 from an ascii string.</span>
<span class="linenos"> 4787</span><span class="c1">// The format of the string is the format of the algo::LnumStr5_U32_Base36&#39;s only field</span>
<span class="linenos"> 4788</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32_Base36_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32_Base36</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4789</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4790</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 4791</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4792</span><span class="p">}</span>
<span class="linenos"> 4793</span>
<span class="linenos"> 4794</span><span class="c1">// --- algo.LnumStr5_U32_Base36..Print</span>
<span class="linenos"> 4795</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 4796</span><span class="c1">// cfmt:algo.LnumStr5_U32_Base36.String  printfmt:Raw</span>
<span class="linenos"> 4797</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32_Base36_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4798</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 4799</span><span class="p">}</span>
<span class="linenos"> 4800</span>
<span class="linenos"> 4801</span><span class="c1">// --- algo.LnumStr6_U32.ch.Print</span>
<span class="linenos"> 4802</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4803</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 4804</span><span class="p">}</span>
<span class="linenos"> 4805</span>
<span class="linenos"> 4806</span><span class="c1">// --- algo.LnumStr6_U32.ch.ReadStrptrMaybe</span>
<span class="linenos"> 4807</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 4808</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4809</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 4810</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4811</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 4812</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4813</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4814</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 6&quot;</span><span class="p">);</span>
<span class="linenos"> 4815</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4816</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4817</span><span class="p">}</span>
<span class="linenos"> 4818</span>
<span class="linenos"> 4819</span><span class="c1">// --- algo.LnumStr6_U32.ch.SetStrptr</span>
<span class="linenos"> 4820</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 4821</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 4822</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 4823</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4824</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
<span class="linenos"> 4825</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 4826</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4827</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4828</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4829</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 4830</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4831</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4832</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 4833</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4834</span><span class="p">}</span>
<span class="linenos"> 4835</span>
<span class="linenos"> 4836</span><span class="c1">// --- algo.LnumStr6_U32.ch.Getnum</span>
<span class="linenos"> 4837</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4838</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 4839</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 4840</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4841</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4842</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4843</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 4844</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">str</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// empty string maps to zero</span>
<span class="linenos"> 4845</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 4846</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aParseNum8</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 4847</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 4848</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4849</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 4850</span><span class="p">}</span>
<span class="linenos"> 4851</span>
<span class="linenos"> 4852</span><span class="c1">// --- algo.LnumStr6_U32.ch.GetnumDflt</span>
<span class="linenos"> 4853</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4854</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 4855</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4856</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4857</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4858</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 4859</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 4860</span><span class="p">}</span>
<span class="linenos"> 4861</span>
<span class="linenos"> 4862</span><span class="c1">// --- algo.LnumStr6_U32.ch.Geti64</span>
<span class="linenos"> 4863</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4864</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 4865</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4866</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4867</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4868</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 4869</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 4870</span><span class="p">}</span>
<span class="linenos"> 4871</span>
<span class="linenos"> 4872</span><span class="c1">// --- algo.LnumStr6_U32.ch.SetnumMaybe</span>
<span class="linenos"> 4873</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 4874</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 4875</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4876</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 4877</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4878</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 4879</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 4880</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 4881</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
<span class="linenos"> 4882</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4883</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 4884</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4885</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4886</span><span class="p">}</span>
<span class="linenos"> 4887</span>
<span class="linenos"> 4888</span><span class="c1">// --- algo.LnumStr6_U32..Hash</span>
<span class="linenos"> 4889</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr6_U32_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr6_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4890</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 4891</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 4892</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 4893</span><span class="p">}</span>
<span class="linenos"> 4894</span>
<span class="linenos"> 4895</span><span class="c1">// --- algo.LnumStr6_U32..ReadStrptrMaybe</span>
<span class="linenos"> 4896</span><span class="c1">// Read fields of algo::LnumStr6_U32 from an ascii string.</span>
<span class="linenos"> 4897</span><span class="c1">// The format of the string is the format of the algo::LnumStr6_U32&#39;s only field</span>
<span class="linenos"> 4898</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr6_U32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr6_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4899</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4900</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 4901</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4902</span><span class="p">}</span>
<span class="linenos"> 4903</span>
<span class="linenos"> 4904</span><span class="c1">// --- algo.LnumStr6_U32..Print</span>
<span class="linenos"> 4905</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 4906</span><span class="c1">// cfmt:algo.LnumStr6_U32.String  printfmt:Raw</span>
<span class="linenos"> 4907</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr6_U32_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4908</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 4909</span><span class="p">}</span>
<span class="linenos"> 4910</span>
<span class="linenos"> 4911</span><span class="c1">// --- algo.LnumStr7_U32.ch.Print</span>
<span class="linenos"> 4912</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4913</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 4914</span><span class="p">}</span>
<span class="linenos"> 4915</span>
<span class="linenos"> 4916</span><span class="c1">// --- algo.LnumStr7_U32.ch.ReadStrptrMaybe</span>
<span class="linenos"> 4917</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 4918</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4919</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 4920</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4921</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 4922</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4923</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4924</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 7&quot;</span><span class="p">);</span>
<span class="linenos"> 4925</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4926</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4927</span><span class="p">}</span>
<span class="linenos"> 4928</span>
<span class="linenos"> 4929</span><span class="c1">// --- algo.LnumStr7_U32.ch.SetStrptr</span>
<span class="linenos"> 4930</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 4931</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 4932</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 4933</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4934</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">);</span>
<span class="linenos"> 4935</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 4936</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4937</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4938</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4939</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 4940</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4941</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4942</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 4943</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4944</span><span class="p">}</span>
<span class="linenos"> 4945</span>
<span class="linenos"> 4946</span><span class="c1">// --- algo.LnumStr7_U32.ch.Getnum</span>
<span class="linenos"> 4947</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4948</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 4949</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 4950</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4951</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4952</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4953</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 4954</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">str</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// empty string maps to zero</span>
<span class="linenos"> 4955</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 4956</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aParseNum8</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 4957</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 4958</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4959</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 4960</span><span class="p">}</span>
<span class="linenos"> 4961</span>
<span class="linenos"> 4962</span><span class="c1">// --- algo.LnumStr7_U32.ch.GetnumDflt</span>
<span class="linenos"> 4963</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4964</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 4965</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4966</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4967</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4968</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 4969</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 4970</span><span class="p">}</span>
<span class="linenos"> 4971</span>
<span class="linenos"> 4972</span><span class="c1">// --- algo.LnumStr7_U32.ch.Geti64</span>
<span class="linenos"> 4973</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 4974</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 4975</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 4976</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4977</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 4978</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 4979</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 4980</span><span class="p">}</span>
<span class="linenos"> 4981</span>
<span class="linenos"> 4982</span><span class="c1">// --- algo.LnumStr7_U32.ch.SetnumMaybe</span>
<span class="linenos"> 4983</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 4984</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 4985</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4986</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 4987</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 4988</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 4989</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 4990</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 4991</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span>
<span class="linenos"> 4992</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 4993</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 4994</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 4995</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 4996</span><span class="p">}</span>
<span class="linenos"> 4997</span>
<span class="linenos"> 4998</span><span class="c1">// --- algo.LnumStr7_U32..Hash</span>
<span class="linenos"> 4999</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5000</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5001</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 5002</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 5003</span><span class="p">}</span>
<span class="linenos"> 5004</span>
<span class="linenos"> 5005</span><span class="c1">// --- algo.LnumStr7_U32..ReadStrptrMaybe</span>
<span class="linenos"> 5006</span><span class="c1">// Read fields of algo::LnumStr7_U32 from an ascii string.</span>
<span class="linenos"> 5007</span><span class="c1">// The format of the string is the format of the algo::LnumStr7_U32&#39;s only field</span>
<span class="linenos"> 5008</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5009</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5010</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 5011</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5012</span><span class="p">}</span>
<span class="linenos"> 5013</span>
<span class="linenos"> 5014</span><span class="c1">// --- algo.LnumStr7_U32..Print</span>
<span class="linenos"> 5015</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 5016</span><span class="c1">// cfmt:algo.LnumStr7_U32.String  printfmt:Raw</span>
<span class="linenos"> 5017</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5018</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 5019</span><span class="p">}</span>
<span class="linenos"> 5020</span>
<span class="linenos"> 5021</span><span class="c1">// --- algo.LnumStr7_U32_Base36.ch.Print</span>
<span class="linenos"> 5022</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5023</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 5024</span><span class="p">}</span>
<span class="linenos"> 5025</span>
<span class="linenos"> 5026</span><span class="c1">// --- algo.LnumStr7_U32_Base36.ch.ReadStrptrMaybe</span>
<span class="linenos"> 5027</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 5028</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5029</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 5030</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5031</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5032</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5033</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5034</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 7&quot;</span><span class="p">);</span>
<span class="linenos"> 5035</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5036</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5037</span><span class="p">}</span>
<span class="linenos"> 5038</span>
<span class="linenos"> 5039</span><span class="c1">// --- algo.LnumStr7_U32_Base36.ch.SetStrptr</span>
<span class="linenos"> 5040</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 5041</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 5042</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 5043</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5044</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">);</span>
<span class="linenos"> 5045</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 5046</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5047</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5048</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5049</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 5050</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5051</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5052</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 5053</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5054</span><span class="p">}</span>
<span class="linenos"> 5055</span>
<span class="linenos"> 5056</span><span class="c1">// --- algo.LnumStr7_U32_Base36.ch.Getnum</span>
<span class="linenos"> 5057</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 5058</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 5059</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 5060</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 5061</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5062</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5063</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 5064</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5065</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 5066</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 5067</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5068</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 5069</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">36-10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5070</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 5071</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">36-10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5072</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 5073</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5074</span><span class="w">            </span><span class="n">and_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 5075</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 5076</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">36</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">digit</span><span class="p">;</span>
<span class="linenos"> 5077</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5078</span><span class="w">    </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">0XFFFFFFFF</span><span class="p">;</span>
<span class="linenos"> 5079</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 5080</span><span class="p">}</span>
<span class="linenos"> 5081</span>
<span class="linenos"> 5082</span><span class="c1">// --- algo.LnumStr7_U32_Base36.ch.GetnumDflt</span>
<span class="linenos"> 5083</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 5084</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 5085</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 5086</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5087</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5088</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 5089</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 5090</span><span class="p">}</span>
<span class="linenos"> 5091</span>
<span class="linenos"> 5092</span><span class="c1">// --- algo.LnumStr7_U32_Base36.ch.Geti64</span>
<span class="linenos"> 5093</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 5094</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 5095</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 5096</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5097</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5098</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 5099</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 5100</span><span class="p">}</span>
<span class="linenos"> 5101</span>
<span class="linenos"> 5102</span><span class="c1">// --- algo.LnumStr7_U32_Base36.ch.SetnumMaybe</span>
<span class="linenos"> 5103</span><span class="c1">// Set string to number specified in RHS performing base-36 conversion.</span>
<span class="linenos"> 5104</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 5105</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5106</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 5107</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5108</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 5109</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 5110</span><span class="w">    </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">buf</span><span class="p">);</span>
<span class="linenos"> 5111</span><span class="w">    </span><span class="k">do</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5112</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">rem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">36</span><span class="p">);</span>
<span class="linenos"> 5113</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">36</span><span class="p">;</span>
<span class="linenos"> 5114</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 5115</span><span class="w">        </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rem</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kt">char</span><span class="p">(</span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rem</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">char</span><span class="p">(</span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rem</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="linenos"> 5116</span><span class="w">        </span><span class="n">buf</span><span class="p">[</span><span class="o">--</span><span class="n">charpos</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 5117</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 5118</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">charpos</span><span class="p">;</span>
<span class="linenos"> 5119</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span>
<span class="linenos"> 5120</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5121</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 5122</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5123</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5124</span><span class="p">}</span>
<span class="linenos"> 5125</span>
<span class="linenos"> 5126</span><span class="c1">// --- algo.LnumStr7_U32_Base36..Hash</span>
<span class="linenos"> 5127</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32_Base36_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32_Base36</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5128</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5129</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 5130</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 5131</span><span class="p">}</span>
<span class="linenos"> 5132</span>
<span class="linenos"> 5133</span><span class="c1">// --- algo.LnumStr7_U32_Base36..ReadStrptrMaybe</span>
<span class="linenos"> 5134</span><span class="c1">// Read fields of algo::LnumStr7_U32_Base36 from an ascii string.</span>
<span class="linenos"> 5135</span><span class="c1">// The format of the string is the format of the algo::LnumStr7_U32_Base36&#39;s only field</span>
<span class="linenos"> 5136</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32_Base36_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32_Base36</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5137</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5138</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 5139</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5140</span><span class="p">}</span>
<span class="linenos"> 5141</span>
<span class="linenos"> 5142</span><span class="c1">// --- algo.LnumStr7_U32_Base36..Print</span>
<span class="linenos"> 5143</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 5144</span><span class="c1">// cfmt:algo.LnumStr7_U32_Base36.String  printfmt:Raw</span>
<span class="linenos"> 5145</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32_Base36_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5146</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 5147</span><span class="p">}</span>
<span class="linenos"> 5148</span>
<span class="linenos"> 5149</span><span class="c1">// --- algo.LnumStr8_U32.ch.Print</span>
<span class="linenos"> 5150</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5151</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 5152</span><span class="p">}</span>
<span class="linenos"> 5153</span>
<span class="linenos"> 5154</span><span class="c1">// --- algo.LnumStr8_U32.ch.ReadStrptrMaybe</span>
<span class="linenos"> 5155</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 5156</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5157</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 5158</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5159</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5160</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5161</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5162</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 8&quot;</span><span class="p">);</span>
<span class="linenos"> 5163</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5164</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5165</span><span class="p">}</span>
<span class="linenos"> 5166</span>
<span class="linenos"> 5167</span><span class="c1">// --- algo.LnumStr8_U32.ch.SetStrptr</span>
<span class="linenos"> 5168</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 5169</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 5170</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 5171</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5172</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
<span class="linenos"> 5173</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 5174</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5175</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5176</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5177</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 5178</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5179</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5180</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 5181</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5182</span><span class="p">}</span>
<span class="linenos"> 5183</span>
<span class="linenos"> 5184</span><span class="c1">// --- algo.LnumStr8_U32.ch.Getnum</span>
<span class="linenos"> 5185</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 5186</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 5187</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 5188</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 5189</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5190</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5191</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 5192</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">str</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// empty string maps to zero</span>
<span class="linenos"> 5193</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 5194</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aParseNum8</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 5195</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 5196</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5197</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 5198</span><span class="p">}</span>
<span class="linenos"> 5199</span>
<span class="linenos"> 5200</span><span class="c1">// --- algo.LnumStr8_U32.ch.GetnumDflt</span>
<span class="linenos"> 5201</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 5202</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 5203</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 5204</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5205</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5206</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 5207</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 5208</span><span class="p">}</span>
<span class="linenos"> 5209</span>
<span class="linenos"> 5210</span><span class="c1">// --- algo.LnumStr8_U32.ch.Geti64</span>
<span class="linenos"> 5211</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 5212</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 5213</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 5214</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5215</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5216</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 5217</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 5218</span><span class="p">}</span>
<span class="linenos"> 5219</span>
<span class="linenos"> 5220</span><span class="c1">// --- algo.LnumStr8_U32.ch.SetnumMaybe</span>
<span class="linenos"> 5221</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 5222</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 5223</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5224</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 5225</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5226</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 5227</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 5228</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 5229</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span>
<span class="linenos"> 5230</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5231</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 5232</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5233</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5234</span><span class="p">}</span>
<span class="linenos"> 5235</span>
<span class="linenos"> 5236</span><span class="c1">// --- algo.LnumStr8_U32..Hash</span>
<span class="linenos"> 5237</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5238</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5239</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 5240</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 5241</span><span class="p">}</span>
<span class="linenos"> 5242</span>
<span class="linenos"> 5243</span><span class="c1">// --- algo.LnumStr8_U32..ReadStrptrMaybe</span>
<span class="linenos"> 5244</span><span class="c1">// Read fields of algo::LnumStr8_U32 from an ascii string.</span>
<span class="linenos"> 5245</span><span class="c1">// The format of the string is the format of the algo::LnumStr8_U32&#39;s only field</span>
<span class="linenos"> 5246</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5247</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5248</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 5249</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5250</span><span class="p">}</span>
<span class="linenos"> 5251</span>
<span class="linenos"> 5252</span><span class="c1">// --- algo.LnumStr8_U32..Print</span>
<span class="linenos"> 5253</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 5254</span><span class="c1">// cfmt:algo.LnumStr8_U32.String  printfmt:Raw</span>
<span class="linenos"> 5255</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5256</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 5257</span><span class="p">}</span>
<span class="linenos"> 5258</span>
<span class="linenos"> 5259</span><span class="c1">// --- algo.LnumStr8_U32_Base16.ch.Print</span>
<span class="linenos"> 5260</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32_Base16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5261</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 5262</span><span class="p">}</span>
<span class="linenos"> 5263</span>
<span class="linenos"> 5264</span><span class="c1">// --- algo.LnumStr8_U32_Base16.ch.ReadStrptrMaybe</span>
<span class="linenos"> 5265</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 5266</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32_Base16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5267</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 5268</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5269</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5270</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5271</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5272</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 8&quot;</span><span class="p">);</span>
<span class="linenos"> 5273</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5274</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5275</span><span class="p">}</span>
<span class="linenos"> 5276</span>
<span class="linenos"> 5277</span><span class="c1">// --- algo.LnumStr8_U32_Base16.ch.SetStrptr</span>
<span class="linenos"> 5278</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 5279</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 5280</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 5281</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32_Base16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5282</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
<span class="linenos"> 5283</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 5284</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5285</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5286</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5287</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 5288</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5289</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5290</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 5291</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5292</span><span class="p">}</span>
<span class="linenos"> 5293</span>
<span class="linenos"> 5294</span><span class="c1">// --- algo.LnumStr8_U32_Base16.ch.Getnum</span>
<span class="linenos"> 5295</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 5296</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 5297</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 5298</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 5299</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32_Base16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5300</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5301</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 5302</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5303</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 5304</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 5305</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5306</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 5307</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">16-10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5308</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 5309</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">16-10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5310</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 5311</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5312</span><span class="w">            </span><span class="n">and_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 5313</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 5314</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">16</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">digit</span><span class="p">;</span>
<span class="linenos"> 5315</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5316</span><span class="w">    </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">0XFFFFFFFF</span><span class="p">;</span>
<span class="linenos"> 5317</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 5318</span><span class="p">}</span>
<span class="linenos"> 5319</span>
<span class="linenos"> 5320</span><span class="c1">// --- algo.LnumStr8_U32_Base16.ch.GetnumDflt</span>
<span class="linenos"> 5321</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 5322</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 5323</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 5324</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32_Base16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5325</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5326</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 5327</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 5328</span><span class="p">}</span>
<span class="linenos"> 5329</span>
<span class="linenos"> 5330</span><span class="c1">// --- algo.LnumStr8_U32_Base16.ch.Geti64</span>
<span class="linenos"> 5331</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 5332</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 5333</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 5334</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32_Base16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5335</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5336</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 5337</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 5338</span><span class="p">}</span>
<span class="linenos"> 5339</span>
<span class="linenos"> 5340</span><span class="c1">// --- algo.LnumStr8_U32_Base16.ch.SetnumMaybe</span>
<span class="linenos"> 5341</span><span class="c1">// Set string to number specified in RHS performing base-16 conversion.</span>
<span class="linenos"> 5342</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 5343</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32_Base16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5344</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 5345</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5346</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 5347</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 5348</span><span class="w">    </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">buf</span><span class="p">);</span>
<span class="linenos"> 5349</span><span class="w">    </span><span class="k">do</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5350</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">rem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span>
<span class="linenos"> 5351</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">16</span><span class="p">;</span>
<span class="linenos"> 5352</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 5353</span><span class="w">        </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rem</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kt">char</span><span class="p">(</span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rem</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">char</span><span class="p">(</span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rem</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="linenos"> 5354</span><span class="w">        </span><span class="n">buf</span><span class="p">[</span><span class="o">--</span><span class="n">charpos</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 5355</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 5356</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">charpos</span><span class="p">;</span>
<span class="linenos"> 5357</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span>
<span class="linenos"> 5358</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5359</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 5360</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5361</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5362</span><span class="p">}</span>
<span class="linenos"> 5363</span>
<span class="linenos"> 5364</span><span class="c1">// --- algo.LnumStr8_U32_Base16..Hash</span>
<span class="linenos"> 5365</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32_Base16_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32_Base16</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5366</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5367</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 5368</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 5369</span><span class="p">}</span>
<span class="linenos"> 5370</span>
<span class="linenos"> 5371</span><span class="c1">// --- algo.LnumStr8_U32_Base16..ReadStrptrMaybe</span>
<span class="linenos"> 5372</span><span class="c1">// Read fields of algo::LnumStr8_U32_Base16 from an ascii string.</span>
<span class="linenos"> 5373</span><span class="c1">// The format of the string is the format of the algo::LnumStr8_U32_Base16&#39;s only field</span>
<span class="linenos"> 5374</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32_Base16_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32_Base16</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5375</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5376</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 5377</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5378</span><span class="p">}</span>
<span class="linenos"> 5379</span>
<span class="linenos"> 5380</span><span class="c1">// --- algo.LnumStr8_U32_Base16..Print</span>
<span class="linenos"> 5381</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 5382</span><span class="c1">// cfmt:algo.LnumStr8_U32_Base16.String  printfmt:Raw</span>
<span class="linenos"> 5383</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32_Base16_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32_Base16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5384</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 5385</span><span class="p">}</span>
<span class="linenos"> 5386</span>
<span class="linenos"> 5387</span><span class="c1">// --- algo.LnumStr8_U64.ch.Print</span>
<span class="linenos"> 5388</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5389</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 5390</span><span class="p">}</span>
<span class="linenos"> 5391</span>
<span class="linenos"> 5392</span><span class="c1">// --- algo.LnumStr8_U64.ch.ReadStrptrMaybe</span>
<span class="linenos"> 5393</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 5394</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5395</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 5396</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5397</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5398</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5399</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5400</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 8&quot;</span><span class="p">);</span>
<span class="linenos"> 5401</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5402</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5403</span><span class="p">}</span>
<span class="linenos"> 5404</span>
<span class="linenos"> 5405</span><span class="c1">// --- algo.LnumStr8_U64.ch.SetStrptr</span>
<span class="linenos"> 5406</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 5407</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 5408</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 5409</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5410</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
<span class="linenos"> 5411</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 5412</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5413</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5414</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5415</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 5416</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5417</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5418</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 5419</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5420</span><span class="p">}</span>
<span class="linenos"> 5421</span>
<span class="linenos"> 5422</span><span class="c1">// --- algo.LnumStr8_U64.ch.Getnum</span>
<span class="linenos"> 5423</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 5424</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 5425</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 5426</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 5427</span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5428</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5429</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 5430</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">str</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// empty string maps to zero</span>
<span class="linenos"> 5431</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 5432</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aParseNum8</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 5433</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 5434</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5435</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 5436</span><span class="p">}</span>
<span class="linenos"> 5437</span>
<span class="linenos"> 5438</span><span class="c1">// --- algo.LnumStr8_U64.ch.GetnumDflt</span>
<span class="linenos"> 5439</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 5440</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 5441</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 5442</span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5443</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5444</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 5445</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 5446</span><span class="p">}</span>
<span class="linenos"> 5447</span>
<span class="linenos"> 5448</span><span class="c1">// --- algo.LnumStr8_U64.ch.Geti64</span>
<span class="linenos"> 5449</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 5450</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 5451</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 5452</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5453</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5454</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 5455</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 5456</span><span class="p">}</span>
<span class="linenos"> 5457</span>
<span class="linenos"> 5458</span><span class="c1">// --- algo.LnumStr8_U64.ch.SetnumMaybe</span>
<span class="linenos"> 5459</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 5460</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 5461</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5462</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 5463</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5464</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 5465</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 5466</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 5467</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span>
<span class="linenos"> 5468</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5469</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 5470</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5471</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5472</span><span class="p">}</span>
<span class="linenos"> 5473</span>
<span class="linenos"> 5474</span><span class="c1">// --- algo.LnumStr8_U64..Hash</span>
<span class="linenos"> 5475</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U64_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U64</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5476</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5477</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 5478</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 5479</span><span class="p">}</span>
<span class="linenos"> 5480</span>
<span class="linenos"> 5481</span><span class="c1">// --- algo.LnumStr8_U64..ReadStrptrMaybe</span>
<span class="linenos"> 5482</span><span class="c1">// Read fields of algo::LnumStr8_U64 from an ascii string.</span>
<span class="linenos"> 5483</span><span class="c1">// The format of the string is the format of the algo::LnumStr8_U64&#39;s only field</span>
<span class="linenos"> 5484</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U64_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U64</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5485</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5486</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 5487</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5488</span><span class="p">}</span>
<span class="linenos"> 5489</span>
<span class="linenos"> 5490</span><span class="c1">// --- algo.LnumStr8_U64..Print</span>
<span class="linenos"> 5491</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 5492</span><span class="c1">// cfmt:algo.LnumStr8_U64.String  printfmt:Raw</span>
<span class="linenos"> 5493</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U64_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5494</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 5495</span><span class="p">}</span>
<span class="linenos"> 5496</span>
<span class="linenos"> 5497</span><span class="c1">// --- algo.LnumStr9_U32.ch.Print</span>
<span class="linenos"> 5498</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5499</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 5500</span><span class="p">}</span>
<span class="linenos"> 5501</span>
<span class="linenos"> 5502</span><span class="c1">// --- algo.LnumStr9_U32.ch.ReadStrptrMaybe</span>
<span class="linenos"> 5503</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 5504</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5505</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 5506</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5507</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5508</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5509</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5510</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 9&quot;</span><span class="p">);</span>
<span class="linenos"> 5511</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5512</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5513</span><span class="p">}</span>
<span class="linenos"> 5514</span>
<span class="linenos"> 5515</span><span class="c1">// --- algo.LnumStr9_U32.ch.SetStrptr</span>
<span class="linenos"> 5516</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 5517</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 5518</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 5519</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5520</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">);</span>
<span class="linenos"> 5521</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 5522</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5523</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5524</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5525</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 5526</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5527</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5528</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 5529</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5530</span><span class="p">}</span>
<span class="linenos"> 5531</span>
<span class="linenos"> 5532</span><span class="c1">// --- algo.LnumStr9_U32.ch.Getnum</span>
<span class="linenos"> 5533</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 5534</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 5535</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 5536</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 5537</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5538</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5539</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 5540</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">str</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// empty string maps to zero</span>
<span class="linenos"> 5541</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 5542</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aParseNum16</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 5543</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 5544</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5545</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 5546</span><span class="p">}</span>
<span class="linenos"> 5547</span>
<span class="linenos"> 5548</span><span class="c1">// --- algo.LnumStr9_U32.ch.GetnumDflt</span>
<span class="linenos"> 5549</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 5550</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 5551</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 5552</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5553</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5554</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 5555</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 5556</span><span class="p">}</span>
<span class="linenos"> 5557</span>
<span class="linenos"> 5558</span><span class="c1">// --- algo.LnumStr9_U32.ch.Geti64</span>
<span class="linenos"> 5559</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 5560</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 5561</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 5562</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5563</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5564</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 5565</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 5566</span><span class="p">}</span>
<span class="linenos"> 5567</span>
<span class="linenos"> 5568</span><span class="c1">// --- algo.LnumStr9_U32.ch.SetnumMaybe</span>
<span class="linenos"> 5569</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 5570</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 5571</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5572</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 5573</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5574</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 5575</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 5576</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 5577</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">9</span><span class="p">;</span>
<span class="linenos"> 5578</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5579</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 5580</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5581</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5582</span><span class="p">}</span>
<span class="linenos"> 5583</span>
<span class="linenos"> 5584</span><span class="c1">// --- algo.LnumStr9_U32..Hash</span>
<span class="linenos"> 5585</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U32_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5586</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5587</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 5588</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 5589</span><span class="p">}</span>
<span class="linenos"> 5590</span>
<span class="linenos"> 5591</span><span class="c1">// --- algo.LnumStr9_U32..ReadStrptrMaybe</span>
<span class="linenos"> 5592</span><span class="c1">// Read fields of algo::LnumStr9_U32 from an ascii string.</span>
<span class="linenos"> 5593</span><span class="c1">// The format of the string is the format of the algo::LnumStr9_U32&#39;s only field</span>
<span class="linenos"> 5594</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5595</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5596</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 5597</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5598</span><span class="p">}</span>
<span class="linenos"> 5599</span>
<span class="linenos"> 5600</span><span class="c1">// --- algo.LnumStr9_U32..Print</span>
<span class="linenos"> 5601</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 5602</span><span class="c1">// cfmt:algo.LnumStr9_U32.String  printfmt:Raw</span>
<span class="linenos"> 5603</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U32_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5604</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 5605</span><span class="p">}</span>
<span class="linenos"> 5606</span>
<span class="linenos"> 5607</span><span class="c1">// --- algo.LnumStr9_U64.ch.Print</span>
<span class="linenos"> 5608</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5609</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 5610</span><span class="p">}</span>
<span class="linenos"> 5611</span>
<span class="linenos"> 5612</span><span class="c1">// --- algo.LnumStr9_U64.ch.ReadStrptrMaybe</span>
<span class="linenos"> 5613</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 5614</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5615</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 5616</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5617</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5618</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5619</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5620</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 9&quot;</span><span class="p">);</span>
<span class="linenos"> 5621</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5622</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5623</span><span class="p">}</span>
<span class="linenos"> 5624</span>
<span class="linenos"> 5625</span><span class="c1">// --- algo.LnumStr9_U64.ch.SetStrptr</span>
<span class="linenos"> 5626</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 5627</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 5628</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 5629</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5630</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">);</span>
<span class="linenos"> 5631</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 5632</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5633</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5634</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5635</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 5636</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5637</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5638</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 5639</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5640</span><span class="p">}</span>
<span class="linenos"> 5641</span>
<span class="linenos"> 5642</span><span class="c1">// --- algo.LnumStr9_U64.ch.Getnum</span>
<span class="linenos"> 5643</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 5644</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 5645</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 5646</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 5647</span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5648</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5649</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 5650</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">str</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// empty string maps to zero</span>
<span class="linenos"> 5651</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 5652</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aParseNum16</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 5653</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 5654</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5655</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 5656</span><span class="p">}</span>
<span class="linenos"> 5657</span>
<span class="linenos"> 5658</span><span class="c1">// --- algo.LnumStr9_U64.ch.GetnumDflt</span>
<span class="linenos"> 5659</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 5660</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 5661</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 5662</span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5663</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5664</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 5665</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 5666</span><span class="p">}</span>
<span class="linenos"> 5667</span>
<span class="linenos"> 5668</span><span class="c1">// --- algo.LnumStr9_U64.ch.Geti64</span>
<span class="linenos"> 5669</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 5670</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 5671</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 5672</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5673</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5674</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 5675</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 5676</span><span class="p">}</span>
<span class="linenos"> 5677</span>
<span class="linenos"> 5678</span><span class="c1">// --- algo.LnumStr9_U64.ch.SetnumMaybe</span>
<span class="linenos"> 5679</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 5680</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 5681</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5682</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 5683</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5684</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 5685</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 5686</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 5687</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">9</span><span class="p">;</span>
<span class="linenos"> 5688</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5689</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 5690</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5691</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5692</span><span class="p">}</span>
<span class="linenos"> 5693</span>
<span class="linenos"> 5694</span><span class="c1">// --- algo.LnumStr9_U64..Hash</span>
<span class="linenos"> 5695</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U64_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U64</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5696</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5697</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 5698</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 5699</span><span class="p">}</span>
<span class="linenos"> 5700</span>
<span class="linenos"> 5701</span><span class="c1">// --- algo.LnumStr9_U64..ReadStrptrMaybe</span>
<span class="linenos"> 5702</span><span class="c1">// Read fields of algo::LnumStr9_U64 from an ascii string.</span>
<span class="linenos"> 5703</span><span class="c1">// The format of the string is the format of the algo::LnumStr9_U64&#39;s only field</span>
<span class="linenos"> 5704</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U64_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U64</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5705</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5706</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 5707</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5708</span><span class="p">}</span>
<span class="linenos"> 5709</span>
<span class="linenos"> 5710</span><span class="c1">// --- algo.LnumStr9_U64..Print</span>
<span class="linenos"> 5711</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 5712</span><span class="c1">// cfmt:algo.LnumStr9_U64.String  printfmt:Raw</span>
<span class="linenos"> 5713</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U64_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5714</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 5715</span><span class="p">}</span>
<span class="linenos"> 5716</span>
<span class="linenos"> 5717</span><span class="c1">// --- algo.LspaceStr10.ch.Print</span>
<span class="linenos"> 5718</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr10</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5719</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 5720</span><span class="p">}</span>
<span class="linenos"> 5721</span>
<span class="linenos"> 5722</span><span class="c1">// --- algo.LspaceStr10.ch.ReadStrptrMaybe</span>
<span class="linenos"> 5723</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 5724</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr10</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5725</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 5726</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5727</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5728</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5729</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5730</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 10&quot;</span><span class="p">);</span>
<span class="linenos"> 5731</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5732</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5733</span><span class="p">}</span>
<span class="linenos"> 5734</span>
<span class="linenos"> 5735</span><span class="c1">// --- algo.LspaceStr10.ch.SetStrptr</span>
<span class="linenos"> 5736</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 5737</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 5738</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 5739</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr10</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5740</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="linenos"> 5741</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 5742</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5743</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5744</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5745</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos"> 5746</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5747</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5748</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 5749</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5750</span><span class="p">}</span>
<span class="linenos"> 5751</span>
<span class="linenos"> 5752</span><span class="c1">// --- algo.LspaceStr10..Hash</span>
<span class="linenos"> 5753</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr10_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr10</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5754</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5755</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 5756</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 5757</span><span class="p">}</span>
<span class="linenos"> 5758</span>
<span class="linenos"> 5759</span><span class="c1">// --- algo.LspaceStr10..ReadStrptrMaybe</span>
<span class="linenos"> 5760</span><span class="c1">// Read fields of algo::LspaceStr10 from an ascii string.</span>
<span class="linenos"> 5761</span><span class="c1">// The format of the string is the format of the algo::LspaceStr10&#39;s only field</span>
<span class="linenos"> 5762</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr10_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr10</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5763</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5764</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 5765</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5766</span><span class="p">}</span>
<span class="linenos"> 5767</span>
<span class="linenos"> 5768</span><span class="c1">// --- algo.LspaceStr10..Print</span>
<span class="linenos"> 5769</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 5770</span><span class="c1">// cfmt:algo.LspaceStr10.String  printfmt:Raw</span>
<span class="linenos"> 5771</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr10_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr10</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5772</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 5773</span><span class="p">}</span>
<span class="linenos"> 5774</span>
<span class="linenos"> 5775</span><span class="c1">// --- algo.LspaceStr12.ch.Print</span>
<span class="linenos"> 5776</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr12</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5777</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 5778</span><span class="p">}</span>
<span class="linenos"> 5779</span>
<span class="linenos"> 5780</span><span class="c1">// --- algo.LspaceStr12.ch.ReadStrptrMaybe</span>
<span class="linenos"> 5781</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 5782</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr12</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5783</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 5784</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">12</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5785</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5786</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5787</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5788</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 12&quot;</span><span class="p">);</span>
<span class="linenos"> 5789</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5790</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5791</span><span class="p">}</span>
<span class="linenos"> 5792</span>
<span class="linenos"> 5793</span><span class="c1">// --- algo.LspaceStr12.ch.SetStrptr</span>
<span class="linenos"> 5794</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 5795</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 5796</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 5797</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr12</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5798</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">);</span>
<span class="linenos"> 5799</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 5800</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5801</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5802</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5803</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos"> 5804</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5805</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5806</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 5807</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5808</span><span class="p">}</span>
<span class="linenos"> 5809</span>
<span class="linenos"> 5810</span><span class="c1">// --- algo.LspaceStr12..Hash</span>
<span class="linenos"> 5811</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr12_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr12</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5812</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5813</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 5814</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 5815</span><span class="p">}</span>
<span class="linenos"> 5816</span>
<span class="linenos"> 5817</span><span class="c1">// --- algo.LspaceStr12..ReadStrptrMaybe</span>
<span class="linenos"> 5818</span><span class="c1">// Read fields of algo::LspaceStr12 from an ascii string.</span>
<span class="linenos"> 5819</span><span class="c1">// The format of the string is the format of the algo::LspaceStr12&#39;s only field</span>
<span class="linenos"> 5820</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr12_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr12</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5821</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5822</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 5823</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5824</span><span class="p">}</span>
<span class="linenos"> 5825</span>
<span class="linenos"> 5826</span><span class="c1">// --- algo.LspaceStr12..Print</span>
<span class="linenos"> 5827</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 5828</span><span class="c1">// cfmt:algo.LspaceStr12.String  printfmt:Raw</span>
<span class="linenos"> 5829</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr12_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr12</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5830</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 5831</span><span class="p">}</span>
<span class="linenos"> 5832</span>
<span class="linenos"> 5833</span><span class="c1">// --- algo.LspaceStr14.ch.Print</span>
<span class="linenos"> 5834</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr14</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5835</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 5836</span><span class="p">}</span>
<span class="linenos"> 5837</span>
<span class="linenos"> 5838</span><span class="c1">// --- algo.LspaceStr14.ch.ReadStrptrMaybe</span>
<span class="linenos"> 5839</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 5840</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr14</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5841</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 5842</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">14</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5843</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5844</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5845</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5846</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 14&quot;</span><span class="p">);</span>
<span class="linenos"> 5847</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5848</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5849</span><span class="p">}</span>
<span class="linenos"> 5850</span>
<span class="linenos"> 5851</span><span class="c1">// --- algo.LspaceStr14.ch.SetStrptr</span>
<span class="linenos"> 5852</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 5853</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 5854</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 5855</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr14</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5856</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">);</span>
<span class="linenos"> 5857</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 5858</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5859</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5860</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5861</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos"> 5862</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5863</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5864</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 5865</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5866</span><span class="p">}</span>
<span class="linenos"> 5867</span>
<span class="linenos"> 5868</span><span class="c1">// --- algo.LspaceStr14..Hash</span>
<span class="linenos"> 5869</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr14_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr14</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5870</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5871</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 5872</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 5873</span><span class="p">}</span>
<span class="linenos"> 5874</span>
<span class="linenos"> 5875</span><span class="c1">// --- algo.LspaceStr14..ReadStrptrMaybe</span>
<span class="linenos"> 5876</span><span class="c1">// Read fields of algo::LspaceStr14 from an ascii string.</span>
<span class="linenos"> 5877</span><span class="c1">// The format of the string is the format of the algo::LspaceStr14&#39;s only field</span>
<span class="linenos"> 5878</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr14_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr14</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5879</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5880</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 5881</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5882</span><span class="p">}</span>
<span class="linenos"> 5883</span>
<span class="linenos"> 5884</span><span class="c1">// --- algo.LspaceStr14..Print</span>
<span class="linenos"> 5885</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 5886</span><span class="c1">// cfmt:algo.LspaceStr14.String  printfmt:Raw</span>
<span class="linenos"> 5887</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr14_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr14</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5888</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 5889</span><span class="p">}</span>
<span class="linenos"> 5890</span>
<span class="linenos"> 5891</span><span class="c1">// --- algo.LspaceStr15.ch.Print</span>
<span class="linenos"> 5892</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr15</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5893</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 5894</span><span class="p">}</span>
<span class="linenos"> 5895</span>
<span class="linenos"> 5896</span><span class="c1">// --- algo.LspaceStr15.ch.ReadStrptrMaybe</span>
<span class="linenos"> 5897</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 5898</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr15</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5899</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 5900</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">15</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5901</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5902</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5903</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5904</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 15&quot;</span><span class="p">);</span>
<span class="linenos"> 5905</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5906</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5907</span><span class="p">}</span>
<span class="linenos"> 5908</span>
<span class="linenos"> 5909</span><span class="c1">// --- algo.LspaceStr15.ch.SetStrptr</span>
<span class="linenos"> 5910</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 5911</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 5912</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 5913</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr15</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5914</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">);</span>
<span class="linenos"> 5915</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 5916</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5917</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5918</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">15</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5919</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos"> 5920</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5921</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5922</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 5923</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5924</span><span class="p">}</span>
<span class="linenos"> 5925</span>
<span class="linenos"> 5926</span><span class="c1">// --- algo.LspaceStr15..Hash</span>
<span class="linenos"> 5927</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr15_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr15</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5928</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5929</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 5930</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 5931</span><span class="p">}</span>
<span class="linenos"> 5932</span>
<span class="linenos"> 5933</span><span class="c1">// --- algo.LspaceStr15..ReadStrptrMaybe</span>
<span class="linenos"> 5934</span><span class="c1">// Read fields of algo::LspaceStr15 from an ascii string.</span>
<span class="linenos"> 5935</span><span class="c1">// The format of the string is the format of the algo::LspaceStr15&#39;s only field</span>
<span class="linenos"> 5936</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr15_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr15</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5937</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5938</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 5939</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5940</span><span class="p">}</span>
<span class="linenos"> 5941</span>
<span class="linenos"> 5942</span><span class="c1">// --- algo.LspaceStr15..Print</span>
<span class="linenos"> 5943</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 5944</span><span class="c1">// cfmt:algo.LspaceStr15.String  printfmt:Raw</span>
<span class="linenos"> 5945</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr15_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr15</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5946</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 5947</span><span class="p">}</span>
<span class="linenos"> 5948</span>
<span class="linenos"> 5949</span><span class="c1">// --- algo.LspaceStr20_I64.ch.Print</span>
<span class="linenos"> 5950</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_I64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5951</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 5952</span><span class="p">}</span>
<span class="linenos"> 5953</span>
<span class="linenos"> 5954</span><span class="c1">// --- algo.LspaceStr20_I64.ch.ReadStrptrMaybe</span>
<span class="linenos"> 5955</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 5956</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_I64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5957</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 5958</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5959</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 5960</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 5961</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5962</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 20&quot;</span><span class="p">);</span>
<span class="linenos"> 5963</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5964</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 5965</span><span class="p">}</span>
<span class="linenos"> 5966</span>
<span class="linenos"> 5967</span><span class="c1">// --- algo.LspaceStr20_I64.ch.SetStrptr</span>
<span class="linenos"> 5968</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 5969</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 5970</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 5971</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_I64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5972</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span>
<span class="linenos"> 5973</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 5974</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5975</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5976</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5977</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos"> 5978</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5979</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5980</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 5981</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5982</span><span class="p">}</span>
<span class="linenos"> 5983</span>
<span class="linenos"> 5984</span><span class="c1">// --- algo.LspaceStr20_I64.ch.Getnum</span>
<span class="linenos"> 5985</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 5986</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 5987</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 5988</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 5989</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_I64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5990</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 5991</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 5992</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">is_neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">);</span>
<span class="linenos"> 5993</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_neg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5994</span><span class="w">        </span><span class="n">str</span><span class="p">.</span><span class="n">elems</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 5995</span><span class="w">        </span><span class="n">str</span><span class="p">.</span><span class="n">n_elems</span><span class="o">--</span><span class="p">;</span>
<span class="linenos"> 5996</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 5997</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 5998</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 5999</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 6000</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6001</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 6002</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6003</span><span class="w">            </span><span class="n">and_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 6004</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 6005</span><span class="w">        </span><span class="c1">// Check for 64-bit overflow inside the loop</span>
<span class="linenos"> 6006</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">digit</span><span class="p">;</span>
<span class="linenos"> 6007</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">r1</span><span class="p">);</span>
<span class="linenos"> 6008</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r1</span><span class="p">;</span>
<span class="linenos"> 6009</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6010</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">is_neg</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="o">-</span><span class="n">val</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 6011</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="n">ret</span><span class="p">);</span>
<span class="linenos"> 6012</span><span class="p">}</span>
<span class="linenos"> 6013</span>
<span class="linenos"> 6014</span><span class="c1">// --- algo.LspaceStr20_I64.ch.GetnumDflt</span>
<span class="linenos"> 6015</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 6016</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 6017</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 6018</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_I64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6019</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6020</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 6021</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 6022</span><span class="p">}</span>
<span class="linenos"> 6023</span>
<span class="linenos"> 6024</span><span class="c1">// --- algo.LspaceStr20_I64.ch.Geti64</span>
<span class="linenos"> 6025</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 6026</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 6027</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 6028</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_I64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6029</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6030</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 6031</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 6032</span><span class="p">}</span>
<span class="linenos"> 6033</span>
<span class="linenos"> 6034</span><span class="c1">// --- algo.LspaceStr20_I64.ch.SetnumMaybe</span>
<span class="linenos"> 6035</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 6036</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 6037</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_I64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6038</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 6039</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6040</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 6041</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="o">-</span><span class="n">rhs</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6042</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 6043</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6044</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">charpos</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="n">charpos</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6045</span><span class="w">            </span><span class="o">--</span><span class="n">charpos</span><span class="p">;</span>
<span class="linenos"> 6046</span><span class="w">            </span><span class="o">++</span><span class="n">length</span><span class="p">;</span>
<span class="linenos"> 6047</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 6048</span><span class="w">        </span><span class="n">buf</span><span class="p">[</span><span class="n">charpos</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 6049</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6050</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
<span class="linenos"> 6051</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6052</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 6053</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6054</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6055</span><span class="p">}</span>
<span class="linenos"> 6056</span>
<span class="linenos"> 6057</span><span class="c1">// --- algo.LspaceStr20_I64..Hash</span>
<span class="linenos"> 6058</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_I64_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_I64</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6059</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6060</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 6061</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 6062</span><span class="p">}</span>
<span class="linenos"> 6063</span>
<span class="linenos"> 6064</span><span class="c1">// --- algo.LspaceStr20_I64..ReadStrptrMaybe</span>
<span class="linenos"> 6065</span><span class="c1">// Read fields of algo::LspaceStr20_I64 from an ascii string.</span>
<span class="linenos"> 6066</span><span class="c1">// The format of the string is the format of the algo::LspaceStr20_I64&#39;s only field</span>
<span class="linenos"> 6067</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_I64_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_I64</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6068</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6069</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 6070</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6071</span><span class="p">}</span>
<span class="linenos"> 6072</span>
<span class="linenos"> 6073</span><span class="c1">// --- algo.LspaceStr20_I64..Print</span>
<span class="linenos"> 6074</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 6075</span><span class="c1">// cfmt:algo.LspaceStr20_I64.String  printfmt:Raw</span>
<span class="linenos"> 6076</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_I64_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_I64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6077</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 6078</span><span class="p">}</span>
<span class="linenos"> 6079</span>
<span class="linenos"> 6080</span><span class="c1">// --- algo.LspaceStr20_U64.ch.Print</span>
<span class="linenos"> 6081</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6082</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 6083</span><span class="p">}</span>
<span class="linenos"> 6084</span>
<span class="linenos"> 6085</span><span class="c1">// --- algo.LspaceStr20_U64.ch.ReadStrptrMaybe</span>
<span class="linenos"> 6086</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 6087</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6088</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 6089</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6090</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6091</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6092</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6093</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 20&quot;</span><span class="p">);</span>
<span class="linenos"> 6094</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6095</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6096</span><span class="p">}</span>
<span class="linenos"> 6097</span>
<span class="linenos"> 6098</span><span class="c1">// --- algo.LspaceStr20_U64.ch.SetStrptr</span>
<span class="linenos"> 6099</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 6100</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 6101</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 6102</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6103</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span>
<span class="linenos"> 6104</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 6105</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6106</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6107</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6108</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos"> 6109</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6110</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6111</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 6112</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6113</span><span class="p">}</span>
<span class="linenos"> 6114</span>
<span class="linenos"> 6115</span><span class="c1">// --- algo.LspaceStr20_U64.ch.Getnum</span>
<span class="linenos"> 6116</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 6117</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 6118</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 6119</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 6120</span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6121</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6122</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 6123</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6124</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 6125</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 6126</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6127</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 6128</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6129</span><span class="w">            </span><span class="n">and_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 6130</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 6131</span><span class="w">        </span><span class="c1">// Check for 64-bit overflow inside the loop</span>
<span class="linenos"> 6132</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">digit</span><span class="p">;</span>
<span class="linenos"> 6133</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">r1</span><span class="p">);</span>
<span class="linenos"> 6134</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r1</span><span class="p">;</span>
<span class="linenos"> 6135</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6136</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 6137</span><span class="p">}</span>
<span class="linenos"> 6138</span>
<span class="linenos"> 6139</span><span class="c1">// --- algo.LspaceStr20_U64.ch.GetnumDflt</span>
<span class="linenos"> 6140</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 6141</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 6142</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 6143</span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6144</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6145</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 6146</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 6147</span><span class="p">}</span>
<span class="linenos"> 6148</span>
<span class="linenos"> 6149</span><span class="c1">// --- algo.LspaceStr20_U64.ch.Geti64</span>
<span class="linenos"> 6150</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 6151</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 6152</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 6153</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6154</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6155</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 6156</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 6157</span><span class="p">}</span>
<span class="linenos"> 6158</span>
<span class="linenos"> 6159</span><span class="c1">// --- algo.LspaceStr20_U64.ch.SetnumMaybe</span>
<span class="linenos"> 6160</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 6161</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 6162</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6163</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 6164</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6165</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 6166</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 6167</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 6168</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
<span class="linenos"> 6169</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6170</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 6171</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6172</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6173</span><span class="p">}</span>
<span class="linenos"> 6174</span>
<span class="linenos"> 6175</span><span class="c1">// --- algo.LspaceStr20_U64..Hash</span>
<span class="linenos"> 6176</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_U64_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_U64</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6177</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6178</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 6179</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 6180</span><span class="p">}</span>
<span class="linenos"> 6181</span>
<span class="linenos"> 6182</span><span class="c1">// --- algo.LspaceStr20_U64..ReadStrptrMaybe</span>
<span class="linenos"> 6183</span><span class="c1">// Read fields of algo::LspaceStr20_U64 from an ascii string.</span>
<span class="linenos"> 6184</span><span class="c1">// The format of the string is the format of the algo::LspaceStr20_U64&#39;s only field</span>
<span class="linenos"> 6185</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_U64_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_U64</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6186</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6187</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 6188</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6189</span><span class="p">}</span>
<span class="linenos"> 6190</span>
<span class="linenos"> 6191</span><span class="c1">// --- algo.LspaceStr20_U64..Print</span>
<span class="linenos"> 6192</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 6193</span><span class="c1">// cfmt:algo.LspaceStr20_U64.String  printfmt:Raw</span>
<span class="linenos"> 6194</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_U64_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_U64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6195</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 6196</span><span class="p">}</span>
<span class="linenos"> 6197</span>
<span class="linenos"> 6198</span><span class="c1">// --- algo.LspaceStr3.ch.Print</span>
<span class="linenos"> 6199</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6200</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 6201</span><span class="p">}</span>
<span class="linenos"> 6202</span>
<span class="linenos"> 6203</span><span class="c1">// --- algo.LspaceStr3.ch.ReadStrptrMaybe</span>
<span class="linenos"> 6204</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 6205</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6206</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 6207</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6208</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6209</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6210</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6211</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 3&quot;</span><span class="p">);</span>
<span class="linenos"> 6212</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6213</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6214</span><span class="p">}</span>
<span class="linenos"> 6215</span>
<span class="linenos"> 6216</span><span class="c1">// --- algo.LspaceStr3.ch.SetStrptr</span>
<span class="linenos"> 6217</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 6218</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 6219</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 6220</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6221</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="linenos"> 6222</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 6223</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6224</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6225</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6226</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos"> 6227</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6228</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6229</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 6230</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6231</span><span class="p">}</span>
<span class="linenos"> 6232</span>
<span class="linenos"> 6233</span><span class="c1">// --- algo.LspaceStr3..Hash</span>
<span class="linenos"> 6234</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6235</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6236</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 6237</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 6238</span><span class="p">}</span>
<span class="linenos"> 6239</span>
<span class="linenos"> 6240</span><span class="c1">// --- algo.LspaceStr3..ReadStrptrMaybe</span>
<span class="linenos"> 6241</span><span class="c1">// Read fields of algo::LspaceStr3 from an ascii string.</span>
<span class="linenos"> 6242</span><span class="c1">// The format of the string is the format of the algo::LspaceStr3&#39;s only field</span>
<span class="linenos"> 6243</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6244</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6245</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 6246</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6247</span><span class="p">}</span>
<span class="linenos"> 6248</span>
<span class="linenos"> 6249</span><span class="c1">// --- algo.LspaceStr3..Print</span>
<span class="linenos"> 6250</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 6251</span><span class="c1">// cfmt:algo.LspaceStr3.String  printfmt:Raw</span>
<span class="linenos"> 6252</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6253</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 6254</span><span class="p">}</span>
<span class="linenos"> 6255</span>
<span class="linenos"> 6256</span><span class="c1">// --- algo.LspaceStr3_I16.ch.Print</span>
<span class="linenos"> 6257</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3_I16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6258</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 6259</span><span class="p">}</span>
<span class="linenos"> 6260</span>
<span class="linenos"> 6261</span><span class="c1">// --- algo.LspaceStr3_I16.ch.ReadStrptrMaybe</span>
<span class="linenos"> 6262</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 6263</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3_I16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6264</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 6265</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6266</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6267</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6268</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6269</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 3&quot;</span><span class="p">);</span>
<span class="linenos"> 6270</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6271</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6272</span><span class="p">}</span>
<span class="linenos"> 6273</span>
<span class="linenos"> 6274</span><span class="c1">// --- algo.LspaceStr3_I16.ch.SetStrptr</span>
<span class="linenos"> 6275</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 6276</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 6277</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 6278</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3_I16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6279</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="linenos"> 6280</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 6281</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6282</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6283</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6284</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos"> 6285</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6286</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6287</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 6288</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6289</span><span class="p">}</span>
<span class="linenos"> 6290</span>
<span class="linenos"> 6291</span><span class="c1">// --- algo.LspaceStr3_I16.ch.Getnum</span>
<span class="linenos"> 6292</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 6293</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 6294</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 6295</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 6296</span><span class="n">i16</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3_I16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6297</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6298</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 6299</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">is_neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">);</span>
<span class="linenos"> 6300</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_neg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6301</span><span class="w">        </span><span class="n">str</span><span class="p">.</span><span class="n">elems</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 6302</span><span class="w">        </span><span class="n">str</span><span class="p">.</span><span class="n">n_elems</span><span class="o">--</span><span class="p">;</span>
<span class="linenos"> 6303</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6304</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">str</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// empty string maps to zero</span>
<span class="linenos"> 6305</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 6306</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aParseNum4</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 6307</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 6308</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6309</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">is_neg</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="o">-</span><span class="n">val</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 6310</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">i16</span><span class="p">(</span><span class="n">ret</span><span class="p">);</span>
<span class="linenos"> 6311</span><span class="p">}</span>
<span class="linenos"> 6312</span>
<span class="linenos"> 6313</span><span class="c1">// --- algo.LspaceStr3_I16.ch.GetnumDflt</span>
<span class="linenos"> 6314</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 6315</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 6316</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 6317</span><span class="n">i16</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3_I16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i16</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6318</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6319</span><span class="w">    </span><span class="n">i16</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 6320</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 6321</span><span class="p">}</span>
<span class="linenos"> 6322</span>
<span class="linenos"> 6323</span><span class="c1">// --- algo.LspaceStr3_I16.ch.Geti64</span>
<span class="linenos"> 6324</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 6325</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 6326</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 6327</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3_I16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6328</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6329</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 6330</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 6331</span><span class="p">}</span>
<span class="linenos"> 6332</span>
<span class="linenos"> 6333</span><span class="c1">// --- algo.LspaceStr3_I16.ch.SetnumMaybe</span>
<span class="linenos"> 6334</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 6335</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 6336</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3_I16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6337</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 6338</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6339</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 6340</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="o">-</span><span class="n">rhs</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6341</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u16_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 6342</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6343</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">charpos</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="n">charpos</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6344</span><span class="w">            </span><span class="o">--</span><span class="n">charpos</span><span class="p">;</span>
<span class="linenos"> 6345</span><span class="w">            </span><span class="o">++</span><span class="n">length</span><span class="p">;</span>
<span class="linenos"> 6346</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 6347</span><span class="w">        </span><span class="n">buf</span><span class="p">[</span><span class="n">charpos</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 6348</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6349</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="linenos"> 6350</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6351</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 6352</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6353</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6354</span><span class="p">}</span>
<span class="linenos"> 6355</span>
<span class="linenos"> 6356</span><span class="c1">// --- algo.LspaceStr3_I16..Hash</span>
<span class="linenos"> 6357</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3_I16_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3_I16</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6358</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6359</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 6360</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 6361</span><span class="p">}</span>
<span class="linenos"> 6362</span>
<span class="linenos"> 6363</span><span class="c1">// --- algo.LspaceStr3_I16..ReadStrptrMaybe</span>
<span class="linenos"> 6364</span><span class="c1">// Read fields of algo::LspaceStr3_I16 from an ascii string.</span>
<span class="linenos"> 6365</span><span class="c1">// The format of the string is the format of the algo::LspaceStr3_I16&#39;s only field</span>
<span class="linenos"> 6366</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3_I16_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3_I16</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6367</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6368</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 6369</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6370</span><span class="p">}</span>
<span class="linenos"> 6371</span>
<span class="linenos"> 6372</span><span class="c1">// --- algo.LspaceStr3_I16..Print</span>
<span class="linenos"> 6373</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 6374</span><span class="c1">// cfmt:algo.LspaceStr3_I16.String  printfmt:Raw</span>
<span class="linenos"> 6375</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3_I16_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3_I16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6376</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 6377</span><span class="p">}</span>
<span class="linenos"> 6378</span>
<span class="linenos"> 6379</span><span class="c1">// --- algo.LspaceStr4.ch.Print</span>
<span class="linenos"> 6380</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6381</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 6382</span><span class="p">}</span>
<span class="linenos"> 6383</span>
<span class="linenos"> 6384</span><span class="c1">// --- algo.LspaceStr4.ch.ReadStrptrMaybe</span>
<span class="linenos"> 6385</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 6386</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6387</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 6388</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6389</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6390</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6391</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6392</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 4&quot;</span><span class="p">);</span>
<span class="linenos"> 6393</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6394</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6395</span><span class="p">}</span>
<span class="linenos"> 6396</span>
<span class="linenos"> 6397</span><span class="c1">// --- algo.LspaceStr4.ch.SetStrptr</span>
<span class="linenos"> 6398</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 6399</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 6400</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 6401</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6402</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="linenos"> 6403</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 6404</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6405</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6406</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6407</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos"> 6408</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6409</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6410</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 6411</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6412</span><span class="p">}</span>
<span class="linenos"> 6413</span>
<span class="linenos"> 6414</span><span class="c1">// --- algo.LspaceStr4..Hash</span>
<span class="linenos"> 6415</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr4_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr4</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6416</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6417</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 6418</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 6419</span><span class="p">}</span>
<span class="linenos"> 6420</span>
<span class="linenos"> 6421</span><span class="c1">// --- algo.LspaceStr4..ReadStrptrMaybe</span>
<span class="linenos"> 6422</span><span class="c1">// Read fields of algo::LspaceStr4 from an ascii string.</span>
<span class="linenos"> 6423</span><span class="c1">// The format of the string is the format of the algo::LspaceStr4&#39;s only field</span>
<span class="linenos"> 6424</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr4_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr4</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6425</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6426</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 6427</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6428</span><span class="p">}</span>
<span class="linenos"> 6429</span>
<span class="linenos"> 6430</span><span class="c1">// --- algo.LspaceStr4..Print</span>
<span class="linenos"> 6431</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 6432</span><span class="c1">// cfmt:algo.LspaceStr4.String  printfmt:Raw</span>
<span class="linenos"> 6433</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr4_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6434</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 6435</span><span class="p">}</span>
<span class="linenos"> 6436</span>
<span class="linenos"> 6437</span><span class="c1">// --- algo.LspaceStr5.ch.Print</span>
<span class="linenos"> 6438</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6439</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 6440</span><span class="p">}</span>
<span class="linenos"> 6441</span>
<span class="linenos"> 6442</span><span class="c1">// --- algo.LspaceStr5.ch.ReadStrptrMaybe</span>
<span class="linenos"> 6443</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 6444</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6445</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 6446</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6447</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6448</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6449</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6450</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 5&quot;</span><span class="p">);</span>
<span class="linenos"> 6451</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6452</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6453</span><span class="p">}</span>
<span class="linenos"> 6454</span>
<span class="linenos"> 6455</span><span class="c1">// --- algo.LspaceStr5.ch.SetStrptr</span>
<span class="linenos"> 6456</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 6457</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 6458</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 6459</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6460</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="linenos"> 6461</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 6462</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6463</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6464</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6465</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos"> 6466</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6467</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6468</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 6469</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6470</span><span class="p">}</span>
<span class="linenos"> 6471</span>
<span class="linenos"> 6472</span><span class="c1">// --- algo.LspaceStr5..Hash</span>
<span class="linenos"> 6473</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6474</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6475</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 6476</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 6477</span><span class="p">}</span>
<span class="linenos"> 6478</span>
<span class="linenos"> 6479</span><span class="c1">// --- algo.LspaceStr5..ReadStrptrMaybe</span>
<span class="linenos"> 6480</span><span class="c1">// Read fields of algo::LspaceStr5 from an ascii string.</span>
<span class="linenos"> 6481</span><span class="c1">// The format of the string is the format of the algo::LspaceStr5&#39;s only field</span>
<span class="linenos"> 6482</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6483</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6484</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 6485</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6486</span><span class="p">}</span>
<span class="linenos"> 6487</span>
<span class="linenos"> 6488</span><span class="c1">// --- algo.LspaceStr5..Print</span>
<span class="linenos"> 6489</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 6490</span><span class="c1">// cfmt:algo.LspaceStr5.String  printfmt:Raw</span>
<span class="linenos"> 6491</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6492</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 6493</span><span class="p">}</span>
<span class="linenos"> 6494</span>
<span class="linenos"> 6495</span><span class="c1">// --- algo.LspaceStr5_I16.ch.Print</span>
<span class="linenos"> 6496</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5_I16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6497</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 6498</span><span class="p">}</span>
<span class="linenos"> 6499</span>
<span class="linenos"> 6500</span><span class="c1">// --- algo.LspaceStr5_I16.ch.ReadStrptrMaybe</span>
<span class="linenos"> 6501</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 6502</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5_I16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6503</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 6504</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6505</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6506</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6507</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6508</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 5&quot;</span><span class="p">);</span>
<span class="linenos"> 6509</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6510</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6511</span><span class="p">}</span>
<span class="linenos"> 6512</span>
<span class="linenos"> 6513</span><span class="c1">// --- algo.LspaceStr5_I16.ch.SetStrptr</span>
<span class="linenos"> 6514</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 6515</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 6516</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 6517</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5_I16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6518</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="linenos"> 6519</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 6520</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6521</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6522</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6523</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos"> 6524</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6525</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6526</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 6527</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6528</span><span class="p">}</span>
<span class="linenos"> 6529</span>
<span class="linenos"> 6530</span><span class="c1">// --- algo.LspaceStr5_I16.ch.Getnum</span>
<span class="linenos"> 6531</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 6532</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 6533</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 6534</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 6535</span><span class="n">u16</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5_I16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6536</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6537</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 6538</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">str</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// empty string maps to zero</span>
<span class="linenos"> 6539</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 6540</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aParseNum8</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 6541</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 6542</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6543</span><span class="w">    </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">0XFFFF</span><span class="p">;</span>
<span class="linenos"> 6544</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u16</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 6545</span><span class="p">}</span>
<span class="linenos"> 6546</span>
<span class="linenos"> 6547</span><span class="c1">// --- algo.LspaceStr5_I16.ch.GetnumDflt</span>
<span class="linenos"> 6548</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 6549</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 6550</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 6551</span><span class="n">u16</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5_I16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u16</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6552</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6553</span><span class="w">    </span><span class="n">u16</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 6554</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 6555</span><span class="p">}</span>
<span class="linenos"> 6556</span>
<span class="linenos"> 6557</span><span class="c1">// --- algo.LspaceStr5_I16.ch.Geti64</span>
<span class="linenos"> 6558</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 6559</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 6560</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 6561</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5_I16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6562</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6563</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 6564</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 6565</span><span class="p">}</span>
<span class="linenos"> 6566</span>
<span class="linenos"> 6567</span><span class="c1">// --- algo.LspaceStr5_I16.ch.SetnumMaybe</span>
<span class="linenos"> 6568</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 6569</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 6570</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5_I16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6571</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 6572</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6573</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 6574</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 6575</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u16_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 6576</span><span class="w">    </span><span class="c1">//pad string with 0s up to min_length</span>
<span class="linenos"> 6577</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">charpos</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6578</span><span class="w">        </span><span class="n">buf</span><span class="p">[</span><span class="o">--</span><span class="n">charpos</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 6579</span><span class="w">        </span><span class="o">++</span><span class="n">length</span><span class="p">;</span>
<span class="linenos"> 6580</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6581</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="linenos"> 6582</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6583</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 6584</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6585</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6586</span><span class="p">}</span>
<span class="linenos"> 6587</span>
<span class="linenos"> 6588</span><span class="c1">// --- algo.LspaceStr5_I16..Hash</span>
<span class="linenos"> 6589</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5_I16_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5_I16</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6590</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6591</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 6592</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 6593</span><span class="p">}</span>
<span class="linenos"> 6594</span>
<span class="linenos"> 6595</span><span class="c1">// --- algo.LspaceStr5_I16..ReadStrptrMaybe</span>
<span class="linenos"> 6596</span><span class="c1">// Read fields of algo::LspaceStr5_I16 from an ascii string.</span>
<span class="linenos"> 6597</span><span class="c1">// The format of the string is the format of the algo::LspaceStr5_I16&#39;s only field</span>
<span class="linenos"> 6598</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5_I16_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5_I16</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6599</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6600</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 6601</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6602</span><span class="p">}</span>
<span class="linenos"> 6603</span>
<span class="linenos"> 6604</span><span class="c1">// --- algo.LspaceStr5_I16..Print</span>
<span class="linenos"> 6605</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 6606</span><span class="c1">// cfmt:algo.LspaceStr5_I16.String  printfmt:Raw</span>
<span class="linenos"> 6607</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5_I16_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5_I16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6608</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 6609</span><span class="p">}</span>
<span class="linenos"> 6610</span>
<span class="linenos"> 6611</span><span class="c1">// --- algo.LspaceStr6.ch.Print</span>
<span class="linenos"> 6612</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6613</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 6614</span><span class="p">}</span>
<span class="linenos"> 6615</span>
<span class="linenos"> 6616</span><span class="c1">// --- algo.LspaceStr6.ch.ReadStrptrMaybe</span>
<span class="linenos"> 6617</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 6618</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6619</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 6620</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6621</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6622</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6623</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6624</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 6&quot;</span><span class="p">);</span>
<span class="linenos"> 6625</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6626</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6627</span><span class="p">}</span>
<span class="linenos"> 6628</span>
<span class="linenos"> 6629</span><span class="c1">// --- algo.LspaceStr6.ch.SetStrptr</span>
<span class="linenos"> 6630</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 6631</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 6632</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 6633</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6634</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
<span class="linenos"> 6635</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 6636</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6637</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6638</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6639</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos"> 6640</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6641</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6642</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 6643</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6644</span><span class="p">}</span>
<span class="linenos"> 6645</span>
<span class="linenos"> 6646</span><span class="c1">// --- algo.LspaceStr6..Hash</span>
<span class="linenos"> 6647</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6648</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6649</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 6650</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 6651</span><span class="p">}</span>
<span class="linenos"> 6652</span>
<span class="linenos"> 6653</span><span class="c1">// --- algo.LspaceStr6..ReadStrptrMaybe</span>
<span class="linenos"> 6654</span><span class="c1">// Read fields of algo::LspaceStr6 from an ascii string.</span>
<span class="linenos"> 6655</span><span class="c1">// The format of the string is the format of the algo::LspaceStr6&#39;s only field</span>
<span class="linenos"> 6656</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6657</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6658</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 6659</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6660</span><span class="p">}</span>
<span class="linenos"> 6661</span>
<span class="linenos"> 6662</span><span class="c1">// --- algo.LspaceStr6..Print</span>
<span class="linenos"> 6663</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 6664</span><span class="c1">// cfmt:algo.LspaceStr6.String  printfmt:Raw</span>
<span class="linenos"> 6665</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6666</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 6667</span><span class="p">}</span>
<span class="linenos"> 6668</span>
<span class="linenos"> 6669</span><span class="c1">// --- algo.LspaceStr6_U32.ch.Print</span>
<span class="linenos"> 6670</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6671</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 6672</span><span class="p">}</span>
<span class="linenos"> 6673</span>
<span class="linenos"> 6674</span><span class="c1">// --- algo.LspaceStr6_U32.ch.ReadStrptrMaybe</span>
<span class="linenos"> 6675</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 6676</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6677</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 6678</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6679</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6680</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6681</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6682</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 6&quot;</span><span class="p">);</span>
<span class="linenos"> 6683</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6684</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6685</span><span class="p">}</span>
<span class="linenos"> 6686</span>
<span class="linenos"> 6687</span><span class="c1">// --- algo.LspaceStr6_U32.ch.SetStrptr</span>
<span class="linenos"> 6688</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 6689</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 6690</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 6691</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6692</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
<span class="linenos"> 6693</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 6694</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6695</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6696</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6697</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos"> 6698</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6699</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6700</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 6701</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6702</span><span class="p">}</span>
<span class="linenos"> 6703</span>
<span class="linenos"> 6704</span><span class="c1">// --- algo.LspaceStr6_U32.ch.Getnum</span>
<span class="linenos"> 6705</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 6706</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 6707</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 6708</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 6709</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6710</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6711</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 6712</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">str</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// empty string maps to zero</span>
<span class="linenos"> 6713</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 6714</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aParseNum8</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 6715</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 6716</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6717</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 6718</span><span class="p">}</span>
<span class="linenos"> 6719</span>
<span class="linenos"> 6720</span><span class="c1">// --- algo.LspaceStr6_U32.ch.GetnumDflt</span>
<span class="linenos"> 6721</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 6722</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 6723</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 6724</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6725</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6726</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 6727</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 6728</span><span class="p">}</span>
<span class="linenos"> 6729</span>
<span class="linenos"> 6730</span><span class="c1">// --- algo.LspaceStr6_U32.ch.Geti64</span>
<span class="linenos"> 6731</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 6732</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 6733</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 6734</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6735</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6736</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 6737</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 6738</span><span class="p">}</span>
<span class="linenos"> 6739</span>
<span class="linenos"> 6740</span><span class="c1">// --- algo.LspaceStr6_U32.ch.SetnumMaybe</span>
<span class="linenos"> 6741</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 6742</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 6743</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6744</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 6745</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6746</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 6747</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 6748</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 6749</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
<span class="linenos"> 6750</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6751</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 6752</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6753</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6754</span><span class="p">}</span>
<span class="linenos"> 6755</span>
<span class="linenos"> 6756</span><span class="c1">// --- algo.LspaceStr6_U32..Hash</span>
<span class="linenos"> 6757</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6_U32_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6758</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6759</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 6760</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 6761</span><span class="p">}</span>
<span class="linenos"> 6762</span>
<span class="linenos"> 6763</span><span class="c1">// --- algo.LspaceStr6_U32..ReadStrptrMaybe</span>
<span class="linenos"> 6764</span><span class="c1">// Read fields of algo::LspaceStr6_U32 from an ascii string.</span>
<span class="linenos"> 6765</span><span class="c1">// The format of the string is the format of the algo::LspaceStr6_U32&#39;s only field</span>
<span class="linenos"> 6766</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6_U32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6767</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6768</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 6769</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6770</span><span class="p">}</span>
<span class="linenos"> 6771</span>
<span class="linenos"> 6772</span><span class="c1">// --- algo.LspaceStr6_U32..Print</span>
<span class="linenos"> 6773</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 6774</span><span class="c1">// cfmt:algo.LspaceStr6_U32.String  printfmt:Raw</span>
<span class="linenos"> 6775</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6_U32_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6776</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 6777</span><span class="p">}</span>
<span class="linenos"> 6778</span>
<span class="linenos"> 6779</span><span class="c1">// --- algo.LspaceStr7_I32_Base36.ch.Print</span>
<span class="linenos"> 6780</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr7_I32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6781</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 6782</span><span class="p">}</span>
<span class="linenos"> 6783</span>
<span class="linenos"> 6784</span><span class="c1">// --- algo.LspaceStr7_I32_Base36.ch.ReadStrptrMaybe</span>
<span class="linenos"> 6785</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 6786</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr7_I32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6787</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 6788</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6789</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6790</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6791</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6792</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 7&quot;</span><span class="p">);</span>
<span class="linenos"> 6793</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6794</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6795</span><span class="p">}</span>
<span class="linenos"> 6796</span>
<span class="linenos"> 6797</span><span class="c1">// --- algo.LspaceStr7_I32_Base36.ch.SetStrptr</span>
<span class="linenos"> 6798</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 6799</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 6800</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 6801</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr7_I32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6802</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">);</span>
<span class="linenos"> 6803</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 6804</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6805</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6806</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6807</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos"> 6808</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6809</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6810</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 6811</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6812</span><span class="p">}</span>
<span class="linenos"> 6813</span>
<span class="linenos"> 6814</span><span class="c1">// --- algo.LspaceStr7_I32_Base36.ch.Getnum</span>
<span class="linenos"> 6815</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 6816</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 6817</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 6818</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 6819</span><span class="n">i32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr7_I32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6820</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6821</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 6822</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">is_neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">);</span>
<span class="linenos"> 6823</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_neg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6824</span><span class="w">        </span><span class="n">str</span><span class="p">.</span><span class="n">elems</span><span class="o">++</span><span class="p">;</span>
<span class="linenos"> 6825</span><span class="w">        </span><span class="n">str</span><span class="p">.</span><span class="n">n_elems</span><span class="o">--</span><span class="p">;</span>
<span class="linenos"> 6826</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6827</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6828</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 6829</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 6830</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6831</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos"> 6832</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">36-10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6833</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 6834</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">36-10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6835</span><span class="w">            </span><span class="n">digit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos"> 6836</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6837</span><span class="w">            </span><span class="n">and_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 6838</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 6839</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">36</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">digit</span><span class="p">;</span>
<span class="linenos"> 6840</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6841</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">is_neg</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="o">-</span><span class="n">val</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos"> 6842</span><span class="w">    </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mh">0XFFFFFFFF80000000</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mh">0X7FFFFFFF</span><span class="p">);</span>
<span class="linenos"> 6843</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">i32</span><span class="p">(</span><span class="n">ret</span><span class="p">);</span>
<span class="linenos"> 6844</span><span class="p">}</span>
<span class="linenos"> 6845</span>
<span class="linenos"> 6846</span><span class="c1">// --- algo.LspaceStr7_I32_Base36.ch.GetnumDflt</span>
<span class="linenos"> 6847</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 6848</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 6849</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 6850</span><span class="n">i32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr7_I32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6851</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6852</span><span class="w">    </span><span class="n">i32</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 6853</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 6854</span><span class="p">}</span>
<span class="linenos"> 6855</span>
<span class="linenos"> 6856</span><span class="c1">// --- algo.LspaceStr7_I32_Base36.ch.Geti64</span>
<span class="linenos"> 6857</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 6858</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 6859</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 6860</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr7_I32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6861</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6862</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 6863</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 6864</span><span class="p">}</span>
<span class="linenos"> 6865</span>
<span class="linenos"> 6866</span><span class="c1">// --- algo.LspaceStr7_I32_Base36.ch.SetnumMaybe</span>
<span class="linenos"> 6867</span><span class="c1">// Set string to number specified in RHS performing base-36 conversion.</span>
<span class="linenos"> 6868</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 6869</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr7_I32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6870</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 6871</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6872</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 6873</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="o">-</span><span class="n">rhs</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6874</span><span class="w">    </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">buf</span><span class="p">);</span>
<span class="linenos"> 6875</span><span class="w">    </span><span class="k">do</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6876</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">rem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">36</span><span class="p">);</span>
<span class="linenos"> 6877</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">36</span><span class="p">;</span>
<span class="linenos"> 6878</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 6879</span><span class="w">        </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rem</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kt">char</span><span class="p">(</span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rem</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">char</span><span class="p">(</span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rem</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="linenos"> 6880</span><span class="w">        </span><span class="n">buf</span><span class="p">[</span><span class="o">--</span><span class="n">charpos</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span>
<span class="linenos"> 6881</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 6882</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">charpos</span><span class="p">;</span>
<span class="linenos"> 6883</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6884</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">charpos</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="n">charpos</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6885</span><span class="w">            </span><span class="o">--</span><span class="n">charpos</span><span class="p">;</span>
<span class="linenos"> 6886</span><span class="w">            </span><span class="o">++</span><span class="n">length</span><span class="p">;</span>
<span class="linenos"> 6887</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 6888</span><span class="w">        </span><span class="n">buf</span><span class="p">[</span><span class="n">charpos</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos"> 6889</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6890</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span>
<span class="linenos"> 6891</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6892</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 6893</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6894</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6895</span><span class="p">}</span>
<span class="linenos"> 6896</span>
<span class="linenos"> 6897</span><span class="c1">// --- algo.LspaceStr7_I32_Base36..Hash</span>
<span class="linenos"> 6898</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr7_I32_Base36_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr7_I32_Base36</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6899</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6900</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 6901</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 6902</span><span class="p">}</span>
<span class="linenos"> 6903</span>
<span class="linenos"> 6904</span><span class="c1">// --- algo.LspaceStr7_I32_Base36..ReadStrptrMaybe</span>
<span class="linenos"> 6905</span><span class="c1">// Read fields of algo::LspaceStr7_I32_Base36 from an ascii string.</span>
<span class="linenos"> 6906</span><span class="c1">// The format of the string is the format of the algo::LspaceStr7_I32_Base36&#39;s only field</span>
<span class="linenos"> 6907</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr7_I32_Base36_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr7_I32_Base36</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6908</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6909</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 6910</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6911</span><span class="p">}</span>
<span class="linenos"> 6912</span>
<span class="linenos"> 6913</span><span class="c1">// --- algo.LspaceStr7_I32_Base36..Print</span>
<span class="linenos"> 6914</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 6915</span><span class="c1">// cfmt:algo.LspaceStr7_I32_Base36.String  printfmt:Raw</span>
<span class="linenos"> 6916</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr7_I32_Base36_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr7_I32_Base36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6917</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 6918</span><span class="p">}</span>
<span class="linenos"> 6919</span>
<span class="linenos"> 6920</span><span class="c1">// --- algo.LspaceStr8.ch.Print</span>
<span class="linenos"> 6921</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr8</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6922</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 6923</span><span class="p">}</span>
<span class="linenos"> 6924</span>
<span class="linenos"> 6925</span><span class="c1">// --- algo.LspaceStr8.ch.ReadStrptrMaybe</span>
<span class="linenos"> 6926</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 6927</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr8</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6928</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 6929</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6930</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6931</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6932</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6933</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 8&quot;</span><span class="p">);</span>
<span class="linenos"> 6934</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6935</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6936</span><span class="p">}</span>
<span class="linenos"> 6937</span>
<span class="linenos"> 6938</span><span class="c1">// --- algo.LspaceStr8.ch.SetStrptr</span>
<span class="linenos"> 6939</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 6940</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 6941</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 6942</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr8</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6943</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
<span class="linenos"> 6944</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 6945</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6946</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 6947</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6948</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos"> 6949</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6950</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6951</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 6952</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6953</span><span class="p">}</span>
<span class="linenos"> 6954</span>
<span class="linenos"> 6955</span><span class="c1">// --- algo.LspaceStr8..Hash</span>
<span class="linenos"> 6956</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr8_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr8</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6957</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6958</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 6959</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 6960</span><span class="p">}</span>
<span class="linenos"> 6961</span>
<span class="linenos"> 6962</span><span class="c1">// --- algo.LspaceStr8..ReadStrptrMaybe</span>
<span class="linenos"> 6963</span><span class="c1">// Read fields of algo::LspaceStr8 from an ascii string.</span>
<span class="linenos"> 6964</span><span class="c1">// The format of the string is the format of the algo::LspaceStr8&#39;s only field</span>
<span class="linenos"> 6965</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr8_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr8</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6966</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6967</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 6968</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6969</span><span class="p">}</span>
<span class="linenos"> 6970</span>
<span class="linenos"> 6971</span><span class="c1">// --- algo.LspaceStr8..Print</span>
<span class="linenos"> 6972</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 6973</span><span class="c1">// cfmt:algo.LspaceStr8.String  printfmt:Raw</span>
<span class="linenos"> 6974</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr8_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr8</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6975</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 6976</span><span class="p">}</span>
<span class="linenos"> 6977</span>
<span class="linenos"> 6978</span><span class="c1">// --- algo.LspaceStr9.ch.Print</span>
<span class="linenos"> 6979</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr9</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6980</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 6981</span><span class="p">}</span>
<span class="linenos"> 6982</span>
<span class="linenos"> 6983</span><span class="c1">// --- algo.LspaceStr9.ch.ReadStrptrMaybe</span>
<span class="linenos"> 6984</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 6985</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr9</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6986</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 6987</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6988</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 6989</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 6990</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6991</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 9&quot;</span><span class="p">);</span>
<span class="linenos"> 6992</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 6993</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 6994</span><span class="p">}</span>
<span class="linenos"> 6995</span>
<span class="linenos"> 6996</span><span class="c1">// --- algo.LspaceStr9.ch.SetStrptr</span>
<span class="linenos"> 6997</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 6998</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 6999</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 7000</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr9</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7001</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">);</span>
<span class="linenos"> 7002</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 7003</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7004</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7005</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7006</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos"> 7007</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7008</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7009</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 7010</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7011</span><span class="p">}</span>
<span class="linenos"> 7012</span>
<span class="linenos"> 7013</span><span class="c1">// --- algo.LspaceStr9..Hash</span>
<span class="linenos"> 7014</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr9_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr9</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7015</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7016</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 7017</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 7018</span><span class="p">}</span>
<span class="linenos"> 7019</span>
<span class="linenos"> 7020</span><span class="c1">// --- algo.LspaceStr9..ReadStrptrMaybe</span>
<span class="linenos"> 7021</span><span class="c1">// Read fields of algo::LspaceStr9 from an ascii string.</span>
<span class="linenos"> 7022</span><span class="c1">// The format of the string is the format of the algo::LspaceStr9&#39;s only field</span>
<span class="linenos"> 7023</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr9_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr9</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7024</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7025</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 7026</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7027</span><span class="p">}</span>
<span class="linenos"> 7028</span>
<span class="linenos"> 7029</span><span class="c1">// --- algo.LspaceStr9..Print</span>
<span class="linenos"> 7030</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 7031</span><span class="c1">// cfmt:algo.LspaceStr9.String  printfmt:Raw</span>
<span class="linenos"> 7032</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr9_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr9</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7033</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 7034</span><span class="p">}</span>
<span class="linenos"> 7035</span>
<span class="linenos"> 7036</span><span class="c1">// --- algo.Md5Digest.value.Print</span>
<span class="linenos"> 7037</span><span class="c1">// Convert value to a string.</span>
<span class="linenos"> 7038</span><span class="c1">// Array is printed as a regular string.</span>
<span class="linenos"> 7039</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Md5Digest</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7040</span><span class="w">    </span><span class="n">rhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">memptr_ToStrptr</span><span class="p">(</span><span class="n">value_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 7041</span><span class="p">}</span>
<span class="linenos"> 7042</span>
<span class="linenos"> 7043</span><span class="c1">// --- algo.Md5Digest.value.ReadStrptrMaybe</span>
<span class="linenos"> 7044</span><span class="c1">// Read array from string</span>
<span class="linenos"> 7045</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 7046</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Md5Digest</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7047</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7048</span><span class="w">    </span><span class="n">i32</span><span class="w"> </span><span class="n">newlen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">in_str</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span>
<span class="linenos"> 7049</span><span class="w">    </span><span class="n">memcpy</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">value_elems</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">.</span><span class="n">elems</span><span class="p">,</span><span class="w"> </span><span class="n">newlen</span><span class="p">);</span>
<span class="linenos"> 7050</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7051</span><span class="p">}</span>
<span class="linenos"> 7052</span>
<span class="linenos"> 7053</span><span class="c1">// --- algo.Md5Digest..ReadStrptrMaybe</span>
<span class="linenos"> 7054</span><span class="c1">// Read fields of algo::Md5Digest from an ascii string.</span>
<span class="linenos"> 7055</span><span class="c1">// The format of the string is the format of the algo::Md5Digest&#39;s only field</span>
<span class="linenos"> 7056</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Md5Digest_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Md5Digest</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7057</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7058</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 7059</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7060</span><span class="p">}</span>
<span class="linenos"> 7061</span>
<span class="linenos"> 7062</span><span class="c1">// --- algo.Md5Digest..Print</span>
<span class="linenos"> 7063</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 7064</span><span class="c1">// cfmt:algo.Md5Digest.String  printfmt:Raw</span>
<span class="linenos"> 7065</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Md5Digest_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Md5Digest</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7066</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 7067</span><span class="p">}</span>
<span class="linenos"> 7068</span>
<span class="linenos"> 7069</span><span class="c1">// --- algo.Month.value.ToCstr</span>
<span class="linenos"> 7070</span><span class="c1">// Convert numeric value of field to one of predefined string constants.</span>
<span class="linenos"> 7071</span><span class="c1">// If string is found, return a static C string. Otherwise, return NULL.</span>
<span class="linenos"> 7072</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ToCstr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Month</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7073</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="linenos"> 7074</span><span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">value_GetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7075</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_Month_January</span><span class="w">            </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;January&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7076</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_Month_February</span><span class="w">           </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;February&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7077</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_Month_March</span><span class="w">              </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;March&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7078</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_Month_April</span><span class="w">              </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;April&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7079</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_Month_May</span><span class="w">                </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;May&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7080</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_Month_June</span><span class="w">               </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;June&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7081</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_Month_July</span><span class="w">               </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;July&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7082</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_Month_August</span><span class="w">             </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;August&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7083</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_Month_September</span><span class="w">          </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;September&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7084</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_Month_October</span><span class="w">            </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;October&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7085</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_Month_November</span><span class="w">           </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;November&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7086</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_Month_December</span><span class="w">           </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;December&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7087</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_Month_None</span><span class="w">               </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;None&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7088</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7089</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="linenos"> 7090</span><span class="p">}</span>
<span class="linenos"> 7091</span>
<span class="linenos"> 7092</span><span class="c1">// --- algo.Month.value.Print</span>
<span class="linenos"> 7093</span><span class="c1">// Convert value to a string. First, attempt conversion to a known string.</span>
<span class="linenos"> 7094</span><span class="c1">// If no string matches, print value as a numeric value.</span>
<span class="linenos"> 7095</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Month</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7096</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">strval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value_ToCstr</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 7097</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7098</span><span class="w">        </span><span class="n">lhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">strval</span><span class="p">;</span>
<span class="linenos"> 7099</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7100</span><span class="w">        </span><span class="n">lhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos"> 7101</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7102</span><span class="p">}</span>
<span class="linenos"> 7103</span>
<span class="linenos"> 7104</span><span class="c1">// --- algo.Month.value.SetStrptrMaybe</span>
<span class="linenos"> 7105</span><span class="c1">// Convert string to field.</span>
<span class="linenos"> 7106</span><span class="c1">// If the string is invalid, do not modify field and return false.</span>
<span class="linenos"> 7107</span><span class="c1">// In case of success, return true</span>
<span class="linenos"> 7108</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Month</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7109</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 7110</span><span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">rhs</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7111</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">3</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7112</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE16</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">rhs</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">&lt;&lt;</span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7113</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR3</span><span class="p">(</span><span class="sc">&#39;M&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;y&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7114</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Month_May</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7115</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 7116</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 7117</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7118</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 7119</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">4</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7120</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7121</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR4</span><span class="p">(</span><span class="sc">&#39;J&#39;</span><span class="p">,</span><span class="sc">&#39;u&#39;</span><span class="p">,</span><span class="sc">&#39;l&#39;</span><span class="p">,</span><span class="sc">&#39;y&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7122</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Month_July</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7123</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 7124</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR4</span><span class="p">(</span><span class="sc">&#39;J&#39;</span><span class="p">,</span><span class="sc">&#39;u&#39;</span><span class="p">,</span><span class="sc">&#39;n&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7125</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Month_June</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7126</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 7127</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR4</span><span class="p">(</span><span class="sc">&#39;N&#39;</span><span class="p">,</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;n&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7128</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Month_None</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7129</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 7130</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 7131</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7132</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 7133</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">5</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7134</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">rhs</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span><span class="o">&lt;&lt;</span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7135</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR5</span><span class="p">(</span><span class="sc">&#39;A&#39;</span><span class="p">,</span><span class="sc">&#39;p&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;i&#39;</span><span class="p">,</span><span class="sc">&#39;l&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7136</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Month_April</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7137</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 7138</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR5</span><span class="p">(</span><span class="sc">&#39;M&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;c&#39;</span><span class="p">,</span><span class="sc">&#39;h&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7139</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Month_March</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7140</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 7141</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 7142</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7143</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 7144</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">6</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7145</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE16</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="o">+</span><span class="mi">4</span><span class="p">))</span><span class="o">&lt;&lt;</span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7146</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR6</span><span class="p">(</span><span class="sc">&#39;A&#39;</span><span class="p">,</span><span class="sc">&#39;u&#39;</span><span class="p">,</span><span class="sc">&#39;g&#39;</span><span class="p">,</span><span class="sc">&#39;u&#39;</span><span class="p">,</span><span class="sc">&#39;s&#39;</span><span class="p">,</span><span class="sc">&#39;t&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7147</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Month_August</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7148</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 7149</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 7150</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7151</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 7152</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">7</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7153</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE16</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="o">+</span><span class="mi">4</span><span class="p">))</span><span class="o">&lt;&lt;</span><span class="mi">32</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">rhs</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span><span class="o">&lt;&lt;</span><span class="mi">48</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7154</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR7</span><span class="p">(</span><span class="sc">&#39;J&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;n&#39;</span><span class="p">,</span><span class="sc">&#39;u&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;y&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7155</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Month_January</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7156</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 7157</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR7</span><span class="p">(</span><span class="sc">&#39;O&#39;</span><span class="p">,</span><span class="sc">&#39;c&#39;</span><span class="p">,</span><span class="sc">&#39;t&#39;</span><span class="p">,</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;b&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7158</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Month_October</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7159</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 7160</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 7161</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7162</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 7163</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">8</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7164</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE64</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7165</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR8</span><span class="p">(</span><span class="sc">&#39;D&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;c&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;m&#39;</span><span class="p">,</span><span class="sc">&#39;b&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7166</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Month_December</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7167</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 7168</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR8</span><span class="p">(</span><span class="sc">&#39;F&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;b&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;u&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;y&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7169</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Month_February</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7170</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 7171</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR8</span><span class="p">(</span><span class="sc">&#39;N&#39;</span><span class="p">,</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;v&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;m&#39;</span><span class="p">,</span><span class="sc">&#39;b&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7172</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Month_November</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7173</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 7174</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 7175</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7176</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 7177</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">9</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7178</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE64</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7179</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR8</span><span class="p">(</span><span class="sc">&#39;S&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;p&#39;</span><span class="p">,</span><span class="sc">&#39;t&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;m&#39;</span><span class="p">,</span><span class="sc">&#39;b&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7180</span><span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">memcmp</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="o">+</span><span class="mi">8</span><span class="p">,</span><span class="s">&quot;r&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_Month_September</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 7181</span><span class="w">                    </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7182</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 7183</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 7184</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7185</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 7186</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7187</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="linenos"> 7188</span><span class="p">}</span>
<span class="linenos"> 7189</span>
<span class="linenos"> 7190</span><span class="c1">// --- algo.Month.value.SetStrptr</span>
<span class="linenos"> 7191</span><span class="c1">// Convert string to field.</span>
<span class="linenos"> 7192</span><span class="c1">// If the string is invalid, set numeric value to DFLT</span>
<span class="linenos"> 7193</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Month</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">,</span><span class="w"> </span><span class="n">algo_MonthEnum</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7194</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">rhs</span><span class="p">))</span><span class="w"> </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">dflt</span><span class="p">);</span>
<span class="linenos"> 7195</span><span class="p">}</span>
<span class="linenos"> 7196</span>
<span class="linenos"> 7197</span><span class="c1">// --- algo.Month.value.ReadStrptrMaybe</span>
<span class="linenos"> 7198</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 7199</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Month</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7200</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 7201</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">rhs</span><span class="p">);</span><span class="w"> </span><span class="c1">// try symbol conversion</span>
<span class="linenos"> 7202</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// didn&#39;t work? try reading as underlying type</span>
<span class="linenos"> 7203</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7204</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7205</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7206</span><span class="p">}</span>
<span class="linenos"> 7207</span>
<span class="linenos"> 7208</span><span class="c1">// --- algo.Month..ReadStrptrMaybe</span>
<span class="linenos"> 7209</span><span class="c1">// Read fields of algo::Month from an ascii string.</span>
<span class="linenos"> 7210</span><span class="c1">// The format of the string is the format of the algo::Month&#39;s only field</span>
<span class="linenos"> 7211</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Month_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Month</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7212</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7213</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 7214</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7215</span><span class="p">}</span>
<span class="linenos"> 7216</span>
<span class="linenos"> 7217</span><span class="c1">// --- algo.Month..Print</span>
<span class="linenos"> 7218</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 7219</span><span class="c1">// cfmt:algo.Month.String  printfmt:Raw</span>
<span class="linenos"> 7220</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Month_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Month</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7221</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 7222</span><span class="p">}</span>
<span class="linenos"> 7223</span>
<span class="linenos"> 7224</span><span class="c1">// --- algo.NumParseFlags.err.ReadStrptrMaybe</span>
<span class="linenos"> 7225</span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">err_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">NumParseFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7226</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7227</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">err_tmp</span><span class="p">;</span>
<span class="linenos"> 7228</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bool_ReadStrptrMaybe</span><span class="p">(</span><span class="n">err_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 7229</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7230</span><span class="w">        </span><span class="n">err_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">err_tmp</span><span class="p">);</span>
<span class="linenos"> 7231</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7232</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7233</span><span class="p">}</span>
<span class="linenos"> 7234</span>
<span class="linenos"> 7235</span><span class="c1">// --- algo.NumParseFlags.ok.ReadStrptrMaybe</span>
<span class="linenos"> 7236</span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ok_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">NumParseFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7237</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7238</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok_tmp</span><span class="p">;</span>
<span class="linenos"> 7239</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bool_ReadStrptrMaybe</span><span class="p">(</span><span class="n">ok_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 7240</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7241</span><span class="w">        </span><span class="n">ok_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok_tmp</span><span class="p">);</span>
<span class="linenos"> 7242</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7243</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7244</span><span class="p">}</span>
<span class="linenos"> 7245</span>
<span class="linenos"> 7246</span><span class="c1">// --- algo.NumParseFlags.neg.ReadStrptrMaybe</span>
<span class="linenos"> 7247</span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">neg_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">NumParseFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7248</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7249</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">neg_tmp</span><span class="p">;</span>
<span class="linenos"> 7250</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bool_ReadStrptrMaybe</span><span class="p">(</span><span class="n">neg_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 7251</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7252</span><span class="w">        </span><span class="n">neg_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">neg_tmp</span><span class="p">);</span>
<span class="linenos"> 7253</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7254</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7255</span><span class="p">}</span>
<span class="linenos"> 7256</span>
<span class="linenos"> 7257</span><span class="c1">// --- algo.NumParseFlags.overflow.ReadStrptrMaybe</span>
<span class="linenos"> 7258</span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">overflow_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">NumParseFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7259</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7260</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">overflow_tmp</span><span class="p">;</span>
<span class="linenos"> 7261</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bool_ReadStrptrMaybe</span><span class="p">(</span><span class="n">overflow_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 7262</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7263</span><span class="w">        </span><span class="n">overflow_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">overflow_tmp</span><span class="p">);</span>
<span class="linenos"> 7264</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7265</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7266</span><span class="p">}</span>
<span class="linenos"> 7267</span>
<span class="linenos"> 7268</span><span class="c1">// --- algo.NumParseFlags.hex.ReadStrptrMaybe</span>
<span class="linenos"> 7269</span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">hex_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">NumParseFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7270</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7271</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">hex_tmp</span><span class="p">;</span>
<span class="linenos"> 7272</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bool_ReadStrptrMaybe</span><span class="p">(</span><span class="n">hex_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 7273</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7274</span><span class="w">        </span><span class="n">hex_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">hex_tmp</span><span class="p">);</span>
<span class="linenos"> 7275</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7276</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7277</span><span class="p">}</span>
<span class="linenos"> 7278</span>
<span class="linenos"> 7279</span><span class="c1">// --- algo.NumParseFlags..ReadFieldMaybe</span>
<span class="linenos"> 7280</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">NumParseFlags_ReadFieldMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">NumParseFlags</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7281</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7282</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field_id</span><span class="p">;</span>
<span class="linenos"> 7283</span><span class="w">    </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">field_id</span><span class="p">,</span><span class="n">field</span><span class="p">);</span>
<span class="linenos"> 7284</span><span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">field_id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7285</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_value</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7286</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 7287</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7288</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 7289</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_err</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7290</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">err_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 7291</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7292</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 7293</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_ok</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7294</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ok_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 7295</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7296</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 7297</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_neg</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7298</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">neg_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 7299</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7300</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 7301</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_overflow</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7302</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">overflow_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 7303</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7304</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 7305</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_hex</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7306</span><span class="w">            </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hex_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">strval</span><span class="p">);</span>
<span class="linenos"> 7307</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7308</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 7309</span><span class="w">        </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7310</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7311</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7312</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">AppendErrtext</span><span class="p">(</span><span class="s">&quot;attr&quot;</span><span class="p">,</span><span class="n">field</span><span class="p">);</span>
<span class="linenos"> 7313</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7314</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7315</span><span class="p">}</span>
<span class="linenos"> 7316</span>
<span class="linenos"> 7317</span><span class="c1">// --- algo.NumParseFlags..ReadStrptrMaybe</span>
<span class="linenos"> 7318</span><span class="c1">// Read fields of algo::NumParseFlags from an ascii string.</span>
<span class="linenos"> 7319</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">NumParseFlags_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">NumParseFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7320</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7321</span><span class="w">    </span><span class="c1">// Clear affected bits first)</span>
<span class="linenos"> 7322</span><span class="w">    </span><span class="n">err_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos"> 7323</span><span class="w">    </span><span class="n">ok_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos"> 7324</span><span class="w">    </span><span class="n">neg_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos"> 7325</span><span class="w">    </span><span class="n">overflow_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos"> 7326</span><span class="w">    </span><span class="n">hex_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos"> 7327</span><span class="w">    </span><span class="c1">// Read &#39;,&#39;-separated list of bools</span>
<span class="linenos"> 7328</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">ch_N</span><span class="p">(</span><span class="n">in_str</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7329</span><span class="w">        </span><span class="n">strptr</span><span class="w"> </span><span class="n">field_name</span><span class="p">;</span>
<span class="linenos"> 7330</span><span class="w">        </span><span class="n">algo</span><span class="o">::</span><span class="n">NextSep</span><span class="p">(</span><span class="n">in_str</span><span class="p">,</span><span class="sc">&#39;,&#39;</span><span class="p">,</span><span class="n">field_name</span><span class="p">);</span>
<span class="linenos"> 7331</span><span class="w">        </span><span class="n">field_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Trimmed</span><span class="p">(</span><span class="n">field_name</span><span class="p">);</span>
<span class="linenos"> 7332</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ch_N</span><span class="p">(</span><span class="n">field_name</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7333</span><span class="w">            </span><span class="n">algo</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field_id</span><span class="p">;</span>
<span class="linenos"> 7334</span><span class="w">            </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">field_id</span><span class="p">,</span><span class="n">field_name</span><span class="p">);</span>
<span class="linenos"> 7335</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7336</span><span class="w">                </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">field_id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7337</span><span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_err</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7338</span><span class="w">                        </span><span class="n">err_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 7339</span><span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7340</span><span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_ok</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7341</span><span class="w">                        </span><span class="n">ok_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 7342</span><span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7343</span><span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_neg</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7344</span><span class="w">                        </span><span class="n">neg_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 7345</span><span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7346</span><span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_overflow</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7347</span><span class="w">                        </span><span class="n">overflow_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 7348</span><span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7349</span><span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">algo_FieldId_hex</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7350</span><span class="w">                        </span><span class="n">hex_Set</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos"> 7351</span><span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7352</span><span class="w">                    </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos"> 7353</span><span class="w">                </span><span class="p">}</span>
<span class="linenos"> 7354</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 7355</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7356</span><span class="w">                </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">AppendErrtext</span><span class="p">(</span><span class="s">&quot;bitfld&quot;</span><span class="p">,</span><span class="n">field_name</span><span class="p">);</span>
<span class="linenos"> 7357</span><span class="w">                </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 7358</span><span class="w">            </span><span class="p">}</span>
<span class="linenos"> 7359</span><span class="w">        </span><span class="p">}</span>
<span class="linenos"> 7360</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7361</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7362</span><span class="p">}</span>
<span class="linenos"> 7363</span>
<span class="linenos"> 7364</span><span class="c1">// --- algo.NumParseFlags..Print</span>
<span class="linenos"> 7365</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 7366</span><span class="c1">// cfmt:algo.NumParseFlags.String  printfmt:Bitset</span>
<span class="linenos"> 7367</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">NumParseFlags_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">NumParseFlags</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7368</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ListSep</span><span class="w"> </span><span class="n">ls</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">);</span>
<span class="linenos"> 7369</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err_Get</span><span class="p">(</span><span class="n">row</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7370</span><span class="w">        </span><span class="n">str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;err&quot;</span><span class="p">;</span>
<span class="linenos"> 7371</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7372</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok_Get</span><span class="p">(</span><span class="n">row</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7373</span><span class="w">        </span><span class="n">str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;ok&quot;</span><span class="p">;</span>
<span class="linenos"> 7374</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7375</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">neg_Get</span><span class="p">(</span><span class="n">row</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7376</span><span class="w">        </span><span class="n">str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;neg&quot;</span><span class="p">;</span>
<span class="linenos"> 7377</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7378</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">overflow_Get</span><span class="p">(</span><span class="n">row</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7379</span><span class="w">        </span><span class="n">str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;overflow&quot;</span><span class="p">;</span>
<span class="linenos"> 7380</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7381</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hex_Get</span><span class="p">(</span><span class="n">row</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7382</span><span class="w">        </span><span class="n">str</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;hex&quot;</span><span class="p">;</span>
<span class="linenos"> 7383</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7384</span><span class="p">}</span>
<span class="linenos"> 7385</span>
<span class="linenos"> 7386</span><span class="c1">// --- algo.NumParseFlags..GetAnon</span>
<span class="linenos"> 7387</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">NumParseFlags_GetAnon</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">NumParseFlags</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7388</span><span class="w">    </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">parent</span><span class="p">;</span><span class="c1">//only to avoid -Wunused-parameter</span>
<span class="linenos"> 7389</span><span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7390</span><span class="w">        </span><span class="k">case</span><span class="p">(</span><span class="mi">0</span><span class="p">):</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">strptr</span><span class="p">(</span><span class="s">&quot;value&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="linenos"> 7391</span><span class="w">        </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">();</span>
<span class="linenos"> 7392</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7393</span><span class="p">}</span>
<span class="linenos"> 7394</span>
<span class="linenos"> 7395</span><span class="c1">// --- algo.RnullStr1.ch.Print</span>
<span class="linenos"> 7396</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr1</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7397</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 7398</span><span class="p">}</span>
<span class="linenos"> 7399</span>
<span class="linenos"> 7400</span><span class="c1">// --- algo.RnullStr1.ch.ReadStrptrMaybe</span>
<span class="linenos"> 7401</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 7402</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr1</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7403</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 7404</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7405</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7406</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7407</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7408</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 1&quot;</span><span class="p">);</span>
<span class="linenos"> 7409</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7410</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7411</span><span class="p">}</span>
<span class="linenos"> 7412</span>
<span class="linenos"> 7413</span><span class="c1">// --- algo.RnullStr1.ch.SetStrptr</span>
<span class="linenos"> 7414</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 7415</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 7416</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 7417</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr1</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7418</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 7419</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 7420</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7421</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7422</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7423</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 7424</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7425</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7426</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7427</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7428</span><span class="p">}</span>
<span class="linenos"> 7429</span>
<span class="linenos"> 7430</span><span class="c1">// --- algo.RnullStr1..Hash</span>
<span class="linenos"> 7431</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr1_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr1</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7432</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7433</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 7434</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 7435</span><span class="p">}</span>
<span class="linenos"> 7436</span>
<span class="linenos"> 7437</span><span class="c1">// --- algo.RnullStr1..ReadStrptrMaybe</span>
<span class="linenos"> 7438</span><span class="c1">// Read fields of algo::RnullStr1 from an ascii string.</span>
<span class="linenos"> 7439</span><span class="c1">// The format of the string is the format of the algo::RnullStr1&#39;s only field</span>
<span class="linenos"> 7440</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr1_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr1</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7441</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7442</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 7443</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7444</span><span class="p">}</span>
<span class="linenos"> 7445</span>
<span class="linenos"> 7446</span><span class="c1">// --- algo.RnullStr1..Print</span>
<span class="linenos"> 7447</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 7448</span><span class="c1">// cfmt:algo.RnullStr1.String  printfmt:Raw</span>
<span class="linenos"> 7449</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr1_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr1</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7450</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 7451</span><span class="p">}</span>
<span class="linenos"> 7452</span>
<span class="linenos"> 7453</span><span class="c1">// --- algo.RnullStr10.ch.Print</span>
<span class="linenos"> 7454</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr10</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7455</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 7456</span><span class="p">}</span>
<span class="linenos"> 7457</span>
<span class="linenos"> 7458</span><span class="c1">// --- algo.RnullStr10.ch.ReadStrptrMaybe</span>
<span class="linenos"> 7459</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 7460</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr10</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7461</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 7462</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7463</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7464</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7465</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7466</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 10&quot;</span><span class="p">);</span>
<span class="linenos"> 7467</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7468</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7469</span><span class="p">}</span>
<span class="linenos"> 7470</span>
<span class="linenos"> 7471</span><span class="c1">// --- algo.RnullStr10.ch.SetStrptr</span>
<span class="linenos"> 7472</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 7473</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 7474</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 7475</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr10</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7476</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="linenos"> 7477</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 7478</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7479</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7480</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7481</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 7482</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7483</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7484</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7485</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7486</span><span class="p">}</span>
<span class="linenos"> 7487</span>
<span class="linenos"> 7488</span><span class="c1">// --- algo.RnullStr10..Hash</span>
<span class="linenos"> 7489</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr10_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr10</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7490</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7491</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 7492</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 7493</span><span class="p">}</span>
<span class="linenos"> 7494</span>
<span class="linenos"> 7495</span><span class="c1">// --- algo.RnullStr10..ReadStrptrMaybe</span>
<span class="linenos"> 7496</span><span class="c1">// Read fields of algo::RnullStr10 from an ascii string.</span>
<span class="linenos"> 7497</span><span class="c1">// The format of the string is the format of the algo::RnullStr10&#39;s only field</span>
<span class="linenos"> 7498</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr10_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr10</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7499</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7500</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 7501</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7502</span><span class="p">}</span>
<span class="linenos"> 7503</span>
<span class="linenos"> 7504</span><span class="c1">// --- algo.RnullStr10..Print</span>
<span class="linenos"> 7505</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 7506</span><span class="c1">// cfmt:algo.RnullStr10.String  printfmt:Raw</span>
<span class="linenos"> 7507</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr10_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr10</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7508</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 7509</span><span class="p">}</span>
<span class="linenos"> 7510</span>
<span class="linenos"> 7511</span><span class="c1">// --- algo.RnullStr100.ch.Print</span>
<span class="linenos"> 7512</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr100</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7513</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 7514</span><span class="p">}</span>
<span class="linenos"> 7515</span>
<span class="linenos"> 7516</span><span class="c1">// --- algo.RnullStr100.ch.ReadStrptrMaybe</span>
<span class="linenos"> 7517</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 7518</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr100</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7519</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 7520</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7521</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7522</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7523</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7524</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 100&quot;</span><span class="p">);</span>
<span class="linenos"> 7525</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7526</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7527</span><span class="p">}</span>
<span class="linenos"> 7528</span>
<span class="linenos"> 7529</span><span class="c1">// --- algo.RnullStr100.ch.SetStrptr</span>
<span class="linenos"> 7530</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 7531</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 7532</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 7533</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr100</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7534</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<span class="linenos"> 7535</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 7536</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7537</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7538</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7539</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 7540</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7541</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7542</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7543</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7544</span><span class="p">}</span>
<span class="linenos"> 7545</span>
<span class="linenos"> 7546</span><span class="c1">// --- algo.RnullStr100..Hash</span>
<span class="linenos"> 7547</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr100_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr100</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7548</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7549</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 7550</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 7551</span><span class="p">}</span>
<span class="linenos"> 7552</span>
<span class="linenos"> 7553</span><span class="c1">// --- algo.RnullStr100..ReadStrptrMaybe</span>
<span class="linenos"> 7554</span><span class="c1">// Read fields of algo::RnullStr100 from an ascii string.</span>
<span class="linenos"> 7555</span><span class="c1">// The format of the string is the format of the algo::RnullStr100&#39;s only field</span>
<span class="linenos"> 7556</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr100_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr100</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7557</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7558</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 7559</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7560</span><span class="p">}</span>
<span class="linenos"> 7561</span>
<span class="linenos"> 7562</span><span class="c1">// --- algo.RnullStr100..Print</span>
<span class="linenos"> 7563</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 7564</span><span class="c1">// cfmt:algo.RnullStr100.String  printfmt:Raw</span>
<span class="linenos"> 7565</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr100_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr100</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7566</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 7567</span><span class="p">}</span>
<span class="linenos"> 7568</span>
<span class="linenos"> 7569</span><span class="c1">// --- algo.RnullStr1000.ch.Print</span>
<span class="linenos"> 7570</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr1000</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7571</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 7572</span><span class="p">}</span>
<span class="linenos"> 7573</span>
<span class="linenos"> 7574</span><span class="c1">// --- algo.RnullStr1000.ch.ReadStrptrMaybe</span>
<span class="linenos"> 7575</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 7576</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr1000</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7577</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 7578</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7579</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7580</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7581</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7582</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 1000&quot;</span><span class="p">);</span>
<span class="linenos"> 7583</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7584</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7585</span><span class="p">}</span>
<span class="linenos"> 7586</span>
<span class="linenos"> 7587</span><span class="c1">// --- algo.RnullStr1000.ch.SetStrptr</span>
<span class="linenos"> 7588</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 7589</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 7590</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 7591</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr1000</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7592</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">);</span>
<span class="linenos"> 7593</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 7594</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7595</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7596</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7597</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 7598</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7599</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7600</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7601</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7602</span><span class="p">}</span>
<span class="linenos"> 7603</span>
<span class="linenos"> 7604</span><span class="c1">// --- algo.RnullStr1000..Hash</span>
<span class="linenos"> 7605</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr1000_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr1000</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7606</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7607</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 7608</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 7609</span><span class="p">}</span>
<span class="linenos"> 7610</span>
<span class="linenos"> 7611</span><span class="c1">// --- algo.RnullStr1000..ReadStrptrMaybe</span>
<span class="linenos"> 7612</span><span class="c1">// Read fields of algo::RnullStr1000 from an ascii string.</span>
<span class="linenos"> 7613</span><span class="c1">// The format of the string is the format of the algo::RnullStr1000&#39;s only field</span>
<span class="linenos"> 7614</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr1000_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr1000</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7615</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7616</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 7617</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7618</span><span class="p">}</span>
<span class="linenos"> 7619</span>
<span class="linenos"> 7620</span><span class="c1">// --- algo.RnullStr1000..Print</span>
<span class="linenos"> 7621</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 7622</span><span class="c1">// cfmt:algo.RnullStr1000.String  printfmt:Raw</span>
<span class="linenos"> 7623</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr1000_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr1000</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7624</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 7625</span><span class="p">}</span>
<span class="linenos"> 7626</span>
<span class="linenos"> 7627</span><span class="c1">// --- algo.RnullStr11.ch.Print</span>
<span class="linenos"> 7628</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr11</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7629</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 7630</span><span class="p">}</span>
<span class="linenos"> 7631</span>
<span class="linenos"> 7632</span><span class="c1">// --- algo.RnullStr11.ch.ReadStrptrMaybe</span>
<span class="linenos"> 7633</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 7634</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr11</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7635</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 7636</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7637</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7638</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7639</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7640</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 11&quot;</span><span class="p">);</span>
<span class="linenos"> 7641</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7642</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7643</span><span class="p">}</span>
<span class="linenos"> 7644</span>
<span class="linenos"> 7645</span><span class="c1">// --- algo.RnullStr11.ch.SetStrptr</span>
<span class="linenos"> 7646</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 7647</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 7648</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 7649</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr11</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7650</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">);</span>
<span class="linenos"> 7651</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 7652</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7653</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7654</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7655</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 7656</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7657</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">11</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7658</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7659</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7660</span><span class="p">}</span>
<span class="linenos"> 7661</span>
<span class="linenos"> 7662</span><span class="c1">// --- algo.RnullStr11..Hash</span>
<span class="linenos"> 7663</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr11_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr11</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7664</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7665</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 7666</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 7667</span><span class="p">}</span>
<span class="linenos"> 7668</span>
<span class="linenos"> 7669</span><span class="c1">// --- algo.RnullStr11..ReadStrptrMaybe</span>
<span class="linenos"> 7670</span><span class="c1">// Read fields of algo::RnullStr11 from an ascii string.</span>
<span class="linenos"> 7671</span><span class="c1">// The format of the string is the format of the algo::RnullStr11&#39;s only field</span>
<span class="linenos"> 7672</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr11_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr11</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7673</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7674</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 7675</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7676</span><span class="p">}</span>
<span class="linenos"> 7677</span>
<span class="linenos"> 7678</span><span class="c1">// --- algo.RnullStr11..Print</span>
<span class="linenos"> 7679</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 7680</span><span class="c1">// cfmt:algo.RnullStr11.String  printfmt:Raw</span>
<span class="linenos"> 7681</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr11_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr11</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7682</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 7683</span><span class="p">}</span>
<span class="linenos"> 7684</span>
<span class="linenos"> 7685</span><span class="c1">// --- algo.RnullStr12.ch.Print</span>
<span class="linenos"> 7686</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr12</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7687</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 7688</span><span class="p">}</span>
<span class="linenos"> 7689</span>
<span class="linenos"> 7690</span><span class="c1">// --- algo.RnullStr12.ch.ReadStrptrMaybe</span>
<span class="linenos"> 7691</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 7692</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr12</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7693</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 7694</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">12</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7695</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7696</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7697</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7698</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 12&quot;</span><span class="p">);</span>
<span class="linenos"> 7699</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7700</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7701</span><span class="p">}</span>
<span class="linenos"> 7702</span>
<span class="linenos"> 7703</span><span class="c1">// --- algo.RnullStr12.ch.SetStrptr</span>
<span class="linenos"> 7704</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 7705</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 7706</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 7707</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr12</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7708</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">);</span>
<span class="linenos"> 7709</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 7710</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7711</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7712</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7713</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 7714</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7715</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">12</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7716</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7717</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7718</span><span class="p">}</span>
<span class="linenos"> 7719</span>
<span class="linenos"> 7720</span><span class="c1">// --- algo.RnullStr12..Hash</span>
<span class="linenos"> 7721</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr12_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr12</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7722</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7723</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 7724</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 7725</span><span class="p">}</span>
<span class="linenos"> 7726</span>
<span class="linenos"> 7727</span><span class="c1">// --- algo.RnullStr12..ReadStrptrMaybe</span>
<span class="linenos"> 7728</span><span class="c1">// Read fields of algo::RnullStr12 from an ascii string.</span>
<span class="linenos"> 7729</span><span class="c1">// The format of the string is the format of the algo::RnullStr12&#39;s only field</span>
<span class="linenos"> 7730</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr12_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr12</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7731</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7732</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 7733</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7734</span><span class="p">}</span>
<span class="linenos"> 7735</span>
<span class="linenos"> 7736</span><span class="c1">// --- algo.RnullStr12..Print</span>
<span class="linenos"> 7737</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 7738</span><span class="c1">// cfmt:algo.RnullStr12.String  printfmt:Raw</span>
<span class="linenos"> 7739</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr12_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr12</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7740</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 7741</span><span class="p">}</span>
<span class="linenos"> 7742</span>
<span class="linenos"> 7743</span><span class="c1">// --- algo.RnullStr129.ch.Print</span>
<span class="linenos"> 7744</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr129</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7745</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 7746</span><span class="p">}</span>
<span class="linenos"> 7747</span>
<span class="linenos"> 7748</span><span class="c1">// --- algo.RnullStr129.ch.ReadStrptrMaybe</span>
<span class="linenos"> 7749</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 7750</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr129</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7751</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 7752</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">129</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7753</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7754</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7755</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7756</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 129&quot;</span><span class="p">);</span>
<span class="linenos"> 7757</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7758</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7759</span><span class="p">}</span>
<span class="linenos"> 7760</span>
<span class="linenos"> 7761</span><span class="c1">// --- algo.RnullStr129.ch.SetStrptr</span>
<span class="linenos"> 7762</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 7763</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 7764</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 7765</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr129</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7766</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">129</span><span class="p">);</span>
<span class="linenos"> 7767</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 7768</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7769</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7770</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7771</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 7772</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7773</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">129</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7774</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7775</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7776</span><span class="p">}</span>
<span class="linenos"> 7777</span>
<span class="linenos"> 7778</span><span class="c1">// --- algo.RnullStr129..Hash</span>
<span class="linenos"> 7779</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr129_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr129</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7780</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7781</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 7782</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 7783</span><span class="p">}</span>
<span class="linenos"> 7784</span>
<span class="linenos"> 7785</span><span class="c1">// --- algo.RnullStr129..ReadStrptrMaybe</span>
<span class="linenos"> 7786</span><span class="c1">// Read fields of algo::RnullStr129 from an ascii string.</span>
<span class="linenos"> 7787</span><span class="c1">// The format of the string is the format of the algo::RnullStr129&#39;s only field</span>
<span class="linenos"> 7788</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr129_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr129</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7789</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7790</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 7791</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7792</span><span class="p">}</span>
<span class="linenos"> 7793</span>
<span class="linenos"> 7794</span><span class="c1">// --- algo.RnullStr129..Print</span>
<span class="linenos"> 7795</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 7796</span><span class="c1">// cfmt:algo.RnullStr129.String  printfmt:Raw</span>
<span class="linenos"> 7797</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr129_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr129</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7798</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 7799</span><span class="p">}</span>
<span class="linenos"> 7800</span>
<span class="linenos"> 7801</span><span class="c1">// --- algo.RnullStr13.ch.Print</span>
<span class="linenos"> 7802</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr13</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7803</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 7804</span><span class="p">}</span>
<span class="linenos"> 7805</span>
<span class="linenos"> 7806</span><span class="c1">// --- algo.RnullStr13.ch.ReadStrptrMaybe</span>
<span class="linenos"> 7807</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 7808</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr13</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7809</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 7810</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">13</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7811</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7812</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7813</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7814</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 13&quot;</span><span class="p">);</span>
<span class="linenos"> 7815</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7816</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7817</span><span class="p">}</span>
<span class="linenos"> 7818</span>
<span class="linenos"> 7819</span><span class="c1">// --- algo.RnullStr13.ch.SetStrptr</span>
<span class="linenos"> 7820</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 7821</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 7822</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 7823</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr13</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7824</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">);</span>
<span class="linenos"> 7825</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 7826</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7827</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7828</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7829</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 7830</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7831</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">13</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7832</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7833</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7834</span><span class="p">}</span>
<span class="linenos"> 7835</span>
<span class="linenos"> 7836</span><span class="c1">// --- algo.RnullStr13..Hash</span>
<span class="linenos"> 7837</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr13_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr13</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7838</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7839</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 7840</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 7841</span><span class="p">}</span>
<span class="linenos"> 7842</span>
<span class="linenos"> 7843</span><span class="c1">// --- algo.RnullStr13..ReadStrptrMaybe</span>
<span class="linenos"> 7844</span><span class="c1">// Read fields of algo::RnullStr13 from an ascii string.</span>
<span class="linenos"> 7845</span><span class="c1">// The format of the string is the format of the algo::RnullStr13&#39;s only field</span>
<span class="linenos"> 7846</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr13_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr13</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7847</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7848</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 7849</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7850</span><span class="p">}</span>
<span class="linenos"> 7851</span>
<span class="linenos"> 7852</span><span class="c1">// --- algo.RnullStr13..Print</span>
<span class="linenos"> 7853</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 7854</span><span class="c1">// cfmt:algo.RnullStr13.String  printfmt:Raw</span>
<span class="linenos"> 7855</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr13_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr13</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7856</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 7857</span><span class="p">}</span>
<span class="linenos"> 7858</span>
<span class="linenos"> 7859</span><span class="c1">// --- algo.RnullStr14.ch.Print</span>
<span class="linenos"> 7860</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr14</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7861</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 7862</span><span class="p">}</span>
<span class="linenos"> 7863</span>
<span class="linenos"> 7864</span><span class="c1">// --- algo.RnullStr14.ch.ReadStrptrMaybe</span>
<span class="linenos"> 7865</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 7866</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr14</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7867</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 7868</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">14</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7869</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7870</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7871</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7872</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 14&quot;</span><span class="p">);</span>
<span class="linenos"> 7873</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7874</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7875</span><span class="p">}</span>
<span class="linenos"> 7876</span>
<span class="linenos"> 7877</span><span class="c1">// --- algo.RnullStr14.ch.SetStrptr</span>
<span class="linenos"> 7878</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 7879</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 7880</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 7881</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr14</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7882</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">);</span>
<span class="linenos"> 7883</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 7884</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7885</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7886</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7887</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 7888</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7889</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">14</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7890</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7891</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7892</span><span class="p">}</span>
<span class="linenos"> 7893</span>
<span class="linenos"> 7894</span><span class="c1">// --- algo.RnullStr14..Hash</span>
<span class="linenos"> 7895</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr14_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr14</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7896</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7897</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 7898</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 7899</span><span class="p">}</span>
<span class="linenos"> 7900</span>
<span class="linenos"> 7901</span><span class="c1">// --- algo.RnullStr14..ReadStrptrMaybe</span>
<span class="linenos"> 7902</span><span class="c1">// Read fields of algo::RnullStr14 from an ascii string.</span>
<span class="linenos"> 7903</span><span class="c1">// The format of the string is the format of the algo::RnullStr14&#39;s only field</span>
<span class="linenos"> 7904</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr14_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr14</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7905</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7906</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 7907</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7908</span><span class="p">}</span>
<span class="linenos"> 7909</span>
<span class="linenos"> 7910</span><span class="c1">// --- algo.RnullStr14..Print</span>
<span class="linenos"> 7911</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 7912</span><span class="c1">// cfmt:algo.RnullStr14.String  printfmt:Raw</span>
<span class="linenos"> 7913</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr14_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr14</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7914</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 7915</span><span class="p">}</span>
<span class="linenos"> 7916</span>
<span class="linenos"> 7917</span><span class="c1">// --- algo.RnullStr15.ch.Print</span>
<span class="linenos"> 7918</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr15</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7919</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 7920</span><span class="p">}</span>
<span class="linenos"> 7921</span>
<span class="linenos"> 7922</span><span class="c1">// --- algo.RnullStr15.ch.ReadStrptrMaybe</span>
<span class="linenos"> 7923</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 7924</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr15</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7925</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 7926</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">15</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7927</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7928</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7929</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7930</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 15&quot;</span><span class="p">);</span>
<span class="linenos"> 7931</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7932</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7933</span><span class="p">}</span>
<span class="linenos"> 7934</span>
<span class="linenos"> 7935</span><span class="c1">// --- algo.RnullStr15.ch.SetStrptr</span>
<span class="linenos"> 7936</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 7937</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 7938</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 7939</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr15</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7940</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">);</span>
<span class="linenos"> 7941</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 7942</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7943</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7944</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7945</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 7946</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7947</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">15</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7948</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 7949</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7950</span><span class="p">}</span>
<span class="linenos"> 7951</span>
<span class="linenos"> 7952</span><span class="c1">// --- algo.RnullStr15..Hash</span>
<span class="linenos"> 7953</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr15_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr15</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7954</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7955</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 7956</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 7957</span><span class="p">}</span>
<span class="linenos"> 7958</span>
<span class="linenos"> 7959</span><span class="c1">// --- algo.RnullStr15..ReadStrptrMaybe</span>
<span class="linenos"> 7960</span><span class="c1">// Read fields of algo::RnullStr15 from an ascii string.</span>
<span class="linenos"> 7961</span><span class="c1">// The format of the string is the format of the algo::RnullStr15&#39;s only field</span>
<span class="linenos"> 7962</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr15_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr15</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7963</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7964</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 7965</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7966</span><span class="p">}</span>
<span class="linenos"> 7967</span>
<span class="linenos"> 7968</span><span class="c1">// --- algo.RnullStr15..Print</span>
<span class="linenos"> 7969</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 7970</span><span class="c1">// cfmt:algo.RnullStr15.String  printfmt:Raw</span>
<span class="linenos"> 7971</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr15_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr15</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7972</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 7973</span><span class="p">}</span>
<span class="linenos"> 7974</span>
<span class="linenos"> 7975</span><span class="c1">// --- algo.RnullStr151.ch.Print</span>
<span class="linenos"> 7976</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr151</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7977</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 7978</span><span class="p">}</span>
<span class="linenos"> 7979</span>
<span class="linenos"> 7980</span><span class="c1">// --- algo.RnullStr151.ch.ReadStrptrMaybe</span>
<span class="linenos"> 7981</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 7982</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr151</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7983</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 7984</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">151</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7985</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 7986</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 7987</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7988</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 151&quot;</span><span class="p">);</span>
<span class="linenos"> 7989</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 7990</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 7991</span><span class="p">}</span>
<span class="linenos"> 7992</span>
<span class="linenos"> 7993</span><span class="c1">// --- algo.RnullStr151.ch.SetStrptr</span>
<span class="linenos"> 7994</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 7995</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 7996</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 7997</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr151</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7998</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">151</span><span class="p">);</span>
<span class="linenos"> 7999</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 8000</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8001</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8002</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8003</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 8004</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8005</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">151</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8006</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8007</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8008</span><span class="p">}</span>
<span class="linenos"> 8009</span>
<span class="linenos"> 8010</span><span class="c1">// --- algo.RnullStr151..Hash</span>
<span class="linenos"> 8011</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr151_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr151</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8012</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8013</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 8014</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 8015</span><span class="p">}</span>
<span class="linenos"> 8016</span>
<span class="linenos"> 8017</span><span class="c1">// --- algo.RnullStr151..ReadStrptrMaybe</span>
<span class="linenos"> 8018</span><span class="c1">// Read fields of algo::RnullStr151 from an ascii string.</span>
<span class="linenos"> 8019</span><span class="c1">// The format of the string is the format of the algo::RnullStr151&#39;s only field</span>
<span class="linenos"> 8020</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr151_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr151</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8021</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8022</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 8023</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8024</span><span class="p">}</span>
<span class="linenos"> 8025</span>
<span class="linenos"> 8026</span><span class="c1">// --- algo.RnullStr151..Print</span>
<span class="linenos"> 8027</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 8028</span><span class="c1">// cfmt:algo.RnullStr151.String  printfmt:Raw</span>
<span class="linenos"> 8029</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr151_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr151</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8030</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 8031</span><span class="p">}</span>
<span class="linenos"> 8032</span>
<span class="linenos"> 8033</span><span class="c1">// --- algo.RnullStr16.ch.Print</span>
<span class="linenos"> 8034</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8035</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 8036</span><span class="p">}</span>
<span class="linenos"> 8037</span>
<span class="linenos"> 8038</span><span class="c1">// --- algo.RnullStr16.ch.ReadStrptrMaybe</span>
<span class="linenos"> 8039</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 8040</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8041</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 8042</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8043</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8044</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8045</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8046</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 16&quot;</span><span class="p">);</span>
<span class="linenos"> 8047</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8048</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8049</span><span class="p">}</span>
<span class="linenos"> 8050</span>
<span class="linenos"> 8051</span><span class="c1">// --- algo.RnullStr16.ch.SetStrptr</span>
<span class="linenos"> 8052</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 8053</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 8054</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 8055</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8056</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span>
<span class="linenos"> 8057</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 8058</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8059</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8060</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8061</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 8062</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8063</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">16</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8064</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8065</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8066</span><span class="p">}</span>
<span class="linenos"> 8067</span>
<span class="linenos"> 8068</span><span class="c1">// --- algo.RnullStr16..Hash</span>
<span class="linenos"> 8069</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr16_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr16</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8070</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8071</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 8072</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 8073</span><span class="p">}</span>
<span class="linenos"> 8074</span>
<span class="linenos"> 8075</span><span class="c1">// --- algo.RnullStr16..ReadStrptrMaybe</span>
<span class="linenos"> 8076</span><span class="c1">// Read fields of algo::RnullStr16 from an ascii string.</span>
<span class="linenos"> 8077</span><span class="c1">// The format of the string is the format of the algo::RnullStr16&#39;s only field</span>
<span class="linenos"> 8078</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr16_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr16</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8079</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8080</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 8081</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8082</span><span class="p">}</span>
<span class="linenos"> 8083</span>
<span class="linenos"> 8084</span><span class="c1">// --- algo.RnullStr16..Print</span>
<span class="linenos"> 8085</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 8086</span><span class="c1">// cfmt:algo.RnullStr16.String  printfmt:Raw</span>
<span class="linenos"> 8087</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr16_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr16</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8088</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 8089</span><span class="p">}</span>
<span class="linenos"> 8090</span>
<span class="linenos"> 8091</span><span class="c1">// --- algo.RnullStr17.ch.Print</span>
<span class="linenos"> 8092</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr17</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8093</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 8094</span><span class="p">}</span>
<span class="linenos"> 8095</span>
<span class="linenos"> 8096</span><span class="c1">// --- algo.RnullStr17.ch.ReadStrptrMaybe</span>
<span class="linenos"> 8097</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 8098</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr17</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8099</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 8100</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">17</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8101</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8102</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8103</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8104</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 17&quot;</span><span class="p">);</span>
<span class="linenos"> 8105</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8106</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8107</span><span class="p">}</span>
<span class="linenos"> 8108</span>
<span class="linenos"> 8109</span><span class="c1">// --- algo.RnullStr17.ch.SetStrptr</span>
<span class="linenos"> 8110</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 8111</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 8112</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 8113</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr17</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8114</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">17</span><span class="p">);</span>
<span class="linenos"> 8115</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 8116</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8117</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8118</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8119</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 8120</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8121</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">17</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8122</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8123</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8124</span><span class="p">}</span>
<span class="linenos"> 8125</span>
<span class="linenos"> 8126</span><span class="c1">// --- algo.RnullStr17..Hash</span>
<span class="linenos"> 8127</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr17_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr17</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8128</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8129</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 8130</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 8131</span><span class="p">}</span>
<span class="linenos"> 8132</span>
<span class="linenos"> 8133</span><span class="c1">// --- algo.RnullStr17..ReadStrptrMaybe</span>
<span class="linenos"> 8134</span><span class="c1">// Read fields of algo::RnullStr17 from an ascii string.</span>
<span class="linenos"> 8135</span><span class="c1">// The format of the string is the format of the algo::RnullStr17&#39;s only field</span>
<span class="linenos"> 8136</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr17_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr17</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8137</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8138</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 8139</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8140</span><span class="p">}</span>
<span class="linenos"> 8141</span>
<span class="linenos"> 8142</span><span class="c1">// --- algo.RnullStr17..Print</span>
<span class="linenos"> 8143</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 8144</span><span class="c1">// cfmt:algo.RnullStr17.String  printfmt:Raw</span>
<span class="linenos"> 8145</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr17_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr17</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8146</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 8147</span><span class="p">}</span>
<span class="linenos"> 8148</span>
<span class="linenos"> 8149</span><span class="c1">// --- algo.RnullStr18.ch.Print</span>
<span class="linenos"> 8150</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr18</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8151</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 8152</span><span class="p">}</span>
<span class="linenos"> 8153</span>
<span class="linenos"> 8154</span><span class="c1">// --- algo.RnullStr18.ch.ReadStrptrMaybe</span>
<span class="linenos"> 8155</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 8156</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr18</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8157</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 8158</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">18</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8159</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8160</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8161</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8162</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 18&quot;</span><span class="p">);</span>
<span class="linenos"> 8163</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8164</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8165</span><span class="p">}</span>
<span class="linenos"> 8166</span>
<span class="linenos"> 8167</span><span class="c1">// --- algo.RnullStr18.ch.SetStrptr</span>
<span class="linenos"> 8168</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 8169</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 8170</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 8171</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr18</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8172</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">18</span><span class="p">);</span>
<span class="linenos"> 8173</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 8174</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8175</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8176</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8177</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 8178</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8179</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">18</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8180</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8181</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8182</span><span class="p">}</span>
<span class="linenos"> 8183</span>
<span class="linenos"> 8184</span><span class="c1">// --- algo.RnullStr18..Hash</span>
<span class="linenos"> 8185</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr18_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr18</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8186</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8187</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 8188</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 8189</span><span class="p">}</span>
<span class="linenos"> 8190</span>
<span class="linenos"> 8191</span><span class="c1">// --- algo.RnullStr18..ReadStrptrMaybe</span>
<span class="linenos"> 8192</span><span class="c1">// Read fields of algo::RnullStr18 from an ascii string.</span>
<span class="linenos"> 8193</span><span class="c1">// The format of the string is the format of the algo::RnullStr18&#39;s only field</span>
<span class="linenos"> 8194</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr18_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr18</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8195</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8196</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 8197</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8198</span><span class="p">}</span>
<span class="linenos"> 8199</span>
<span class="linenos"> 8200</span><span class="c1">// --- algo.RnullStr18..Print</span>
<span class="linenos"> 8201</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 8202</span><span class="c1">// cfmt:algo.RnullStr18.String  printfmt:Raw</span>
<span class="linenos"> 8203</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr18_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr18</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8204</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 8205</span><span class="p">}</span>
<span class="linenos"> 8206</span>
<span class="linenos"> 8207</span><span class="c1">// --- algo.RnullStr19.ch.Print</span>
<span class="linenos"> 8208</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr19</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8209</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 8210</span><span class="p">}</span>
<span class="linenos"> 8211</span>
<span class="linenos"> 8212</span><span class="c1">// --- algo.RnullStr19.ch.ReadStrptrMaybe</span>
<span class="linenos"> 8213</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 8214</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr19</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8215</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 8216</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">19</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8217</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8218</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8219</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8220</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 19&quot;</span><span class="p">);</span>
<span class="linenos"> 8221</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8222</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8223</span><span class="p">}</span>
<span class="linenos"> 8224</span>
<span class="linenos"> 8225</span><span class="c1">// --- algo.RnullStr19.ch.SetStrptr</span>
<span class="linenos"> 8226</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 8227</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 8228</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 8229</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr19</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8230</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">19</span><span class="p">);</span>
<span class="linenos"> 8231</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 8232</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8233</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8234</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8235</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 8236</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8237</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">19</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8238</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8239</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8240</span><span class="p">}</span>
<span class="linenos"> 8241</span>
<span class="linenos"> 8242</span><span class="c1">// --- algo.RnullStr19..Hash</span>
<span class="linenos"> 8243</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr19_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr19</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8244</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8245</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 8246</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 8247</span><span class="p">}</span>
<span class="linenos"> 8248</span>
<span class="linenos"> 8249</span><span class="c1">// --- algo.RnullStr19..ReadStrptrMaybe</span>
<span class="linenos"> 8250</span><span class="c1">// Read fields of algo::RnullStr19 from an ascii string.</span>
<span class="linenos"> 8251</span><span class="c1">// The format of the string is the format of the algo::RnullStr19&#39;s only field</span>
<span class="linenos"> 8252</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr19_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr19</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8253</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8254</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 8255</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8256</span><span class="p">}</span>
<span class="linenos"> 8257</span>
<span class="linenos"> 8258</span><span class="c1">// --- algo.RnullStr19..Print</span>
<span class="linenos"> 8259</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 8260</span><span class="c1">// cfmt:algo.RnullStr19.String  printfmt:Raw</span>
<span class="linenos"> 8261</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr19_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr19</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8262</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 8263</span><span class="p">}</span>
<span class="linenos"> 8264</span>
<span class="linenos"> 8265</span><span class="c1">// --- algo.RnullStr2.ch.Print</span>
<span class="linenos"> 8266</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8267</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 8268</span><span class="p">}</span>
<span class="linenos"> 8269</span>
<span class="linenos"> 8270</span><span class="c1">// --- algo.RnullStr2.ch.ReadStrptrMaybe</span>
<span class="linenos"> 8271</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 8272</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8273</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 8274</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8275</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8276</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8277</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8278</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 2&quot;</span><span class="p">);</span>
<span class="linenos"> 8279</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8280</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8281</span><span class="p">}</span>
<span class="linenos"> 8282</span>
<span class="linenos"> 8283</span><span class="c1">// --- algo.RnullStr2.ch.SetStrptr</span>
<span class="linenos"> 8284</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 8285</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 8286</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 8287</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8288</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos"> 8289</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 8290</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8291</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8292</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8293</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 8294</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8295</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8296</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8297</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8298</span><span class="p">}</span>
<span class="linenos"> 8299</span>
<span class="linenos"> 8300</span><span class="c1">// --- algo.RnullStr2..Hash</span>
<span class="linenos"> 8301</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr2_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr2</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8302</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8303</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 8304</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 8305</span><span class="p">}</span>
<span class="linenos"> 8306</span>
<span class="linenos"> 8307</span><span class="c1">// --- algo.RnullStr2..ReadStrptrMaybe</span>
<span class="linenos"> 8308</span><span class="c1">// Read fields of algo::RnullStr2 from an ascii string.</span>
<span class="linenos"> 8309</span><span class="c1">// The format of the string is the format of the algo::RnullStr2&#39;s only field</span>
<span class="linenos"> 8310</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr2_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr2</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8311</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8312</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 8313</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8314</span><span class="p">}</span>
<span class="linenos"> 8315</span>
<span class="linenos"> 8316</span><span class="c1">// --- algo.RnullStr2..Print</span>
<span class="linenos"> 8317</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 8318</span><span class="c1">// cfmt:algo.RnullStr2.String  printfmt:Raw</span>
<span class="linenos"> 8319</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr2_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr2</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8320</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 8321</span><span class="p">}</span>
<span class="linenos"> 8322</span>
<span class="linenos"> 8323</span><span class="c1">// --- algo.RnullStr20.ch.Print</span>
<span class="linenos"> 8324</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr20</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8325</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 8326</span><span class="p">}</span>
<span class="linenos"> 8327</span>
<span class="linenos"> 8328</span><span class="c1">// --- algo.RnullStr20.ch.ReadStrptrMaybe</span>
<span class="linenos"> 8329</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 8330</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr20</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8331</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 8332</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8333</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8334</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8335</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8336</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 20&quot;</span><span class="p">);</span>
<span class="linenos"> 8337</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8338</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8339</span><span class="p">}</span>
<span class="linenos"> 8340</span>
<span class="linenos"> 8341</span><span class="c1">// --- algo.RnullStr20.ch.SetStrptr</span>
<span class="linenos"> 8342</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 8343</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 8344</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 8345</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr20</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8346</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span>
<span class="linenos"> 8347</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 8348</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8349</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8350</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8351</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 8352</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8353</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8354</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8355</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8356</span><span class="p">}</span>
<span class="linenos"> 8357</span>
<span class="linenos"> 8358</span><span class="c1">// --- algo.RnullStr20..Hash</span>
<span class="linenos"> 8359</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr20_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr20</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8360</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8361</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 8362</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 8363</span><span class="p">}</span>
<span class="linenos"> 8364</span>
<span class="linenos"> 8365</span><span class="c1">// --- algo.RnullStr20..ReadStrptrMaybe</span>
<span class="linenos"> 8366</span><span class="c1">// Read fields of algo::RnullStr20 from an ascii string.</span>
<span class="linenos"> 8367</span><span class="c1">// The format of the string is the format of the algo::RnullStr20&#39;s only field</span>
<span class="linenos"> 8368</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr20_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr20</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8369</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8370</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 8371</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8372</span><span class="p">}</span>
<span class="linenos"> 8373</span>
<span class="linenos"> 8374</span><span class="c1">// --- algo.RnullStr20..Print</span>
<span class="linenos"> 8375</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 8376</span><span class="c1">// cfmt:algo.RnullStr20.String  printfmt:Raw</span>
<span class="linenos"> 8377</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr20_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr20</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8378</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 8379</span><span class="p">}</span>
<span class="linenos"> 8380</span>
<span class="linenos"> 8381</span><span class="c1">// --- algo.RnullStr21.ch.Print</span>
<span class="linenos"> 8382</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr21</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8383</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 8384</span><span class="p">}</span>
<span class="linenos"> 8385</span>
<span class="linenos"> 8386</span><span class="c1">// --- algo.RnullStr21.ch.ReadStrptrMaybe</span>
<span class="linenos"> 8387</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 8388</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr21</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8389</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 8390</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">21</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8391</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8392</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8393</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8394</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 21&quot;</span><span class="p">);</span>
<span class="linenos"> 8395</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8396</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8397</span><span class="p">}</span>
<span class="linenos"> 8398</span>
<span class="linenos"> 8399</span><span class="c1">// --- algo.RnullStr21.ch.SetStrptr</span>
<span class="linenos"> 8400</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 8401</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 8402</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 8403</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr21</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8404</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">21</span><span class="p">);</span>
<span class="linenos"> 8405</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 8406</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8407</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8408</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8409</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 8410</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8411</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">21</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8412</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8413</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8414</span><span class="p">}</span>
<span class="linenos"> 8415</span>
<span class="linenos"> 8416</span><span class="c1">// --- algo.RnullStr21..Hash</span>
<span class="linenos"> 8417</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr21_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr21</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8418</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8419</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 8420</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 8421</span><span class="p">}</span>
<span class="linenos"> 8422</span>
<span class="linenos"> 8423</span><span class="c1">// --- algo.RnullStr21..ReadStrptrMaybe</span>
<span class="linenos"> 8424</span><span class="c1">// Read fields of algo::RnullStr21 from an ascii string.</span>
<span class="linenos"> 8425</span><span class="c1">// The format of the string is the format of the algo::RnullStr21&#39;s only field</span>
<span class="linenos"> 8426</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr21_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr21</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8427</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8428</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 8429</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8430</span><span class="p">}</span>
<span class="linenos"> 8431</span>
<span class="linenos"> 8432</span><span class="c1">// --- algo.RnullStr21..Print</span>
<span class="linenos"> 8433</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 8434</span><span class="c1">// cfmt:algo.RnullStr21.String  printfmt:Raw</span>
<span class="linenos"> 8435</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr21_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr21</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8436</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 8437</span><span class="p">}</span>
<span class="linenos"> 8438</span>
<span class="linenos"> 8439</span><span class="c1">// --- algo.RnullStr24.ch.Print</span>
<span class="linenos"> 8440</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr24</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8441</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 8442</span><span class="p">}</span>
<span class="linenos"> 8443</span>
<span class="linenos"> 8444</span><span class="c1">// --- algo.RnullStr24.ch.ReadStrptrMaybe</span>
<span class="linenos"> 8445</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 8446</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr24</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8447</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 8448</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">24</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8449</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8450</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8451</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8452</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 24&quot;</span><span class="p">);</span>
<span class="linenos"> 8453</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8454</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8455</span><span class="p">}</span>
<span class="linenos"> 8456</span>
<span class="linenos"> 8457</span><span class="c1">// --- algo.RnullStr24.ch.SetStrptr</span>
<span class="linenos"> 8458</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 8459</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 8460</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 8461</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr24</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8462</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">24</span><span class="p">);</span>
<span class="linenos"> 8463</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 8464</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8465</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8466</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8467</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 8468</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8469</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">24</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8470</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8471</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8472</span><span class="p">}</span>
<span class="linenos"> 8473</span>
<span class="linenos"> 8474</span><span class="c1">// --- algo.RnullStr24..Hash</span>
<span class="linenos"> 8475</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr24_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr24</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8476</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8477</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 8478</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 8479</span><span class="p">}</span>
<span class="linenos"> 8480</span>
<span class="linenos"> 8481</span><span class="c1">// --- algo.RnullStr24..ReadStrptrMaybe</span>
<span class="linenos"> 8482</span><span class="c1">// Read fields of algo::RnullStr24 from an ascii string.</span>
<span class="linenos"> 8483</span><span class="c1">// The format of the string is the format of the algo::RnullStr24&#39;s only field</span>
<span class="linenos"> 8484</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr24_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr24</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8485</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8486</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 8487</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8488</span><span class="p">}</span>
<span class="linenos"> 8489</span>
<span class="linenos"> 8490</span><span class="c1">// --- algo.RnullStr24..Print</span>
<span class="linenos"> 8491</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 8492</span><span class="c1">// cfmt:algo.RnullStr24.String  printfmt:Raw</span>
<span class="linenos"> 8493</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr24_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr24</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8494</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 8495</span><span class="p">}</span>
<span class="linenos"> 8496</span>
<span class="linenos"> 8497</span><span class="c1">// --- algo.RnullStr25.ch.Print</span>
<span class="linenos"> 8498</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr25</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8499</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 8500</span><span class="p">}</span>
<span class="linenos"> 8501</span>
<span class="linenos"> 8502</span><span class="c1">// --- algo.RnullStr25.ch.ReadStrptrMaybe</span>
<span class="linenos"> 8503</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 8504</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr25</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8505</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 8506</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">25</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8507</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8508</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8509</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8510</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 25&quot;</span><span class="p">);</span>
<span class="linenos"> 8511</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8512</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8513</span><span class="p">}</span>
<span class="linenos"> 8514</span>
<span class="linenos"> 8515</span><span class="c1">// --- algo.RnullStr25.ch.SetStrptr</span>
<span class="linenos"> 8516</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 8517</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 8518</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 8519</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr25</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8520</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">);</span>
<span class="linenos"> 8521</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 8522</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8523</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8524</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8525</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 8526</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8527</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">25</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8528</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8529</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8530</span><span class="p">}</span>
<span class="linenos"> 8531</span>
<span class="linenos"> 8532</span><span class="c1">// --- algo.RnullStr25..Hash</span>
<span class="linenos"> 8533</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr25_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr25</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8534</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8535</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 8536</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 8537</span><span class="p">}</span>
<span class="linenos"> 8538</span>
<span class="linenos"> 8539</span><span class="c1">// --- algo.RnullStr25..ReadStrptrMaybe</span>
<span class="linenos"> 8540</span><span class="c1">// Read fields of algo::RnullStr25 from an ascii string.</span>
<span class="linenos"> 8541</span><span class="c1">// The format of the string is the format of the algo::RnullStr25&#39;s only field</span>
<span class="linenos"> 8542</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr25_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr25</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8543</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8544</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 8545</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8546</span><span class="p">}</span>
<span class="linenos"> 8547</span>
<span class="linenos"> 8548</span><span class="c1">// --- algo.RnullStr25..Print</span>
<span class="linenos"> 8549</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 8550</span><span class="c1">// cfmt:algo.RnullStr25.String  printfmt:Raw</span>
<span class="linenos"> 8551</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr25_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr25</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8552</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 8553</span><span class="p">}</span>
<span class="linenos"> 8554</span>
<span class="linenos"> 8555</span><span class="c1">// --- algo.RnullStr28.ch.Print</span>
<span class="linenos"> 8556</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr28</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8557</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 8558</span><span class="p">}</span>
<span class="linenos"> 8559</span>
<span class="linenos"> 8560</span><span class="c1">// --- algo.RnullStr28.ch.ReadStrptrMaybe</span>
<span class="linenos"> 8561</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 8562</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr28</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8563</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 8564</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">28</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8565</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8566</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8567</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8568</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 28&quot;</span><span class="p">);</span>
<span class="linenos"> 8569</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8570</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8571</span><span class="p">}</span>
<span class="linenos"> 8572</span>
<span class="linenos"> 8573</span><span class="c1">// --- algo.RnullStr28.ch.SetStrptr</span>
<span class="linenos"> 8574</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 8575</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 8576</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 8577</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr28</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8578</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">28</span><span class="p">);</span>
<span class="linenos"> 8579</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 8580</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8581</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8582</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8583</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 8584</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8585</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">28</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8586</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8587</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8588</span><span class="p">}</span>
<span class="linenos"> 8589</span>
<span class="linenos"> 8590</span><span class="c1">// --- algo.RnullStr28..Hash</span>
<span class="linenos"> 8591</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr28_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr28</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8592</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8593</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 8594</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 8595</span><span class="p">}</span>
<span class="linenos"> 8596</span>
<span class="linenos"> 8597</span><span class="c1">// --- algo.RnullStr28..ReadStrptrMaybe</span>
<span class="linenos"> 8598</span><span class="c1">// Read fields of algo::RnullStr28 from an ascii string.</span>
<span class="linenos"> 8599</span><span class="c1">// The format of the string is the format of the algo::RnullStr28&#39;s only field</span>
<span class="linenos"> 8600</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr28_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr28</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8601</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8602</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 8603</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8604</span><span class="p">}</span>
<span class="linenos"> 8605</span>
<span class="linenos"> 8606</span><span class="c1">// --- algo.RnullStr28..Print</span>
<span class="linenos"> 8607</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 8608</span><span class="c1">// cfmt:algo.RnullStr28.String  printfmt:Raw</span>
<span class="linenos"> 8609</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr28_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr28</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8610</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 8611</span><span class="p">}</span>
<span class="linenos"> 8612</span>
<span class="linenos"> 8613</span><span class="c1">// --- algo.RnullStr3.ch.Print</span>
<span class="linenos"> 8614</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8615</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 8616</span><span class="p">}</span>
<span class="linenos"> 8617</span>
<span class="linenos"> 8618</span><span class="c1">// --- algo.RnullStr3.ch.ReadStrptrMaybe</span>
<span class="linenos"> 8619</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 8620</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8621</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 8622</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8623</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8624</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8625</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8626</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 3&quot;</span><span class="p">);</span>
<span class="linenos"> 8627</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8628</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8629</span><span class="p">}</span>
<span class="linenos"> 8630</span>
<span class="linenos"> 8631</span><span class="c1">// --- algo.RnullStr3.ch.SetStrptr</span>
<span class="linenos"> 8632</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 8633</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 8634</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 8635</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8636</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="linenos"> 8637</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 8638</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8639</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8640</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8641</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 8642</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8643</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8644</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8645</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8646</span><span class="p">}</span>
<span class="linenos"> 8647</span>
<span class="linenos"> 8648</span><span class="c1">// --- algo.RnullStr3..Hash</span>
<span class="linenos"> 8649</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr3_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr3</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8650</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8651</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 8652</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 8653</span><span class="p">}</span>
<span class="linenos"> 8654</span>
<span class="linenos"> 8655</span><span class="c1">// --- algo.RnullStr3..ReadStrptrMaybe</span>
<span class="linenos"> 8656</span><span class="c1">// Read fields of algo::RnullStr3 from an ascii string.</span>
<span class="linenos"> 8657</span><span class="c1">// The format of the string is the format of the algo::RnullStr3&#39;s only field</span>
<span class="linenos"> 8658</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr3_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr3</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8659</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8660</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 8661</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8662</span><span class="p">}</span>
<span class="linenos"> 8663</span>
<span class="linenos"> 8664</span><span class="c1">// --- algo.RnullStr3..Print</span>
<span class="linenos"> 8665</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 8666</span><span class="c1">// cfmt:algo.RnullStr3.String  printfmt:Raw</span>
<span class="linenos"> 8667</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr3_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr3</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8668</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 8669</span><span class="p">}</span>
<span class="linenos"> 8670</span>
<span class="linenos"> 8671</span><span class="c1">// --- algo.RnullStr30.ch.Print</span>
<span class="linenos"> 8672</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr30</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8673</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 8674</span><span class="p">}</span>
<span class="linenos"> 8675</span>
<span class="linenos"> 8676</span><span class="c1">// --- algo.RnullStr30.ch.ReadStrptrMaybe</span>
<span class="linenos"> 8677</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 8678</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr30</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8679</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 8680</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8681</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8682</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8683</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8684</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 30&quot;</span><span class="p">);</span>
<span class="linenos"> 8685</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8686</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8687</span><span class="p">}</span>
<span class="linenos"> 8688</span>
<span class="linenos"> 8689</span><span class="c1">// --- algo.RnullStr30.ch.SetStrptr</span>
<span class="linenos"> 8690</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 8691</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 8692</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 8693</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr30</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8694</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">);</span>
<span class="linenos"> 8695</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 8696</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8697</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8698</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8699</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 8700</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8701</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8702</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8703</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8704</span><span class="p">}</span>
<span class="linenos"> 8705</span>
<span class="linenos"> 8706</span><span class="c1">// --- algo.RnullStr30..Hash</span>
<span class="linenos"> 8707</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr30_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr30</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8708</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8709</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 8710</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 8711</span><span class="p">}</span>
<span class="linenos"> 8712</span>
<span class="linenos"> 8713</span><span class="c1">// --- algo.RnullStr30..ReadStrptrMaybe</span>
<span class="linenos"> 8714</span><span class="c1">// Read fields of algo::RnullStr30 from an ascii string.</span>
<span class="linenos"> 8715</span><span class="c1">// The format of the string is the format of the algo::RnullStr30&#39;s only field</span>
<span class="linenos"> 8716</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr30_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr30</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8717</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8718</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 8719</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8720</span><span class="p">}</span>
<span class="linenos"> 8721</span>
<span class="linenos"> 8722</span><span class="c1">// --- algo.RnullStr30..Print</span>
<span class="linenos"> 8723</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 8724</span><span class="c1">// cfmt:algo.RnullStr30.String  printfmt:Raw</span>
<span class="linenos"> 8725</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr30_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr30</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8726</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 8727</span><span class="p">}</span>
<span class="linenos"> 8728</span>
<span class="linenos"> 8729</span><span class="c1">// --- algo.RnullStr32.ch.Print</span>
<span class="linenos"> 8730</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8731</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 8732</span><span class="p">}</span>
<span class="linenos"> 8733</span>
<span class="linenos"> 8734</span><span class="c1">// --- algo.RnullStr32.ch.ReadStrptrMaybe</span>
<span class="linenos"> 8735</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 8736</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8737</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 8738</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8739</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8740</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8741</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8742</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 32&quot;</span><span class="p">);</span>
<span class="linenos"> 8743</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8744</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8745</span><span class="p">}</span>
<span class="linenos"> 8746</span>
<span class="linenos"> 8747</span><span class="c1">// --- algo.RnullStr32.ch.SetStrptr</span>
<span class="linenos"> 8748</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 8749</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 8750</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 8751</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8752</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">);</span>
<span class="linenos"> 8753</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 8754</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8755</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8756</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8757</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 8758</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8759</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">32</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8760</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8761</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8762</span><span class="p">}</span>
<span class="linenos"> 8763</span>
<span class="linenos"> 8764</span><span class="c1">// --- algo.RnullStr32..Hash</span>
<span class="linenos"> 8765</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr32_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr32</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8766</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8767</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 8768</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 8769</span><span class="p">}</span>
<span class="linenos"> 8770</span>
<span class="linenos"> 8771</span><span class="c1">// --- algo.RnullStr32..ReadStrptrMaybe</span>
<span class="linenos"> 8772</span><span class="c1">// Read fields of algo::RnullStr32 from an ascii string.</span>
<span class="linenos"> 8773</span><span class="c1">// The format of the string is the format of the algo::RnullStr32&#39;s only field</span>
<span class="linenos"> 8774</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8775</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8776</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 8777</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8778</span><span class="p">}</span>
<span class="linenos"> 8779</span>
<span class="linenos"> 8780</span><span class="c1">// --- algo.RnullStr32..Print</span>
<span class="linenos"> 8781</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 8782</span><span class="c1">// cfmt:algo.RnullStr32.String  printfmt:Raw</span>
<span class="linenos"> 8783</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr32_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr32</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8784</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 8785</span><span class="p">}</span>
<span class="linenos"> 8786</span>
<span class="linenos"> 8787</span><span class="c1">// --- algo.RnullStr33.ch.Print</span>
<span class="linenos"> 8788</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr33</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8789</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 8790</span><span class="p">}</span>
<span class="linenos"> 8791</span>
<span class="linenos"> 8792</span><span class="c1">// --- algo.RnullStr33.ch.ReadStrptrMaybe</span>
<span class="linenos"> 8793</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 8794</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr33</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8795</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 8796</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">33</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8797</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8798</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8799</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8800</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 33&quot;</span><span class="p">);</span>
<span class="linenos"> 8801</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8802</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8803</span><span class="p">}</span>
<span class="linenos"> 8804</span>
<span class="linenos"> 8805</span><span class="c1">// --- algo.RnullStr33.ch.SetStrptr</span>
<span class="linenos"> 8806</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 8807</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 8808</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 8809</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr33</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8810</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">33</span><span class="p">);</span>
<span class="linenos"> 8811</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 8812</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8813</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8814</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8815</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 8816</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8817</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">33</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8818</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8819</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8820</span><span class="p">}</span>
<span class="linenos"> 8821</span>
<span class="linenos"> 8822</span><span class="c1">// --- algo.RnullStr33..Hash</span>
<span class="linenos"> 8823</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr33_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr33</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8824</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8825</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 8826</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 8827</span><span class="p">}</span>
<span class="linenos"> 8828</span>
<span class="linenos"> 8829</span><span class="c1">// --- algo.RnullStr33..ReadStrptrMaybe</span>
<span class="linenos"> 8830</span><span class="c1">// Read fields of algo::RnullStr33 from an ascii string.</span>
<span class="linenos"> 8831</span><span class="c1">// The format of the string is the format of the algo::RnullStr33&#39;s only field</span>
<span class="linenos"> 8832</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr33_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr33</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8833</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8834</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 8835</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8836</span><span class="p">}</span>
<span class="linenos"> 8837</span>
<span class="linenos"> 8838</span><span class="c1">// --- algo.RnullStr33..Print</span>
<span class="linenos"> 8839</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 8840</span><span class="c1">// cfmt:algo.RnullStr33.String  printfmt:Raw</span>
<span class="linenos"> 8841</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr33_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr33</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8842</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 8843</span><span class="p">}</span>
<span class="linenos"> 8844</span>
<span class="linenos"> 8845</span><span class="c1">// --- algo.RnullStr35.ch.Print</span>
<span class="linenos"> 8846</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr35</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8847</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 8848</span><span class="p">}</span>
<span class="linenos"> 8849</span>
<span class="linenos"> 8850</span><span class="c1">// --- algo.RnullStr35.ch.ReadStrptrMaybe</span>
<span class="linenos"> 8851</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 8852</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr35</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8853</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 8854</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">35</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8855</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8856</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8857</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8858</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 35&quot;</span><span class="p">);</span>
<span class="linenos"> 8859</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8860</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8861</span><span class="p">}</span>
<span class="linenos"> 8862</span>
<span class="linenos"> 8863</span><span class="c1">// --- algo.RnullStr35.ch.SetStrptr</span>
<span class="linenos"> 8864</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 8865</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 8866</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 8867</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr35</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8868</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">35</span><span class="p">);</span>
<span class="linenos"> 8869</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 8870</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8871</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8872</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8873</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 8874</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8875</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">35</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8876</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8877</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8878</span><span class="p">}</span>
<span class="linenos"> 8879</span>
<span class="linenos"> 8880</span><span class="c1">// --- algo.RnullStr35..Hash</span>
<span class="linenos"> 8881</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr35_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr35</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8882</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8883</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 8884</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 8885</span><span class="p">}</span>
<span class="linenos"> 8886</span>
<span class="linenos"> 8887</span><span class="c1">// --- algo.RnullStr35..ReadStrptrMaybe</span>
<span class="linenos"> 8888</span><span class="c1">// Read fields of algo::RnullStr35 from an ascii string.</span>
<span class="linenos"> 8889</span><span class="c1">// The format of the string is the format of the algo::RnullStr35&#39;s only field</span>
<span class="linenos"> 8890</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr35_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr35</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8891</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8892</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 8893</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8894</span><span class="p">}</span>
<span class="linenos"> 8895</span>
<span class="linenos"> 8896</span><span class="c1">// --- algo.RnullStr35..Print</span>
<span class="linenos"> 8897</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 8898</span><span class="c1">// cfmt:algo.RnullStr35.String  printfmt:Raw</span>
<span class="linenos"> 8899</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr35_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr35</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8900</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 8901</span><span class="p">}</span>
<span class="linenos"> 8902</span>
<span class="linenos"> 8903</span><span class="c1">// --- algo.RnullStr36.ch.Print</span>
<span class="linenos"> 8904</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8905</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 8906</span><span class="p">}</span>
<span class="linenos"> 8907</span>
<span class="linenos"> 8908</span><span class="c1">// --- algo.RnullStr36.ch.ReadStrptrMaybe</span>
<span class="linenos"> 8909</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 8910</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8911</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 8912</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">36</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8913</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8914</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8915</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8916</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 36&quot;</span><span class="p">);</span>
<span class="linenos"> 8917</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8918</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8919</span><span class="p">}</span>
<span class="linenos"> 8920</span>
<span class="linenos"> 8921</span><span class="c1">// --- algo.RnullStr36.ch.SetStrptr</span>
<span class="linenos"> 8922</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 8923</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 8924</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 8925</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8926</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">36</span><span class="p">);</span>
<span class="linenos"> 8927</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 8928</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8929</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8930</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8931</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 8932</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8933</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">36</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8934</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8935</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8936</span><span class="p">}</span>
<span class="linenos"> 8937</span>
<span class="linenos"> 8938</span><span class="c1">// --- algo.RnullStr36..Hash</span>
<span class="linenos"> 8939</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr36_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr36</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8940</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8941</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 8942</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 8943</span><span class="p">}</span>
<span class="linenos"> 8944</span>
<span class="linenos"> 8945</span><span class="c1">// --- algo.RnullStr36..ReadStrptrMaybe</span>
<span class="linenos"> 8946</span><span class="c1">// Read fields of algo::RnullStr36 from an ascii string.</span>
<span class="linenos"> 8947</span><span class="c1">// The format of the string is the format of the algo::RnullStr36&#39;s only field</span>
<span class="linenos"> 8948</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr36_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr36</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8949</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8950</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 8951</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8952</span><span class="p">}</span>
<span class="linenos"> 8953</span>
<span class="linenos"> 8954</span><span class="c1">// --- algo.RnullStr36..Print</span>
<span class="linenos"> 8955</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 8956</span><span class="c1">// cfmt:algo.RnullStr36.String  printfmt:Raw</span>
<span class="linenos"> 8957</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr36_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr36</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8958</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 8959</span><span class="p">}</span>
<span class="linenos"> 8960</span>
<span class="linenos"> 8961</span><span class="c1">// --- algo.RnullStr4.ch.Print</span>
<span class="linenos"> 8962</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8963</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 8964</span><span class="p">}</span>
<span class="linenos"> 8965</span>
<span class="linenos"> 8966</span><span class="c1">// --- algo.RnullStr4.ch.ReadStrptrMaybe</span>
<span class="linenos"> 8967</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 8968</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8969</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 8970</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8971</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8972</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 8973</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8974</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 4&quot;</span><span class="p">);</span>
<span class="linenos"> 8975</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8976</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 8977</span><span class="p">}</span>
<span class="linenos"> 8978</span>
<span class="linenos"> 8979</span><span class="c1">// --- algo.RnullStr4.ch.SetStrptr</span>
<span class="linenos"> 8980</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 8981</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 8982</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 8983</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8984</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="linenos"> 8985</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 8986</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8987</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8988</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8989</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 8990</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8991</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8992</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 8993</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 8994</span><span class="p">}</span>
<span class="linenos"> 8995</span>
<span class="linenos"> 8996</span><span class="c1">// --- algo.RnullStr4..Hash</span>
<span class="linenos"> 8997</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr4_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr4</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8998</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 8999</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 9000</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 9001</span><span class="p">}</span>
<span class="linenos"> 9002</span>
<span class="linenos"> 9003</span><span class="c1">// --- algo.RnullStr4..ReadStrptrMaybe</span>
<span class="linenos"> 9004</span><span class="c1">// Read fields of algo::RnullStr4 from an ascii string.</span>
<span class="linenos"> 9005</span><span class="c1">// The format of the string is the format of the algo::RnullStr4&#39;s only field</span>
<span class="linenos"> 9006</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr4_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr4</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9007</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9008</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 9009</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9010</span><span class="p">}</span>
<span class="linenos"> 9011</span>
<span class="linenos"> 9012</span><span class="c1">// --- algo.RnullStr4..Print</span>
<span class="linenos"> 9013</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 9014</span><span class="c1">// cfmt:algo.RnullStr4.String  printfmt:Raw</span>
<span class="linenos"> 9015</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr4_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr4</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9016</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 9017</span><span class="p">}</span>
<span class="linenos"> 9018</span>
<span class="linenos"> 9019</span><span class="c1">// --- algo.RnullStr40.ch.Print</span>
<span class="linenos"> 9020</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr40</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9021</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 9022</span><span class="p">}</span>
<span class="linenos"> 9023</span>
<span class="linenos"> 9024</span><span class="c1">// --- algo.RnullStr40.ch.ReadStrptrMaybe</span>
<span class="linenos"> 9025</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 9026</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr40</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9027</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 9028</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">40</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9029</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9030</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9031</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9032</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 40&quot;</span><span class="p">);</span>
<span class="linenos"> 9033</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9034</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9035</span><span class="p">}</span>
<span class="linenos"> 9036</span>
<span class="linenos"> 9037</span><span class="c1">// --- algo.RnullStr40.ch.SetStrptr</span>
<span class="linenos"> 9038</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 9039</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 9040</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 9041</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr40</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9042</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">);</span>
<span class="linenos"> 9043</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 9044</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9045</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9046</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9047</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 9048</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9049</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">40</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9050</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9051</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9052</span><span class="p">}</span>
<span class="linenos"> 9053</span>
<span class="linenos"> 9054</span><span class="c1">// --- algo.RnullStr40..Hash</span>
<span class="linenos"> 9055</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr40_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr40</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9056</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9057</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 9058</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 9059</span><span class="p">}</span>
<span class="linenos"> 9060</span>
<span class="linenos"> 9061</span><span class="c1">// --- algo.RnullStr40..ReadStrptrMaybe</span>
<span class="linenos"> 9062</span><span class="c1">// Read fields of algo::RnullStr40 from an ascii string.</span>
<span class="linenos"> 9063</span><span class="c1">// The format of the string is the format of the algo::RnullStr40&#39;s only field</span>
<span class="linenos"> 9064</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr40_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr40</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9065</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9066</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 9067</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9068</span><span class="p">}</span>
<span class="linenos"> 9069</span>
<span class="linenos"> 9070</span><span class="c1">// --- algo.RnullStr40..Print</span>
<span class="linenos"> 9071</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 9072</span><span class="c1">// cfmt:algo.RnullStr40.String  printfmt:Raw</span>
<span class="linenos"> 9073</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr40_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr40</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9074</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 9075</span><span class="p">}</span>
<span class="linenos"> 9076</span>
<span class="linenos"> 9077</span><span class="c1">// --- algo.RnullStr41.ch.Print</span>
<span class="linenos"> 9078</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr41</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9079</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 9080</span><span class="p">}</span>
<span class="linenos"> 9081</span>
<span class="linenos"> 9082</span><span class="c1">// --- algo.RnullStr41.ch.ReadStrptrMaybe</span>
<span class="linenos"> 9083</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 9084</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr41</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9085</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 9086</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">41</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9087</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9088</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9089</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9090</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 41&quot;</span><span class="p">);</span>
<span class="linenos"> 9091</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9092</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9093</span><span class="p">}</span>
<span class="linenos"> 9094</span>
<span class="linenos"> 9095</span><span class="c1">// --- algo.RnullStr41.ch.SetStrptr</span>
<span class="linenos"> 9096</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 9097</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 9098</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 9099</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr41</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9100</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">41</span><span class="p">);</span>
<span class="linenos"> 9101</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 9102</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9103</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9104</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9105</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 9106</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9107</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">41</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9108</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9109</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9110</span><span class="p">}</span>
<span class="linenos"> 9111</span>
<span class="linenos"> 9112</span><span class="c1">// --- algo.RnullStr41..Hash</span>
<span class="linenos"> 9113</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr41_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr41</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9114</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9115</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 9116</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 9117</span><span class="p">}</span>
<span class="linenos"> 9118</span>
<span class="linenos"> 9119</span><span class="c1">// --- algo.RnullStr41..ReadStrptrMaybe</span>
<span class="linenos"> 9120</span><span class="c1">// Read fields of algo::RnullStr41 from an ascii string.</span>
<span class="linenos"> 9121</span><span class="c1">// The format of the string is the format of the algo::RnullStr41&#39;s only field</span>
<span class="linenos"> 9122</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr41_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr41</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9123</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9124</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 9125</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9126</span><span class="p">}</span>
<span class="linenos"> 9127</span>
<span class="linenos"> 9128</span><span class="c1">// --- algo.RnullStr41..Print</span>
<span class="linenos"> 9129</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 9130</span><span class="c1">// cfmt:algo.RnullStr41.String  printfmt:Raw</span>
<span class="linenos"> 9131</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr41_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr41</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9132</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 9133</span><span class="p">}</span>
<span class="linenos"> 9134</span>
<span class="linenos"> 9135</span><span class="c1">// --- algo.RnullStr43.ch.Print</span>
<span class="linenos"> 9136</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr43</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9137</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 9138</span><span class="p">}</span>
<span class="linenos"> 9139</span>
<span class="linenos"> 9140</span><span class="c1">// --- algo.RnullStr43.ch.ReadStrptrMaybe</span>
<span class="linenos"> 9141</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 9142</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr43</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9143</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 9144</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">43</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9145</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9146</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9147</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9148</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 43&quot;</span><span class="p">);</span>
<span class="linenos"> 9149</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9150</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9151</span><span class="p">}</span>
<span class="linenos"> 9152</span>
<span class="linenos"> 9153</span><span class="c1">// --- algo.RnullStr43.ch.SetStrptr</span>
<span class="linenos"> 9154</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 9155</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 9156</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 9157</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr43</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9158</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">43</span><span class="p">);</span>
<span class="linenos"> 9159</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 9160</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9161</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9162</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9163</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 9164</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9165</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">43</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9166</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9167</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9168</span><span class="p">}</span>
<span class="linenos"> 9169</span>
<span class="linenos"> 9170</span><span class="c1">// --- algo.RnullStr43..Hash</span>
<span class="linenos"> 9171</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr43_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr43</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9172</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9173</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 9174</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 9175</span><span class="p">}</span>
<span class="linenos"> 9176</span>
<span class="linenos"> 9177</span><span class="c1">// --- algo.RnullStr43..ReadStrptrMaybe</span>
<span class="linenos"> 9178</span><span class="c1">// Read fields of algo::RnullStr43 from an ascii string.</span>
<span class="linenos"> 9179</span><span class="c1">// The format of the string is the format of the algo::RnullStr43&#39;s only field</span>
<span class="linenos"> 9180</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr43_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr43</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9181</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9182</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 9183</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9184</span><span class="p">}</span>
<span class="linenos"> 9185</span>
<span class="linenos"> 9186</span><span class="c1">// --- algo.RnullStr43..Print</span>
<span class="linenos"> 9187</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 9188</span><span class="c1">// cfmt:algo.RnullStr43.String  printfmt:Raw</span>
<span class="linenos"> 9189</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr43_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr43</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9190</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 9191</span><span class="p">}</span>
<span class="linenos"> 9192</span>
<span class="linenos"> 9193</span><span class="c1">// --- algo.RnullStr44.ch.Print</span>
<span class="linenos"> 9194</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr44</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9195</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 9196</span><span class="p">}</span>
<span class="linenos"> 9197</span>
<span class="linenos"> 9198</span><span class="c1">// --- algo.RnullStr44.ch.ReadStrptrMaybe</span>
<span class="linenos"> 9199</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 9200</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr44</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9201</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 9202</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">44</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9203</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9204</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9205</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9206</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 44&quot;</span><span class="p">);</span>
<span class="linenos"> 9207</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9208</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9209</span><span class="p">}</span>
<span class="linenos"> 9210</span>
<span class="linenos"> 9211</span><span class="c1">// --- algo.RnullStr44.ch.SetStrptr</span>
<span class="linenos"> 9212</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 9213</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 9214</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 9215</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr44</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9216</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">44</span><span class="p">);</span>
<span class="linenos"> 9217</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 9218</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9219</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9220</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9221</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 9222</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9223</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">44</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9224</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9225</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9226</span><span class="p">}</span>
<span class="linenos"> 9227</span>
<span class="linenos"> 9228</span><span class="c1">// --- algo.RnullStr44..Hash</span>
<span class="linenos"> 9229</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr44_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr44</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9230</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9231</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 9232</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 9233</span><span class="p">}</span>
<span class="linenos"> 9234</span>
<span class="linenos"> 9235</span><span class="c1">// --- algo.RnullStr44..ReadStrptrMaybe</span>
<span class="linenos"> 9236</span><span class="c1">// Read fields of algo::RnullStr44 from an ascii string.</span>
<span class="linenos"> 9237</span><span class="c1">// The format of the string is the format of the algo::RnullStr44&#39;s only field</span>
<span class="linenos"> 9238</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr44_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr44</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9239</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9240</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 9241</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9242</span><span class="p">}</span>
<span class="linenos"> 9243</span>
<span class="linenos"> 9244</span><span class="c1">// --- algo.RnullStr44..Print</span>
<span class="linenos"> 9245</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 9246</span><span class="c1">// cfmt:algo.RnullStr44.String  printfmt:Raw</span>
<span class="linenos"> 9247</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr44_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr44</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9248</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 9249</span><span class="p">}</span>
<span class="linenos"> 9250</span>
<span class="linenos"> 9251</span><span class="c1">// --- algo.RnullStr48.ch.Print</span>
<span class="linenos"> 9252</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr48</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9253</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 9254</span><span class="p">}</span>
<span class="linenos"> 9255</span>
<span class="linenos"> 9256</span><span class="c1">// --- algo.RnullStr48.ch.ReadStrptrMaybe</span>
<span class="linenos"> 9257</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 9258</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr48</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9259</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 9260</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">48</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9261</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9262</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9263</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9264</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 48&quot;</span><span class="p">);</span>
<span class="linenos"> 9265</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9266</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9267</span><span class="p">}</span>
<span class="linenos"> 9268</span>
<span class="linenos"> 9269</span><span class="c1">// --- algo.RnullStr48.ch.SetStrptr</span>
<span class="linenos"> 9270</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 9271</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 9272</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 9273</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr48</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9274</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="p">);</span>
<span class="linenos"> 9275</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 9276</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9277</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9278</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9279</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 9280</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9281</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">48</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9282</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9283</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9284</span><span class="p">}</span>
<span class="linenos"> 9285</span>
<span class="linenos"> 9286</span><span class="c1">// --- algo.RnullStr48..Hash</span>
<span class="linenos"> 9287</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr48_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr48</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9288</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9289</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 9290</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 9291</span><span class="p">}</span>
<span class="linenos"> 9292</span>
<span class="linenos"> 9293</span><span class="c1">// --- algo.RnullStr48..ReadStrptrMaybe</span>
<span class="linenos"> 9294</span><span class="c1">// Read fields of algo::RnullStr48 from an ascii string.</span>
<span class="linenos"> 9295</span><span class="c1">// The format of the string is the format of the algo::RnullStr48&#39;s only field</span>
<span class="linenos"> 9296</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr48_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr48</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9297</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9298</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 9299</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9300</span><span class="p">}</span>
<span class="linenos"> 9301</span>
<span class="linenos"> 9302</span><span class="c1">// --- algo.RnullStr48..Print</span>
<span class="linenos"> 9303</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 9304</span><span class="c1">// cfmt:algo.RnullStr48.String  printfmt:Raw</span>
<span class="linenos"> 9305</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr48_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr48</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9306</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 9307</span><span class="p">}</span>
<span class="linenos"> 9308</span>
<span class="linenos"> 9309</span><span class="c1">// --- algo.RnullStr5.ch.Print</span>
<span class="linenos"> 9310</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9311</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 9312</span><span class="p">}</span>
<span class="linenos"> 9313</span>
<span class="linenos"> 9314</span><span class="c1">// --- algo.RnullStr5.ch.ReadStrptrMaybe</span>
<span class="linenos"> 9315</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 9316</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9317</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 9318</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9319</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9320</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9321</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9322</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 5&quot;</span><span class="p">);</span>
<span class="linenos"> 9323</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9324</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9325</span><span class="p">}</span>
<span class="linenos"> 9326</span>
<span class="linenos"> 9327</span><span class="c1">// --- algo.RnullStr5.ch.SetStrptr</span>
<span class="linenos"> 9328</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 9329</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 9330</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 9331</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9332</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="linenos"> 9333</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 9334</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9335</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9336</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9337</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 9338</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9339</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9340</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9341</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9342</span><span class="p">}</span>
<span class="linenos"> 9343</span>
<span class="linenos"> 9344</span><span class="c1">// --- algo.RnullStr5..Hash</span>
<span class="linenos"> 9345</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr5_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr5</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9346</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9347</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 9348</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 9349</span><span class="p">}</span>
<span class="linenos"> 9350</span>
<span class="linenos"> 9351</span><span class="c1">// --- algo.RnullStr5..ReadStrptrMaybe</span>
<span class="linenos"> 9352</span><span class="c1">// Read fields of algo::RnullStr5 from an ascii string.</span>
<span class="linenos"> 9353</span><span class="c1">// The format of the string is the format of the algo::RnullStr5&#39;s only field</span>
<span class="linenos"> 9354</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr5_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr5</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9355</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9356</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 9357</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9358</span><span class="p">}</span>
<span class="linenos"> 9359</span>
<span class="linenos"> 9360</span><span class="c1">// --- algo.RnullStr5..Print</span>
<span class="linenos"> 9361</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 9362</span><span class="c1">// cfmt:algo.RnullStr5.String  printfmt:Raw</span>
<span class="linenos"> 9363</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr5_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr5</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9364</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 9365</span><span class="p">}</span>
<span class="linenos"> 9366</span>
<span class="linenos"> 9367</span><span class="c1">// --- algo.RnullStr50.ch.Print</span>
<span class="linenos"> 9368</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr50</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9369</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 9370</span><span class="p">}</span>
<span class="linenos"> 9371</span>
<span class="linenos"> 9372</span><span class="c1">// --- algo.RnullStr50.ch.ReadStrptrMaybe</span>
<span class="linenos"> 9373</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 9374</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr50</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9375</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 9376</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9377</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9378</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9379</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9380</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 50&quot;</span><span class="p">);</span>
<span class="linenos"> 9381</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9382</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9383</span><span class="p">}</span>
<span class="linenos"> 9384</span>
<span class="linenos"> 9385</span><span class="c1">// --- algo.RnullStr50.ch.SetStrptr</span>
<span class="linenos"> 9386</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 9387</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 9388</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 9389</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr50</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9390</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">);</span>
<span class="linenos"> 9391</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 9392</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9393</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9394</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9395</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 9396</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9397</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">50</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9398</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9399</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9400</span><span class="p">}</span>
<span class="linenos"> 9401</span>
<span class="linenos"> 9402</span><span class="c1">// --- algo.RnullStr50..Hash</span>
<span class="linenos"> 9403</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr50_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr50</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9404</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9405</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 9406</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 9407</span><span class="p">}</span>
<span class="linenos"> 9408</span>
<span class="linenos"> 9409</span><span class="c1">// --- algo.RnullStr50..ReadStrptrMaybe</span>
<span class="linenos"> 9410</span><span class="c1">// Read fields of algo::RnullStr50 from an ascii string.</span>
<span class="linenos"> 9411</span><span class="c1">// The format of the string is the format of the algo::RnullStr50&#39;s only field</span>
<span class="linenos"> 9412</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr50_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr50</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9413</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9414</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 9415</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9416</span><span class="p">}</span>
<span class="linenos"> 9417</span>
<span class="linenos"> 9418</span><span class="c1">// --- algo.RnullStr50..Print</span>
<span class="linenos"> 9419</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 9420</span><span class="c1">// cfmt:algo.RnullStr50.String  printfmt:Raw</span>
<span class="linenos"> 9421</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr50_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr50</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9422</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 9423</span><span class="p">}</span>
<span class="linenos"> 9424</span>
<span class="linenos"> 9425</span><span class="c1">// --- algo.RnullStr54.ch.Print</span>
<span class="linenos"> 9426</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr54</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9427</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 9428</span><span class="p">}</span>
<span class="linenos"> 9429</span>
<span class="linenos"> 9430</span><span class="c1">// --- algo.RnullStr54.ch.ReadStrptrMaybe</span>
<span class="linenos"> 9431</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 9432</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr54</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9433</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 9434</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">54</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9435</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9436</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9437</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9438</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 54&quot;</span><span class="p">);</span>
<span class="linenos"> 9439</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9440</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9441</span><span class="p">}</span>
<span class="linenos"> 9442</span>
<span class="linenos"> 9443</span><span class="c1">// --- algo.RnullStr54.ch.SetStrptr</span>
<span class="linenos"> 9444</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 9445</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 9446</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 9447</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr54</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9448</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">54</span><span class="p">);</span>
<span class="linenos"> 9449</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 9450</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9451</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9452</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9453</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 9454</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9455</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">54</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9456</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9457</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9458</span><span class="p">}</span>
<span class="linenos"> 9459</span>
<span class="linenos"> 9460</span><span class="c1">// --- algo.RnullStr54..Hash</span>
<span class="linenos"> 9461</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr54_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr54</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9462</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9463</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 9464</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 9465</span><span class="p">}</span>
<span class="linenos"> 9466</span>
<span class="linenos"> 9467</span><span class="c1">// --- algo.RnullStr54..ReadStrptrMaybe</span>
<span class="linenos"> 9468</span><span class="c1">// Read fields of algo::RnullStr54 from an ascii string.</span>
<span class="linenos"> 9469</span><span class="c1">// The format of the string is the format of the algo::RnullStr54&#39;s only field</span>
<span class="linenos"> 9470</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr54_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr54</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9471</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9472</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 9473</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9474</span><span class="p">}</span>
<span class="linenos"> 9475</span>
<span class="linenos"> 9476</span><span class="c1">// --- algo.RnullStr54..Print</span>
<span class="linenos"> 9477</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 9478</span><span class="c1">// cfmt:algo.RnullStr54.String  printfmt:Raw</span>
<span class="linenos"> 9479</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr54_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr54</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9480</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 9481</span><span class="p">}</span>
<span class="linenos"> 9482</span>
<span class="linenos"> 9483</span><span class="c1">// --- algo.RnullStr55.ch.Print</span>
<span class="linenos"> 9484</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr55</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9485</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 9486</span><span class="p">}</span>
<span class="linenos"> 9487</span>
<span class="linenos"> 9488</span><span class="c1">// --- algo.RnullStr55.ch.ReadStrptrMaybe</span>
<span class="linenos"> 9489</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 9490</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr55</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9491</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 9492</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">55</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9493</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9494</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9495</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9496</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 55&quot;</span><span class="p">);</span>
<span class="linenos"> 9497</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9498</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9499</span><span class="p">}</span>
<span class="linenos"> 9500</span>
<span class="linenos"> 9501</span><span class="c1">// --- algo.RnullStr55.ch.SetStrptr</span>
<span class="linenos"> 9502</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 9503</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 9504</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 9505</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr55</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9506</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">55</span><span class="p">);</span>
<span class="linenos"> 9507</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 9508</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9509</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9510</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9511</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 9512</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9513</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">55</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9514</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9515</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9516</span><span class="p">}</span>
<span class="linenos"> 9517</span>
<span class="linenos"> 9518</span><span class="c1">// --- algo.RnullStr55..Hash</span>
<span class="linenos"> 9519</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr55_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr55</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9520</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9521</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 9522</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 9523</span><span class="p">}</span>
<span class="linenos"> 9524</span>
<span class="linenos"> 9525</span><span class="c1">// --- algo.RnullStr55..ReadStrptrMaybe</span>
<span class="linenos"> 9526</span><span class="c1">// Read fields of algo::RnullStr55 from an ascii string.</span>
<span class="linenos"> 9527</span><span class="c1">// The format of the string is the format of the algo::RnullStr55&#39;s only field</span>
<span class="linenos"> 9528</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr55_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr55</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9529</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9530</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 9531</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9532</span><span class="p">}</span>
<span class="linenos"> 9533</span>
<span class="linenos"> 9534</span><span class="c1">// --- algo.RnullStr55..Print</span>
<span class="linenos"> 9535</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 9536</span><span class="c1">// cfmt:algo.RnullStr55.String  printfmt:Raw</span>
<span class="linenos"> 9537</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr55_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr55</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9538</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 9539</span><span class="p">}</span>
<span class="linenos"> 9540</span>
<span class="linenos"> 9541</span><span class="c1">// --- algo.RnullStr6.ch.Print</span>
<span class="linenos"> 9542</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9543</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 9544</span><span class="p">}</span>
<span class="linenos"> 9545</span>
<span class="linenos"> 9546</span><span class="c1">// --- algo.RnullStr6.ch.ReadStrptrMaybe</span>
<span class="linenos"> 9547</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 9548</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9549</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 9550</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9551</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9552</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9553</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9554</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 6&quot;</span><span class="p">);</span>
<span class="linenos"> 9555</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9556</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9557</span><span class="p">}</span>
<span class="linenos"> 9558</span>
<span class="linenos"> 9559</span><span class="c1">// --- algo.RnullStr6.ch.SetStrptr</span>
<span class="linenos"> 9560</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 9561</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 9562</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 9563</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9564</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
<span class="linenos"> 9565</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 9566</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9567</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9568</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9569</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 9570</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9571</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9572</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9573</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9574</span><span class="p">}</span>
<span class="linenos"> 9575</span>
<span class="linenos"> 9576</span><span class="c1">// --- algo.RnullStr6..Hash</span>
<span class="linenos"> 9577</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9578</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9579</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 9580</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 9581</span><span class="p">}</span>
<span class="linenos"> 9582</span>
<span class="linenos"> 9583</span><span class="c1">// --- algo.RnullStr6..ReadStrptrMaybe</span>
<span class="linenos"> 9584</span><span class="c1">// Read fields of algo::RnullStr6 from an ascii string.</span>
<span class="linenos"> 9585</span><span class="c1">// The format of the string is the format of the algo::RnullStr6&#39;s only field</span>
<span class="linenos"> 9586</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9587</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9588</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 9589</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9590</span><span class="p">}</span>
<span class="linenos"> 9591</span>
<span class="linenos"> 9592</span><span class="c1">// --- algo.RnullStr6..Print</span>
<span class="linenos"> 9593</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 9594</span><span class="c1">// cfmt:algo.RnullStr6.String  printfmt:Raw</span>
<span class="linenos"> 9595</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9596</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 9597</span><span class="p">}</span>
<span class="linenos"> 9598</span>
<span class="linenos"> 9599</span><span class="c1">// --- algo.RnullStr60.ch.Print</span>
<span class="linenos"> 9600</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr60</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9601</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 9602</span><span class="p">}</span>
<span class="linenos"> 9603</span>
<span class="linenos"> 9604</span><span class="c1">// --- algo.RnullStr60.ch.ReadStrptrMaybe</span>
<span class="linenos"> 9605</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 9606</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr60</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9607</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 9608</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">60</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9609</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9610</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9611</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9612</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 60&quot;</span><span class="p">);</span>
<span class="linenos"> 9613</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9614</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9615</span><span class="p">}</span>
<span class="linenos"> 9616</span>
<span class="linenos"> 9617</span><span class="c1">// --- algo.RnullStr60.ch.SetStrptr</span>
<span class="linenos"> 9618</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 9619</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 9620</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 9621</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr60</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9622</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">);</span>
<span class="linenos"> 9623</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 9624</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9625</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9626</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9627</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 9628</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9629</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">60</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9630</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9631</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9632</span><span class="p">}</span>
<span class="linenos"> 9633</span>
<span class="linenos"> 9634</span><span class="c1">// --- algo.RnullStr60..Hash</span>
<span class="linenos"> 9635</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr60_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr60</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9636</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9637</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 9638</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 9639</span><span class="p">}</span>
<span class="linenos"> 9640</span>
<span class="linenos"> 9641</span><span class="c1">// --- algo.RnullStr60..ReadStrptrMaybe</span>
<span class="linenos"> 9642</span><span class="c1">// Read fields of algo::RnullStr60 from an ascii string.</span>
<span class="linenos"> 9643</span><span class="c1">// The format of the string is the format of the algo::RnullStr60&#39;s only field</span>
<span class="linenos"> 9644</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr60_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr60</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9645</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9646</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 9647</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9648</span><span class="p">}</span>
<span class="linenos"> 9649</span>
<span class="linenos"> 9650</span><span class="c1">// --- algo.RnullStr60..Print</span>
<span class="linenos"> 9651</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 9652</span><span class="c1">// cfmt:algo.RnullStr60.String  printfmt:Raw</span>
<span class="linenos"> 9653</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr60_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr60</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9654</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 9655</span><span class="p">}</span>
<span class="linenos"> 9656</span>
<span class="linenos"> 9657</span><span class="c1">// --- algo.RnullStr62.ch.Print</span>
<span class="linenos"> 9658</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr62</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9659</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 9660</span><span class="p">}</span>
<span class="linenos"> 9661</span>
<span class="linenos"> 9662</span><span class="c1">// --- algo.RnullStr62.ch.ReadStrptrMaybe</span>
<span class="linenos"> 9663</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 9664</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr62</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9665</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 9666</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">62</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9667</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9668</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9669</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9670</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 62&quot;</span><span class="p">);</span>
<span class="linenos"> 9671</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9672</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9673</span><span class="p">}</span>
<span class="linenos"> 9674</span>
<span class="linenos"> 9675</span><span class="c1">// --- algo.RnullStr62.ch.SetStrptr</span>
<span class="linenos"> 9676</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 9677</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 9678</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 9679</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr62</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9680</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">62</span><span class="p">);</span>
<span class="linenos"> 9681</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 9682</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9683</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9684</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9685</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 9686</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9687</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">62</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9688</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9689</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9690</span><span class="p">}</span>
<span class="linenos"> 9691</span>
<span class="linenos"> 9692</span><span class="c1">// --- algo.RnullStr62..Hash</span>
<span class="linenos"> 9693</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr62_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr62</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9694</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9695</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 9696</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 9697</span><span class="p">}</span>
<span class="linenos"> 9698</span>
<span class="linenos"> 9699</span><span class="c1">// --- algo.RnullStr62..ReadStrptrMaybe</span>
<span class="linenos"> 9700</span><span class="c1">// Read fields of algo::RnullStr62 from an ascii string.</span>
<span class="linenos"> 9701</span><span class="c1">// The format of the string is the format of the algo::RnullStr62&#39;s only field</span>
<span class="linenos"> 9702</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr62_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr62</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9703</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9704</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 9705</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9706</span><span class="p">}</span>
<span class="linenos"> 9707</span>
<span class="linenos"> 9708</span><span class="c1">// --- algo.RnullStr62..Print</span>
<span class="linenos"> 9709</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 9710</span><span class="c1">// cfmt:algo.RnullStr62.String  printfmt:Raw</span>
<span class="linenos"> 9711</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr62_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr62</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9712</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 9713</span><span class="p">}</span>
<span class="linenos"> 9714</span>
<span class="linenos"> 9715</span><span class="c1">// --- algo.RnullStr66.ch.Print</span>
<span class="linenos"> 9716</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr66</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9717</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 9718</span><span class="p">}</span>
<span class="linenos"> 9719</span>
<span class="linenos"> 9720</span><span class="c1">// --- algo.RnullStr66.ch.ReadStrptrMaybe</span>
<span class="linenos"> 9721</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 9722</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr66</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9723</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 9724</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">66</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9725</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9726</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9727</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9728</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 66&quot;</span><span class="p">);</span>
<span class="linenos"> 9729</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9730</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9731</span><span class="p">}</span>
<span class="linenos"> 9732</span>
<span class="linenos"> 9733</span><span class="c1">// --- algo.RnullStr66.ch.SetStrptr</span>
<span class="linenos"> 9734</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 9735</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 9736</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 9737</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr66</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9738</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">66</span><span class="p">);</span>
<span class="linenos"> 9739</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 9740</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9741</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9742</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9743</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 9744</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9745</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">66</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9746</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9747</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9748</span><span class="p">}</span>
<span class="linenos"> 9749</span>
<span class="linenos"> 9750</span><span class="c1">// --- algo.RnullStr66..Hash</span>
<span class="linenos"> 9751</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr66_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr66</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9752</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9753</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 9754</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 9755</span><span class="p">}</span>
<span class="linenos"> 9756</span>
<span class="linenos"> 9757</span><span class="c1">// --- algo.RnullStr66..ReadStrptrMaybe</span>
<span class="linenos"> 9758</span><span class="c1">// Read fields of algo::RnullStr66 from an ascii string.</span>
<span class="linenos"> 9759</span><span class="c1">// The format of the string is the format of the algo::RnullStr66&#39;s only field</span>
<span class="linenos"> 9760</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr66_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr66</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9761</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9762</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 9763</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9764</span><span class="p">}</span>
<span class="linenos"> 9765</span>
<span class="linenos"> 9766</span><span class="c1">// --- algo.RnullStr66..Print</span>
<span class="linenos"> 9767</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 9768</span><span class="c1">// cfmt:algo.RnullStr66.String  printfmt:Raw</span>
<span class="linenos"> 9769</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr66_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr66</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9770</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 9771</span><span class="p">}</span>
<span class="linenos"> 9772</span>
<span class="linenos"> 9773</span><span class="c1">// --- algo.RnullStr6_U32.ch.Print</span>
<span class="linenos"> 9774</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9775</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 9776</span><span class="p">}</span>
<span class="linenos"> 9777</span>
<span class="linenos"> 9778</span><span class="c1">// --- algo.RnullStr6_U32.ch.ReadStrptrMaybe</span>
<span class="linenos"> 9779</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 9780</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9781</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 9782</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9783</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9784</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9785</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9786</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 6&quot;</span><span class="p">);</span>
<span class="linenos"> 9787</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9788</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9789</span><span class="p">}</span>
<span class="linenos"> 9790</span>
<span class="linenos"> 9791</span><span class="c1">// --- algo.RnullStr6_U32.ch.SetStrptr</span>
<span class="linenos"> 9792</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 9793</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 9794</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 9795</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9796</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
<span class="linenos"> 9797</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 9798</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9799</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9800</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9801</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 9802</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9803</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9804</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9805</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9806</span><span class="p">}</span>
<span class="linenos"> 9807</span>
<span class="linenos"> 9808</span><span class="c1">// --- algo.RnullStr6_U32.ch.Getnum</span>
<span class="linenos"> 9809</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 9810</span><span class="c1">// for the target type, or the string is invalid, the result</span>
<span class="linenos"> 9811</span><span class="c1">// is undefined, and and_ok is set to false.</span>
<span class="linenos"> 9812</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 9813</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">and_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9814</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9815</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 9816</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">str</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// empty string maps to zero</span>
<span class="linenos"> 9817</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos"> 9818</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aParseNum8</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 9819</span><span class="w">        </span><span class="n">and_ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 9820</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9821</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos"> 9822</span><span class="p">}</span>
<span class="linenos"> 9823</span>
<span class="linenos"> 9824</span><span class="c1">// --- algo.RnullStr6_U32.ch.GetnumDflt</span>
<span class="linenos"> 9825</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 9826</span><span class="c1">// for the target type, or the string is invalid, return default value.</span>
<span class="linenos"> 9827</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 9828</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetnumDflt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9829</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9830</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="linenos"> 9831</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">dflt</span><span class="p">;</span>
<span class="linenos"> 9832</span><span class="p">}</span>
<span class="linenos"> 9833</span>
<span class="linenos"> 9834</span><span class="c1">// --- algo.RnullStr6_U32.ch.Geti64</span>
<span class="linenos"> 9835</span><span class="c1">// Convert field to numeric value. If the value is too large</span>
<span class="linenos"> 9836</span><span class="c1">// for the target type, or the string is invalid, throw an exception.</span>
<span class="linenos"> 9837</span><span class="c1">// Empty string is evaluated to zero.</span>
<span class="linenos"> 9838</span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Geti64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out_ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9839</span><span class="w">    </span><span class="n">out_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9840</span><span class="w">    </span><span class="n">i64</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">out_ok</span><span class="p">);</span>
<span class="linenos"> 9841</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 9842</span><span class="p">}</span>
<span class="linenos"> 9843</span>
<span class="linenos"> 9844</span><span class="c1">// --- algo.RnullStr6_U32.ch.SetnumMaybe</span>
<span class="linenos"> 9845</span><span class="c1">// Set string to number specified in RHS performing base-10 conversion.</span>
<span class="linenos"> 9846</span><span class="c1">// If the number is too large for the string, return false.</span>
<span class="linenos"> 9847</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetnumMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9848</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
<span class="linenos"> 9849</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9850</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">charpos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>
<span class="linenos"> 9851</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">;</span>
<span class="linenos"> 9852</span><span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_FmtBuf</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">);</span>
<span class="linenos"> 9853</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
<span class="linenos"> 9854</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9855</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">(</span><span class="n">buf</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">charpos</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">));</span>
<span class="linenos"> 9856</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9857</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9858</span><span class="p">}</span>
<span class="linenos"> 9859</span>
<span class="linenos"> 9860</span><span class="c1">// --- algo.RnullStr6_U32..Hash</span>
<span class="linenos"> 9861</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6_U32_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9862</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9863</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 9864</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 9865</span><span class="p">}</span>
<span class="linenos"> 9866</span>
<span class="linenos"> 9867</span><span class="c1">// --- algo.RnullStr6_U32..ReadStrptrMaybe</span>
<span class="linenos"> 9868</span><span class="c1">// Read fields of algo::RnullStr6_U32 from an ascii string.</span>
<span class="linenos"> 9869</span><span class="c1">// The format of the string is the format of the algo::RnullStr6_U32&#39;s only field</span>
<span class="linenos"> 9870</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6_U32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6_U32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9871</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9872</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 9873</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9874</span><span class="p">}</span>
<span class="linenos"> 9875</span>
<span class="linenos"> 9876</span><span class="c1">// --- algo.RnullStr6_U32..Print</span>
<span class="linenos"> 9877</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 9878</span><span class="c1">// cfmt:algo.RnullStr6_U32.String  printfmt:Raw</span>
<span class="linenos"> 9879</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6_U32_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6_U32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9880</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 9881</span><span class="p">}</span>
<span class="linenos"> 9882</span>
<span class="linenos"> 9883</span><span class="c1">// --- algo.RnullStr7.ch.Print</span>
<span class="linenos"> 9884</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr7</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9885</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 9886</span><span class="p">}</span>
<span class="linenos"> 9887</span>
<span class="linenos"> 9888</span><span class="c1">// --- algo.RnullStr7.ch.ReadStrptrMaybe</span>
<span class="linenos"> 9889</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 9890</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr7</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9891</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 9892</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9893</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9894</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9895</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9896</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 7&quot;</span><span class="p">);</span>
<span class="linenos"> 9897</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9898</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9899</span><span class="p">}</span>
<span class="linenos"> 9900</span>
<span class="linenos"> 9901</span><span class="c1">// --- algo.RnullStr7.ch.SetStrptr</span>
<span class="linenos"> 9902</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 9903</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 9904</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 9905</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr7</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9906</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">);</span>
<span class="linenos"> 9907</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 9908</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9909</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9910</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9911</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 9912</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9913</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9914</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9915</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9916</span><span class="p">}</span>
<span class="linenos"> 9917</span>
<span class="linenos"> 9918</span><span class="c1">// --- algo.RnullStr7..Hash</span>
<span class="linenos"> 9919</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr7_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr7</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9920</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9921</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 9922</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 9923</span><span class="p">}</span>
<span class="linenos"> 9924</span>
<span class="linenos"> 9925</span><span class="c1">// --- algo.RnullStr7..ReadStrptrMaybe</span>
<span class="linenos"> 9926</span><span class="c1">// Read fields of algo::RnullStr7 from an ascii string.</span>
<span class="linenos"> 9927</span><span class="c1">// The format of the string is the format of the algo::RnullStr7&#39;s only field</span>
<span class="linenos"> 9928</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr7_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr7</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9929</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9930</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 9931</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9932</span><span class="p">}</span>
<span class="linenos"> 9933</span>
<span class="linenos"> 9934</span><span class="c1">// --- algo.RnullStr7..Print</span>
<span class="linenos"> 9935</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 9936</span><span class="c1">// cfmt:algo.RnullStr7.String  printfmt:Raw</span>
<span class="linenos"> 9937</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr7_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr7</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9938</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 9939</span><span class="p">}</span>
<span class="linenos"> 9940</span>
<span class="linenos"> 9941</span><span class="c1">// --- algo.RnullStr8.ch.Print</span>
<span class="linenos"> 9942</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr8</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9943</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos"> 9944</span><span class="p">}</span>
<span class="linenos"> 9945</span>
<span class="linenos"> 9946</span><span class="c1">// --- algo.RnullStr8.ch.ReadStrptrMaybe</span>
<span class="linenos"> 9947</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 9948</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr8</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9949</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos"> 9950</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9951</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9952</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9953</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9954</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 8&quot;</span><span class="p">);</span>
<span class="linenos"> 9955</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9956</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9957</span><span class="p">}</span>
<span class="linenos"> 9958</span>
<span class="linenos"> 9959</span><span class="c1">// --- algo.RnullStr8.ch.SetStrptr</span>
<span class="linenos"> 9960</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos"> 9961</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos"> 9962</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos"> 9963</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr8</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9964</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
<span class="linenos"> 9965</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos"> 9966</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9967</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9968</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9969</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos"> 9970</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9971</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9972</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 9973</span><span class="w">    </span><span class="p">}</span>
<span class="linenos"> 9974</span><span class="p">}</span>
<span class="linenos"> 9975</span>
<span class="linenos"> 9976</span><span class="c1">// --- algo.RnullStr8..Hash</span>
<span class="linenos"> 9977</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr8_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr8</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9978</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos"> 9979</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos"> 9980</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos"> 9981</span><span class="p">}</span>
<span class="linenos"> 9982</span>
<span class="linenos"> 9983</span><span class="c1">// --- algo.RnullStr8..ReadStrptrMaybe</span>
<span class="linenos"> 9984</span><span class="c1">// Read fields of algo::RnullStr8 from an ascii string.</span>
<span class="linenos"> 9985</span><span class="c1">// The format of the string is the format of the algo::RnullStr8&#39;s only field</span>
<span class="linenos"> 9986</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr8_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr8</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9987</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos"> 9988</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos"> 9989</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos"> 9990</span><span class="p">}</span>
<span class="linenos"> 9991</span>
<span class="linenos"> 9992</span><span class="c1">// --- algo.RnullStr8..Print</span>
<span class="linenos"> 9993</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 9994</span><span class="c1">// cfmt:algo.RnullStr8.String  printfmt:Raw</span>
<span class="linenos"> 9995</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr8_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr8</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9996</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos"> 9997</span><span class="p">}</span>
<span class="linenos"> 9998</span>
<span class="linenos"> 9999</span><span class="c1">// --- algo.RnullStr80.ch.Print</span>
<span class="linenos">10000</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr80</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10001</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">10002</span><span class="p">}</span>
<span class="linenos">10003</span>
<span class="linenos">10004</span><span class="c1">// --- algo.RnullStr80.ch.ReadStrptrMaybe</span>
<span class="linenos">10005</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">10006</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr80</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10007</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">10008</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">80</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10009</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10010</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10011</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10012</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 80&quot;</span><span class="p">);</span>
<span class="linenos">10013</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10014</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10015</span><span class="p">}</span>
<span class="linenos">10016</span>
<span class="linenos">10017</span><span class="c1">// --- algo.RnullStr80.ch.SetStrptr</span>
<span class="linenos">10018</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">10019</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">10020</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">10021</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr80</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10022</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">80</span><span class="p">);</span>
<span class="linenos">10023</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">10024</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10025</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10026</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10027</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">10028</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10029</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">80</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10030</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10031</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10032</span><span class="p">}</span>
<span class="linenos">10033</span>
<span class="linenos">10034</span><span class="c1">// --- algo.RnullStr80..Hash</span>
<span class="linenos">10035</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr80_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr80</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10036</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10037</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">10038</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">10039</span><span class="p">}</span>
<span class="linenos">10040</span>
<span class="linenos">10041</span><span class="c1">// --- algo.RnullStr80..ReadStrptrMaybe</span>
<span class="linenos">10042</span><span class="c1">// Read fields of algo::RnullStr80 from an ascii string.</span>
<span class="linenos">10043</span><span class="c1">// The format of the string is the format of the algo::RnullStr80&#39;s only field</span>
<span class="linenos">10044</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr80_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr80</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10045</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10046</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">10047</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10048</span><span class="p">}</span>
<span class="linenos">10049</span>
<span class="linenos">10050</span><span class="c1">// --- algo.RnullStr80..Print</span>
<span class="linenos">10051</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">10052</span><span class="c1">// cfmt:algo.RnullStr80.String  printfmt:Raw</span>
<span class="linenos">10053</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr80_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr80</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10054</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">10055</span><span class="p">}</span>
<span class="linenos">10056</span>
<span class="linenos">10057</span><span class="c1">// --- algo.RnullStr9.ch.Print</span>
<span class="linenos">10058</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr9</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10059</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">10060</span><span class="p">}</span>
<span class="linenos">10061</span>
<span class="linenos">10062</span><span class="c1">// --- algo.RnullStr9.ch.ReadStrptrMaybe</span>
<span class="linenos">10063</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">10064</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr9</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10065</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">10066</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10067</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10068</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10069</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10070</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 9&quot;</span><span class="p">);</span>
<span class="linenos">10071</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10072</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10073</span><span class="p">}</span>
<span class="linenos">10074</span>
<span class="linenos">10075</span><span class="c1">// --- algo.RnullStr9.ch.SetStrptr</span>
<span class="linenos">10076</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">10077</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">10078</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">10079</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr9</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10080</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">);</span>
<span class="linenos">10081</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">10082</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10083</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10084</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10085</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">10086</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10087</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">9</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10088</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10089</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10090</span><span class="p">}</span>
<span class="linenos">10091</span>
<span class="linenos">10092</span><span class="c1">// --- algo.RnullStr9..Hash</span>
<span class="linenos">10093</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr9_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr9</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10094</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10095</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">10096</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">10097</span><span class="p">}</span>
<span class="linenos">10098</span>
<span class="linenos">10099</span><span class="c1">// --- algo.RnullStr9..ReadStrptrMaybe</span>
<span class="linenos">10100</span><span class="c1">// Read fields of algo::RnullStr9 from an ascii string.</span>
<span class="linenos">10101</span><span class="c1">// The format of the string is the format of the algo::RnullStr9&#39;s only field</span>
<span class="linenos">10102</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr9_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr9</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10103</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10104</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">10105</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10106</span><span class="p">}</span>
<span class="linenos">10107</span>
<span class="linenos">10108</span><span class="c1">// --- algo.RnullStr9..Print</span>
<span class="linenos">10109</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">10110</span><span class="c1">// cfmt:algo.RnullStr9.String  printfmt:Raw</span>
<span class="linenos">10111</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr9_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr9</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10112</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">10113</span><span class="p">}</span>
<span class="linenos">10114</span>
<span class="linenos">10115</span><span class="c1">// --- algo.RspaceStr10.ch.Print</span>
<span class="linenos">10116</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr10</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10117</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">10118</span><span class="p">}</span>
<span class="linenos">10119</span>
<span class="linenos">10120</span><span class="c1">// --- algo.RspaceStr10.ch.ReadStrptrMaybe</span>
<span class="linenos">10121</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">10122</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr10</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10123</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">10124</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10125</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10126</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10127</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10128</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 10&quot;</span><span class="p">);</span>
<span class="linenos">10129</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10130</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10131</span><span class="p">}</span>
<span class="linenos">10132</span>
<span class="linenos">10133</span><span class="c1">// --- algo.RspaceStr10.ch.SetStrptr</span>
<span class="linenos">10134</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">10135</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">10136</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">10137</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr10</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10138</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="linenos">10139</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">10140</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10141</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10142</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10143</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">10144</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10145</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10146</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">10147</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10148</span><span class="p">}</span>
<span class="linenos">10149</span>
<span class="linenos">10150</span><span class="c1">// --- algo.RspaceStr10..Hash</span>
<span class="linenos">10151</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr10_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr10</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10152</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10153</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">10154</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">10155</span><span class="p">}</span>
<span class="linenos">10156</span>
<span class="linenos">10157</span><span class="c1">// --- algo.RspaceStr10..ReadStrptrMaybe</span>
<span class="linenos">10158</span><span class="c1">// Read fields of algo::RspaceStr10 from an ascii string.</span>
<span class="linenos">10159</span><span class="c1">// The format of the string is the format of the algo::RspaceStr10&#39;s only field</span>
<span class="linenos">10160</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr10_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr10</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10161</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10162</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">10163</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10164</span><span class="p">}</span>
<span class="linenos">10165</span>
<span class="linenos">10166</span><span class="c1">// --- algo.RspaceStr10..Print</span>
<span class="linenos">10167</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">10168</span><span class="c1">// cfmt:algo.RspaceStr10.String  printfmt:Raw</span>
<span class="linenos">10169</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr10_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr10</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10170</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">10171</span><span class="p">}</span>
<span class="linenos">10172</span>
<span class="linenos">10173</span><span class="c1">// --- algo.RspaceStr100.ch.Print</span>
<span class="linenos">10174</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr100</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10175</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">10176</span><span class="p">}</span>
<span class="linenos">10177</span>
<span class="linenos">10178</span><span class="c1">// --- algo.RspaceStr100.ch.ReadStrptrMaybe</span>
<span class="linenos">10179</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">10180</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr100</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10181</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">10182</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10183</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10184</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10185</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10186</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 100&quot;</span><span class="p">);</span>
<span class="linenos">10187</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10188</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10189</span><span class="p">}</span>
<span class="linenos">10190</span>
<span class="linenos">10191</span><span class="c1">// --- algo.RspaceStr100.ch.SetStrptr</span>
<span class="linenos">10192</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">10193</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">10194</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">10195</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr100</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10196</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<span class="linenos">10197</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">10198</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10199</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10200</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10201</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">10202</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10203</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10204</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">10205</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10206</span><span class="p">}</span>
<span class="linenos">10207</span>
<span class="linenos">10208</span><span class="c1">// --- algo.RspaceStr100..Hash</span>
<span class="linenos">10209</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr100_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr100</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10210</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10211</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">10212</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">10213</span><span class="p">}</span>
<span class="linenos">10214</span>
<span class="linenos">10215</span><span class="c1">// --- algo.RspaceStr100..ReadStrptrMaybe</span>
<span class="linenos">10216</span><span class="c1">// Read fields of algo::RspaceStr100 from an ascii string.</span>
<span class="linenos">10217</span><span class="c1">// The format of the string is the format of the algo::RspaceStr100&#39;s only field</span>
<span class="linenos">10218</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr100_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr100</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10219</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10220</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">10221</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10222</span><span class="p">}</span>
<span class="linenos">10223</span>
<span class="linenos">10224</span><span class="c1">// --- algo.RspaceStr100..Print</span>
<span class="linenos">10225</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">10226</span><span class="c1">// cfmt:algo.RspaceStr100.String  printfmt:Raw</span>
<span class="linenos">10227</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr100_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr100</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10228</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">10229</span><span class="p">}</span>
<span class="linenos">10230</span>
<span class="linenos">10231</span><span class="c1">// --- algo.RspaceStr11.ch.Print</span>
<span class="linenos">10232</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr11</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10233</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">10234</span><span class="p">}</span>
<span class="linenos">10235</span>
<span class="linenos">10236</span><span class="c1">// --- algo.RspaceStr11.ch.ReadStrptrMaybe</span>
<span class="linenos">10237</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">10238</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr11</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10239</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">10240</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10241</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10242</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10243</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10244</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 11&quot;</span><span class="p">);</span>
<span class="linenos">10245</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10246</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10247</span><span class="p">}</span>
<span class="linenos">10248</span>
<span class="linenos">10249</span><span class="c1">// --- algo.RspaceStr11.ch.SetStrptr</span>
<span class="linenos">10250</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">10251</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">10252</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">10253</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr11</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10254</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">);</span>
<span class="linenos">10255</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">10256</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10257</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10258</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10259</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">10260</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10261</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">11</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10262</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">10263</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10264</span><span class="p">}</span>
<span class="linenos">10265</span>
<span class="linenos">10266</span><span class="c1">// --- algo.RspaceStr11..Hash</span>
<span class="linenos">10267</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr11_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr11</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10268</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10269</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">10270</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">10271</span><span class="p">}</span>
<span class="linenos">10272</span>
<span class="linenos">10273</span><span class="c1">// --- algo.RspaceStr11..ReadStrptrMaybe</span>
<span class="linenos">10274</span><span class="c1">// Read fields of algo::RspaceStr11 from an ascii string.</span>
<span class="linenos">10275</span><span class="c1">// The format of the string is the format of the algo::RspaceStr11&#39;s only field</span>
<span class="linenos">10276</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr11_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr11</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10277</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10278</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">10279</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10280</span><span class="p">}</span>
<span class="linenos">10281</span>
<span class="linenos">10282</span><span class="c1">// --- algo.RspaceStr11..Print</span>
<span class="linenos">10283</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">10284</span><span class="c1">// cfmt:algo.RspaceStr11.String  printfmt:Raw</span>
<span class="linenos">10285</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr11_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr11</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10286</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">10287</span><span class="p">}</span>
<span class="linenos">10288</span>
<span class="linenos">10289</span><span class="c1">// --- algo.RspaceStr12.ch.Print</span>
<span class="linenos">10290</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr12</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10291</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">10292</span><span class="p">}</span>
<span class="linenos">10293</span>
<span class="linenos">10294</span><span class="c1">// --- algo.RspaceStr12.ch.ReadStrptrMaybe</span>
<span class="linenos">10295</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">10296</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr12</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10297</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">10298</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">12</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10299</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10300</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10301</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10302</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 12&quot;</span><span class="p">);</span>
<span class="linenos">10303</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10304</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10305</span><span class="p">}</span>
<span class="linenos">10306</span>
<span class="linenos">10307</span><span class="c1">// --- algo.RspaceStr12.ch.SetStrptr</span>
<span class="linenos">10308</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">10309</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">10310</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">10311</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr12</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10312</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">);</span>
<span class="linenos">10313</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">10314</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10315</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10316</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10317</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">10318</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10319</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">12</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10320</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">10321</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10322</span><span class="p">}</span>
<span class="linenos">10323</span>
<span class="linenos">10324</span><span class="c1">// --- algo.RspaceStr12..Hash</span>
<span class="linenos">10325</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr12_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr12</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10326</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10327</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">10328</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">10329</span><span class="p">}</span>
<span class="linenos">10330</span>
<span class="linenos">10331</span><span class="c1">// --- algo.RspaceStr12..ReadStrptrMaybe</span>
<span class="linenos">10332</span><span class="c1">// Read fields of algo::RspaceStr12 from an ascii string.</span>
<span class="linenos">10333</span><span class="c1">// The format of the string is the format of the algo::RspaceStr12&#39;s only field</span>
<span class="linenos">10334</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr12_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr12</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10335</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10336</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">10337</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10338</span><span class="p">}</span>
<span class="linenos">10339</span>
<span class="linenos">10340</span><span class="c1">// --- algo.RspaceStr12..Print</span>
<span class="linenos">10341</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">10342</span><span class="c1">// cfmt:algo.RspaceStr12.String  printfmt:Raw</span>
<span class="linenos">10343</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr12_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr12</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10344</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">10345</span><span class="p">}</span>
<span class="linenos">10346</span>
<span class="linenos">10347</span><span class="c1">// --- algo.RspaceStr128.ch.Print</span>
<span class="linenos">10348</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr128</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10349</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">10350</span><span class="p">}</span>
<span class="linenos">10351</span>
<span class="linenos">10352</span><span class="c1">// --- algo.RspaceStr128.ch.ReadStrptrMaybe</span>
<span class="linenos">10353</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">10354</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr128</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10355</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">10356</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">128</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10357</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10358</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10359</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10360</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 128&quot;</span><span class="p">);</span>
<span class="linenos">10361</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10362</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10363</span><span class="p">}</span>
<span class="linenos">10364</span>
<span class="linenos">10365</span><span class="c1">// --- algo.RspaceStr128.ch.SetStrptr</span>
<span class="linenos">10366</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">10367</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">10368</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">10369</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr128</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10370</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">128</span><span class="p">);</span>
<span class="linenos">10371</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">10372</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10373</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10374</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10375</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">10376</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10377</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">128</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10378</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">10379</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10380</span><span class="p">}</span>
<span class="linenos">10381</span>
<span class="linenos">10382</span><span class="c1">// --- algo.RspaceStr128..Hash</span>
<span class="linenos">10383</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr128_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr128</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10384</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10385</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">10386</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">10387</span><span class="p">}</span>
<span class="linenos">10388</span>
<span class="linenos">10389</span><span class="c1">// --- algo.RspaceStr128..ReadStrptrMaybe</span>
<span class="linenos">10390</span><span class="c1">// Read fields of algo::RspaceStr128 from an ascii string.</span>
<span class="linenos">10391</span><span class="c1">// The format of the string is the format of the algo::RspaceStr128&#39;s only field</span>
<span class="linenos">10392</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr128_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr128</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10393</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10394</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">10395</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10396</span><span class="p">}</span>
<span class="linenos">10397</span>
<span class="linenos">10398</span><span class="c1">// --- algo.RspaceStr128..Print</span>
<span class="linenos">10399</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">10400</span><span class="c1">// cfmt:algo.RspaceStr128.String  printfmt:Raw</span>
<span class="linenos">10401</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr128_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr128</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10402</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">10403</span><span class="p">}</span>
<span class="linenos">10404</span>
<span class="linenos">10405</span><span class="c1">// --- algo.RspaceStr14.ch.Print</span>
<span class="linenos">10406</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr14</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10407</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">10408</span><span class="p">}</span>
<span class="linenos">10409</span>
<span class="linenos">10410</span><span class="c1">// --- algo.RspaceStr14.ch.ReadStrptrMaybe</span>
<span class="linenos">10411</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">10412</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr14</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10413</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">10414</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">14</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10415</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10416</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10417</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10418</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 14&quot;</span><span class="p">);</span>
<span class="linenos">10419</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10420</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10421</span><span class="p">}</span>
<span class="linenos">10422</span>
<span class="linenos">10423</span><span class="c1">// --- algo.RspaceStr14.ch.SetStrptr</span>
<span class="linenos">10424</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">10425</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">10426</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">10427</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr14</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10428</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">);</span>
<span class="linenos">10429</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">10430</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10431</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10432</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10433</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">10434</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10435</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">14</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10436</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">10437</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10438</span><span class="p">}</span>
<span class="linenos">10439</span>
<span class="linenos">10440</span><span class="c1">// --- algo.RspaceStr14..Hash</span>
<span class="linenos">10441</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr14_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr14</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10442</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10443</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">10444</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">10445</span><span class="p">}</span>
<span class="linenos">10446</span>
<span class="linenos">10447</span><span class="c1">// --- algo.RspaceStr14..ReadStrptrMaybe</span>
<span class="linenos">10448</span><span class="c1">// Read fields of algo::RspaceStr14 from an ascii string.</span>
<span class="linenos">10449</span><span class="c1">// The format of the string is the format of the algo::RspaceStr14&#39;s only field</span>
<span class="linenos">10450</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr14_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr14</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10451</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10452</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">10453</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10454</span><span class="p">}</span>
<span class="linenos">10455</span>
<span class="linenos">10456</span><span class="c1">// --- algo.RspaceStr14..Print</span>
<span class="linenos">10457</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">10458</span><span class="c1">// cfmt:algo.RspaceStr14.String  printfmt:Raw</span>
<span class="linenos">10459</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr14_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr14</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10460</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">10461</span><span class="p">}</span>
<span class="linenos">10462</span>
<span class="linenos">10463</span><span class="c1">// --- algo.RspaceStr15.ch.Print</span>
<span class="linenos">10464</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr15</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10465</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">10466</span><span class="p">}</span>
<span class="linenos">10467</span>
<span class="linenos">10468</span><span class="c1">// --- algo.RspaceStr15.ch.ReadStrptrMaybe</span>
<span class="linenos">10469</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">10470</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr15</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10471</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">10472</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">15</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10473</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10474</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10475</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10476</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 15&quot;</span><span class="p">);</span>
<span class="linenos">10477</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10478</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10479</span><span class="p">}</span>
<span class="linenos">10480</span>
<span class="linenos">10481</span><span class="c1">// --- algo.RspaceStr15.ch.SetStrptr</span>
<span class="linenos">10482</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">10483</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">10484</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">10485</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr15</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10486</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">);</span>
<span class="linenos">10487</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">10488</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10489</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10490</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10491</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">10492</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10493</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">15</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10494</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">10495</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10496</span><span class="p">}</span>
<span class="linenos">10497</span>
<span class="linenos">10498</span><span class="c1">// --- algo.RspaceStr15..Hash</span>
<span class="linenos">10499</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr15_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr15</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10500</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10501</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">10502</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">10503</span><span class="p">}</span>
<span class="linenos">10504</span>
<span class="linenos">10505</span><span class="c1">// --- algo.RspaceStr15..ReadStrptrMaybe</span>
<span class="linenos">10506</span><span class="c1">// Read fields of algo::RspaceStr15 from an ascii string.</span>
<span class="linenos">10507</span><span class="c1">// The format of the string is the format of the algo::RspaceStr15&#39;s only field</span>
<span class="linenos">10508</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr15_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr15</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10509</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10510</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">10511</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10512</span><span class="p">}</span>
<span class="linenos">10513</span>
<span class="linenos">10514</span><span class="c1">// --- algo.RspaceStr15..Print</span>
<span class="linenos">10515</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">10516</span><span class="c1">// cfmt:algo.RspaceStr15.String  printfmt:Raw</span>
<span class="linenos">10517</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr15_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr15</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10518</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">10519</span><span class="p">}</span>
<span class="linenos">10520</span>
<span class="linenos">10521</span><span class="c1">// --- algo.RspaceStr16.ch.Print</span>
<span class="linenos">10522</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10523</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">10524</span><span class="p">}</span>
<span class="linenos">10525</span>
<span class="linenos">10526</span><span class="c1">// --- algo.RspaceStr16.ch.ReadStrptrMaybe</span>
<span class="linenos">10527</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">10528</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10529</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">10530</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10531</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10532</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10533</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10534</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 16&quot;</span><span class="p">);</span>
<span class="linenos">10535</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10536</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10537</span><span class="p">}</span>
<span class="linenos">10538</span>
<span class="linenos">10539</span><span class="c1">// --- algo.RspaceStr16.ch.SetStrptr</span>
<span class="linenos">10540</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">10541</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">10542</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">10543</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10544</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span>
<span class="linenos">10545</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">10546</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10547</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10548</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10549</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">10550</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10551</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">16</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10552</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">10553</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10554</span><span class="p">}</span>
<span class="linenos">10555</span>
<span class="linenos">10556</span><span class="c1">// --- algo.RspaceStr16..Hash</span>
<span class="linenos">10557</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr16_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr16</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10558</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10559</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">10560</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">10561</span><span class="p">}</span>
<span class="linenos">10562</span>
<span class="linenos">10563</span><span class="c1">// --- algo.RspaceStr16..ReadStrptrMaybe</span>
<span class="linenos">10564</span><span class="c1">// Read fields of algo::RspaceStr16 from an ascii string.</span>
<span class="linenos">10565</span><span class="c1">// The format of the string is the format of the algo::RspaceStr16&#39;s only field</span>
<span class="linenos">10566</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr16_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr16</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10567</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10568</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">10569</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10570</span><span class="p">}</span>
<span class="linenos">10571</span>
<span class="linenos">10572</span><span class="c1">// --- algo.RspaceStr16..Print</span>
<span class="linenos">10573</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">10574</span><span class="c1">// cfmt:algo.RspaceStr16.String  printfmt:Raw</span>
<span class="linenos">10575</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr16_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr16</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10576</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">10577</span><span class="p">}</span>
<span class="linenos">10578</span>
<span class="linenos">10579</span><span class="c1">// --- algo.RspaceStr18.ch.Print</span>
<span class="linenos">10580</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr18</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10581</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">10582</span><span class="p">}</span>
<span class="linenos">10583</span>
<span class="linenos">10584</span><span class="c1">// --- algo.RspaceStr18.ch.ReadStrptrMaybe</span>
<span class="linenos">10585</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">10586</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr18</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10587</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">10588</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">18</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10589</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10590</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10591</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10592</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 18&quot;</span><span class="p">);</span>
<span class="linenos">10593</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10594</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10595</span><span class="p">}</span>
<span class="linenos">10596</span>
<span class="linenos">10597</span><span class="c1">// --- algo.RspaceStr18.ch.SetStrptr</span>
<span class="linenos">10598</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">10599</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">10600</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">10601</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr18</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10602</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">18</span><span class="p">);</span>
<span class="linenos">10603</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">10604</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10605</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10606</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10607</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">10608</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10609</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">18</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10610</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">10611</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10612</span><span class="p">}</span>
<span class="linenos">10613</span>
<span class="linenos">10614</span><span class="c1">// --- algo.RspaceStr18..Hash</span>
<span class="linenos">10615</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr18_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr18</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10616</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10617</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">10618</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">10619</span><span class="p">}</span>
<span class="linenos">10620</span>
<span class="linenos">10621</span><span class="c1">// --- algo.RspaceStr18..ReadStrptrMaybe</span>
<span class="linenos">10622</span><span class="c1">// Read fields of algo::RspaceStr18 from an ascii string.</span>
<span class="linenos">10623</span><span class="c1">// The format of the string is the format of the algo::RspaceStr18&#39;s only field</span>
<span class="linenos">10624</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr18_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr18</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10625</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10626</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">10627</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10628</span><span class="p">}</span>
<span class="linenos">10629</span>
<span class="linenos">10630</span><span class="c1">// --- algo.RspaceStr18..Print</span>
<span class="linenos">10631</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">10632</span><span class="c1">// cfmt:algo.RspaceStr18.String  printfmt:Raw</span>
<span class="linenos">10633</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr18_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr18</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10634</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">10635</span><span class="p">}</span>
<span class="linenos">10636</span>
<span class="linenos">10637</span><span class="c1">// --- algo.RspaceStr2.ch.Print</span>
<span class="linenos">10638</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10639</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">10640</span><span class="p">}</span>
<span class="linenos">10641</span>
<span class="linenos">10642</span><span class="c1">// --- algo.RspaceStr2.ch.ReadStrptrMaybe</span>
<span class="linenos">10643</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">10644</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10645</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">10646</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10647</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10648</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10649</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10650</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 2&quot;</span><span class="p">);</span>
<span class="linenos">10651</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10652</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10653</span><span class="p">}</span>
<span class="linenos">10654</span>
<span class="linenos">10655</span><span class="c1">// --- algo.RspaceStr2.ch.SetStrptr</span>
<span class="linenos">10656</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">10657</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">10658</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">10659</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10660</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos">10661</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">10662</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10663</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10664</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10665</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">10666</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10667</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10668</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">10669</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10670</span><span class="p">}</span>
<span class="linenos">10671</span>
<span class="linenos">10672</span><span class="c1">// --- algo.RspaceStr2..Hash</span>
<span class="linenos">10673</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr2_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr2</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10674</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10675</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">10676</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">10677</span><span class="p">}</span>
<span class="linenos">10678</span>
<span class="linenos">10679</span><span class="c1">// --- algo.RspaceStr2..ReadStrptrMaybe</span>
<span class="linenos">10680</span><span class="c1">// Read fields of algo::RspaceStr2 from an ascii string.</span>
<span class="linenos">10681</span><span class="c1">// The format of the string is the format of the algo::RspaceStr2&#39;s only field</span>
<span class="linenos">10682</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr2_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr2</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10683</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10684</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">10685</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10686</span><span class="p">}</span>
<span class="linenos">10687</span>
<span class="linenos">10688</span><span class="c1">// --- algo.RspaceStr2..Print</span>
<span class="linenos">10689</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">10690</span><span class="c1">// cfmt:algo.RspaceStr2.String  printfmt:Raw</span>
<span class="linenos">10691</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr2_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr2</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10692</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">10693</span><span class="p">}</span>
<span class="linenos">10694</span>
<span class="linenos">10695</span><span class="c1">// --- algo.RspaceStr20.ch.Print</span>
<span class="linenos">10696</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr20</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10697</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">10698</span><span class="p">}</span>
<span class="linenos">10699</span>
<span class="linenos">10700</span><span class="c1">// --- algo.RspaceStr20.ch.ReadStrptrMaybe</span>
<span class="linenos">10701</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">10702</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr20</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10703</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">10704</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10705</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10706</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10707</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10708</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 20&quot;</span><span class="p">);</span>
<span class="linenos">10709</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10710</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10711</span><span class="p">}</span>
<span class="linenos">10712</span>
<span class="linenos">10713</span><span class="c1">// --- algo.RspaceStr20.ch.SetStrptr</span>
<span class="linenos">10714</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">10715</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">10716</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">10717</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr20</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10718</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span>
<span class="linenos">10719</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">10720</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10721</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10722</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10723</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">10724</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10725</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10726</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">10727</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10728</span><span class="p">}</span>
<span class="linenos">10729</span>
<span class="linenos">10730</span><span class="c1">// --- algo.RspaceStr20..Hash</span>
<span class="linenos">10731</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr20_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr20</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10732</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10733</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">10734</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">10735</span><span class="p">}</span>
<span class="linenos">10736</span>
<span class="linenos">10737</span><span class="c1">// --- algo.RspaceStr20..ReadStrptrMaybe</span>
<span class="linenos">10738</span><span class="c1">// Read fields of algo::RspaceStr20 from an ascii string.</span>
<span class="linenos">10739</span><span class="c1">// The format of the string is the format of the algo::RspaceStr20&#39;s only field</span>
<span class="linenos">10740</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr20_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr20</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10741</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10742</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">10743</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10744</span><span class="p">}</span>
<span class="linenos">10745</span>
<span class="linenos">10746</span><span class="c1">// --- algo.RspaceStr20..Print</span>
<span class="linenos">10747</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">10748</span><span class="c1">// cfmt:algo.RspaceStr20.String  printfmt:Raw</span>
<span class="linenos">10749</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr20_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr20</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10750</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">10751</span><span class="p">}</span>
<span class="linenos">10752</span>
<span class="linenos">10753</span><span class="c1">// --- algo.RspaceStr200.ch.Print</span>
<span class="linenos">10754</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr200</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10755</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">10756</span><span class="p">}</span>
<span class="linenos">10757</span>
<span class="linenos">10758</span><span class="c1">// --- algo.RspaceStr200.ch.ReadStrptrMaybe</span>
<span class="linenos">10759</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">10760</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr200</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10761</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">10762</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10763</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10764</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10765</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10766</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 200&quot;</span><span class="p">);</span>
<span class="linenos">10767</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10768</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10769</span><span class="p">}</span>
<span class="linenos">10770</span>
<span class="linenos">10771</span><span class="c1">// --- algo.RspaceStr200.ch.SetStrptr</span>
<span class="linenos">10772</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">10773</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">10774</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">10775</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr200</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10776</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span>
<span class="linenos">10777</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">10778</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10779</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10780</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10781</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">10782</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10783</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">200</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10784</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">10785</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10786</span><span class="p">}</span>
<span class="linenos">10787</span>
<span class="linenos">10788</span><span class="c1">// --- algo.RspaceStr200..Hash</span>
<span class="linenos">10789</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr200_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr200</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10790</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10791</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">10792</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">10793</span><span class="p">}</span>
<span class="linenos">10794</span>
<span class="linenos">10795</span><span class="c1">// --- algo.RspaceStr200..ReadStrptrMaybe</span>
<span class="linenos">10796</span><span class="c1">// Read fields of algo::RspaceStr200 from an ascii string.</span>
<span class="linenos">10797</span><span class="c1">// The format of the string is the format of the algo::RspaceStr200&#39;s only field</span>
<span class="linenos">10798</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr200_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr200</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10799</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10800</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">10801</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10802</span><span class="p">}</span>
<span class="linenos">10803</span>
<span class="linenos">10804</span><span class="c1">// --- algo.RspaceStr200..Print</span>
<span class="linenos">10805</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">10806</span><span class="c1">// cfmt:algo.RspaceStr200.String  printfmt:Raw</span>
<span class="linenos">10807</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr200_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr200</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10808</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">10809</span><span class="p">}</span>
<span class="linenos">10810</span>
<span class="linenos">10811</span><span class="c1">// --- algo.RspaceStr21.ch.Print</span>
<span class="linenos">10812</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr21</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10813</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">10814</span><span class="p">}</span>
<span class="linenos">10815</span>
<span class="linenos">10816</span><span class="c1">// --- algo.RspaceStr21.ch.ReadStrptrMaybe</span>
<span class="linenos">10817</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">10818</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr21</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10819</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">10820</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">21</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10821</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10822</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10823</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10824</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 21&quot;</span><span class="p">);</span>
<span class="linenos">10825</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10826</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10827</span><span class="p">}</span>
<span class="linenos">10828</span>
<span class="linenos">10829</span><span class="c1">// --- algo.RspaceStr21.ch.SetStrptr</span>
<span class="linenos">10830</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">10831</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">10832</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">10833</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr21</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10834</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">21</span><span class="p">);</span>
<span class="linenos">10835</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">10836</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10837</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10838</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10839</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">10840</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10841</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">21</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10842</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">10843</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10844</span><span class="p">}</span>
<span class="linenos">10845</span>
<span class="linenos">10846</span><span class="c1">// --- algo.RspaceStr21..Hash</span>
<span class="linenos">10847</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr21_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr21</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10848</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10849</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">10850</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">10851</span><span class="p">}</span>
<span class="linenos">10852</span>
<span class="linenos">10853</span><span class="c1">// --- algo.RspaceStr21..ReadStrptrMaybe</span>
<span class="linenos">10854</span><span class="c1">// Read fields of algo::RspaceStr21 from an ascii string.</span>
<span class="linenos">10855</span><span class="c1">// The format of the string is the format of the algo::RspaceStr21&#39;s only field</span>
<span class="linenos">10856</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr21_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr21</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10857</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10858</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">10859</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10860</span><span class="p">}</span>
<span class="linenos">10861</span>
<span class="linenos">10862</span><span class="c1">// --- algo.RspaceStr21..Print</span>
<span class="linenos">10863</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">10864</span><span class="c1">// cfmt:algo.RspaceStr21.String  printfmt:Raw</span>
<span class="linenos">10865</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr21_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr21</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10866</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">10867</span><span class="p">}</span>
<span class="linenos">10868</span>
<span class="linenos">10869</span><span class="c1">// --- algo.RspaceStr24.ch.Print</span>
<span class="linenos">10870</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr24</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10871</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">10872</span><span class="p">}</span>
<span class="linenos">10873</span>
<span class="linenos">10874</span><span class="c1">// --- algo.RspaceStr24.ch.ReadStrptrMaybe</span>
<span class="linenos">10875</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">10876</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr24</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10877</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">10878</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">24</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10879</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10880</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10881</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10882</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 24&quot;</span><span class="p">);</span>
<span class="linenos">10883</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10884</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10885</span><span class="p">}</span>
<span class="linenos">10886</span>
<span class="linenos">10887</span><span class="c1">// --- algo.RspaceStr24.ch.SetStrptr</span>
<span class="linenos">10888</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">10889</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">10890</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">10891</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr24</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10892</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">24</span><span class="p">);</span>
<span class="linenos">10893</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">10894</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10895</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10896</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10897</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">10898</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10899</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">24</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10900</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">10901</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10902</span><span class="p">}</span>
<span class="linenos">10903</span>
<span class="linenos">10904</span><span class="c1">// --- algo.RspaceStr24..Hash</span>
<span class="linenos">10905</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr24_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr24</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10906</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10907</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">10908</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">10909</span><span class="p">}</span>
<span class="linenos">10910</span>
<span class="linenos">10911</span><span class="c1">// --- algo.RspaceStr24..ReadStrptrMaybe</span>
<span class="linenos">10912</span><span class="c1">// Read fields of algo::RspaceStr24 from an ascii string.</span>
<span class="linenos">10913</span><span class="c1">// The format of the string is the format of the algo::RspaceStr24&#39;s only field</span>
<span class="linenos">10914</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr24_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr24</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10915</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10916</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">10917</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10918</span><span class="p">}</span>
<span class="linenos">10919</span>
<span class="linenos">10920</span><span class="c1">// --- algo.RspaceStr24..Print</span>
<span class="linenos">10921</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">10922</span><span class="c1">// cfmt:algo.RspaceStr24.String  printfmt:Raw</span>
<span class="linenos">10923</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr24_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr24</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10924</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">10925</span><span class="p">}</span>
<span class="linenos">10926</span>
<span class="linenos">10927</span><span class="c1">// --- algo.RspaceStr240.ch.Print</span>
<span class="linenos">10928</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr240</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10929</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">10930</span><span class="p">}</span>
<span class="linenos">10931</span>
<span class="linenos">10932</span><span class="c1">// --- algo.RspaceStr240.ch.ReadStrptrMaybe</span>
<span class="linenos">10933</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">10934</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr240</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10935</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">10936</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">240</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10937</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10938</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10939</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10940</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 240&quot;</span><span class="p">);</span>
<span class="linenos">10941</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10942</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10943</span><span class="p">}</span>
<span class="linenos">10944</span>
<span class="linenos">10945</span><span class="c1">// --- algo.RspaceStr240.ch.SetStrptr</span>
<span class="linenos">10946</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">10947</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">10948</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">10949</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr240</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10950</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">240</span><span class="p">);</span>
<span class="linenos">10951</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">10952</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10953</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10954</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10955</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">10956</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10957</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">240</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10958</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">10959</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">10960</span><span class="p">}</span>
<span class="linenos">10961</span>
<span class="linenos">10962</span><span class="c1">// --- algo.RspaceStr240..Hash</span>
<span class="linenos">10963</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr240_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr240</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10964</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10965</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">10966</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">10967</span><span class="p">}</span>
<span class="linenos">10968</span>
<span class="linenos">10969</span><span class="c1">// --- algo.RspaceStr240..ReadStrptrMaybe</span>
<span class="linenos">10970</span><span class="c1">// Read fields of algo::RspaceStr240 from an ascii string.</span>
<span class="linenos">10971</span><span class="c1">// The format of the string is the format of the algo::RspaceStr240&#39;s only field</span>
<span class="linenos">10972</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr240_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr240</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10973</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10974</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">10975</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">10976</span><span class="p">}</span>
<span class="linenos">10977</span>
<span class="linenos">10978</span><span class="c1">// --- algo.RspaceStr240..Print</span>
<span class="linenos">10979</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">10980</span><span class="c1">// cfmt:algo.RspaceStr240.String  printfmt:Raw</span>
<span class="linenos">10981</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr240_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr240</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10982</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">10983</span><span class="p">}</span>
<span class="linenos">10984</span>
<span class="linenos">10985</span><span class="c1">// --- algo.RspaceStr25.ch.Print</span>
<span class="linenos">10986</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr25</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10987</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">10988</span><span class="p">}</span>
<span class="linenos">10989</span>
<span class="linenos">10990</span><span class="c1">// --- algo.RspaceStr25.ch.ReadStrptrMaybe</span>
<span class="linenos">10991</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">10992</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr25</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10993</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">10994</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">25</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10995</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">10996</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">10997</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10998</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 25&quot;</span><span class="p">);</span>
<span class="linenos">10999</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11000</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11001</span><span class="p">}</span>
<span class="linenos">11002</span>
<span class="linenos">11003</span><span class="c1">// --- algo.RspaceStr25.ch.SetStrptr</span>
<span class="linenos">11004</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">11005</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">11006</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">11007</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr25</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11008</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">);</span>
<span class="linenos">11009</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">11010</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11011</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11012</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11013</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">11014</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11015</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">25</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11016</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">11017</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11018</span><span class="p">}</span>
<span class="linenos">11019</span>
<span class="linenos">11020</span><span class="c1">// --- algo.RspaceStr25..Hash</span>
<span class="linenos">11021</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr25_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr25</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11022</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11023</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">11024</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">11025</span><span class="p">}</span>
<span class="linenos">11026</span>
<span class="linenos">11027</span><span class="c1">// --- algo.RspaceStr25..ReadStrptrMaybe</span>
<span class="linenos">11028</span><span class="c1">// Read fields of algo::RspaceStr25 from an ascii string.</span>
<span class="linenos">11029</span><span class="c1">// The format of the string is the format of the algo::RspaceStr25&#39;s only field</span>
<span class="linenos">11030</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr25_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr25</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11031</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11032</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">11033</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11034</span><span class="p">}</span>
<span class="linenos">11035</span>
<span class="linenos">11036</span><span class="c1">// --- algo.RspaceStr25..Print</span>
<span class="linenos">11037</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">11038</span><span class="c1">// cfmt:algo.RspaceStr25.String  printfmt:Raw</span>
<span class="linenos">11039</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr25_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr25</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11040</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">11041</span><span class="p">}</span>
<span class="linenos">11042</span>
<span class="linenos">11043</span><span class="c1">// --- algo.RspaceStr26.ch.Print</span>
<span class="linenos">11044</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr26</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11045</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">11046</span><span class="p">}</span>
<span class="linenos">11047</span>
<span class="linenos">11048</span><span class="c1">// --- algo.RspaceStr26.ch.ReadStrptrMaybe</span>
<span class="linenos">11049</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">11050</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr26</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11051</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">11052</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">26</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11053</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11054</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11055</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11056</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 26&quot;</span><span class="p">);</span>
<span class="linenos">11057</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11058</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11059</span><span class="p">}</span>
<span class="linenos">11060</span>
<span class="linenos">11061</span><span class="c1">// --- algo.RspaceStr26.ch.SetStrptr</span>
<span class="linenos">11062</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">11063</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">11064</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">11065</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr26</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11066</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">26</span><span class="p">);</span>
<span class="linenos">11067</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">11068</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11069</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11070</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11071</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">11072</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11073</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">26</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11074</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">11075</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11076</span><span class="p">}</span>
<span class="linenos">11077</span>
<span class="linenos">11078</span><span class="c1">// --- algo.RspaceStr26..Hash</span>
<span class="linenos">11079</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr26_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr26</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11080</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11081</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">11082</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">11083</span><span class="p">}</span>
<span class="linenos">11084</span>
<span class="linenos">11085</span><span class="c1">// --- algo.RspaceStr26..ReadStrptrMaybe</span>
<span class="linenos">11086</span><span class="c1">// Read fields of algo::RspaceStr26 from an ascii string.</span>
<span class="linenos">11087</span><span class="c1">// The format of the string is the format of the algo::RspaceStr26&#39;s only field</span>
<span class="linenos">11088</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr26_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr26</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11089</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11090</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">11091</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11092</span><span class="p">}</span>
<span class="linenos">11093</span>
<span class="linenos">11094</span><span class="c1">// --- algo.RspaceStr26..Print</span>
<span class="linenos">11095</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">11096</span><span class="c1">// cfmt:algo.RspaceStr26.String  printfmt:Raw</span>
<span class="linenos">11097</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr26_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr26</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11098</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">11099</span><span class="p">}</span>
<span class="linenos">11100</span>
<span class="linenos">11101</span><span class="c1">// --- algo.RspaceStr3.ch.Print</span>
<span class="linenos">11102</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11103</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">11104</span><span class="p">}</span>
<span class="linenos">11105</span>
<span class="linenos">11106</span><span class="c1">// --- algo.RspaceStr3.ch.ReadStrptrMaybe</span>
<span class="linenos">11107</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">11108</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11109</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">11110</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11111</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11112</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11113</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11114</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 3&quot;</span><span class="p">);</span>
<span class="linenos">11115</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11116</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11117</span><span class="p">}</span>
<span class="linenos">11118</span>
<span class="linenos">11119</span><span class="c1">// --- algo.RspaceStr3.ch.SetStrptr</span>
<span class="linenos">11120</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">11121</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">11122</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">11123</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11124</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="linenos">11125</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">11126</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11127</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11128</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11129</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">11130</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11131</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11132</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">11133</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11134</span><span class="p">}</span>
<span class="linenos">11135</span>
<span class="linenos">11136</span><span class="c1">// --- algo.RspaceStr3..Hash</span>
<span class="linenos">11137</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr3_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr3</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11138</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11139</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">11140</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">11141</span><span class="p">}</span>
<span class="linenos">11142</span>
<span class="linenos">11143</span><span class="c1">// --- algo.RspaceStr3..ReadStrptrMaybe</span>
<span class="linenos">11144</span><span class="c1">// Read fields of algo::RspaceStr3 from an ascii string.</span>
<span class="linenos">11145</span><span class="c1">// The format of the string is the format of the algo::RspaceStr3&#39;s only field</span>
<span class="linenos">11146</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr3_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr3</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11147</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11148</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">11149</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11150</span><span class="p">}</span>
<span class="linenos">11151</span>
<span class="linenos">11152</span><span class="c1">// --- algo.RspaceStr3..Print</span>
<span class="linenos">11153</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">11154</span><span class="c1">// cfmt:algo.RspaceStr3.String  printfmt:Raw</span>
<span class="linenos">11155</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr3_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr3</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11156</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">11157</span><span class="p">}</span>
<span class="linenos">11158</span>
<span class="linenos">11159</span><span class="c1">// --- algo.RspaceStr31.ch.Print</span>
<span class="linenos">11160</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr31</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11161</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">11162</span><span class="p">}</span>
<span class="linenos">11163</span>
<span class="linenos">11164</span><span class="c1">// --- algo.RspaceStr31.ch.ReadStrptrMaybe</span>
<span class="linenos">11165</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">11166</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr31</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11167</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">11168</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">31</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11169</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11170</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11171</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11172</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 31&quot;</span><span class="p">);</span>
<span class="linenos">11173</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11174</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11175</span><span class="p">}</span>
<span class="linenos">11176</span>
<span class="linenos">11177</span><span class="c1">// --- algo.RspaceStr31.ch.SetStrptr</span>
<span class="linenos">11178</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">11179</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">11180</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">11181</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr31</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11182</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">31</span><span class="p">);</span>
<span class="linenos">11183</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">11184</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11185</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11186</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11187</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">11188</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11189</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">31</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11190</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">11191</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11192</span><span class="p">}</span>
<span class="linenos">11193</span>
<span class="linenos">11194</span><span class="c1">// --- algo.RspaceStr31..Hash</span>
<span class="linenos">11195</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr31_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr31</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11196</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11197</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">11198</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">11199</span><span class="p">}</span>
<span class="linenos">11200</span>
<span class="linenos">11201</span><span class="c1">// --- algo.RspaceStr31..ReadStrptrMaybe</span>
<span class="linenos">11202</span><span class="c1">// Read fields of algo::RspaceStr31 from an ascii string.</span>
<span class="linenos">11203</span><span class="c1">// The format of the string is the format of the algo::RspaceStr31&#39;s only field</span>
<span class="linenos">11204</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr31_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr31</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11205</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11206</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">11207</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11208</span><span class="p">}</span>
<span class="linenos">11209</span>
<span class="linenos">11210</span><span class="c1">// --- algo.RspaceStr31..Print</span>
<span class="linenos">11211</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">11212</span><span class="c1">// cfmt:algo.RspaceStr31.String  printfmt:Raw</span>
<span class="linenos">11213</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr31_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr31</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11214</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">11215</span><span class="p">}</span>
<span class="linenos">11216</span>
<span class="linenos">11217</span><span class="c1">// --- algo.RspaceStr32.ch.Print</span>
<span class="linenos">11218</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11219</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">11220</span><span class="p">}</span>
<span class="linenos">11221</span>
<span class="linenos">11222</span><span class="c1">// --- algo.RspaceStr32.ch.ReadStrptrMaybe</span>
<span class="linenos">11223</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">11224</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11225</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">11226</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11227</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11228</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11229</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11230</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 32&quot;</span><span class="p">);</span>
<span class="linenos">11231</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11232</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11233</span><span class="p">}</span>
<span class="linenos">11234</span>
<span class="linenos">11235</span><span class="c1">// --- algo.RspaceStr32.ch.SetStrptr</span>
<span class="linenos">11236</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">11237</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">11238</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">11239</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11240</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">);</span>
<span class="linenos">11241</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">11242</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11243</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11244</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11245</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">11246</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11247</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">32</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11248</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">11249</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11250</span><span class="p">}</span>
<span class="linenos">11251</span>
<span class="linenos">11252</span><span class="c1">// --- algo.RspaceStr32..Hash</span>
<span class="linenos">11253</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr32_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr32</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11254</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11255</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">11256</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">11257</span><span class="p">}</span>
<span class="linenos">11258</span>
<span class="linenos">11259</span><span class="c1">// --- algo.RspaceStr32..ReadStrptrMaybe</span>
<span class="linenos">11260</span><span class="c1">// Read fields of algo::RspaceStr32 from an ascii string.</span>
<span class="linenos">11261</span><span class="c1">// The format of the string is the format of the algo::RspaceStr32&#39;s only field</span>
<span class="linenos">11262</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11263</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11264</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">11265</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11266</span><span class="p">}</span>
<span class="linenos">11267</span>
<span class="linenos">11268</span><span class="c1">// --- algo.RspaceStr32..Print</span>
<span class="linenos">11269</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">11270</span><span class="c1">// cfmt:algo.RspaceStr32.String  printfmt:Raw</span>
<span class="linenos">11271</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr32_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr32</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11272</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">11273</span><span class="p">}</span>
<span class="linenos">11274</span>
<span class="linenos">11275</span><span class="c1">// --- algo.RspaceStr4.ch.Print</span>
<span class="linenos">11276</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11277</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">11278</span><span class="p">}</span>
<span class="linenos">11279</span>
<span class="linenos">11280</span><span class="c1">// --- algo.RspaceStr4.ch.ReadStrptrMaybe</span>
<span class="linenos">11281</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">11282</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11283</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">11284</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11285</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11286</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11287</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11288</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 4&quot;</span><span class="p">);</span>
<span class="linenos">11289</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11290</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11291</span><span class="p">}</span>
<span class="linenos">11292</span>
<span class="linenos">11293</span><span class="c1">// --- algo.RspaceStr4.ch.SetStrptr</span>
<span class="linenos">11294</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">11295</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">11296</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">11297</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11298</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="linenos">11299</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">11300</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11301</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11302</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11303</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">11304</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11305</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11306</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">11307</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11308</span><span class="p">}</span>
<span class="linenos">11309</span>
<span class="linenos">11310</span><span class="c1">// --- algo.RspaceStr4..Hash</span>
<span class="linenos">11311</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr4_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr4</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11312</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11313</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">11314</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">11315</span><span class="p">}</span>
<span class="linenos">11316</span>
<span class="linenos">11317</span><span class="c1">// --- algo.RspaceStr4..ReadStrptrMaybe</span>
<span class="linenos">11318</span><span class="c1">// Read fields of algo::RspaceStr4 from an ascii string.</span>
<span class="linenos">11319</span><span class="c1">// The format of the string is the format of the algo::RspaceStr4&#39;s only field</span>
<span class="linenos">11320</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr4_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr4</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11321</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11322</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">11323</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11324</span><span class="p">}</span>
<span class="linenos">11325</span>
<span class="linenos">11326</span><span class="c1">// --- algo.RspaceStr4..Print</span>
<span class="linenos">11327</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">11328</span><span class="c1">// cfmt:algo.RspaceStr4.String  printfmt:Raw</span>
<span class="linenos">11329</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr4_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr4</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11330</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">11331</span><span class="p">}</span>
<span class="linenos">11332</span>
<span class="linenos">11333</span><span class="c1">// --- algo.RspaceStr40.ch.Print</span>
<span class="linenos">11334</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr40</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11335</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">11336</span><span class="p">}</span>
<span class="linenos">11337</span>
<span class="linenos">11338</span><span class="c1">// --- algo.RspaceStr40.ch.ReadStrptrMaybe</span>
<span class="linenos">11339</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">11340</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr40</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11341</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">11342</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">40</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11343</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11344</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11345</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11346</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 40&quot;</span><span class="p">);</span>
<span class="linenos">11347</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11348</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11349</span><span class="p">}</span>
<span class="linenos">11350</span>
<span class="linenos">11351</span><span class="c1">// --- algo.RspaceStr40.ch.SetStrptr</span>
<span class="linenos">11352</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">11353</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">11354</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">11355</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr40</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11356</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">);</span>
<span class="linenos">11357</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">11358</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11359</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11360</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11361</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">11362</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11363</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">40</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11364</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">11365</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11366</span><span class="p">}</span>
<span class="linenos">11367</span>
<span class="linenos">11368</span><span class="c1">// --- algo.RspaceStr40..Hash</span>
<span class="linenos">11369</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr40_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr40</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11370</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11371</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">11372</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">11373</span><span class="p">}</span>
<span class="linenos">11374</span>
<span class="linenos">11375</span><span class="c1">// --- algo.RspaceStr40..ReadStrptrMaybe</span>
<span class="linenos">11376</span><span class="c1">// Read fields of algo::RspaceStr40 from an ascii string.</span>
<span class="linenos">11377</span><span class="c1">// The format of the string is the format of the algo::RspaceStr40&#39;s only field</span>
<span class="linenos">11378</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr40_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr40</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11379</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11380</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">11381</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11382</span><span class="p">}</span>
<span class="linenos">11383</span>
<span class="linenos">11384</span><span class="c1">// --- algo.RspaceStr40..Print</span>
<span class="linenos">11385</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">11386</span><span class="c1">// cfmt:algo.RspaceStr40.String  printfmt:Raw</span>
<span class="linenos">11387</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr40_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr40</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11388</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">11389</span><span class="p">}</span>
<span class="linenos">11390</span>
<span class="linenos">11391</span><span class="c1">// --- algo.RspaceStr5.ch.Print</span>
<span class="linenos">11392</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11393</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">11394</span><span class="p">}</span>
<span class="linenos">11395</span>
<span class="linenos">11396</span><span class="c1">// --- algo.RspaceStr5.ch.ReadStrptrMaybe</span>
<span class="linenos">11397</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">11398</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11399</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">11400</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11401</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11402</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11403</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11404</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 5&quot;</span><span class="p">);</span>
<span class="linenos">11405</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11406</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11407</span><span class="p">}</span>
<span class="linenos">11408</span>
<span class="linenos">11409</span><span class="c1">// --- algo.RspaceStr5.ch.SetStrptr</span>
<span class="linenos">11410</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">11411</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">11412</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">11413</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11414</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="linenos">11415</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">11416</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11417</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11418</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11419</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">11420</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11421</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11422</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">11423</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11424</span><span class="p">}</span>
<span class="linenos">11425</span>
<span class="linenos">11426</span><span class="c1">// --- algo.RspaceStr5..Hash</span>
<span class="linenos">11427</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr5_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr5</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11428</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11429</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">11430</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">11431</span><span class="p">}</span>
<span class="linenos">11432</span>
<span class="linenos">11433</span><span class="c1">// --- algo.RspaceStr5..ReadStrptrMaybe</span>
<span class="linenos">11434</span><span class="c1">// Read fields of algo::RspaceStr5 from an ascii string.</span>
<span class="linenos">11435</span><span class="c1">// The format of the string is the format of the algo::RspaceStr5&#39;s only field</span>
<span class="linenos">11436</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr5_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr5</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11437</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11438</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">11439</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11440</span><span class="p">}</span>
<span class="linenos">11441</span>
<span class="linenos">11442</span><span class="c1">// --- algo.RspaceStr5..Print</span>
<span class="linenos">11443</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">11444</span><span class="c1">// cfmt:algo.RspaceStr5.String  printfmt:Raw</span>
<span class="linenos">11445</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr5_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr5</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11446</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">11447</span><span class="p">}</span>
<span class="linenos">11448</span>
<span class="linenos">11449</span><span class="c1">// --- algo.RspaceStr50.ch.Print</span>
<span class="linenos">11450</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr50</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11451</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">11452</span><span class="p">}</span>
<span class="linenos">11453</span>
<span class="linenos">11454</span><span class="c1">// --- algo.RspaceStr50.ch.ReadStrptrMaybe</span>
<span class="linenos">11455</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">11456</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr50</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11457</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">11458</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11459</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11460</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11461</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11462</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 50&quot;</span><span class="p">);</span>
<span class="linenos">11463</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11464</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11465</span><span class="p">}</span>
<span class="linenos">11466</span>
<span class="linenos">11467</span><span class="c1">// --- algo.RspaceStr50.ch.SetStrptr</span>
<span class="linenos">11468</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">11469</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">11470</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">11471</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr50</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11472</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">);</span>
<span class="linenos">11473</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">11474</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11475</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11476</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11477</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">11478</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11479</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">50</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11480</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">11481</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11482</span><span class="p">}</span>
<span class="linenos">11483</span>
<span class="linenos">11484</span><span class="c1">// --- algo.RspaceStr50..Hash</span>
<span class="linenos">11485</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr50_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr50</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11486</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11487</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">11488</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">11489</span><span class="p">}</span>
<span class="linenos">11490</span>
<span class="linenos">11491</span><span class="c1">// --- algo.RspaceStr50..ReadStrptrMaybe</span>
<span class="linenos">11492</span><span class="c1">// Read fields of algo::RspaceStr50 from an ascii string.</span>
<span class="linenos">11493</span><span class="c1">// The format of the string is the format of the algo::RspaceStr50&#39;s only field</span>
<span class="linenos">11494</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr50_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr50</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11495</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11496</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">11497</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11498</span><span class="p">}</span>
<span class="linenos">11499</span>
<span class="linenos">11500</span><span class="c1">// --- algo.RspaceStr50..Print</span>
<span class="linenos">11501</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">11502</span><span class="c1">// cfmt:algo.RspaceStr50.String  printfmt:Raw</span>
<span class="linenos">11503</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr50_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr50</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11504</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">11505</span><span class="p">}</span>
<span class="linenos">11506</span>
<span class="linenos">11507</span><span class="c1">// --- algo.RspaceStr6.ch.Print</span>
<span class="linenos">11508</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr6</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11509</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">11510</span><span class="p">}</span>
<span class="linenos">11511</span>
<span class="linenos">11512</span><span class="c1">// --- algo.RspaceStr6.ch.ReadStrptrMaybe</span>
<span class="linenos">11513</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">11514</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr6</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11515</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">11516</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11517</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11518</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11519</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11520</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 6&quot;</span><span class="p">);</span>
<span class="linenos">11521</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11522</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11523</span><span class="p">}</span>
<span class="linenos">11524</span>
<span class="linenos">11525</span><span class="c1">// --- algo.RspaceStr6.ch.SetStrptr</span>
<span class="linenos">11526</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">11527</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">11528</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">11529</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr6</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11530</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
<span class="linenos">11531</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">11532</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11533</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11534</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11535</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">11536</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11537</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11538</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">11539</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11540</span><span class="p">}</span>
<span class="linenos">11541</span>
<span class="linenos">11542</span><span class="c1">// --- algo.RspaceStr6..Hash</span>
<span class="linenos">11543</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr6_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr6</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11544</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11545</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">11546</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">11547</span><span class="p">}</span>
<span class="linenos">11548</span>
<span class="linenos">11549</span><span class="c1">// --- algo.RspaceStr6..ReadStrptrMaybe</span>
<span class="linenos">11550</span><span class="c1">// Read fields of algo::RspaceStr6 from an ascii string.</span>
<span class="linenos">11551</span><span class="c1">// The format of the string is the format of the algo::RspaceStr6&#39;s only field</span>
<span class="linenos">11552</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr6_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr6</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11553</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11554</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">11555</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11556</span><span class="p">}</span>
<span class="linenos">11557</span>
<span class="linenos">11558</span><span class="c1">// --- algo.RspaceStr6..Print</span>
<span class="linenos">11559</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">11560</span><span class="c1">// cfmt:algo.RspaceStr6.String  printfmt:Raw</span>
<span class="linenos">11561</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr6_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr6</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11562</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">11563</span><span class="p">}</span>
<span class="linenos">11564</span>
<span class="linenos">11565</span><span class="c1">// --- algo.RspaceStr64.ch.Print</span>
<span class="linenos">11566</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11567</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">11568</span><span class="p">}</span>
<span class="linenos">11569</span>
<span class="linenos">11570</span><span class="c1">// --- algo.RspaceStr64.ch.ReadStrptrMaybe</span>
<span class="linenos">11571</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">11572</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11573</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">11574</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">64</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11575</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11576</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11577</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11578</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 64&quot;</span><span class="p">);</span>
<span class="linenos">11579</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11580</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11581</span><span class="p">}</span>
<span class="linenos">11582</span>
<span class="linenos">11583</span><span class="c1">// --- algo.RspaceStr64.ch.SetStrptr</span>
<span class="linenos">11584</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">11585</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">11586</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">11587</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11588</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos">11589</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">11590</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11591</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11592</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11593</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">11594</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11595</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11596</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">11597</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11598</span><span class="p">}</span>
<span class="linenos">11599</span>
<span class="linenos">11600</span><span class="c1">// --- algo.RspaceStr64..Hash</span>
<span class="linenos">11601</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr64_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr64</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11602</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11603</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">11604</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">11605</span><span class="p">}</span>
<span class="linenos">11606</span>
<span class="linenos">11607</span><span class="c1">// --- algo.RspaceStr64..ReadStrptrMaybe</span>
<span class="linenos">11608</span><span class="c1">// Read fields of algo::RspaceStr64 from an ascii string.</span>
<span class="linenos">11609</span><span class="c1">// The format of the string is the format of the algo::RspaceStr64&#39;s only field</span>
<span class="linenos">11610</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr64_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr64</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11611</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11612</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">11613</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11614</span><span class="p">}</span>
<span class="linenos">11615</span>
<span class="linenos">11616</span><span class="c1">// --- algo.RspaceStr64..Print</span>
<span class="linenos">11617</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">11618</span><span class="c1">// cfmt:algo.RspaceStr64.String  printfmt:Raw</span>
<span class="linenos">11619</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr64_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11620</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">11621</span><span class="p">}</span>
<span class="linenos">11622</span>
<span class="linenos">11623</span><span class="c1">// --- algo.RspaceStr7.ch.Print</span>
<span class="linenos">11624</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr7</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11625</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">11626</span><span class="p">}</span>
<span class="linenos">11627</span>
<span class="linenos">11628</span><span class="c1">// --- algo.RspaceStr7.ch.ReadStrptrMaybe</span>
<span class="linenos">11629</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">11630</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr7</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11631</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">11632</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11633</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11634</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11635</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11636</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 7&quot;</span><span class="p">);</span>
<span class="linenos">11637</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11638</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11639</span><span class="p">}</span>
<span class="linenos">11640</span>
<span class="linenos">11641</span><span class="c1">// --- algo.RspaceStr7.ch.SetStrptr</span>
<span class="linenos">11642</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">11643</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">11644</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">11645</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr7</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11646</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">);</span>
<span class="linenos">11647</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">11648</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11649</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11650</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11651</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">11652</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11653</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11654</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">11655</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11656</span><span class="p">}</span>
<span class="linenos">11657</span>
<span class="linenos">11658</span><span class="c1">// --- algo.RspaceStr7..Hash</span>
<span class="linenos">11659</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr7_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr7</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11660</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11661</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">11662</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">11663</span><span class="p">}</span>
<span class="linenos">11664</span>
<span class="linenos">11665</span><span class="c1">// --- algo.RspaceStr7..ReadStrptrMaybe</span>
<span class="linenos">11666</span><span class="c1">// Read fields of algo::RspaceStr7 from an ascii string.</span>
<span class="linenos">11667</span><span class="c1">// The format of the string is the format of the algo::RspaceStr7&#39;s only field</span>
<span class="linenos">11668</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr7_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr7</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11669</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11670</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">11671</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11672</span><span class="p">}</span>
<span class="linenos">11673</span>
<span class="linenos">11674</span><span class="c1">// --- algo.RspaceStr7..Print</span>
<span class="linenos">11675</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">11676</span><span class="c1">// cfmt:algo.RspaceStr7.String  printfmt:Raw</span>
<span class="linenos">11677</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr7_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr7</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11678</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">11679</span><span class="p">}</span>
<span class="linenos">11680</span>
<span class="linenos">11681</span><span class="c1">// --- algo.RspaceStr75.ch.Print</span>
<span class="linenos">11682</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr75</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11683</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">11684</span><span class="p">}</span>
<span class="linenos">11685</span>
<span class="linenos">11686</span><span class="c1">// --- algo.RspaceStr75.ch.ReadStrptrMaybe</span>
<span class="linenos">11687</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">11688</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr75</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11689</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">11690</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">75</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11691</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11692</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11693</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11694</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 75&quot;</span><span class="p">);</span>
<span class="linenos">11695</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11696</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11697</span><span class="p">}</span>
<span class="linenos">11698</span>
<span class="linenos">11699</span><span class="c1">// --- algo.RspaceStr75.ch.SetStrptr</span>
<span class="linenos">11700</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">11701</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">11702</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">11703</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr75</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11704</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">75</span><span class="p">);</span>
<span class="linenos">11705</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">11706</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11707</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11708</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11709</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">11710</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11711</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">75</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11712</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">11713</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11714</span><span class="p">}</span>
<span class="linenos">11715</span>
<span class="linenos">11716</span><span class="c1">// --- algo.RspaceStr75..Hash</span>
<span class="linenos">11717</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr75_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr75</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11718</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11719</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">11720</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">11721</span><span class="p">}</span>
<span class="linenos">11722</span>
<span class="linenos">11723</span><span class="c1">// --- algo.RspaceStr75..ReadStrptrMaybe</span>
<span class="linenos">11724</span><span class="c1">// Read fields of algo::RspaceStr75 from an ascii string.</span>
<span class="linenos">11725</span><span class="c1">// The format of the string is the format of the algo::RspaceStr75&#39;s only field</span>
<span class="linenos">11726</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr75_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr75</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11727</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11728</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">11729</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11730</span><span class="p">}</span>
<span class="linenos">11731</span>
<span class="linenos">11732</span><span class="c1">// --- algo.RspaceStr75..Print</span>
<span class="linenos">11733</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">11734</span><span class="c1">// cfmt:algo.RspaceStr75.String  printfmt:Raw</span>
<span class="linenos">11735</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr75_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr75</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11736</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">11737</span><span class="p">}</span>
<span class="linenos">11738</span>
<span class="linenos">11739</span><span class="c1">// --- algo.RspaceStr8.ch.Print</span>
<span class="linenos">11740</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr8</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11741</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">11742</span><span class="p">}</span>
<span class="linenos">11743</span>
<span class="linenos">11744</span><span class="c1">// --- algo.RspaceStr8.ch.ReadStrptrMaybe</span>
<span class="linenos">11745</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">11746</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr8</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11747</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">11748</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11749</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11750</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11751</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11752</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 8&quot;</span><span class="p">);</span>
<span class="linenos">11753</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11754</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11755</span><span class="p">}</span>
<span class="linenos">11756</span>
<span class="linenos">11757</span><span class="c1">// --- algo.RspaceStr8.ch.SetStrptr</span>
<span class="linenos">11758</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">11759</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">11760</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">11761</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr8</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11762</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
<span class="linenos">11763</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">11764</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11765</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11766</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11767</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">11768</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11769</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11770</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">11771</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11772</span><span class="p">}</span>
<span class="linenos">11773</span>
<span class="linenos">11774</span><span class="c1">// --- algo.RspaceStr8..Hash</span>
<span class="linenos">11775</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr8_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr8</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11776</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11777</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">11778</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">11779</span><span class="p">}</span>
<span class="linenos">11780</span>
<span class="linenos">11781</span><span class="c1">// --- algo.RspaceStr8..ReadStrptrMaybe</span>
<span class="linenos">11782</span><span class="c1">// Read fields of algo::RspaceStr8 from an ascii string.</span>
<span class="linenos">11783</span><span class="c1">// The format of the string is the format of the algo::RspaceStr8&#39;s only field</span>
<span class="linenos">11784</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr8_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr8</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11785</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11786</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">11787</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11788</span><span class="p">}</span>
<span class="linenos">11789</span>
<span class="linenos">11790</span><span class="c1">// --- algo.RspaceStr8..Print</span>
<span class="linenos">11791</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">11792</span><span class="c1">// cfmt:algo.RspaceStr8.String  printfmt:Raw</span>
<span class="linenos">11793</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr8_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr8</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11794</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">11795</span><span class="p">}</span>
<span class="linenos">11796</span>
<span class="linenos">11797</span><span class="c1">// --- algo.RspaceStr9.ch.Print</span>
<span class="linenos">11798</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr9</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11799</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">11800</span><span class="p">}</span>
<span class="linenos">11801</span>
<span class="linenos">11802</span><span class="c1">// --- algo.RspaceStr9.ch.ReadStrptrMaybe</span>
<span class="linenos">11803</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">11804</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr9</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11805</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">11806</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11807</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11808</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11809</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11810</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 9&quot;</span><span class="p">);</span>
<span class="linenos">11811</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11812</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11813</span><span class="p">}</span>
<span class="linenos">11814</span>
<span class="linenos">11815</span><span class="c1">// --- algo.RspaceStr9.ch.SetStrptr</span>
<span class="linenos">11816</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">11817</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">11818</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">11819</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr9</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11820</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">);</span>
<span class="linenos">11821</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">11822</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11823</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11824</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11825</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">11826</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11827</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">9</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11828</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">11829</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11830</span><span class="p">}</span>
<span class="linenos">11831</span>
<span class="linenos">11832</span><span class="c1">// --- algo.RspaceStr9..Hash</span>
<span class="linenos">11833</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr9_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr9</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11834</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11835</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">11836</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">11837</span><span class="p">}</span>
<span class="linenos">11838</span>
<span class="linenos">11839</span><span class="c1">// --- algo.RspaceStr9..ReadStrptrMaybe</span>
<span class="linenos">11840</span><span class="c1">// Read fields of algo::RspaceStr9 from an ascii string.</span>
<span class="linenos">11841</span><span class="c1">// The format of the string is the format of the algo::RspaceStr9&#39;s only field</span>
<span class="linenos">11842</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr9_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr9</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11843</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11844</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">11845</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11846</span><span class="p">}</span>
<span class="linenos">11847</span>
<span class="linenos">11848</span><span class="c1">// --- algo.RspaceStr9..Print</span>
<span class="linenos">11849</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">11850</span><span class="c1">// cfmt:algo.RspaceStr9.String  printfmt:Raw</span>
<span class="linenos">11851</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr9_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">RspaceStr9</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11852</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">11853</span><span class="p">}</span>
<span class="linenos">11854</span>
<span class="linenos">11855</span><span class="c1">// --- algo.SchedTime..ReadStrptrMaybe</span>
<span class="linenos">11856</span><span class="c1">// Read fields of algo::SchedTime from an ascii string.</span>
<span class="linenos">11857</span><span class="c1">// The format of the string is the format of the algo::SchedTime&#39;s only field</span>
<span class="linenos">11858</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SchedTime_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">SchedTime</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11859</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11860</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">u64_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">11861</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11862</span><span class="p">}</span>
<span class="linenos">11863</span>
<span class="linenos">11864</span><span class="c1">// --- algo.SchedTime..Print</span>
<span class="linenos">11865</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">11866</span><span class="c1">// cfmt:algo.SchedTime.String  printfmt:Raw</span>
<span class="linenos">11867</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SchedTime_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">SchedTime</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11868</span><span class="w">    </span><span class="n">u64_Print</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">11869</span><span class="p">}</span>
<span class="linenos">11870</span>
<span class="linenos">11871</span><span class="c1">// --- algo.SeqType..ReadStrptrMaybe</span>
<span class="linenos">11872</span><span class="c1">// Read fields of algo::SeqType from an ascii string.</span>
<span class="linenos">11873</span><span class="c1">// The format of the string is the format of the algo::SeqType&#39;s only field</span>
<span class="linenos">11874</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SeqType_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">SeqType</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11875</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11876</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">u64_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">11877</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11878</span><span class="p">}</span>
<span class="linenos">11879</span>
<span class="linenos">11880</span><span class="c1">// --- algo.SeqType..Print</span>
<span class="linenos">11881</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">11882</span><span class="c1">// cfmt:algo.SeqType.String  printfmt:Raw</span>
<span class="linenos">11883</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SeqType_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">SeqType</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11884</span><span class="w">    </span><span class="n">u64_Print</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">11885</span><span class="p">}</span>
<span class="linenos">11886</span>
<span class="linenos">11887</span><span class="c1">// --- algo.Sha1sig.sha1sig.Eq</span>
<span class="linenos">11888</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">sha1sig_Eq</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Sha1sig</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Sha1sig</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11889</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
<span class="linenos">11890</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11891</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">sha1sig_elems</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">sha1sig_qFind</span><span class="p">(</span><span class="n">rhs</span><span class="p">,</span><span class="n">i</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11892</span><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">11893</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">11894</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11895</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11896</span><span class="p">}</span>
<span class="linenos">11897</span>
<span class="linenos">11898</span><span class="c1">// --- algo.Sha1sig.sha1sig.Cmp</span>
<span class="linenos">11899</span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">sha1sig_Cmp</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Sha1sig</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Sha1sig</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11900</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
<span class="linenos">11901</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11902</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11903</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u8_Cmp</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">sha1sig_elems</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="n">sha1sig_qFind</span><span class="p">(</span><span class="n">rhs</span><span class="p">,</span><span class="n">i</span><span class="p">));</span>
<span class="linenos">11904</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11905</span><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11906</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">11907</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11908</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11909</span><span class="p">}</span>
<span class="linenos">11910</span>
<span class="linenos">11911</span><span class="c1">// --- algo.Sha1sig.sha1sig.Print</span>
<span class="linenos">11912</span><span class="c1">// Convert sha1sig to a string.</span>
<span class="linenos">11913</span><span class="c1">// Array is printed as a regular string.</span>
<span class="linenos">11914</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">sha1sig_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Sha1sig</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11915</span><span class="w">    </span><span class="n">rhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">memptr_ToStrptr</span><span class="p">(</span><span class="n">sha1sig_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">11916</span><span class="p">}</span>
<span class="linenos">11917</span>
<span class="linenos">11918</span><span class="c1">// --- algo.Sha1sig.sha1sig.ReadStrptrMaybe</span>
<span class="linenos">11919</span><span class="c1">// Read array from string</span>
<span class="linenos">11920</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">11921</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">sha1sig_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Sha1sig</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11922</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11923</span><span class="w">    </span><span class="n">i32</span><span class="w"> </span><span class="n">newlen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">in_str</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span>
<span class="linenos">11924</span><span class="w">    </span><span class="n">memcpy</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">sha1sig_elems</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">.</span><span class="n">elems</span><span class="p">,</span><span class="w"> </span><span class="n">newlen</span><span class="p">);</span>
<span class="linenos">11925</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11926</span><span class="p">}</span>
<span class="linenos">11927</span>
<span class="linenos">11928</span><span class="c1">// --- algo.Smallstr1.ch.Print</span>
<span class="linenos">11929</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr1</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11930</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">11931</span><span class="p">}</span>
<span class="linenos">11932</span>
<span class="linenos">11933</span><span class="c1">// --- algo.Smallstr1.ch.ReadStrptrMaybe</span>
<span class="linenos">11934</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">11935</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr1</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11936</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">11937</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11938</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11939</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11940</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11941</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 1&quot;</span><span class="p">);</span>
<span class="linenos">11942</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11943</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11944</span><span class="p">}</span>
<span class="linenos">11945</span>
<span class="linenos">11946</span><span class="c1">// --- algo.Smallstr1.ch.SetStrptr</span>
<span class="linenos">11947</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">11948</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">11949</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">11950</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr1</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11951</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">11952</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">11953</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11954</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">11955</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11956</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">11957</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11958</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">n_ch</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">u8</span><span class="p">(</span><span class="n">len</span><span class="p">);</span>
<span class="linenos">11959</span><span class="p">}</span>
<span class="linenos">11960</span>
<span class="linenos">11961</span><span class="c1">// --- algo.Smallstr1..Hash</span>
<span class="linenos">11962</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr1_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr1</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11963</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11964</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">11965</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">11966</span><span class="p">}</span>
<span class="linenos">11967</span>
<span class="linenos">11968</span><span class="c1">// --- algo.Smallstr1..ReadStrptrMaybe</span>
<span class="linenos">11969</span><span class="c1">// Read fields of algo::Smallstr1 from an ascii string.</span>
<span class="linenos">11970</span><span class="c1">// The format of the string is the format of the algo::Smallstr1&#39;s only field</span>
<span class="linenos">11971</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr1_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr1</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11972</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11973</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">11974</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">11975</span><span class="p">}</span>
<span class="linenos">11976</span>
<span class="linenos">11977</span><span class="c1">// --- algo.Smallstr1..Print</span>
<span class="linenos">11978</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">11979</span><span class="c1">// cfmt:algo.Smallstr1.String  printfmt:Raw</span>
<span class="linenos">11980</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr1_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr1</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11981</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">11982</span><span class="p">}</span>
<span class="linenos">11983</span>
<span class="linenos">11984</span><span class="c1">// --- algo.Smallstr10.ch.Print</span>
<span class="linenos">11985</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr10</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11986</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">11987</span><span class="p">}</span>
<span class="linenos">11988</span>
<span class="linenos">11989</span><span class="c1">// --- algo.Smallstr10.ch.ReadStrptrMaybe</span>
<span class="linenos">11990</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">11991</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr10</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11992</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">11993</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11994</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">11995</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">11996</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11997</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 10&quot;</span><span class="p">);</span>
<span class="linenos">11998</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">11999</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12000</span><span class="p">}</span>
<span class="linenos">12001</span>
<span class="linenos">12002</span><span class="c1">// --- algo.Smallstr10.ch.SetStrptr</span>
<span class="linenos">12003</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">12004</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">12005</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">12006</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr10</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12007</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="linenos">12008</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">12009</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12010</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12011</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12012</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">12013</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12014</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">n_ch</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">u8</span><span class="p">(</span><span class="n">len</span><span class="p">);</span>
<span class="linenos">12015</span><span class="p">}</span>
<span class="linenos">12016</span>
<span class="linenos">12017</span><span class="c1">// --- algo.Smallstr10..Hash</span>
<span class="linenos">12018</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr10_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr10</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12019</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12020</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">12021</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">12022</span><span class="p">}</span>
<span class="linenos">12023</span>
<span class="linenos">12024</span><span class="c1">// --- algo.Smallstr10..ReadStrptrMaybe</span>
<span class="linenos">12025</span><span class="c1">// Read fields of algo::Smallstr10 from an ascii string.</span>
<span class="linenos">12026</span><span class="c1">// The format of the string is the format of the algo::Smallstr10&#39;s only field</span>
<span class="linenos">12027</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr10_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr10</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12028</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12029</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">12030</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12031</span><span class="p">}</span>
<span class="linenos">12032</span>
<span class="linenos">12033</span><span class="c1">// --- algo.Smallstr10..Print</span>
<span class="linenos">12034</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">12035</span><span class="c1">// cfmt:algo.Smallstr10.String  printfmt:Raw</span>
<span class="linenos">12036</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr10_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr10</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12037</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">12038</span><span class="p">}</span>
<span class="linenos">12039</span>
<span class="linenos">12040</span><span class="c1">// --- algo.Smallstr16.ch.Print</span>
<span class="linenos">12041</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12042</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">12043</span><span class="p">}</span>
<span class="linenos">12044</span>
<span class="linenos">12045</span><span class="c1">// --- algo.Smallstr16.ch.ReadStrptrMaybe</span>
<span class="linenos">12046</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">12047</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12048</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">12049</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12050</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12051</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12052</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12053</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 16&quot;</span><span class="p">);</span>
<span class="linenos">12054</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12055</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12056</span><span class="p">}</span>
<span class="linenos">12057</span>
<span class="linenos">12058</span><span class="c1">// --- algo.Smallstr16.ch.SetStrptr</span>
<span class="linenos">12059</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">12060</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">12061</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">12062</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12063</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span>
<span class="linenos">12064</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">12065</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12066</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12067</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12068</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">12069</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12070</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">n_ch</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">u8</span><span class="p">(</span><span class="n">len</span><span class="p">);</span>
<span class="linenos">12071</span><span class="p">}</span>
<span class="linenos">12072</span>
<span class="linenos">12073</span><span class="c1">// --- algo.Smallstr16..Hash</span>
<span class="linenos">12074</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr16_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr16</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12075</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12076</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">12077</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">12078</span><span class="p">}</span>
<span class="linenos">12079</span>
<span class="linenos">12080</span><span class="c1">// --- algo.Smallstr16..ReadStrptrMaybe</span>
<span class="linenos">12081</span><span class="c1">// Read fields of algo::Smallstr16 from an ascii string.</span>
<span class="linenos">12082</span><span class="c1">// The format of the string is the format of the algo::Smallstr16&#39;s only field</span>
<span class="linenos">12083</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr16_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr16</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12084</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12085</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">12086</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12087</span><span class="p">}</span>
<span class="linenos">12088</span>
<span class="linenos">12089</span><span class="c1">// --- algo.Smallstr16..Print</span>
<span class="linenos">12090</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">12091</span><span class="c1">// cfmt:algo.Smallstr16.String  printfmt:Raw</span>
<span class="linenos">12092</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr16_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr16</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12093</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">12094</span><span class="p">}</span>
<span class="linenos">12095</span>
<span class="linenos">12096</span><span class="c1">// --- algo.Smallstr2.ch.Print</span>
<span class="linenos">12097</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12098</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">12099</span><span class="p">}</span>
<span class="linenos">12100</span>
<span class="linenos">12101</span><span class="c1">// --- algo.Smallstr2.ch.ReadStrptrMaybe</span>
<span class="linenos">12102</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">12103</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12104</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">12105</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12106</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12107</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12108</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12109</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 2&quot;</span><span class="p">);</span>
<span class="linenos">12110</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12111</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12112</span><span class="p">}</span>
<span class="linenos">12113</span>
<span class="linenos">12114</span><span class="c1">// --- algo.Smallstr2.ch.SetStrptr</span>
<span class="linenos">12115</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">12116</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">12117</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">12118</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12119</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos">12120</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">12121</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12122</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12123</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12124</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">12125</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12126</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">n_ch</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">u8</span><span class="p">(</span><span class="n">len</span><span class="p">);</span>
<span class="linenos">12127</span><span class="p">}</span>
<span class="linenos">12128</span>
<span class="linenos">12129</span><span class="c1">// --- algo.Smallstr2..Hash</span>
<span class="linenos">12130</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr2_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr2</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12131</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12132</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">12133</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">12134</span><span class="p">}</span>
<span class="linenos">12135</span>
<span class="linenos">12136</span><span class="c1">// --- algo.Smallstr2..ReadStrptrMaybe</span>
<span class="linenos">12137</span><span class="c1">// Read fields of algo::Smallstr2 from an ascii string.</span>
<span class="linenos">12138</span><span class="c1">// The format of the string is the format of the algo::Smallstr2&#39;s only field</span>
<span class="linenos">12139</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr2_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr2</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12140</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12141</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">12142</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12143</span><span class="p">}</span>
<span class="linenos">12144</span>
<span class="linenos">12145</span><span class="c1">// --- algo.Smallstr2..Print</span>
<span class="linenos">12146</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">12147</span><span class="c1">// cfmt:algo.Smallstr2.String  printfmt:Raw</span>
<span class="linenos">12148</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr2_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12149</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">12150</span><span class="p">}</span>
<span class="linenos">12151</span>
<span class="linenos">12152</span><span class="c1">// --- algo.Smallstr20.ch.Print</span>
<span class="linenos">12153</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr20</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12154</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">12155</span><span class="p">}</span>
<span class="linenos">12156</span>
<span class="linenos">12157</span><span class="c1">// --- algo.Smallstr20.ch.ReadStrptrMaybe</span>
<span class="linenos">12158</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">12159</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr20</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12160</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">12161</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12162</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12163</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12164</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12165</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 20&quot;</span><span class="p">);</span>
<span class="linenos">12166</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12167</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12168</span><span class="p">}</span>
<span class="linenos">12169</span>
<span class="linenos">12170</span><span class="c1">// --- algo.Smallstr20.ch.SetStrptr</span>
<span class="linenos">12171</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">12172</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">12173</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">12174</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr20</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12175</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span>
<span class="linenos">12176</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">12177</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12178</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12179</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12180</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">12181</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12182</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">n_ch</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">u8</span><span class="p">(</span><span class="n">len</span><span class="p">);</span>
<span class="linenos">12183</span><span class="p">}</span>
<span class="linenos">12184</span>
<span class="linenos">12185</span><span class="c1">// --- algo.Smallstr20..Hash</span>
<span class="linenos">12186</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr20_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr20</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12187</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12188</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">12189</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">12190</span><span class="p">}</span>
<span class="linenos">12191</span>
<span class="linenos">12192</span><span class="c1">// --- algo.Smallstr20..ReadStrptrMaybe</span>
<span class="linenos">12193</span><span class="c1">// Read fields of algo::Smallstr20 from an ascii string.</span>
<span class="linenos">12194</span><span class="c1">// The format of the string is the format of the algo::Smallstr20&#39;s only field</span>
<span class="linenos">12195</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr20_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr20</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12196</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12197</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">12198</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12199</span><span class="p">}</span>
<span class="linenos">12200</span>
<span class="linenos">12201</span><span class="c1">// --- algo.Smallstr20..Print</span>
<span class="linenos">12202</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">12203</span><span class="c1">// cfmt:algo.Smallstr20.String  printfmt:Raw</span>
<span class="linenos">12204</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr20_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr20</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12205</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">12206</span><span class="p">}</span>
<span class="linenos">12207</span>
<span class="linenos">12208</span><span class="c1">// --- algo.Smallstr200.ch.Print</span>
<span class="linenos">12209</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr200</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12210</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">12211</span><span class="p">}</span>
<span class="linenos">12212</span>
<span class="linenos">12213</span><span class="c1">// --- algo.Smallstr200.ch.ReadStrptrMaybe</span>
<span class="linenos">12214</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">12215</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr200</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12216</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">12217</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12218</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12219</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12220</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12221</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 200&quot;</span><span class="p">);</span>
<span class="linenos">12222</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12223</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12224</span><span class="p">}</span>
<span class="linenos">12225</span>
<span class="linenos">12226</span><span class="c1">// --- algo.Smallstr200.ch.SetStrptr</span>
<span class="linenos">12227</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">12228</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">12229</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">12230</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr200</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12231</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span>
<span class="linenos">12232</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">12233</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12234</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12235</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12236</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">12237</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12238</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">n_ch</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">u8</span><span class="p">(</span><span class="n">len</span><span class="p">);</span>
<span class="linenos">12239</span><span class="p">}</span>
<span class="linenos">12240</span>
<span class="linenos">12241</span><span class="c1">// --- algo.Smallstr200..Hash</span>
<span class="linenos">12242</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr200_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr200</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12243</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12244</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">12245</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">12246</span><span class="p">}</span>
<span class="linenos">12247</span>
<span class="linenos">12248</span><span class="c1">// --- algo.Smallstr200..ReadStrptrMaybe</span>
<span class="linenos">12249</span><span class="c1">// Read fields of algo::Smallstr200 from an ascii string.</span>
<span class="linenos">12250</span><span class="c1">// The format of the string is the format of the algo::Smallstr200&#39;s only field</span>
<span class="linenos">12251</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr200_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr200</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12252</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12253</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">12254</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12255</span><span class="p">}</span>
<span class="linenos">12256</span>
<span class="linenos">12257</span><span class="c1">// --- algo.Smallstr200..Print</span>
<span class="linenos">12258</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">12259</span><span class="c1">// cfmt:algo.Smallstr200.String  printfmt:Raw</span>
<span class="linenos">12260</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr200_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr200</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12261</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">12262</span><span class="p">}</span>
<span class="linenos">12263</span>
<span class="linenos">12264</span><span class="c1">// --- algo.Smallstr25.ch.Print</span>
<span class="linenos">12265</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr25</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12266</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">12267</span><span class="p">}</span>
<span class="linenos">12268</span>
<span class="linenos">12269</span><span class="c1">// --- algo.Smallstr25.ch.ReadStrptrMaybe</span>
<span class="linenos">12270</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">12271</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr25</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12272</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">12273</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">25</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12274</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12275</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12276</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12277</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 25&quot;</span><span class="p">);</span>
<span class="linenos">12278</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12279</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12280</span><span class="p">}</span>
<span class="linenos">12281</span>
<span class="linenos">12282</span><span class="c1">// --- algo.Smallstr25.ch.SetStrptr</span>
<span class="linenos">12283</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">12284</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">12285</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">12286</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr25</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12287</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">);</span>
<span class="linenos">12288</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">12289</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12290</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12291</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12292</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">12293</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12294</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">n_ch</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">u8</span><span class="p">(</span><span class="n">len</span><span class="p">);</span>
<span class="linenos">12295</span><span class="p">}</span>
<span class="linenos">12296</span>
<span class="linenos">12297</span><span class="c1">// --- algo.Smallstr25..Hash</span>
<span class="linenos">12298</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr25_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr25</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12299</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12300</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">12301</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">12302</span><span class="p">}</span>
<span class="linenos">12303</span>
<span class="linenos">12304</span><span class="c1">// --- algo.Smallstr25..ReadStrptrMaybe</span>
<span class="linenos">12305</span><span class="c1">// Read fields of algo::Smallstr25 from an ascii string.</span>
<span class="linenos">12306</span><span class="c1">// The format of the string is the format of the algo::Smallstr25&#39;s only field</span>
<span class="linenos">12307</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr25_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr25</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12308</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12309</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">12310</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12311</span><span class="p">}</span>
<span class="linenos">12312</span>
<span class="linenos">12313</span><span class="c1">// --- algo.Smallstr25..Print</span>
<span class="linenos">12314</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">12315</span><span class="c1">// cfmt:algo.Smallstr25.String  printfmt:Raw</span>
<span class="linenos">12316</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr25_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr25</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12317</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">12318</span><span class="p">}</span>
<span class="linenos">12319</span>
<span class="linenos">12320</span><span class="c1">// --- algo.Smallstr3.ch.Print</span>
<span class="linenos">12321</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12322</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">12323</span><span class="p">}</span>
<span class="linenos">12324</span>
<span class="linenos">12325</span><span class="c1">// --- algo.Smallstr3.ch.ReadStrptrMaybe</span>
<span class="linenos">12326</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">12327</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12328</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">12329</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12330</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12331</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12332</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12333</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 3&quot;</span><span class="p">);</span>
<span class="linenos">12334</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12335</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12336</span><span class="p">}</span>
<span class="linenos">12337</span>
<span class="linenos">12338</span><span class="c1">// --- algo.Smallstr3.ch.SetStrptr</span>
<span class="linenos">12339</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">12340</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">12341</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">12342</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12343</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="linenos">12344</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">12345</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12346</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12347</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12348</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">12349</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12350</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">n_ch</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">u8</span><span class="p">(</span><span class="n">len</span><span class="p">);</span>
<span class="linenos">12351</span><span class="p">}</span>
<span class="linenos">12352</span>
<span class="linenos">12353</span><span class="c1">// --- algo.Smallstr3..Hash</span>
<span class="linenos">12354</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr3_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr3</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12355</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12356</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">12357</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">12358</span><span class="p">}</span>
<span class="linenos">12359</span>
<span class="linenos">12360</span><span class="c1">// --- algo.Smallstr3..ReadStrptrMaybe</span>
<span class="linenos">12361</span><span class="c1">// Read fields of algo::Smallstr3 from an ascii string.</span>
<span class="linenos">12362</span><span class="c1">// The format of the string is the format of the algo::Smallstr3&#39;s only field</span>
<span class="linenos">12363</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr3_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr3</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12364</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12365</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">12366</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12367</span><span class="p">}</span>
<span class="linenos">12368</span>
<span class="linenos">12369</span><span class="c1">// --- algo.Smallstr3..Print</span>
<span class="linenos">12370</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">12371</span><span class="c1">// cfmt:algo.Smallstr3.String  printfmt:Raw</span>
<span class="linenos">12372</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr3_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12373</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">12374</span><span class="p">}</span>
<span class="linenos">12375</span>
<span class="linenos">12376</span><span class="c1">// --- algo.Smallstr30.ch.Print</span>
<span class="linenos">12377</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr30</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12378</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">12379</span><span class="p">}</span>
<span class="linenos">12380</span>
<span class="linenos">12381</span><span class="c1">// --- algo.Smallstr30.ch.ReadStrptrMaybe</span>
<span class="linenos">12382</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">12383</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr30</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12384</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">12385</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12386</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12387</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12388</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12389</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 30&quot;</span><span class="p">);</span>
<span class="linenos">12390</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12391</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12392</span><span class="p">}</span>
<span class="linenos">12393</span>
<span class="linenos">12394</span><span class="c1">// --- algo.Smallstr30.ch.SetStrptr</span>
<span class="linenos">12395</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">12396</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">12397</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">12398</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr30</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12399</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">);</span>
<span class="linenos">12400</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">12401</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12402</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12403</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12404</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">12405</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12406</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">n_ch</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">u8</span><span class="p">(</span><span class="n">len</span><span class="p">);</span>
<span class="linenos">12407</span><span class="p">}</span>
<span class="linenos">12408</span>
<span class="linenos">12409</span><span class="c1">// --- algo.Smallstr30..Hash</span>
<span class="linenos">12410</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr30_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr30</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12411</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12412</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">12413</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">12414</span><span class="p">}</span>
<span class="linenos">12415</span>
<span class="linenos">12416</span><span class="c1">// --- algo.Smallstr30..ReadStrptrMaybe</span>
<span class="linenos">12417</span><span class="c1">// Read fields of algo::Smallstr30 from an ascii string.</span>
<span class="linenos">12418</span><span class="c1">// The format of the string is the format of the algo::Smallstr30&#39;s only field</span>
<span class="linenos">12419</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr30_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr30</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12420</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12421</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">12422</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12423</span><span class="p">}</span>
<span class="linenos">12424</span>
<span class="linenos">12425</span><span class="c1">// --- algo.Smallstr30..Print</span>
<span class="linenos">12426</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">12427</span><span class="c1">// cfmt:algo.Smallstr30.String  printfmt:Raw</span>
<span class="linenos">12428</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr30_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr30</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12429</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">12430</span><span class="p">}</span>
<span class="linenos">12431</span>
<span class="linenos">12432</span><span class="c1">// --- algo.Smallstr32.ch.Print</span>
<span class="linenos">12433</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12434</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">12435</span><span class="p">}</span>
<span class="linenos">12436</span>
<span class="linenos">12437</span><span class="c1">// --- algo.Smallstr32.ch.ReadStrptrMaybe</span>
<span class="linenos">12438</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">12439</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12440</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">12441</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12442</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12443</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12444</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12445</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 32&quot;</span><span class="p">);</span>
<span class="linenos">12446</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12447</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12448</span><span class="p">}</span>
<span class="linenos">12449</span>
<span class="linenos">12450</span><span class="c1">// --- algo.Smallstr32.ch.SetStrptr</span>
<span class="linenos">12451</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">12452</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">12453</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">12454</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12455</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">);</span>
<span class="linenos">12456</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">12457</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12458</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12459</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12460</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">12461</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12462</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">n_ch</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">u8</span><span class="p">(</span><span class="n">len</span><span class="p">);</span>
<span class="linenos">12463</span><span class="p">}</span>
<span class="linenos">12464</span>
<span class="linenos">12465</span><span class="c1">// --- algo.Smallstr32..Hash</span>
<span class="linenos">12466</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr32_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr32</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12467</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12468</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">12469</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">12470</span><span class="p">}</span>
<span class="linenos">12471</span>
<span class="linenos">12472</span><span class="c1">// --- algo.Smallstr32..ReadStrptrMaybe</span>
<span class="linenos">12473</span><span class="c1">// Read fields of algo::Smallstr32 from an ascii string.</span>
<span class="linenos">12474</span><span class="c1">// The format of the string is the format of the algo::Smallstr32&#39;s only field</span>
<span class="linenos">12475</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12476</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12477</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">12478</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12479</span><span class="p">}</span>
<span class="linenos">12480</span>
<span class="linenos">12481</span><span class="c1">// --- algo.Smallstr32..Print</span>
<span class="linenos">12482</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">12483</span><span class="c1">// cfmt:algo.Smallstr32.String  printfmt:Raw</span>
<span class="linenos">12484</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr32_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12485</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">12486</span><span class="p">}</span>
<span class="linenos">12487</span>
<span class="linenos">12488</span><span class="c1">// --- algo.Smallstr4.ch.Print</span>
<span class="linenos">12489</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12490</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">12491</span><span class="p">}</span>
<span class="linenos">12492</span>
<span class="linenos">12493</span><span class="c1">// --- algo.Smallstr4.ch.ReadStrptrMaybe</span>
<span class="linenos">12494</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">12495</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12496</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">12497</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12498</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12499</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12500</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12501</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 4&quot;</span><span class="p">);</span>
<span class="linenos">12502</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12503</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12504</span><span class="p">}</span>
<span class="linenos">12505</span>
<span class="linenos">12506</span><span class="c1">// --- algo.Smallstr4.ch.SetStrptr</span>
<span class="linenos">12507</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">12508</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">12509</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">12510</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12511</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="linenos">12512</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">12513</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12514</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12515</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12516</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">12517</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12518</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">n_ch</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">u8</span><span class="p">(</span><span class="n">len</span><span class="p">);</span>
<span class="linenos">12519</span><span class="p">}</span>
<span class="linenos">12520</span>
<span class="linenos">12521</span><span class="c1">// --- algo.Smallstr4..Hash</span>
<span class="linenos">12522</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr4_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr4</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12523</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12524</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">12525</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">12526</span><span class="p">}</span>
<span class="linenos">12527</span>
<span class="linenos">12528</span><span class="c1">// --- algo.Smallstr4..ReadStrptrMaybe</span>
<span class="linenos">12529</span><span class="c1">// Read fields of algo::Smallstr4 from an ascii string.</span>
<span class="linenos">12530</span><span class="c1">// The format of the string is the format of the algo::Smallstr4&#39;s only field</span>
<span class="linenos">12531</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr4_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr4</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12532</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12533</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">12534</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12535</span><span class="p">}</span>
<span class="linenos">12536</span>
<span class="linenos">12537</span><span class="c1">// --- algo.Smallstr4..Print</span>
<span class="linenos">12538</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">12539</span><span class="c1">// cfmt:algo.Smallstr4.String  printfmt:Raw</span>
<span class="linenos">12540</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr4_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12541</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">12542</span><span class="p">}</span>
<span class="linenos">12543</span>
<span class="linenos">12544</span><span class="c1">// --- algo.Smallstr40.ch.Print</span>
<span class="linenos">12545</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr40</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12546</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">12547</span><span class="p">}</span>
<span class="linenos">12548</span>
<span class="linenos">12549</span><span class="c1">// --- algo.Smallstr40.ch.ReadStrptrMaybe</span>
<span class="linenos">12550</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">12551</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr40</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12552</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">12553</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">40</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12554</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12555</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12556</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12557</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 40&quot;</span><span class="p">);</span>
<span class="linenos">12558</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12559</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12560</span><span class="p">}</span>
<span class="linenos">12561</span>
<span class="linenos">12562</span><span class="c1">// --- algo.Smallstr40.ch.SetStrptr</span>
<span class="linenos">12563</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">12564</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">12565</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">12566</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr40</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12567</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">);</span>
<span class="linenos">12568</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">12569</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12570</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12571</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12572</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">12573</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12574</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">n_ch</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">u8</span><span class="p">(</span><span class="n">len</span><span class="p">);</span>
<span class="linenos">12575</span><span class="p">}</span>
<span class="linenos">12576</span>
<span class="linenos">12577</span><span class="c1">// --- algo.Smallstr40..Hash</span>
<span class="linenos">12578</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr40_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr40</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12579</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12580</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">12581</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">12582</span><span class="p">}</span>
<span class="linenos">12583</span>
<span class="linenos">12584</span><span class="c1">// --- algo.Smallstr40..ReadStrptrMaybe</span>
<span class="linenos">12585</span><span class="c1">// Read fields of algo::Smallstr40 from an ascii string.</span>
<span class="linenos">12586</span><span class="c1">// The format of the string is the format of the algo::Smallstr40&#39;s only field</span>
<span class="linenos">12587</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr40_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr40</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12588</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12589</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">12590</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12591</span><span class="p">}</span>
<span class="linenos">12592</span>
<span class="linenos">12593</span><span class="c1">// --- algo.Smallstr40..Print</span>
<span class="linenos">12594</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">12595</span><span class="c1">// cfmt:algo.Smallstr40.String  printfmt:Raw</span>
<span class="linenos">12596</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr40_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr40</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12597</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">12598</span><span class="p">}</span>
<span class="linenos">12599</span>
<span class="linenos">12600</span><span class="c1">// --- algo.Smallstr5.ch.Print</span>
<span class="linenos">12601</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12602</span><span class="w">    </span><span class="n">ch_Addary</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">parent</span><span class="p">));</span>
<span class="linenos">12603</span><span class="p">}</span>
<span class="linenos">12604</span>
<span class="linenos">12605</span><span class="c1">// --- algo.Smallstr5.ch.ReadStrptrMaybe</span>
<span class="linenos">12606</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">12607</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12608</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">12609</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12610</span><span class="w">        </span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12611</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12612</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12613</span><span class="w">        </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="s">&quot;comment&quot;</span><span class="p">,</span><span class="s">&quot;text too long, limit 5&quot;</span><span class="p">);</span>
<span class="linenos">12614</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12615</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12616</span><span class="p">}</span>
<span class="linenos">12617</span>
<span class="linenos">12618</span><span class="c1">// --- algo.Smallstr5.ch.SetStrptr</span>
<span class="linenos">12619</span><span class="c1">// Copy from strptr, clipping length</span>
<span class="linenos">12620</span><span class="c1">// Set string to the value provided by RHS.</span>
<span class="linenos">12621</span><span class="c1">// If RHS is too large, it is silently clipped.</span>
<span class="linenos">12622</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12623</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Min</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="linenos">12624</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">rhs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">12625</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12626</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">12627</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12628</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs_elems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">12629</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12630</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">n_ch</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">u8</span><span class="p">(</span><span class="n">len</span><span class="p">);</span>
<span class="linenos">12631</span><span class="p">}</span>
<span class="linenos">12632</span>
<span class="linenos">12633</span><span class="c1">// --- algo.Smallstr5..Hash</span>
<span class="linenos">12634</span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr5_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr5</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12635</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">ch_strptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_Getary</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12636</span><span class="w">    </span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">ch_strptr</span><span class="p">);</span>
<span class="linenos">12637</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="linenos">12638</span><span class="p">}</span>
<span class="linenos">12639</span>
<span class="linenos">12640</span><span class="c1">// --- algo.Smallstr5..ReadStrptrMaybe</span>
<span class="linenos">12641</span><span class="c1">// Read fields of algo::Smallstr5 from an ascii string.</span>
<span class="linenos">12642</span><span class="c1">// The format of the string is the format of the algo::Smallstr5&#39;s only field</span>
<span class="linenos">12643</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr5_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr5</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12644</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12645</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ch_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">12646</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12647</span><span class="p">}</span>
<span class="linenos">12648</span>
<span class="linenos">12649</span><span class="c1">// --- algo.Smallstr5..Print</span>
<span class="linenos">12650</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">12651</span><span class="c1">// cfmt:algo.Smallstr5.String  printfmt:Raw</span>
<span class="linenos">12652</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr5_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12653</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">12654</span><span class="p">}</span>
<span class="linenos">12655</span>
<span class="linenos">12656</span><span class="c1">// --- algo.StringAry.ary.Addary</span>
<span class="linenos">12657</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">12658</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">12659</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">12660</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_Addary</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12661</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">overlaps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="o">&gt;</span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_max</span><span class="p">;</span>
<span class="linenos">12662</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">UNLIKELY</span><span class="p">(</span><span class="n">overlaps</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12663</span><span class="w">        </span><span class="n">FatalErrorExit</span><span class="p">(</span><span class="s">&quot;algo.tary_alias  field:algo.StringAry.ary  comment:&#39;alias error: sub-array is being appended to the whole&#39;&quot;</span><span class="p">);</span>
<span class="linenos">12664</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12665</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nnew</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">12666</span><span class="w">    </span><span class="n">ary_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="p">);</span><span class="w"> </span><span class="c1">// reserve space</span>
<span class="linenos">12667</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">12668</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">nnew</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12669</span><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="p">(</span><span class="n">rhs</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="linenos">12670</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">12671</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12672</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="p">);</span>
<span class="linenos">12673</span><span class="p">}</span>
<span class="linenos">12674</span>
<span class="linenos">12675</span><span class="c1">// --- algo.StringAry.ary.Alloc</span>
<span class="linenos">12676</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">12677</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">12678</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_Alloc</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12679</span><span class="w">    </span><span class="n">ary_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">12680</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">12681</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<span class="linenos">12682</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">;</span>
<span class="linenos">12683</span><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="p">();</span><span class="w"> </span><span class="c1">// construct new element, default initializer</span>
<span class="linenos">12684</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">12685</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">elems</span><span class="p">[</span><span class="n">at</span><span class="p">];</span>
<span class="linenos">12686</span><span class="p">}</span>
<span class="linenos">12687</span>
<span class="linenos">12688</span><span class="c1">// --- algo.StringAry.ary.AllocAt</span>
<span class="linenos">12689</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">12690</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">12691</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_AllocAt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12692</span><span class="w">    </span><span class="n">ary_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">12693</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">12694</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">UNLIKELY</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12695</span><span class="w">        </span><span class="n">FatalErrorExit</span><span class="p">(</span><span class="s">&quot;algo.bad_alloc_at  field:algo.StringAry.ary  comment:&#39;index out of range&#39;&quot;</span><span class="p">);</span>
<span class="linenos">12696</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12697</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">;</span>
<span class="linenos">12698</span><span class="w">    </span><span class="n">memmove</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="p">));</span>
<span class="linenos">12699</span><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="p">();</span><span class="w"> </span><span class="c1">// construct element, default initializer</span>
<span class="linenos">12700</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">12701</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">elems</span><span class="p">[</span><span class="n">at</span><span class="p">];</span>
<span class="linenos">12702</span><span class="p">}</span>
<span class="linenos">12703</span>
<span class="linenos">12704</span><span class="c1">// --- algo.StringAry.ary.AllocN</span>
<span class="linenos">12705</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">12706</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_AllocN</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12707</span><span class="w">    </span><span class="n">ary_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos">12708</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">old_n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">12709</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">new_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old_n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">12710</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">;</span>
<span class="linenos">12711</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old_n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">new_n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12712</span><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="p">();</span><span class="w"> </span><span class="c1">// construct new element, default initialize</span>
<span class="linenos">12713</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12714</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_n</span><span class="p">;</span>
<span class="linenos">12715</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">old_n</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos">12716</span><span class="p">}</span>
<span class="linenos">12717</span>
<span class="linenos">12718</span><span class="c1">// --- algo.StringAry.ary.Remove</span>
<span class="linenos">12719</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">12720</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_Remove</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12721</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">lim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">12722</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">;</span>
<span class="linenos">12723</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">lim</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12724</span><span class="w">        </span><span class="n">elems</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="o">~</span><span class="n">cstring</span><span class="p">();</span><span class="w"> </span><span class="c1">// destroy element</span>
<span class="linenos">12725</span><span class="w">        </span><span class="n">memmove</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">lim</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)));</span>
<span class="linenos">12726</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lim</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">12727</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12728</span><span class="p">}</span>
<span class="linenos">12729</span>
<span class="linenos">12730</span><span class="c1">// --- algo.StringAry.ary.RemoveAll</span>
<span class="linenos">12731</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_RemoveAll</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12732</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">12733</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12734</span><span class="w">        </span><span class="n">n</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">12735</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">[</span><span class="n">n</span><span class="p">].</span><span class="o">~</span><span class="n">cstring</span><span class="p">();</span>
<span class="linenos">12736</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<span class="linenos">12737</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12738</span><span class="p">}</span>
<span class="linenos">12739</span>
<span class="linenos">12740</span><span class="c1">// --- algo.StringAry.ary.RemoveLast</span>
<span class="linenos">12741</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">12742</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_RemoveLast</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12743</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">12744</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12745</span><span class="w">        </span><span class="n">n</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">12746</span><span class="w">        </span><span class="n">ary_qFind</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="n">n</span><span class="p">)).</span><span class="o">~</span><span class="n">cstring</span><span class="p">();</span>
<span class="linenos">12747</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<span class="linenos">12748</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12749</span><span class="p">}</span>
<span class="linenos">12750</span>
<span class="linenos">12751</span><span class="c1">// --- algo.StringAry.ary.AbsReserve</span>
<span class="linenos">12752</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">12753</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_AbsReserve</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12754</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">old_max</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_max</span><span class="p">;</span>
<span class="linenos">12755</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">i32</span><span class="p">(</span><span class="n">old_max</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12756</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">new_max</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Max</span><span class="p">(</span><span class="n">i32_Max</span><span class="p">(</span><span class="n">old_max</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">),</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="linenos">12757</span><span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">new_mem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">malloc_ReallocMem</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">,</span><span class="w"> </span><span class="n">old_max</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="p">),</span><span class="w"> </span><span class="n">new_max</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="p">));</span>
<span class="linenos">12758</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">UNLIKELY</span><span class="p">(</span><span class="o">!</span><span class="n">new_mem</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12759</span><span class="w">            </span><span class="n">FatalErrorExit</span><span class="p">(</span><span class="s">&quot;algo.tary_nomem  field:algo.StringAry.ary  comment:&#39;out of memory&#39;&quot;</span><span class="p">);</span>
<span class="linenos">12760</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">12761</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="p">)</span><span class="n">new_mem</span><span class="p">;</span>
<span class="linenos">12762</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_max</span><span class="p">;</span>
<span class="linenos">12763</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12764</span><span class="p">}</span>
<span class="linenos">12765</span>
<span class="linenos">12766</span><span class="c1">// --- algo.StringAry.ary.Setary</span>
<span class="linenos">12767</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">12768</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_Setary</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12769</span><span class="w">    </span><span class="n">ary_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">12770</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nnew</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">12771</span><span class="w">    </span><span class="n">ary_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="p">);</span><span class="w"> </span><span class="c1">// reserve space</span>
<span class="linenos">12772</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">nnew</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// copy elements over</span>
<span class="linenos">12773</span><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="p">(</span><span class="n">ary_qFind</span><span class="p">(</span><span class="n">rhs</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">));</span>
<span class="linenos">12774</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">12775</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12776</span><span class="p">}</span>
<span class="linenos">12777</span>
<span class="linenos">12778</span><span class="c1">// --- algo.StringAry.ary.Setary2</span>
<span class="linenos">12779</span><span class="c1">// Copy specified array into ary, discarding previous contents.</span>
<span class="linenos">12780</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">12781</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_Setary</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12782</span><span class="w">    </span><span class="n">ary_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">12783</span><span class="w">    </span><span class="n">ary_Addary</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12784</span><span class="p">}</span>
<span class="linenos">12785</span>
<span class="linenos">12786</span><span class="c1">// --- algo.StringAry.ary.AllocNVal</span>
<span class="linenos">12787</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">12788</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_AllocNVal</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12789</span><span class="w">    </span><span class="n">ary_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos">12790</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">old_n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">12791</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">new_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old_n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">12792</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">;</span>
<span class="linenos">12793</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old_n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">new_n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12794</span><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos">12795</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12796</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_n</span><span class="p">;</span>
<span class="linenos">12797</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">old_n</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos">12798</span><span class="p">}</span>
<span class="linenos">12799</span>
<span class="linenos">12800</span><span class="c1">// --- algo.StringAry.ary.ReadStrptrMaybe</span>
<span class="linenos">12801</span><span class="c1">// A single element is read from input string and appended to the array.</span>
<span class="linenos">12802</span><span class="c1">// If the string contains an error, the array is untouched.</span>
<span class="linenos">12803</span><span class="c1">// Function returns success value.</span>
<span class="linenos">12804</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12805</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12806</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">elem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ary_Alloc</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">12807</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring_ReadStrptrMaybe</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">12808</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12809</span><span class="w">        </span><span class="n">ary_RemoveLast</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">12810</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12811</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12812</span><span class="p">}</span>
<span class="linenos">12813</span>
<span class="linenos">12814</span><span class="c1">// --- algo.StringAry..ReadStrptrMaybe</span>
<span class="linenos">12815</span><span class="c1">// Read fields of algo::StringAry from an ascii string.</span>
<span class="linenos">12816</span><span class="c1">// The format of the string is the format of the algo::StringAry&#39;s only field</span>
<span class="linenos">12817</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12818</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12819</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ary_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">12820</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12821</span><span class="p">}</span>
<span class="linenos">12822</span>
<span class="linenos">12823</span><span class="c1">// --- algo.StringAry..Uninit</span>
<span class="linenos">12824</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry_Uninit</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12825</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">;</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">row</span><span class="p">;</span>
<span class="linenos">12826</span>
<span class="linenos">12827</span><span class="w">    </span><span class="c1">// algo.StringAry.ary.Uninit (Tary)  //</span>
<span class="linenos">12828</span><span class="w">    </span><span class="c1">// remove all elements from algo.StringAry.ary</span>
<span class="linenos">12829</span><span class="w">    </span><span class="n">ary_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">12830</span><span class="w">    </span><span class="c1">// free memory for Tary algo.StringAry.ary</span>
<span class="linenos">12831</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">malloc_FreeMem</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="p">)</span><span class="o">*</span><span class="n">parent</span><span class="p">.</span><span class="n">ary_max</span><span class="p">);</span><span class="w"> </span><span class="c1">// (algo.StringAry.ary)</span>
<span class="linenos">12832</span><span class="p">}</span>
<span class="linenos">12833</span>
<span class="linenos">12834</span><span class="c1">// --- algo.StringAry..Print</span>
<span class="linenos">12835</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">12836</span><span class="c1">// cfmt:algo.StringAry.String  printfmt:Raw</span>
<span class="linenos">12837</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12838</span><span class="w">    </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">row</span><span class="p">;</span><span class="c1">//only to avoid -Wunused-parameter</span>
<span class="linenos">12839</span><span class="w">    </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">str</span><span class="p">;</span><span class="c1">//only to avoid -Wunused-parameter</span>
<span class="linenos">12840</span><span class="p">}</span>
<span class="linenos">12841</span>
<span class="linenos">12842</span><span class="c1">// --- algo.TermStyle.value.ToCstr</span>
<span class="linenos">12843</span><span class="c1">// Convert numeric value of field to one of predefined string constants.</span>
<span class="linenos">12844</span><span class="c1">// If string is found, return a static C string. Otherwise, return NULL.</span>
<span class="linenos">12845</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ToCstr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TermStyle</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12846</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="linenos">12847</span><span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">value_GetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12848</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_TermStyle_default</span><span class="w">        </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;default&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12849</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_TermStyle_red</span><span class="w">            </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;red&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12850</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_TermStyle_green</span><span class="w">          </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;green&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12851</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_TermStyle_blue</span><span class="w">           </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;blue&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12852</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_TermStyle_bold</span><span class="w">           </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;bold&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12853</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12854</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="linenos">12855</span><span class="p">}</span>
<span class="linenos">12856</span>
<span class="linenos">12857</span><span class="c1">// --- algo.TermStyle.value.Print</span>
<span class="linenos">12858</span><span class="c1">// Convert value to a string. First, attempt conversion to a known string.</span>
<span class="linenos">12859</span><span class="c1">// If no string matches, print value as a numeric value.</span>
<span class="linenos">12860</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TermStyle</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12861</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">strval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value_ToCstr</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">12862</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12863</span><span class="w">        </span><span class="n">lhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">strval</span><span class="p">;</span>
<span class="linenos">12864</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12865</span><span class="w">        </span><span class="n">lhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">12866</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12867</span><span class="p">}</span>
<span class="linenos">12868</span>
<span class="linenos">12869</span><span class="c1">// --- algo.TermStyle.value.SetStrptrMaybe</span>
<span class="linenos">12870</span><span class="c1">// Convert string to field.</span>
<span class="linenos">12871</span><span class="c1">// If the string is invalid, do not modify field and return false.</span>
<span class="linenos">12872</span><span class="c1">// In case of success, return true</span>
<span class="linenos">12873</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">TermStyle</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12874</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">12875</span><span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">rhs</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12876</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">3</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12877</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE16</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">rhs</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">&lt;&lt;</span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12878</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR3</span><span class="p">(</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;d&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12879</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_TermStyle_red</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12880</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">12881</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">12882</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12883</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">12884</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">4</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12885</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12886</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR4</span><span class="p">(</span><span class="sc">&#39;b&#39;</span><span class="p">,</span><span class="sc">&#39;l&#39;</span><span class="p">,</span><span class="sc">&#39;u&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12887</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_TermStyle_blue</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12888</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">12889</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR4</span><span class="p">(</span><span class="sc">&#39;b&#39;</span><span class="p">,</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;l&#39;</span><span class="p">,</span><span class="sc">&#39;d&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12890</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_TermStyle_bold</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12891</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">12892</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">12893</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12894</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">12895</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">5</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12896</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">rhs</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span><span class="o">&lt;&lt;</span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12897</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR5</span><span class="p">(</span><span class="sc">&#39;g&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;n&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12898</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_TermStyle_green</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12899</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">12900</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">12901</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12902</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">12903</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">7</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12904</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE16</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="o">+</span><span class="mi">4</span><span class="p">))</span><span class="o">&lt;&lt;</span><span class="mi">32</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">rhs</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span><span class="o">&lt;&lt;</span><span class="mi">48</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12905</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR7</span><span class="p">(</span><span class="sc">&#39;d&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;f&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;u&#39;</span><span class="p">,</span><span class="sc">&#39;l&#39;</span><span class="p">,</span><span class="sc">&#39;t&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12906</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_TermStyle_default</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12907</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">12908</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">12909</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12910</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">12911</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12912</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="linenos">12913</span><span class="p">}</span>
<span class="linenos">12914</span>
<span class="linenos">12915</span><span class="c1">// --- algo.TermStyle.value.SetStrptr</span>
<span class="linenos">12916</span><span class="c1">// Convert string to field.</span>
<span class="linenos">12917</span><span class="c1">// If the string is invalid, set numeric value to DFLT</span>
<span class="linenos">12918</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">TermStyle</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">,</span><span class="w"> </span><span class="n">algo_TermStyleEnum</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12919</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">rhs</span><span class="p">))</span><span class="w"> </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">dflt</span><span class="p">);</span>
<span class="linenos">12920</span><span class="p">}</span>
<span class="linenos">12921</span>
<span class="linenos">12922</span><span class="c1">// --- algo.TermStyle.value.ReadStrptrMaybe</span>
<span class="linenos">12923</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">12924</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">TermStyle</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12925</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">12926</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">rhs</span><span class="p">);</span><span class="w"> </span><span class="c1">// try symbol conversion</span>
<span class="linenos">12927</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// didn&#39;t work? try reading as underlying type</span>
<span class="linenos">12928</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">12929</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12930</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12931</span><span class="p">}</span>
<span class="linenos">12932</span>
<span class="linenos">12933</span><span class="c1">// --- algo.TermStyle..ReadStrptrMaybe</span>
<span class="linenos">12934</span><span class="c1">// Read fields of algo::TermStyle from an ascii string.</span>
<span class="linenos">12935</span><span class="c1">// The format of the string is the format of the algo::TermStyle&#39;s only field</span>
<span class="linenos">12936</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TermStyle_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">TermStyle</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12937</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">12938</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">12939</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">12940</span><span class="p">}</span>
<span class="linenos">12941</span>
<span class="linenos">12942</span><span class="c1">// --- algo.TermStyle..Print</span>
<span class="linenos">12943</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">12944</span><span class="c1">// cfmt:algo.TermStyle.String  printfmt:Raw</span>
<span class="linenos">12945</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TermStyle_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">TermStyle</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12946</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">12947</span><span class="p">}</span>
<span class="linenos">12948</span>
<span class="linenos">12949</span><span class="c1">// --- algo.TextJust.value.ToCstr</span>
<span class="linenos">12950</span><span class="c1">// Convert numeric value of field to one of predefined string constants.</span>
<span class="linenos">12951</span><span class="c1">// If string is found, return a static C string. Otherwise, return NULL.</span>
<span class="linenos">12952</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ToCstr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TextJust</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12953</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="linenos">12954</span><span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">value_GetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12955</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_TextJust_j_right</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;j_right&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12956</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_TextJust_j_left</span><span class="w">          </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;j_left&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12957</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">algo_TextJust_j_center</span><span class="w">        </span><span class="p">:</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;j_center&quot;</span><span class="p">;</span><span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12958</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12959</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="linenos">12960</span><span class="p">}</span>
<span class="linenos">12961</span>
<span class="linenos">12962</span><span class="c1">// --- algo.TextJust.value.Print</span>
<span class="linenos">12963</span><span class="c1">// Convert value to a string. First, attempt conversion to a known string.</span>
<span class="linenos">12964</span><span class="c1">// If no string matches, print value as a numeric value.</span>
<span class="linenos">12965</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TextJust</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12966</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">strval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value_ToCstr</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">12967</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12968</span><span class="w">        </span><span class="n">lhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">strval</span><span class="p">;</span>
<span class="linenos">12969</span><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12970</span><span class="w">        </span><span class="n">lhs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">12971</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">12972</span><span class="p">}</span>
<span class="linenos">12973</span>
<span class="linenos">12974</span><span class="c1">// --- algo.TextJust.value.SetStrptrMaybe</span>
<span class="linenos">12975</span><span class="c1">// Convert string to field.</span>
<span class="linenos">12976</span><span class="c1">// If the string is invalid, do not modify field and return false.</span>
<span class="linenos">12977</span><span class="c1">// In case of success, return true</span>
<span class="linenos">12978</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">TextJust</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12979</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">12980</span><span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">elems_N</span><span class="p">(</span><span class="n">rhs</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12981</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">6</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12982</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE16</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="o">+</span><span class="mi">4</span><span class="p">))</span><span class="o">&lt;&lt;</span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12983</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR6</span><span class="p">(</span><span class="sc">&#39;j&#39;</span><span class="p">,</span><span class="sc">&#39;_&#39;</span><span class="p">,</span><span class="sc">&#39;l&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;f&#39;</span><span class="p">,</span><span class="sc">&#39;t&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12984</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_TextJust_j_left</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12985</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">12986</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">12987</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12988</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">12989</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">7</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12990</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE16</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="o">+</span><span class="mi">4</span><span class="p">))</span><span class="o">&lt;&lt;</span><span class="mi">32</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">rhs</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span><span class="o">&lt;&lt;</span><span class="mi">48</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12991</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR7</span><span class="p">(</span><span class="sc">&#39;j&#39;</span><span class="p">,</span><span class="sc">&#39;_&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">,</span><span class="sc">&#39;i&#39;</span><span class="p">,</span><span class="sc">&#39;g&#39;</span><span class="p">,</span><span class="sc">&#39;h&#39;</span><span class="p">,</span><span class="sc">&#39;t&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12992</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_TextJust_j_right</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12993</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">12994</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">12995</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">12996</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">12997</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">8</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12998</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE64</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12999</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="no">LE_STR8</span><span class="p">(</span><span class="sc">&#39;j&#39;</span><span class="p">,</span><span class="sc">&#39;_&#39;</span><span class="p">,</span><span class="sc">&#39;c&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;n&#39;</span><span class="p">,</span><span class="sc">&#39;t&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">):</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13000</span><span class="w">                    </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">algo_TextJust_j_center</span><span class="p">);</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">13001</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">13002</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">13003</span><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="linenos">13004</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">13005</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13006</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="linenos">13007</span><span class="p">}</span>
<span class="linenos">13008</span>
<span class="linenos">13009</span><span class="c1">// --- algo.TextJust.value.SetStrptr</span>
<span class="linenos">13010</span><span class="c1">// Convert string to field.</span>
<span class="linenos">13011</span><span class="c1">// If the string is invalid, set numeric value to DFLT</span>
<span class="linenos">13012</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">TextJust</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">,</span><span class="w"> </span><span class="n">algo_TextJustEnum</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13013</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">rhs</span><span class="p">))</span><span class="w"> </span><span class="n">value_SetEnum</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">dflt</span><span class="p">);</span>
<span class="linenos">13014</span><span class="p">}</span>
<span class="linenos">13015</span>
<span class="linenos">13016</span><span class="c1">// --- algo.TextJust.value.ReadStrptrMaybe</span>
<span class="linenos">13017</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">13018</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">TextJust</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13019</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">13020</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">rhs</span><span class="p">);</span><span class="w"> </span><span class="c1">// try symbol conversion</span>
<span class="linenos">13021</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// didn&#39;t work? try reading as underlying type</span>
<span class="linenos">13022</span><span class="w">        </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i32_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">13023</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13024</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">13025</span><span class="p">}</span>
<span class="linenos">13026</span>
<span class="linenos">13027</span><span class="c1">// --- algo.TextJust..ReadStrptrMaybe</span>
<span class="linenos">13028</span><span class="c1">// Read fields of algo::TextJust from an ascii string.</span>
<span class="linenos">13029</span><span class="c1">// The format of the string is the format of the algo::TextJust&#39;s only field</span>
<span class="linenos">13030</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TextJust_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">TextJust</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13031</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">13032</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">13033</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">13034</span><span class="p">}</span>
<span class="linenos">13035</span>
<span class="linenos">13036</span><span class="c1">// --- algo.TextJust..Print</span>
<span class="linenos">13037</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">13038</span><span class="c1">// cfmt:algo.TextJust.String  printfmt:Raw</span>
<span class="linenos">13039</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TextJust_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">TextJust</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13040</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">13041</span><span class="p">}</span>
<span class="linenos">13042</span>
<span class="linenos">13043</span><span class="c1">// --- algo.TstampCache..Init</span>
<span class="linenos">13044</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">13045</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TstampCache_Init</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">TstampCache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13046</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">sec_location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i8</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="linenos">13047</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">min_location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i8</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="linenos">13048</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">nano_location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i8</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="linenos">13049</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">nano_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i8</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="linenos">13050</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">cacheable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">bool</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
<span class="linenos">13051</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">gmtQ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">bool</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
<span class="linenos">13052</span><span class="p">}</span>
<span class="linenos">13053</span>
<span class="linenos">13054</span><span class="c1">// --- algo.Tuple.attrs.Addary</span>
<span class="linenos">13055</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">13056</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">13057</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">13058</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">attrs_Addary</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13059</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">overlaps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="o">&gt;</span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_max</span><span class="p">;</span>
<span class="linenos">13060</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">UNLIKELY</span><span class="p">(</span><span class="n">overlaps</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13061</span><span class="w">        </span><span class="n">FatalErrorExit</span><span class="p">(</span><span class="s">&quot;algo.tary_alias  field:algo.Tuple.attrs  comment:&#39;alias error: sub-array is being appended to the whole&#39;&quot;</span><span class="p">);</span>
<span class="linenos">13062</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13063</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nnew</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">13064</span><span class="w">    </span><span class="n">attrs_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="p">);</span><span class="w"> </span><span class="c1">// reserve space</span>
<span class="linenos">13065</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_n</span><span class="p">;</span>
<span class="linenos">13066</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">nnew</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13067</span><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="p">(</span><span class="n">rhs</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="linenos">13068</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_n</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13069</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13070</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="o">&gt;</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="p">);</span>
<span class="linenos">13071</span><span class="p">}</span>
<span class="linenos">13072</span>
<span class="linenos">13073</span><span class="c1">// --- algo.Tuple.attrs.Alloc</span>
<span class="linenos">13074</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">13075</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">13076</span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">attrs_Alloc</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13077</span><span class="w">    </span><span class="n">attrs_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">13078</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_n</span><span class="p">;</span>
<span class="linenos">13079</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<span class="linenos">13080</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_elems</span><span class="p">;</span>
<span class="linenos">13081</span><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="p">();</span><span class="w"> </span><span class="c1">// construct new element, default initializer</span>
<span class="linenos">13082</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">13083</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">elems</span><span class="p">[</span><span class="n">at</span><span class="p">];</span>
<span class="linenos">13084</span><span class="p">}</span>
<span class="linenos">13085</span>
<span class="linenos">13086</span><span class="c1">// --- algo.Tuple.attrs.AllocAt</span>
<span class="linenos">13087</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">13088</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">13089</span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">attrs_AllocAt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13090</span><span class="w">    </span><span class="n">attrs_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">13091</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_n</span><span class="p">;</span>
<span class="linenos">13092</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">UNLIKELY</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13093</span><span class="w">        </span><span class="n">FatalErrorExit</span><span class="p">(</span><span class="s">&quot;algo.bad_alloc_at  field:algo.Tuple.attrs  comment:&#39;index out of range&#39;&quot;</span><span class="p">);</span>
<span class="linenos">13094</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13095</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_elems</span><span class="p">;</span>
<span class="linenos">13096</span><span class="w">    </span><span class="n">memmove</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="p">));</span>
<span class="linenos">13097</span><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="p">();</span><span class="w"> </span><span class="c1">// construct element, default initializer</span>
<span class="linenos">13098</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">13099</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">elems</span><span class="p">[</span><span class="n">at</span><span class="p">];</span>
<span class="linenos">13100</span><span class="p">}</span>
<span class="linenos">13101</span>
<span class="linenos">13102</span><span class="c1">// --- algo.Tuple.attrs.AllocN</span>
<span class="linenos">13103</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">13104</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">attrs_AllocN</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13105</span><span class="w">    </span><span class="n">attrs_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos">13106</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">old_n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_n</span><span class="p">;</span>
<span class="linenos">13107</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">new_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old_n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">13108</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_elems</span><span class="p">;</span>
<span class="linenos">13109</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old_n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">new_n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13110</span><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="p">();</span><span class="w"> </span><span class="c1">// construct new element, default initialize</span>
<span class="linenos">13111</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13112</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_n</span><span class="p">;</span>
<span class="linenos">13113</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="o">&gt;</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">old_n</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos">13114</span><span class="p">}</span>
<span class="linenos">13115</span>
<span class="linenos">13116</span><span class="c1">// --- algo.Tuple.attrs.Remove</span>
<span class="linenos">13117</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">13118</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">attrs_Remove</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13119</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">lim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_n</span><span class="p">;</span>
<span class="linenos">13120</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_elems</span><span class="p">;</span>
<span class="linenos">13121</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">lim</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13122</span><span class="w">        </span><span class="n">elems</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="o">~</span><span class="n">Attr</span><span class="p">();</span><span class="w"> </span><span class="c1">// destroy element</span>
<span class="linenos">13123</span><span class="w">        </span><span class="n">memmove</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">lim</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)));</span>
<span class="linenos">13124</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lim</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">13125</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13126</span><span class="p">}</span>
<span class="linenos">13127</span>
<span class="linenos">13128</span><span class="c1">// --- algo.Tuple.attrs.RemoveAll</span>
<span class="linenos">13129</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">attrs_RemoveAll</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13130</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_n</span><span class="p">;</span>
<span class="linenos">13131</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13132</span><span class="w">        </span><span class="n">n</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">13133</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_elems</span><span class="p">[</span><span class="n">n</span><span class="p">].</span><span class="o">~</span><span class="n">Attr</span><span class="p">();</span>
<span class="linenos">13134</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<span class="linenos">13135</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13136</span><span class="p">}</span>
<span class="linenos">13137</span>
<span class="linenos">13138</span><span class="c1">// --- algo.Tuple.attrs.RemoveLast</span>
<span class="linenos">13139</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">13140</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">attrs_RemoveLast</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13141</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_n</span><span class="p">;</span>
<span class="linenos">13142</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13143</span><span class="w">        </span><span class="n">n</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">13144</span><span class="w">        </span><span class="n">attrs_qFind</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="n">n</span><span class="p">)).</span><span class="o">~</span><span class="n">Attr</span><span class="p">();</span>
<span class="linenos">13145</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<span class="linenos">13146</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13147</span><span class="p">}</span>
<span class="linenos">13148</span>
<span class="linenos">13149</span><span class="c1">// --- algo.Tuple.attrs.AbsReserve</span>
<span class="linenos">13150</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">13151</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">attrs_AbsReserve</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13152</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">old_max</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_max</span><span class="p">;</span>
<span class="linenos">13153</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">i32</span><span class="p">(</span><span class="n">old_max</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13154</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">new_max</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Max</span><span class="p">(</span><span class="n">i32_Max</span><span class="p">(</span><span class="n">old_max</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">),</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="linenos">13155</span><span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">new_mem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">malloc_ReallocMem</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_elems</span><span class="p">,</span><span class="w"> </span><span class="n">old_max</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="p">),</span><span class="w"> </span><span class="n">new_max</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="p">));</span>
<span class="linenos">13156</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">UNLIKELY</span><span class="p">(</span><span class="o">!</span><span class="n">new_mem</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13157</span><span class="w">            </span><span class="n">FatalErrorExit</span><span class="p">(</span><span class="s">&quot;algo.tary_nomem  field:algo.Tuple.attrs  comment:&#39;out of memory&#39;&quot;</span><span class="p">);</span>
<span class="linenos">13158</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">13159</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="o">*</span><span class="p">)</span><span class="n">new_mem</span><span class="p">;</span>
<span class="linenos">13160</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_max</span><span class="p">;</span>
<span class="linenos">13161</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13162</span><span class="p">}</span>
<span class="linenos">13163</span>
<span class="linenos">13164</span><span class="c1">// --- algo.Tuple.attrs.Setary</span>
<span class="linenos">13165</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">13166</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">attrs_Setary</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13167</span><span class="w">    </span><span class="n">attrs_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">13168</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nnew</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">attrs_n</span><span class="p">;</span>
<span class="linenos">13169</span><span class="w">    </span><span class="n">attrs_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="p">);</span><span class="w"> </span><span class="c1">// reserve space</span>
<span class="linenos">13170</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">nnew</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// copy elements over</span>
<span class="linenos">13171</span><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="p">(</span><span class="n">attrs_qFind</span><span class="p">(</span><span class="n">rhs</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">));</span>
<span class="linenos">13172</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">13173</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13174</span><span class="p">}</span>
<span class="linenos">13175</span>
<span class="linenos">13176</span><span class="c1">// --- algo.Tuple.attrs.Setary2</span>
<span class="linenos">13177</span><span class="c1">// Copy specified array into attrs, discarding previous contents.</span>
<span class="linenos">13178</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">13179</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">attrs_Setary</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13180</span><span class="w">    </span><span class="n">attrs_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">13181</span><span class="w">    </span><span class="n">attrs_Addary</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">13182</span><span class="p">}</span>
<span class="linenos">13183</span>
<span class="linenos">13184</span><span class="c1">// --- algo.Tuple.attrs.AllocNVal</span>
<span class="linenos">13185</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">13186</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">attrs_AllocNVal</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13187</span><span class="w">    </span><span class="n">attrs_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos">13188</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">old_n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_n</span><span class="p">;</span>
<span class="linenos">13189</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">new_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old_n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">13190</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_elems</span><span class="p">;</span>
<span class="linenos">13191</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old_n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">new_n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13192</span><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos">13193</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13194</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_n</span><span class="p">;</span>
<span class="linenos">13195</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="o">&gt;</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">old_n</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos">13196</span><span class="p">}</span>
<span class="linenos">13197</span>
<span class="linenos">13198</span><span class="c1">// --- algo.Tuple.attrs.ReadStrptrMaybe</span>
<span class="linenos">13199</span><span class="c1">// A single element is read from input string and appended to the array.</span>
<span class="linenos">13200</span><span class="c1">// If the string contains an error, the array is untouched.</span>
<span class="linenos">13201</span><span class="c1">// Function returns success value.</span>
<span class="linenos">13202</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">attrs_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13203</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">13204</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">elem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">attrs_Alloc</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">13205</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Attr_ReadStrptrMaybe</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">13206</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13207</span><span class="w">        </span><span class="n">attrs_RemoveLast</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">13208</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13209</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">13210</span><span class="p">}</span>
<span class="linenos">13211</span>
<span class="linenos">13212</span><span class="c1">// --- algo.Tuple..Uninit</span>
<span class="linenos">13213</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple_Uninit</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13214</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">;</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">row</span><span class="p">;</span>
<span class="linenos">13215</span>
<span class="linenos">13216</span><span class="w">    </span><span class="c1">// algo.Tuple.attrs.Uninit (Tary)  //Array of attributes</span>
<span class="linenos">13217</span><span class="w">    </span><span class="c1">// remove all elements from algo.Tuple.attrs</span>
<span class="linenos">13218</span><span class="w">    </span><span class="n">attrs_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">13219</span><span class="w">    </span><span class="c1">// free memory for Tary algo.Tuple.attrs</span>
<span class="linenos">13220</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">malloc_FreeMem</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_elems</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="p">)</span><span class="o">*</span><span class="n">parent</span><span class="p">.</span><span class="n">attrs_max</span><span class="p">);</span><span class="w"> </span><span class="c1">// (algo.Tuple.attrs)</span>
<span class="linenos">13221</span><span class="p">}</span>
<span class="linenos">13222</span>
<span class="linenos">13223</span><span class="c1">// --- algo.U16Dec2.value.SetDoubleMaybe</span>
<span class="linenos">13224</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos">13225</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos">13226</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U16Dec2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13227</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="linenos">13228</span><span class="w">    </span><span class="n">u16</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u16</span><span class="p">(</span><span class="mi">0ULL</span><span class="p">);</span>
<span class="linenos">13229</span><span class="w">    </span><span class="n">u16</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u16</span><span class="p">(</span><span class="mi">65535ULL</span><span class="p">);</span>
<span class="linenos">13230</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos">13231</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos">13232</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13233</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos">13234</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos">13235</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13236</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">13237</span><span class="p">}</span>
<span class="linenos">13238</span>
<span class="linenos">13239</span><span class="c1">// --- algo.U16Dec2.value.ReadStrptrMaybe</span>
<span class="linenos">13240</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U16Dec2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13241</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13242</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">13243</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos">13244</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13245</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos">13246</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13247</span><span class="w">    </span><span class="p">};</span>
<span class="linenos">13248</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos">13249</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13250</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos">13251</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos">13252</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos">13253</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13254</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos">13255</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13256</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos">13257</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13258</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13259</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 2&#39;th</span>
<span class="linenos">13260</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos">13261</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13262</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">13263</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13264</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">13265</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13266</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos">13267</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">13268</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13269</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos">13270</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">13271</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13272</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">13273</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13274</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13275</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13276</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">!</span><span class="n">neg</span><span class="p">;</span>
<span class="linenos">13277</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13278</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos">13279</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13280</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos">13281</span><span class="p">}</span>
<span class="linenos">13282</span>
<span class="linenos">13283</span><span class="c1">// --- algo.U16Dec2.value.Print</span>
<span class="linenos">13284</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U16Dec2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13285</span><span class="w">    </span><span class="n">u16</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">13286</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos">13287</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos">13288</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos">13289</span><span class="p">}</span>
<span class="linenos">13290</span>
<span class="linenos">13291</span><span class="c1">// --- algo.U16Dec2..ReadStrptrMaybe</span>
<span class="linenos">13292</span><span class="c1">// Read fields of algo::U16Dec2 from an ascii string.</span>
<span class="linenos">13293</span><span class="c1">// The format of the string is the format of the algo::U16Dec2&#39;s only field</span>
<span class="linenos">13294</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U16Dec2_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U16Dec2</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13295</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">13296</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">13297</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">13298</span><span class="p">}</span>
<span class="linenos">13299</span>
<span class="linenos">13300</span><span class="c1">// --- algo.U16Dec2..Print</span>
<span class="linenos">13301</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">13302</span><span class="c1">// cfmt:algo.U16Dec2.String  printfmt:Raw</span>
<span class="linenos">13303</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U16Dec2_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U16Dec2</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13304</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">13305</span><span class="p">}</span>
<span class="linenos">13306</span>
<span class="linenos">13307</span><span class="c1">// --- algo.U32Dec1.value.SetDoubleMaybe</span>
<span class="linenos">13308</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos">13309</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos">13310</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec1</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13311</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">13312</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="mi">0ULL</span><span class="p">);</span>
<span class="linenos">13313</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="mi">4294967295ULL</span><span class="p">);</span>
<span class="linenos">13314</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos">13315</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos">13316</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13317</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos">13318</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos">13319</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13320</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">13321</span><span class="p">}</span>
<span class="linenos">13322</span>
<span class="linenos">13323</span><span class="c1">// --- algo.U32Dec1.value.ReadStrptrMaybe</span>
<span class="linenos">13324</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec1</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13325</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13326</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">13327</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos">13328</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13329</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos">13330</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13331</span><span class="w">    </span><span class="p">};</span>
<span class="linenos">13332</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos">13333</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13334</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos">13335</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos">13336</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos">13337</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13338</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos">13339</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13340</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos">13341</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13342</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13343</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 1&#39;th</span>
<span class="linenos">13344</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos">13345</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13346</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">13347</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13348</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">13349</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13350</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos">13351</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">13352</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13353</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos">13354</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">13355</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13356</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">13357</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13358</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13359</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13360</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">!</span><span class="n">neg</span><span class="p">;</span>
<span class="linenos">13361</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13362</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos">13363</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13364</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos">13365</span><span class="p">}</span>
<span class="linenos">13366</span>
<span class="linenos">13367</span><span class="c1">// --- algo.U32Dec1.value.Print</span>
<span class="linenos">13368</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec1</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13369</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">13370</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos">13371</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos">13372</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos">13373</span><span class="p">}</span>
<span class="linenos">13374</span>
<span class="linenos">13375</span><span class="c1">// --- algo.U32Dec1..ReadStrptrMaybe</span>
<span class="linenos">13376</span><span class="c1">// Read fields of algo::U32Dec1 from an ascii string.</span>
<span class="linenos">13377</span><span class="c1">// The format of the string is the format of the algo::U32Dec1&#39;s only field</span>
<span class="linenos">13378</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec1_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec1</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13379</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">13380</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">13381</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">13382</span><span class="p">}</span>
<span class="linenos">13383</span>
<span class="linenos">13384</span><span class="c1">// --- algo.U32Dec1..Print</span>
<span class="linenos">13385</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">13386</span><span class="c1">// cfmt:algo.U32Dec1.String  printfmt:Raw</span>
<span class="linenos">13387</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec1_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec1</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13388</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">13389</span><span class="p">}</span>
<span class="linenos">13390</span>
<span class="linenos">13391</span><span class="c1">// --- algo.U32Dec2.value.SetDoubleMaybe</span>
<span class="linenos">13392</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos">13393</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos">13394</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13395</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="linenos">13396</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="mi">0ULL</span><span class="p">);</span>
<span class="linenos">13397</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="mi">4294967295ULL</span><span class="p">);</span>
<span class="linenos">13398</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos">13399</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos">13400</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13401</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos">13402</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos">13403</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13404</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">13405</span><span class="p">}</span>
<span class="linenos">13406</span>
<span class="linenos">13407</span><span class="c1">// --- algo.U32Dec2.value.ReadStrptrMaybe</span>
<span class="linenos">13408</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13409</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13410</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">13411</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos">13412</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13413</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos">13414</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13415</span><span class="w">    </span><span class="p">};</span>
<span class="linenos">13416</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos">13417</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13418</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos">13419</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos">13420</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos">13421</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13422</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos">13423</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13424</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos">13425</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13426</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13427</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 2&#39;th</span>
<span class="linenos">13428</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos">13429</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13430</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">13431</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13432</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">13433</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13434</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos">13435</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">13436</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13437</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos">13438</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">13439</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13440</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">13441</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13442</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13443</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13444</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">!</span><span class="n">neg</span><span class="p">;</span>
<span class="linenos">13445</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13446</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos">13447</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13448</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos">13449</span><span class="p">}</span>
<span class="linenos">13450</span>
<span class="linenos">13451</span><span class="c1">// --- algo.U32Dec2.value.Print</span>
<span class="linenos">13452</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13453</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">13454</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos">13455</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos">13456</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos">13457</span><span class="p">}</span>
<span class="linenos">13458</span>
<span class="linenos">13459</span><span class="c1">// --- algo.U32Dec2..ReadStrptrMaybe</span>
<span class="linenos">13460</span><span class="c1">// Read fields of algo::U32Dec2 from an ascii string.</span>
<span class="linenos">13461</span><span class="c1">// The format of the string is the format of the algo::U32Dec2&#39;s only field</span>
<span class="linenos">13462</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec2_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec2</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13463</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">13464</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">13465</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">13466</span><span class="p">}</span>
<span class="linenos">13467</span>
<span class="linenos">13468</span><span class="c1">// --- algo.U32Dec2..Print</span>
<span class="linenos">13469</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">13470</span><span class="c1">// cfmt:algo.U32Dec2.String  printfmt:Raw</span>
<span class="linenos">13471</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec2_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec2</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13472</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">13473</span><span class="p">}</span>
<span class="linenos">13474</span>
<span class="linenos">13475</span><span class="c1">// --- algo.U32Dec3.value.SetDoubleMaybe</span>
<span class="linenos">13476</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos">13477</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos">13478</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13479</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span>
<span class="linenos">13480</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="mi">0ULL</span><span class="p">);</span>
<span class="linenos">13481</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="mi">4294967295ULL</span><span class="p">);</span>
<span class="linenos">13482</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos">13483</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos">13484</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13485</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos">13486</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos">13487</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13488</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">13489</span><span class="p">}</span>
<span class="linenos">13490</span>
<span class="linenos">13491</span><span class="c1">// --- algo.U32Dec3.value.ReadStrptrMaybe</span>
<span class="linenos">13492</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13493</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13494</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">13495</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos">13496</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13497</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos">13498</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13499</span><span class="w">    </span><span class="p">};</span>
<span class="linenos">13500</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos">13501</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13502</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos">13503</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos">13504</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos">13505</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13506</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos">13507</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13508</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos">13509</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13510</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13511</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 3&#39;th</span>
<span class="linenos">13512</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos">13513</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13514</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">13515</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13516</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">13517</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13518</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos">13519</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">13520</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13521</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos">13522</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">13523</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13524</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">13525</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13526</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13527</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13528</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">!</span><span class="n">neg</span><span class="p">;</span>
<span class="linenos">13529</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13530</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos">13531</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13532</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos">13533</span><span class="p">}</span>
<span class="linenos">13534</span>
<span class="linenos">13535</span><span class="c1">// --- algo.U32Dec3.value.Print</span>
<span class="linenos">13536</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13537</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">13538</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos">13539</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos">13540</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos">13541</span><span class="p">}</span>
<span class="linenos">13542</span>
<span class="linenos">13543</span><span class="c1">// --- algo.U32Dec3..ReadStrptrMaybe</span>
<span class="linenos">13544</span><span class="c1">// Read fields of algo::U32Dec3 from an ascii string.</span>
<span class="linenos">13545</span><span class="c1">// The format of the string is the format of the algo::U32Dec3&#39;s only field</span>
<span class="linenos">13546</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec3_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec3</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13547</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">13548</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">13549</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">13550</span><span class="p">}</span>
<span class="linenos">13551</span>
<span class="linenos">13552</span><span class="c1">// --- algo.U32Dec3..Print</span>
<span class="linenos">13553</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">13554</span><span class="c1">// cfmt:algo.U32Dec3.String  printfmt:Raw</span>
<span class="linenos">13555</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec3_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec3</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13556</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">13557</span><span class="p">}</span>
<span class="linenos">13558</span>
<span class="linenos">13559</span><span class="c1">// --- algo.U32Dec4.value.SetDoubleMaybe</span>
<span class="linenos">13560</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos">13561</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos">13562</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13563</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10000</span><span class="p">;</span>
<span class="linenos">13564</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="mi">0ULL</span><span class="p">);</span>
<span class="linenos">13565</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="mi">4294967295ULL</span><span class="p">);</span>
<span class="linenos">13566</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos">13567</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos">13568</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13569</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos">13570</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos">13571</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13572</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">13573</span><span class="p">}</span>
<span class="linenos">13574</span>
<span class="linenos">13575</span><span class="c1">// --- algo.U32Dec4.value.ReadStrptrMaybe</span>
<span class="linenos">13576</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13577</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13578</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">13579</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos">13580</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13581</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos">13582</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13583</span><span class="w">    </span><span class="p">};</span>
<span class="linenos">13584</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos">13585</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13586</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos">13587</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos">13588</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos">13589</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13590</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos">13591</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13592</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos">13593</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13594</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13595</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 4&#39;th</span>
<span class="linenos">13596</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos">13597</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13598</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">13599</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13600</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">13601</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13602</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos">13603</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">13604</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13605</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos">13606</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">13607</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13608</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">13609</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13610</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13611</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13612</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">!</span><span class="n">neg</span><span class="p">;</span>
<span class="linenos">13613</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13614</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos">13615</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13616</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos">13617</span><span class="p">}</span>
<span class="linenos">13618</span>
<span class="linenos">13619</span><span class="c1">// --- algo.U32Dec4.value.Print</span>
<span class="linenos">13620</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13621</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">13622</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos">13623</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos">13624</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos">13625</span><span class="p">}</span>
<span class="linenos">13626</span>
<span class="linenos">13627</span><span class="c1">// --- algo.U32Dec4..ReadStrptrMaybe</span>
<span class="linenos">13628</span><span class="c1">// Read fields of algo::U32Dec4 from an ascii string.</span>
<span class="linenos">13629</span><span class="c1">// The format of the string is the format of the algo::U32Dec4&#39;s only field</span>
<span class="linenos">13630</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec4_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec4</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13631</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">13632</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">13633</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">13634</span><span class="p">}</span>
<span class="linenos">13635</span>
<span class="linenos">13636</span><span class="c1">// --- algo.U32Dec4..Print</span>
<span class="linenos">13637</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">13638</span><span class="c1">// cfmt:algo.U32Dec4.String  printfmt:Raw</span>
<span class="linenos">13639</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec4_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec4</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13640</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">13641</span><span class="p">}</span>
<span class="linenos">13642</span>
<span class="linenos">13643</span><span class="c1">// --- algo.U32Dec5.value.SetDoubleMaybe</span>
<span class="linenos">13644</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos">13645</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos">13646</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13647</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100000</span><span class="p">;</span>
<span class="linenos">13648</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="mi">0ULL</span><span class="p">);</span>
<span class="linenos">13649</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u32</span><span class="p">(</span><span class="mi">4294967295ULL</span><span class="p">);</span>
<span class="linenos">13650</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos">13651</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos">13652</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13653</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos">13654</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos">13655</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13656</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">13657</span><span class="p">}</span>
<span class="linenos">13658</span>
<span class="linenos">13659</span><span class="c1">// --- algo.U32Dec5.value.ReadStrptrMaybe</span>
<span class="linenos">13660</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13661</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13662</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">13663</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos">13664</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13665</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos">13666</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13667</span><span class="w">    </span><span class="p">};</span>
<span class="linenos">13668</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos">13669</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13670</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos">13671</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos">13672</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos">13673</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13674</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos">13675</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13676</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos">13677</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13678</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13679</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 5&#39;th</span>
<span class="linenos">13680</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos">13681</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13682</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">13683</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13684</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">13685</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13686</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos">13687</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">13688</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13689</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos">13690</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">13691</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13692</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">13693</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13694</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13695</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13696</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">!</span><span class="n">neg</span><span class="p">;</span>
<span class="linenos">13697</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13698</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos">13699</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13700</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos">13701</span><span class="p">}</span>
<span class="linenos">13702</span>
<span class="linenos">13703</span><span class="c1">// --- algo.U32Dec5.value.Print</span>
<span class="linenos">13704</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13705</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">13706</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos">13707</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos">13708</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos">13709</span><span class="p">}</span>
<span class="linenos">13710</span>
<span class="linenos">13711</span><span class="c1">// --- algo.U32Dec5..ReadStrptrMaybe</span>
<span class="linenos">13712</span><span class="c1">// Read fields of algo::U32Dec5 from an ascii string.</span>
<span class="linenos">13713</span><span class="c1">// The format of the string is the format of the algo::U32Dec5&#39;s only field</span>
<span class="linenos">13714</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec5_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec5</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13715</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">13716</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">13717</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">13718</span><span class="p">}</span>
<span class="linenos">13719</span>
<span class="linenos">13720</span><span class="c1">// --- algo.U32Dec5..Print</span>
<span class="linenos">13721</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">13722</span><span class="c1">// cfmt:algo.U32Dec5.String  printfmt:Raw</span>
<span class="linenos">13723</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec5_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec5</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13724</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">13725</span><span class="p">}</span>
<span class="linenos">13726</span>
<span class="linenos">13727</span><span class="c1">// --- algo.U64Ary.ary.Addary</span>
<span class="linenos">13728</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">13729</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">13730</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">13731</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">u64</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_Addary</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Ary</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">u64</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13732</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">overlaps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="o">&gt;</span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_max</span><span class="p">;</span>
<span class="linenos">13733</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">UNLIKELY</span><span class="p">(</span><span class="n">overlaps</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13734</span><span class="w">        </span><span class="n">FatalErrorExit</span><span class="p">(</span><span class="s">&quot;algo.tary_alias  field:algo.U64Ary.ary  comment:&#39;alias error: sub-array is being appended to the whole&#39;&quot;</span><span class="p">);</span>
<span class="linenos">13735</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13736</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nnew</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">13737</span><span class="w">    </span><span class="n">ary_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="p">);</span><span class="w"> </span><span class="c1">// reserve space</span>
<span class="linenos">13738</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">13739</span><span class="w">    </span><span class="n">memcpy</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">elems</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">u64</span><span class="p">));</span>
<span class="linenos">13740</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">nnew</span><span class="p">;</span>
<span class="linenos">13741</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">u64</span><span class="o">&gt;</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="p">);</span>
<span class="linenos">13742</span><span class="p">}</span>
<span class="linenos">13743</span>
<span class="linenos">13744</span><span class="c1">// --- algo.U64Ary.ary.Alloc</span>
<span class="linenos">13745</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">13746</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">13747</span><span class="n">u64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_Alloc</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Ary</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13748</span><span class="w">    </span><span class="n">ary_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">13749</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">13750</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<span class="linenos">13751</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">;</span>
<span class="linenos">13752</span><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">// construct new element, default initializer</span>
<span class="linenos">13753</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">13754</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">elems</span><span class="p">[</span><span class="n">at</span><span class="p">];</span>
<span class="linenos">13755</span><span class="p">}</span>
<span class="linenos">13756</span>
<span class="linenos">13757</span><span class="c1">// --- algo.U64Ary.ary.AllocAt</span>
<span class="linenos">13758</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">13759</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">13760</span><span class="n">u64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_AllocAt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Ary</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13761</span><span class="w">    </span><span class="n">ary_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">13762</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">13763</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">UNLIKELY</span><span class="p">(</span><span class="n">u64</span><span class="p">(</span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13764</span><span class="w">        </span><span class="n">FatalErrorExit</span><span class="p">(</span><span class="s">&quot;algo.bad_alloc_at  field:algo.U64Ary.ary  comment:&#39;index out of range&#39;&quot;</span><span class="p">);</span>
<span class="linenos">13765</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13766</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">;</span>
<span class="linenos">13767</span><span class="w">    </span><span class="n">memmove</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">u64</span><span class="p">));</span>
<span class="linenos">13768</span><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">// construct element, default initializer</span>
<span class="linenos">13769</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">13770</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">elems</span><span class="p">[</span><span class="n">at</span><span class="p">];</span>
<span class="linenos">13771</span><span class="p">}</span>
<span class="linenos">13772</span>
<span class="linenos">13773</span><span class="c1">// --- algo.U64Ary.ary.AllocN</span>
<span class="linenos">13774</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">13775</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">u64</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_AllocN</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Ary</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13776</span><span class="w">    </span><span class="n">ary_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos">13777</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">old_n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">13778</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">new_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old_n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">13779</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">;</span>
<span class="linenos">13780</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old_n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">new_n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13781</span><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">// construct new element, default initialize</span>
<span class="linenos">13782</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13783</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_n</span><span class="p">;</span>
<span class="linenos">13784</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">u64</span><span class="o">&gt;</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">old_n</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos">13785</span><span class="p">}</span>
<span class="linenos">13786</span>
<span class="linenos">13787</span><span class="c1">// --- algo.U64Ary.ary.Remove</span>
<span class="linenos">13788</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">13789</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_Remove</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Ary</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13790</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">lim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">13791</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">;</span>
<span class="linenos">13792</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">lim</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13793</span><span class="w">        </span><span class="n">memmove</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">u64</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">lim</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)));</span>
<span class="linenos">13794</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lim</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">13795</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13796</span><span class="p">}</span>
<span class="linenos">13797</span>
<span class="linenos">13798</span><span class="c1">// --- algo.U64Ary.ary.RemoveLast</span>
<span class="linenos">13799</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">13800</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_RemoveLast</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Ary</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13801</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">13802</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13803</span><span class="w">        </span><span class="n">n</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">13804</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<span class="linenos">13805</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13806</span><span class="p">}</span>
<span class="linenos">13807</span>
<span class="linenos">13808</span><span class="c1">// --- algo.U64Ary.ary.AbsReserve</span>
<span class="linenos">13809</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">13810</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_AbsReserve</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Ary</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13811</span><span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">old_max</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_max</span><span class="p">;</span>
<span class="linenos">13812</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">i32</span><span class="p">(</span><span class="n">old_max</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13813</span><span class="w">        </span><span class="n">u32</span><span class="w"> </span><span class="n">new_max</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">i32_Max</span><span class="p">(</span><span class="n">i32_Max</span><span class="p">(</span><span class="n">old_max</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">),</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="linenos">13814</span><span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">new_mem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">malloc_ReallocMem</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">,</span><span class="w"> </span><span class="n">old_max</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">u64</span><span class="p">),</span><span class="w"> </span><span class="n">new_max</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">u64</span><span class="p">));</span>
<span class="linenos">13815</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">UNLIKELY</span><span class="p">(</span><span class="o">!</span><span class="n">new_mem</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13816</span><span class="w">            </span><span class="n">FatalErrorExit</span><span class="p">(</span><span class="s">&quot;algo.tary_nomem  field:algo.U64Ary.ary  comment:&#39;out of memory&#39;&quot;</span><span class="p">);</span>
<span class="linenos">13817</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">13818</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u64</span><span class="o">*</span><span class="p">)</span><span class="n">new_mem</span><span class="p">;</span>
<span class="linenos">13819</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_max</span><span class="p">;</span>
<span class="linenos">13820</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13821</span><span class="p">}</span>
<span class="linenos">13822</span>
<span class="linenos">13823</span><span class="c1">// --- algo.U64Ary.ary.Setary</span>
<span class="linenos">13824</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">13825</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_Setary</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Ary</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U64Ary</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13826</span><span class="w">    </span><span class="n">ary_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">13827</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nnew</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">13828</span><span class="w">    </span><span class="n">ary_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">nnew</span><span class="p">);</span><span class="w"> </span><span class="c1">// reserve space</span>
<span class="linenos">13829</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">nnew</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// copy elements over</span>
<span class="linenos">13830</span><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="n">ary_qFind</span><span class="p">(</span><span class="n">rhs</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">));</span>
<span class="linenos">13831</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">13832</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13833</span><span class="p">}</span>
<span class="linenos">13834</span>
<span class="linenos">13835</span><span class="c1">// --- algo.U64Ary.ary.Setary2</span>
<span class="linenos">13836</span><span class="c1">// Copy specified array into ary, discarding previous contents.</span>
<span class="linenos">13837</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">13838</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_Setary</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Ary</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">u64</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13839</span><span class="w">    </span><span class="n">ary_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">13840</span><span class="w">    </span><span class="n">ary_Addary</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span>
<span class="linenos">13841</span><span class="p">}</span>
<span class="linenos">13842</span>
<span class="linenos">13843</span><span class="c1">// --- algo.U64Ary.ary.AllocNVal</span>
<span class="linenos">13844</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">13845</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">u64</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_AllocNVal</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Ary</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">u64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13846</span><span class="w">    </span><span class="n">ary_Reserve</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos">13847</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">old_n</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="p">;</span>
<span class="linenos">13848</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">new_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old_n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">13849</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="o">*</span><span class="n">elems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">;</span>
<span class="linenos">13850</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">old_n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">new_n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13851</span><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="linenos">13852</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13853</span><span class="w">    </span><span class="n">parent</span><span class="p">.</span><span class="n">ary_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_n</span><span class="p">;</span>
<span class="linenos">13854</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">u64</span><span class="o">&gt;</span><span class="p">(</span><span class="n">elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">old_n</span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">);</span>
<span class="linenos">13855</span><span class="p">}</span>
<span class="linenos">13856</span>
<span class="linenos">13857</span><span class="c1">// --- algo.U64Ary.ary.ReadStrptrMaybe</span>
<span class="linenos">13858</span><span class="c1">// A single element is read from input string and appended to the array.</span>
<span class="linenos">13859</span><span class="c1">// If the string contains an error, the array is untouched.</span>
<span class="linenos">13860</span><span class="c1">// Function returns success value.</span>
<span class="linenos">13861</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ary_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Ary</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13862</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">13863</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="o">&amp;</span><span class="n">elem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ary_Alloc</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">13864</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u64_ReadStrptrMaybe</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">13865</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13866</span><span class="w">        </span><span class="n">ary_RemoveLast</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">13867</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13868</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">13869</span><span class="p">}</span>
<span class="linenos">13870</span>
<span class="linenos">13871</span><span class="c1">// --- algo.U64Ary..Uninit</span>
<span class="linenos">13872</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U64Ary_Uninit</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Ary</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13873</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">U64Ary</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">;</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">row</span><span class="p">;</span>
<span class="linenos">13874</span>
<span class="linenos">13875</span><span class="w">    </span><span class="c1">// algo.U64Ary.ary.Uninit (Tary)  //Array of u64 values</span>
<span class="linenos">13876</span><span class="w">    </span><span class="c1">// remove all elements from algo.U64Ary.ary</span>
<span class="linenos">13877</span><span class="w">    </span><span class="n">ary_RemoveAll</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">13878</span><span class="w">    </span><span class="c1">// free memory for Tary algo.U64Ary.ary</span>
<span class="linenos">13879</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">malloc_FreeMem</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ary_elems</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">u64</span><span class="p">)</span><span class="o">*</span><span class="n">parent</span><span class="p">.</span><span class="n">ary_max</span><span class="p">);</span><span class="w"> </span><span class="c1">// (algo.U64Ary.ary)</span>
<span class="linenos">13880</span><span class="p">}</span>
<span class="linenos">13881</span>
<span class="linenos">13882</span><span class="c1">// --- algo.U64Dec10.value.SetDoubleMaybe</span>
<span class="linenos">13883</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos">13884</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos">13885</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec10</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13886</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10000000000</span><span class="p">;</span>
<span class="linenos">13887</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">0ULL</span><span class="p">);</span>
<span class="linenos">13888</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">18446744073709551615ULL</span><span class="p">);</span>
<span class="linenos">13889</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos">13890</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos">13891</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13892</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos">13893</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos">13894</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13895</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">13896</span><span class="p">}</span>
<span class="linenos">13897</span>
<span class="linenos">13898</span><span class="c1">// --- algo.U64Dec10.value.ReadStrptrMaybe</span>
<span class="linenos">13899</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec10</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13900</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13901</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">13902</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos">13903</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13904</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos">13905</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13906</span><span class="w">    </span><span class="p">};</span>
<span class="linenos">13907</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos">13908</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13909</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos">13910</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos">13911</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos">13912</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13913</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos">13914</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13915</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos">13916</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13917</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13918</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 10&#39;th</span>
<span class="linenos">13919</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos">13920</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13921</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">13922</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13923</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">13924</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13925</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos">13926</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">13927</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13928</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos">13929</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">13930</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13931</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">13932</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13933</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13934</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">13935</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">!</span><span class="n">neg</span><span class="p">;</span>
<span class="linenos">13936</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13937</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos">13938</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13939</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos">13940</span><span class="p">}</span>
<span class="linenos">13941</span>
<span class="linenos">13942</span><span class="c1">// --- algo.U64Dec10.value.Print</span>
<span class="linenos">13943</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec10</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13944</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">13945</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos">13946</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos">13947</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos">13948</span><span class="p">}</span>
<span class="linenos">13949</span>
<span class="linenos">13950</span><span class="c1">// --- algo.U64Dec10..ReadStrptrMaybe</span>
<span class="linenos">13951</span><span class="c1">// Read fields of algo::U64Dec10 from an ascii string.</span>
<span class="linenos">13952</span><span class="c1">// The format of the string is the format of the algo::U64Dec10&#39;s only field</span>
<span class="linenos">13953</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec10_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec10</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13954</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">13955</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">13956</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">13957</span><span class="p">}</span>
<span class="linenos">13958</span>
<span class="linenos">13959</span><span class="c1">// --- algo.U64Dec10..Print</span>
<span class="linenos">13960</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">13961</span><span class="c1">// cfmt:algo.U64Dec10.String  printfmt:Raw</span>
<span class="linenos">13962</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec10_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec10</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13963</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">13964</span><span class="p">}</span>
<span class="linenos">13965</span>
<span class="linenos">13966</span><span class="c1">// --- algo.U64Dec2.value.SetDoubleMaybe</span>
<span class="linenos">13967</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos">13968</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos">13969</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13970</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="linenos">13971</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">0ULL</span><span class="p">);</span>
<span class="linenos">13972</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">18446744073709551615ULL</span><span class="p">);</span>
<span class="linenos">13973</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos">13974</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos">13975</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13976</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos">13977</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos">13978</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13979</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">13980</span><span class="p">}</span>
<span class="linenos">13981</span>
<span class="linenos">13982</span><span class="c1">// --- algo.U64Dec2.value.ReadStrptrMaybe</span>
<span class="linenos">13983</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13984</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13985</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">13986</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos">13987</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13988</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos">13989</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">13990</span><span class="w">    </span><span class="p">};</span>
<span class="linenos">13991</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos">13992</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">13993</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos">13994</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos">13995</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos">13996</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13997</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos">13998</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13999</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos">14000</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">14001</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14002</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 2&#39;th</span>
<span class="linenos">14003</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos">14004</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14005</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">14006</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">14007</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">14008</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14009</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos">14010</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">14011</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14012</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos">14013</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14014</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14015</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">14016</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">14017</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14018</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14019</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">!</span><span class="n">neg</span><span class="p">;</span>
<span class="linenos">14020</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14021</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos">14022</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14023</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos">14024</span><span class="p">}</span>
<span class="linenos">14025</span>
<span class="linenos">14026</span><span class="c1">// --- algo.U64Dec2.value.Print</span>
<span class="linenos">14027</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec2</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14028</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">14029</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos">14030</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos">14031</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos">14032</span><span class="p">}</span>
<span class="linenos">14033</span>
<span class="linenos">14034</span><span class="c1">// --- algo.U64Dec2..ReadStrptrMaybe</span>
<span class="linenos">14035</span><span class="c1">// Read fields of algo::U64Dec2 from an ascii string.</span>
<span class="linenos">14036</span><span class="c1">// The format of the string is the format of the algo::U64Dec2&#39;s only field</span>
<span class="linenos">14037</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec2_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec2</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14038</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">14039</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">14040</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">14041</span><span class="p">}</span>
<span class="linenos">14042</span>
<span class="linenos">14043</span><span class="c1">// --- algo.U64Dec2..Print</span>
<span class="linenos">14044</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">14045</span><span class="c1">// cfmt:algo.U64Dec2.String  printfmt:Raw</span>
<span class="linenos">14046</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec2_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec2</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14047</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">14048</span><span class="p">}</span>
<span class="linenos">14049</span>
<span class="linenos">14050</span><span class="c1">// --- algo.U64Dec4.value.SetDoubleMaybe</span>
<span class="linenos">14051</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos">14052</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos">14053</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14054</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10000</span><span class="p">;</span>
<span class="linenos">14055</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">0ULL</span><span class="p">);</span>
<span class="linenos">14056</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">18446744073709551615ULL</span><span class="p">);</span>
<span class="linenos">14057</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos">14058</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos">14059</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14060</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos">14061</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos">14062</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14063</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">14064</span><span class="p">}</span>
<span class="linenos">14065</span>
<span class="linenos">14066</span><span class="c1">// --- algo.U64Dec4.value.ReadStrptrMaybe</span>
<span class="linenos">14067</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14068</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">14069</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14070</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos">14071</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14072</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos">14073</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">14074</span><span class="w">    </span><span class="p">};</span>
<span class="linenos">14075</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos">14076</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">14077</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos">14078</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos">14079</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos">14080</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14081</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos">14082</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14083</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos">14084</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">14085</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14086</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 4&#39;th</span>
<span class="linenos">14087</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos">14088</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14089</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">14090</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">14091</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">14092</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14093</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos">14094</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">14095</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14096</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos">14097</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14098</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14099</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">14100</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">14101</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14102</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14103</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">!</span><span class="n">neg</span><span class="p">;</span>
<span class="linenos">14104</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14105</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos">14106</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14107</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos">14108</span><span class="p">}</span>
<span class="linenos">14109</span>
<span class="linenos">14110</span><span class="c1">// --- algo.U64Dec4.value.Print</span>
<span class="linenos">14111</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec4</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14112</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">14113</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos">14114</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos">14115</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos">14116</span><span class="p">}</span>
<span class="linenos">14117</span>
<span class="linenos">14118</span><span class="c1">// --- algo.U64Dec4..ReadStrptrMaybe</span>
<span class="linenos">14119</span><span class="c1">// Read fields of algo::U64Dec4 from an ascii string.</span>
<span class="linenos">14120</span><span class="c1">// The format of the string is the format of the algo::U64Dec4&#39;s only field</span>
<span class="linenos">14121</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec4_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec4</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14122</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">14123</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">14124</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">14125</span><span class="p">}</span>
<span class="linenos">14126</span>
<span class="linenos">14127</span><span class="c1">// --- algo.U64Dec4..Print</span>
<span class="linenos">14128</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">14129</span><span class="c1">// cfmt:algo.U64Dec4.String  printfmt:Raw</span>
<span class="linenos">14130</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec4_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec4</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14131</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">14132</span><span class="p">}</span>
<span class="linenos">14133</span>
<span class="linenos">14134</span><span class="c1">// --- algo.U64Dec5.value.SetDoubleMaybe</span>
<span class="linenos">14135</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos">14136</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos">14137</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14138</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100000</span><span class="p">;</span>
<span class="linenos">14139</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">0ULL</span><span class="p">);</span>
<span class="linenos">14140</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">18446744073709551615ULL</span><span class="p">);</span>
<span class="linenos">14141</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos">14142</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos">14143</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14144</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos">14145</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos">14146</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14147</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">14148</span><span class="p">}</span>
<span class="linenos">14149</span>
<span class="linenos">14150</span><span class="c1">// --- algo.U64Dec5.value.ReadStrptrMaybe</span>
<span class="linenos">14151</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14152</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">14153</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14154</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos">14155</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14156</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos">14157</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">14158</span><span class="w">    </span><span class="p">};</span>
<span class="linenos">14159</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos">14160</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">14161</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos">14162</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos">14163</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos">14164</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14165</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos">14166</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14167</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos">14168</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">14169</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14170</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 5&#39;th</span>
<span class="linenos">14171</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos">14172</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14173</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">14174</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">14175</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">14176</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14177</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos">14178</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">14179</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14180</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos">14181</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14182</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14183</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">14184</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">14185</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14186</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14187</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">!</span><span class="n">neg</span><span class="p">;</span>
<span class="linenos">14188</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14189</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos">14190</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14191</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos">14192</span><span class="p">}</span>
<span class="linenos">14193</span>
<span class="linenos">14194</span><span class="c1">// --- algo.U64Dec5.value.Print</span>
<span class="linenos">14195</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec5</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14196</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">14197</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos">14198</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos">14199</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos">14200</span><span class="p">}</span>
<span class="linenos">14201</span>
<span class="linenos">14202</span><span class="c1">// --- algo.U64Dec5..ReadStrptrMaybe</span>
<span class="linenos">14203</span><span class="c1">// Read fields of algo::U64Dec5 from an ascii string.</span>
<span class="linenos">14204</span><span class="c1">// The format of the string is the format of the algo::U64Dec5&#39;s only field</span>
<span class="linenos">14205</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec5_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec5</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14206</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">14207</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">14208</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">14209</span><span class="p">}</span>
<span class="linenos">14210</span>
<span class="linenos">14211</span><span class="c1">// --- algo.U64Dec5..Print</span>
<span class="linenos">14212</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">14213</span><span class="c1">// cfmt:algo.U64Dec5.String  printfmt:Raw</span>
<span class="linenos">14214</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec5_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec5</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14215</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">14216</span><span class="p">}</span>
<span class="linenos">14217</span>
<span class="linenos">14218</span><span class="c1">// --- algo.U64Dec6.value.SetDoubleMaybe</span>
<span class="linenos">14219</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos">14220</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos">14221</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec6</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14222</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1000000</span><span class="p">;</span>
<span class="linenos">14223</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">0ULL</span><span class="p">);</span>
<span class="linenos">14224</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">18446744073709551615ULL</span><span class="p">);</span>
<span class="linenos">14225</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos">14226</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos">14227</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14228</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos">14229</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos">14230</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14231</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">14232</span><span class="p">}</span>
<span class="linenos">14233</span>
<span class="linenos">14234</span><span class="c1">// --- algo.U64Dec6.value.ReadStrptrMaybe</span>
<span class="linenos">14235</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec6</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14236</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">14237</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14238</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos">14239</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14240</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos">14241</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">14242</span><span class="w">    </span><span class="p">};</span>
<span class="linenos">14243</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos">14244</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">14245</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos">14246</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos">14247</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos">14248</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14249</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos">14250</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14251</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos">14252</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">14253</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14254</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 6&#39;th</span>
<span class="linenos">14255</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos">14256</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14257</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">14258</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">14259</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">14260</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14261</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos">14262</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">14263</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14264</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos">14265</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14266</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14267</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">14268</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">14269</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14270</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14271</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">!</span><span class="n">neg</span><span class="p">;</span>
<span class="linenos">14272</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14273</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos">14274</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14275</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos">14276</span><span class="p">}</span>
<span class="linenos">14277</span>
<span class="linenos">14278</span><span class="c1">// --- algo.U64Dec6.value.Print</span>
<span class="linenos">14279</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec6</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14280</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">14281</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos">14282</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos">14283</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos">14284</span><span class="p">}</span>
<span class="linenos">14285</span>
<span class="linenos">14286</span><span class="c1">// --- algo.U64Dec6..ReadStrptrMaybe</span>
<span class="linenos">14287</span><span class="c1">// Read fields of algo::U64Dec6 from an ascii string.</span>
<span class="linenos">14288</span><span class="c1">// The format of the string is the format of the algo::U64Dec6&#39;s only field</span>
<span class="linenos">14289</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec6_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec6</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14290</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">14291</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">14292</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">14293</span><span class="p">}</span>
<span class="linenos">14294</span>
<span class="linenos">14295</span><span class="c1">// --- algo.U64Dec6..Print</span>
<span class="linenos">14296</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">14297</span><span class="c1">// cfmt:algo.U64Dec6.String  printfmt:Raw</span>
<span class="linenos">14298</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec6_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec6</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14299</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">14300</span><span class="p">}</span>
<span class="linenos">14301</span>
<span class="linenos">14302</span><span class="c1">// --- algo.U64Dec7.value.SetDoubleMaybe</span>
<span class="linenos">14303</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos">14304</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos">14305</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec7</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14306</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10000000</span><span class="p">;</span>
<span class="linenos">14307</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">0ULL</span><span class="p">);</span>
<span class="linenos">14308</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">18446744073709551615ULL</span><span class="p">);</span>
<span class="linenos">14309</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos">14310</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos">14311</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14312</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos">14313</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos">14314</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14315</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">14316</span><span class="p">}</span>
<span class="linenos">14317</span>
<span class="linenos">14318</span><span class="c1">// --- algo.U64Dec7.value.ReadStrptrMaybe</span>
<span class="linenos">14319</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec7</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14320</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">14321</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14322</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos">14323</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14324</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos">14325</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">14326</span><span class="w">    </span><span class="p">};</span>
<span class="linenos">14327</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos">14328</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">14329</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos">14330</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos">14331</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos">14332</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14333</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos">14334</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14335</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos">14336</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">14337</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14338</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 7&#39;th</span>
<span class="linenos">14339</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos">14340</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14341</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">14342</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">14343</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">14344</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14345</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos">14346</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">14347</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14348</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos">14349</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14350</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14351</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">14352</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">14353</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14354</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14355</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">!</span><span class="n">neg</span><span class="p">;</span>
<span class="linenos">14356</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14357</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos">14358</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14359</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos">14360</span><span class="p">}</span>
<span class="linenos">14361</span>
<span class="linenos">14362</span><span class="c1">// --- algo.U64Dec7.value.Print</span>
<span class="linenos">14363</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec7</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14364</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">14365</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos">14366</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos">14367</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos">14368</span><span class="p">}</span>
<span class="linenos">14369</span>
<span class="linenos">14370</span><span class="c1">// --- algo.U64Dec7..ReadStrptrMaybe</span>
<span class="linenos">14371</span><span class="c1">// Read fields of algo::U64Dec7 from an ascii string.</span>
<span class="linenos">14372</span><span class="c1">// The format of the string is the format of the algo::U64Dec7&#39;s only field</span>
<span class="linenos">14373</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec7_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec7</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14374</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">14375</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">14376</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">14377</span><span class="p">}</span>
<span class="linenos">14378</span>
<span class="linenos">14379</span><span class="c1">// --- algo.U64Dec7..Print</span>
<span class="linenos">14380</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">14381</span><span class="c1">// cfmt:algo.U64Dec7.String  printfmt:Raw</span>
<span class="linenos">14382</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec7_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec7</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14383</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">14384</span><span class="p">}</span>
<span class="linenos">14385</span>
<span class="linenos">14386</span><span class="c1">// --- algo.U64Dec8.value.SetDoubleMaybe</span>
<span class="linenos">14387</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos">14388</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos">14389</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec8</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14390</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100000000</span><span class="p">;</span>
<span class="linenos">14391</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">0ULL</span><span class="p">);</span>
<span class="linenos">14392</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">18446744073709551615ULL</span><span class="p">);</span>
<span class="linenos">14393</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos">14394</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos">14395</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14396</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos">14397</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos">14398</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14399</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">14400</span><span class="p">}</span>
<span class="linenos">14401</span>
<span class="linenos">14402</span><span class="c1">// --- algo.U64Dec8.value.ReadStrptrMaybe</span>
<span class="linenos">14403</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec8</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14404</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">14405</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14406</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos">14407</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14408</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos">14409</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">14410</span><span class="w">    </span><span class="p">};</span>
<span class="linenos">14411</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos">14412</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">14413</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos">14414</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos">14415</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos">14416</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14417</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos">14418</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14419</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos">14420</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">14421</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14422</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 8&#39;th</span>
<span class="linenos">14423</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos">14424</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14425</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">14426</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">14427</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">14428</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14429</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos">14430</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">14431</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14432</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos">14433</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14434</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14435</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">14436</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">14437</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14438</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14439</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">!</span><span class="n">neg</span><span class="p">;</span>
<span class="linenos">14440</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14441</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos">14442</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14443</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos">14444</span><span class="p">}</span>
<span class="linenos">14445</span>
<span class="linenos">14446</span><span class="c1">// --- algo.U64Dec8.value.Print</span>
<span class="linenos">14447</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec8</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14448</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">14449</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos">14450</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos">14451</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos">14452</span><span class="p">}</span>
<span class="linenos">14453</span>
<span class="linenos">14454</span><span class="c1">// --- algo.U64Dec8..ReadStrptrMaybe</span>
<span class="linenos">14455</span><span class="c1">// Read fields of algo::U64Dec8 from an ascii string.</span>
<span class="linenos">14456</span><span class="c1">// The format of the string is the format of the algo::U64Dec8&#39;s only field</span>
<span class="linenos">14457</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec8_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec8</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14458</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">14459</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">14460</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">14461</span><span class="p">}</span>
<span class="linenos">14462</span>
<span class="linenos">14463</span><span class="c1">// --- algo.U64Dec8..Print</span>
<span class="linenos">14464</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">14465</span><span class="c1">// cfmt:algo.U64Dec8.String  printfmt:Raw</span>
<span class="linenos">14466</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec8_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec8</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14467</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">14468</span><span class="p">}</span>
<span class="linenos">14469</span>
<span class="linenos">14470</span><span class="c1">// --- algo.U64Dec9.value.SetDoubleMaybe</span>
<span class="linenos">14471</span><span class="c1">// Set value of field value, using rounding.</span>
<span class="linenos">14472</span><span class="c1">// If value is out of range for the target type, return false.</span>
<span class="linenos">14473</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_SetDoubleMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec9</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14474</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1000000000</span><span class="p">;</span>
<span class="linenos">14475</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">minval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">0ULL</span><span class="p">);</span>
<span class="linenos">14476</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">maxval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u64</span><span class="p">(</span><span class="mi">18446744073709551615ULL</span><span class="p">);</span>
<span class="linenos">14477</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">minval</span><span class="p">;</span>
<span class="linenos">14478</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxval</span><span class="p">;</span>
<span class="linenos">14479</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">retval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14480</span><span class="w">        </span><span class="n">intval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">);</span>
<span class="linenos">14481</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intval</span><span class="p">;</span><span class="w"> </span><span class="c1">// set underlying field.</span>
<span class="linenos">14482</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14483</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">14484</span><span class="p">}</span>
<span class="linenos">14485</span>
<span class="linenos">14486</span><span class="c1">// --- algo.U64Dec9.value.ReadStrptrMaybe</span>
<span class="linenos">14487</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec9</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14488</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">14489</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14490</span><span class="w">    </span><span class="c1">// skip leading sign</span>
<span class="linenos">14491</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14492</span><span class="w">        </span><span class="n">neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="linenos">14493</span><span class="w">        </span><span class="n">index</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">14494</span><span class="w">    </span><span class="p">};</span>
<span class="linenos">14495</span><span class="w">    </span><span class="c1">// parse digits</span>
<span class="linenos">14496</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">14497</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of . encountered</span>
<span class="linenos">14498</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">nfrac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// read up to NFRAC digits after .; if not found, fill in</span>
<span class="linenos">14499</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="c1">// overflow or bad char</span>
<span class="linenos">14500</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">n_elems</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14501</span><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">elems</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="linenos">14502</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14503</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">ndot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// max 1 dot</span>
<span class="linenos">14504</span><span class="w">            </span><span class="n">ndot</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">14505</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DigitCharQ</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14506</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ignore digits after 9&#39;th</span>
<span class="linenos">14507</span><span class="w">                </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="linenos">14508</span><span class="w">                </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14509</span><span class="w">                </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">14510</span><span class="w">                </span><span class="n">nfrac</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">ndot</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">14511</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">14512</span><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14513</span><span class="w">            </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// unknown char</span>
<span class="linenos">14514</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">14515</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14516</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">nfrac</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">// insert missing</span>
<span class="linenos">14517</span><span class="w">        </span><span class="n">u64</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="o">*</span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14518</span><span class="w">        </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">newval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14519</span><span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newval</span><span class="p">;</span>
<span class="linenos">14520</span><span class="w">        </span><span class="n">nfrac</span><span class="o">++</span><span class="p">;</span>
<span class="linenos">14521</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14522</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">final_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="linenos">14523</span><span class="w">    </span><span class="n">ok</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">!</span><span class="n">neg</span><span class="p">;</span>
<span class="linenos">14524</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14525</span><span class="w">        </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">final_val</span><span class="p">;</span><span class="c1">// store value</span>
<span class="linenos">14526</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14527</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ok</span><span class="p">;</span>
<span class="linenos">14528</span><span class="p">}</span>
<span class="linenos">14529</span>
<span class="linenos">14530</span><span class="c1">// --- algo.U64Dec9.value.Print</span>
<span class="linenos">14531</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec9</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">outstr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14532</span><span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="linenos">14533</span><span class="w">    </span><span class="n">ch_Reserve</span><span class="p">(</span><span class="n">outstr</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="linenos">14534</span><span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">value_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="o">*</span><span class="p">)(</span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_elems</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="p">);</span>
<span class="linenos">14535</span><span class="w">    </span><span class="n">outstr</span><span class="p">.</span><span class="n">ch_n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="n">value_start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos">14536</span><span class="p">}</span>
<span class="linenos">14537</span>
<span class="linenos">14538</span><span class="c1">// --- algo.U64Dec9..ReadStrptrMaybe</span>
<span class="linenos">14539</span><span class="c1">// Read fields of algo::U64Dec9 from an ascii string.</span>
<span class="linenos">14540</span><span class="c1">// The format of the string is the format of the algo::U64Dec9&#39;s only field</span>
<span class="linenos">14541</span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec9_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec9</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14542</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">14543</span><span class="w">    </span><span class="n">retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">retval</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">in_str</span><span class="p">);</span>
<span class="linenos">14544</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">retval</span><span class="p">;</span>
<span class="linenos">14545</span><span class="p">}</span>
<span class="linenos">14546</span>
<span class="linenos">14547</span><span class="c1">// --- algo.U64Dec9..Print</span>
<span class="linenos">14548</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">14549</span><span class="c1">// cfmt:algo.U64Dec9.String  printfmt:Raw</span>
<span class="linenos">14550</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec9_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec9</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14551</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">value_Print</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span>
<span class="linenos">14552</span><span class="p">}</span>
<span class="linenos">14553</span>
<span class="linenos">14554</span><span class="c1">// --- algo...ForAllStrings</span>
<span class="linenos">14555</span><span class="c1">// Test string conversion</span>
<span class="linenos">14556</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ForAllStrings</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">fcn</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringDesc</span><span class="o">&amp;</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14557</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">StringDesc</span><span class="w"> </span><span class="n">desc</span><span class="p">;</span>
<span class="linenos">14558</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr10_U64.ch</span>
<span class="linenos">14559</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14560</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr10_U64</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14561</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr10_U64</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14562</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr10_U64</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14563</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr10_U64</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14564</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr10_U64.ch&quot;</span><span class="p">;</span>
<span class="linenos">14565</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14566</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14567</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14568</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14569</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14570</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14571</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFFFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14572</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14573</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14574</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14575</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr11_U64.ch</span>
<span class="linenos">14576</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14577</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr11_U64</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14578</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr11_U64</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14579</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr11_U64</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14580</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr11_U64</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14581</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr11_U64.ch&quot;</span><span class="p">;</span>
<span class="linenos">14582</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14583</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14584</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14585</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14586</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14587</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">11</span><span class="p">;</span>
<span class="linenos">14588</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFFFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14589</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14590</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14591</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14592</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr12_U64.ch</span>
<span class="linenos">14593</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14594</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr12_U64</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14595</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr12_U64</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14596</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr12_U64</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14597</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr12_U64</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14598</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr12_U64.ch&quot;</span><span class="p">;</span>
<span class="linenos">14599</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14600</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14601</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14602</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14603</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14604</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">12</span><span class="p">;</span>
<span class="linenos">14605</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFFFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14606</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14607</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14608</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14609</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr13_U64_Base36.ch</span>
<span class="linenos">14610</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14611</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr13_U64_Base36</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14612</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr13_U64_Base36</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14613</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr13_U64_Base36</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14614</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr13_U64_Base36</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14615</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr13_U64_Base36.ch&quot;</span><span class="p">;</span>
<span class="linenos">14616</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14617</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14618</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">36</span><span class="p">;</span>
<span class="linenos">14619</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14620</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14621</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">13</span><span class="p">;</span>
<span class="linenos">14622</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFFFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14623</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14624</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14625</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14626</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr16_U64_Base16.ch</span>
<span class="linenos">14627</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14628</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr16_U64_Base16</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14629</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr16_U64_Base16</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14630</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr16_U64_Base16</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14631</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr16_U64_Base16</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14632</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr16_U64_Base16.ch&quot;</span><span class="p">;</span>
<span class="linenos">14633</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14634</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14635</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span><span class="p">;</span>
<span class="linenos">14636</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14637</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14638</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span><span class="p">;</span>
<span class="linenos">14639</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFFFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14640</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14641</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14642</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14643</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr1_U32.ch</span>
<span class="linenos">14644</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14645</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr1_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14646</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr1_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14647</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr1_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14648</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr1_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14649</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr1_U32.ch&quot;</span><span class="p">;</span>
<span class="linenos">14650</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14651</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14652</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14653</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14654</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14655</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14656</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14657</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14658</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14659</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14660</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr20_U64.ch</span>
<span class="linenos">14661</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14662</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr20_U64</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14663</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr20_U64</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14664</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr20_U64</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14665</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr20_U64</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14666</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr20_U64.ch&quot;</span><span class="p">;</span>
<span class="linenos">14667</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14668</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14669</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14670</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14671</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14672</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
<span class="linenos">14673</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFFFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14674</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14675</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14676</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14677</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr22_U64.ch</span>
<span class="linenos">14678</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14679</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr22_U64</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14680</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr22_U64</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14681</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr22_U64</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14682</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr22_U64</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14683</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr22_U64.ch&quot;</span><span class="p">;</span>
<span class="linenos">14684</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14685</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14686</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14687</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14688</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14689</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">22</span><span class="p">;</span>
<span class="linenos">14690</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFFFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14691</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14692</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14693</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14694</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr2_U32.ch</span>
<span class="linenos">14695</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14696</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr2_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14697</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr2_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14698</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr2_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14699</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr2_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14700</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr2_U32.ch&quot;</span><span class="p">;</span>
<span class="linenos">14701</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14702</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14703</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14704</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14705</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14706</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="linenos">14707</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14708</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14709</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14710</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14711</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr3_U32.ch</span>
<span class="linenos">14712</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14713</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr3_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14714</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr3_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14715</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr3_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14716</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr3_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14717</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr3_U32.ch&quot;</span><span class="p">;</span>
<span class="linenos">14718</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14719</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14720</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14721</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14722</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14723</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="linenos">14724</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14725</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14726</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14727</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14728</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr4_U32.ch</span>
<span class="linenos">14729</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14730</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr4_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14731</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr4_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14732</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr4_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14733</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr4_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14734</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr4_U32.ch&quot;</span><span class="p">;</span>
<span class="linenos">14735</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14736</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14737</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14738</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14739</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14740</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="linenos">14741</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14742</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14743</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14744</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14745</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr5_U32.ch</span>
<span class="linenos">14746</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14747</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14748</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14749</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14750</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14751</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr5_U32.ch&quot;</span><span class="p">;</span>
<span class="linenos">14752</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14753</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14754</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14755</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14756</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14757</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="linenos">14758</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14759</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14760</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14761</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14762</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr5_U32_Base36.ch</span>
<span class="linenos">14763</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14764</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32_Base36</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14765</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32_Base36</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14766</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32_Base36</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14767</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr5_U32_Base36</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14768</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr5_U32_Base36.ch&quot;</span><span class="p">;</span>
<span class="linenos">14769</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14770</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14771</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">36</span><span class="p">;</span>
<span class="linenos">14772</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14773</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14774</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="linenos">14775</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14776</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14777</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14778</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14779</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr6_U32.ch</span>
<span class="linenos">14780</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14781</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr6_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14782</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr6_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14783</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr6_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14784</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr6_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14785</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr6_U32.ch&quot;</span><span class="p">;</span>
<span class="linenos">14786</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14787</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14788</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14789</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14790</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14791</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
<span class="linenos">14792</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14793</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14794</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14795</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14796</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr7_U32.ch</span>
<span class="linenos">14797</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14798</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14799</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14800</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14801</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14802</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr7_U32.ch&quot;</span><span class="p">;</span>
<span class="linenos">14803</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14804</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14805</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14806</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14807</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14808</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span>
<span class="linenos">14809</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14810</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14811</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14812</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14813</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr7_U32_Base36.ch</span>
<span class="linenos">14814</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14815</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32_Base36</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14816</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32_Base36</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14817</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32_Base36</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14818</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr7_U32_Base36</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14819</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr7_U32_Base36.ch&quot;</span><span class="p">;</span>
<span class="linenos">14820</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14821</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14822</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">36</span><span class="p">;</span>
<span class="linenos">14823</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14824</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14825</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span>
<span class="linenos">14826</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14827</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14828</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14829</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14830</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr8_U32.ch</span>
<span class="linenos">14831</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14832</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14833</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14834</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14835</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14836</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr8_U32.ch&quot;</span><span class="p">;</span>
<span class="linenos">14837</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14838</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14839</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14840</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14841</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14842</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span>
<span class="linenos">14843</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14844</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14845</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14846</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14847</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr8_U32_Base16.ch</span>
<span class="linenos">14848</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14849</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32_Base16</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14850</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32_Base16</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14851</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32_Base16</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14852</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U32_Base16</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14853</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr8_U32_Base16.ch&quot;</span><span class="p">;</span>
<span class="linenos">14854</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14855</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14856</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span><span class="p">;</span>
<span class="linenos">14857</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14858</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14859</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span>
<span class="linenos">14860</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14861</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14862</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14863</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14864</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr8_U64.ch</span>
<span class="linenos">14865</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14866</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U64</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14867</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U64</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14868</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U64</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14869</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr8_U64</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14870</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr8_U64.ch&quot;</span><span class="p">;</span>
<span class="linenos">14871</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14872</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14873</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14874</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14875</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14876</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span>
<span class="linenos">14877</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFFFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14878</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14879</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14880</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14881</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr9_U32.ch</span>
<span class="linenos">14882</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14883</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14884</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14885</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14886</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14887</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr9_U32.ch&quot;</span><span class="p">;</span>
<span class="linenos">14888</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14889</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14890</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14891</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14892</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14893</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">9</span><span class="p">;</span>
<span class="linenos">14894</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14895</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14896</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14897</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14898</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LnumStr9_U64.ch</span>
<span class="linenos">14899</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14900</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U64</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14901</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U64</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14902</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U64</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14903</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LnumStr9_U64</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14904</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LnumStr9_U64.ch&quot;</span><span class="p">;</span>
<span class="linenos">14905</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14906</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="linenos">14907</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14908</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14909</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14910</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">9</span><span class="p">;</span>
<span class="linenos">14911</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFFFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14912</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14913</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14914</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14915</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LspaceStr20_I64.ch</span>
<span class="linenos">14916</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14917</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_I64</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14918</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_I64</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14919</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_I64</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14920</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_I64</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14921</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LspaceStr20_I64.ch&quot;</span><span class="p">;</span>
<span class="linenos">14922</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14923</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">14924</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14925</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">14926</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14927</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
<span class="linenos">14928</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mh">0X7FFFFFFFFFFFFFFF</span><span class="p">);</span>
<span class="linenos">14929</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mh">0X8000000000000001</span><span class="p">);</span>
<span class="linenos">14930</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14931</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14932</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LspaceStr20_U64.ch</span>
<span class="linenos">14933</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14934</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_U64</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14935</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_U64</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14936</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_U64</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14937</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr20_U64</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14938</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LspaceStr20_U64.ch&quot;</span><span class="p">;</span>
<span class="linenos">14939</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14940</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">14941</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14942</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14943</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14944</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
<span class="linenos">14945</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFFFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14946</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14947</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14948</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14949</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LspaceStr3_I16.ch</span>
<span class="linenos">14950</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14951</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3_I16</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14952</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3_I16</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14953</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3_I16</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14954</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr3_I16</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14955</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LspaceStr3_I16.ch&quot;</span><span class="p">;</span>
<span class="linenos">14956</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14957</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">14958</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14959</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">14960</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14961</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="linenos">14962</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mh">0X7FFF</span><span class="p">);</span>
<span class="linenos">14963</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mh">0XFFFFFFFFFFFF8000</span><span class="p">);</span>
<span class="linenos">14964</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14965</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14966</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LspaceStr5_I16.ch</span>
<span class="linenos">14967</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14968</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5_I16</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14969</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5_I16</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14970</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5_I16</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14971</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr5_I16</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14972</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LspaceStr5_I16.ch&quot;</span><span class="p">;</span>
<span class="linenos">14973</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14974</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">14975</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14976</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14977</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="linenos">14978</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="linenos">14979</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFF</span><span class="p">;</span>
<span class="linenos">14980</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14981</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14982</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">14983</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LspaceStr6_U32.ch</span>
<span class="linenos">14984</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">14985</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">14986</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">14987</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">14988</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr6_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">14989</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LspaceStr6_U32.ch&quot;</span><span class="p">;</span>
<span class="linenos">14990</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">14991</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">14992</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">14993</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">14994</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">14995</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
<span class="linenos">14996</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFF</span><span class="p">;</span>
<span class="linenos">14997</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">14998</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">14999</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">15000</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.LspaceStr7_I32_Base36.ch</span>
<span class="linenos">15001</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">15002</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr7_I32_Base36</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">15003</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr7_I32_Base36</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">15004</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr7_I32_Base36</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">15005</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LspaceStr7_I32_Base36</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">15006</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.LspaceStr7_I32_Base36.ch&quot;</span><span class="p">;</span>
<span class="linenos">15007</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;leftpad&quot;</span><span class="p">;</span>
<span class="linenos">15008</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="p">;</span>
<span class="linenos">15009</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">36</span><span class="p">;</span>
<span class="linenos">15010</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="linenos">15011</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">15012</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span>
<span class="linenos">15013</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mh">0X7FFFFFFF</span><span class="p">);</span>
<span class="linenos">15014</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="mh">0XFFFFFFFF80000000</span><span class="p">);</span>
<span class="linenos">15015</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">15016</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">15017</span><span class="w">    </span><span class="c1">// fill out descriptor for numstr:algo.RnullStr6_U32.ch</span>
<span class="linenos">15018</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">15019</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Geti64</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">Geti64Fcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="kt">bool</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Geti64</span><span class="p">));</span>
<span class="linenos">15020</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">SetnumMaybe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetnumFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6_U32</span><span class="o">&amp;</span><span class="p">,</span><span class="n">i64</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_SetnumMaybe</span><span class="p">));</span>
<span class="linenos">15021</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Init</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">InitFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Init</span><span class="p">));</span>
<span class="linenos">15022</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">Getary</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">GetaryFcn</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RnullStr6_U32</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch_Getary</span><span class="p">));</span>
<span class="linenos">15023</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">smallstr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;algo.RnullStr6_U32.ch&quot;</span><span class="p">;</span>
<span class="linenos">15024</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">strtype</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;rightpad&quot;</span><span class="p">;</span>
<span class="linenos">15025</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">pad</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">15026</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">base</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="linenos">15027</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">issigned</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="linenos">15028</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">min_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">15029</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">max_length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
<span class="linenos">15030</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0XFFFFFFFF</span><span class="p">;</span>
<span class="linenos">15031</span><span class="w">        </span><span class="n">desc</span><span class="p">.</span><span class="n">numtype_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0X0</span><span class="p">;</span>
<span class="linenos">15032</span><span class="w">        </span><span class="n">fcn</span><span class="p">(</span><span class="n">desc</span><span class="p">);</span><span class="w"> </span><span class="c1">// call test function</span>
<span class="linenos">15033</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">15034</span><span class="p">}</span>
<span class="linenos">15035</span>
<span class="linenos">15036</span><span class="c1">// --- algo...SizeCheck</span>
<span class="linenos">15037</span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SizeCheck</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">15038</span><span class="p">}</span>
<span class="linenos">15039</span>
<span class="linenos">15040</span><span class="c1">// --- algo...StaticCheck</span>
<span class="linenos">15041</span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StaticCheck</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">15042</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ImdbInsertStrptrMaybeFcn</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span><span class="w"> </span><span class="c1">// csize:algo.ImdbInsertStrptrMaybeFcn</span>
<span class="linenos">15043</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ImdbStepFcn</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span><span class="w"> </span><span class="c1">// csize:algo.ImdbStepFcn</span>
<span class="linenos">15044</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ImdbMainLoopFcn</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span><span class="w"> </span><span class="c1">// csize:algo.ImdbMainLoopFcn</span>
<span class="linenos">15045</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ImdbGetTraceFcn</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span><span class="w"> </span><span class="c1">// csize:algo.ImdbGetTraceFcn</span>
<span class="linenos">15046</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ImrowNItemsFcn</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span><span class="w"> </span><span class="c1">// csize:algo.ImrowNItemsFcn</span>
<span class="linenos">15047</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ImrowPrintFcn</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span><span class="w"> </span><span class="c1">// csize:algo.ImrowPrintFcn</span>
<span class="linenos">15048</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ImrowRowidFindFcn</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span><span class="w"> </span><span class="c1">// csize:algo.ImrowRowidFindFcn</span>
<span class="linenos">15049</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ImrowXrefXFcn</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span><span class="w"> </span><span class="c1">// csize:algo.ImrowXrefXFcn</span>
<span class="linenos">15050</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span><span class="w"> </span><span class="c1">// csize:algo.strptr</span>
<span class="linenos">15051</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">PrlogFcn</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span><span class="w"> </span><span class="c1">// csize:algo.PrlogFcn</span>
<span class="linenos">15052</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">memptr</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span><span class="w"> </span><span class="c1">// csize:algo.memptr</span>
<span class="linenos">15053</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="n">_offset_of</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(((</span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="p">));</span>
<span class="linenos">15054</span><span class="w">    </span><span class="c1">// check that bitfield fits width</span>
<span class="linenos">15055</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(((</span><span class="n">algo</span><span class="o">::</span><span class="n">Errcode</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">)</span><span class="o">*</span><span class="mi">8</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">40</span><span class="p">);</span>
<span class="linenos">15056</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="n">_offset_of</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FieldId</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(((</span><span class="n">algo</span><span class="o">::</span><span class="n">FieldId</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FieldId</span><span class="p">));</span>
<span class="linenos">15057</span><span class="w">    </span><span class="c1">// check that bitfield fits width</span>
<span class="linenos">15058</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(((</span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">)</span><span class="o">*</span><span class="mi">8</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="linenos">15059</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="n">_offset_of</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec4</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(((</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec4</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec4</span><span class="p">));</span>
<span class="linenos">15060</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="n">_offset_of</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec5</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(((</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec5</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec5</span><span class="p">));</span>
<span class="linenos">15061</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="n">_offset_of</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec8</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(((</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec8</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">I64Dec8</span><span class="p">));</span>
<span class="linenos">15062</span><span class="w">    </span><span class="c1">// check that bitfield fits width</span>
<span class="linenos">15063</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(((</span><span class="n">algo</span><span class="o">::</span><span class="n">IOEvtFlags</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">)</span><span class="o">*</span><span class="mi">8</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="linenos">15064</span><span class="w">    </span><span class="c1">// check that bitfield fits width</span>
<span class="linenos">15065</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(((</span><span class="n">algo</span><span class="o">::</span><span class="n">NumParseFlags</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">)</span><span class="o">*</span><span class="mi">8</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="linenos">15066</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="n">_offset_of</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">SchedTime</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(((</span><span class="n">algo</span><span class="o">::</span><span class="n">SchedTime</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">SchedTime</span><span class="p">));</span>
<span class="linenos">15067</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="n">_offset_of</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">SeqType</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(((</span><span class="n">algo</span><span class="o">::</span><span class="n">SeqType</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">SeqType</span><span class="p">));</span>
<span class="linenos">15068</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="n">_offset_of</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U16Dec2</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(((</span><span class="n">algo</span><span class="o">::</span><span class="n">U16Dec2</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U16Dec2</span><span class="p">));</span>
<span class="linenos">15069</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="n">_offset_of</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec1</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(((</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec1</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U32Dec1</span><span class="p">));</span>
<span class="linenos">15070</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="n">_offset_of</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec2</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(((</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec2</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec2</span><span class="p">));</span>
<span class="linenos">15071</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="n">_offset_of</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec4</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(((</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec4</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec4</span><span class="p">));</span>
<span class="linenos">15072</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="n">_offset_of</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec8</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(((</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec8</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">U64Dec8</span><span class="p">));</span>
<span class="linenos">15073</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="n">_offset_of</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(((</span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="p">));</span>
<span class="linenos">15074</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="n">_offset_of</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">UnixTime</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(((</span><span class="n">algo</span><span class="o">::</span><span class="n">UnixTime</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">UnixTime</span><span class="p">));</span>
<span class="linenos">15075</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="n">_offset_of</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(((</span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff</span><span class="p">));</span>
<span class="linenos">15076</span><span class="w">    </span><span class="n">algo_assert</span><span class="p">(</span><span class="n">_offset_of</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">WTime</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(((</span><span class="n">algo</span><span class="o">::</span><span class="n">WTime</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">WTime</span><span class="p">));</span>
<span class="linenos">15077</span><span class="p">}</span>
</pre></div>
</div>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, AlgoRND
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on Apr 25, 2024</div>
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="algornd/arnd.313/-/commit/f8df17b9ffe2ee281b418863917c6ef10eaf02fa" aria-label="gitlab"><p style="font-family: Courier, monospace; font-size:12px; "> commit:2024-04-25.f8df17b9 </p></a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/scripts/furo.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    </body>
</html>