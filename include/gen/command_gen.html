<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" />

    <!-- Generated with Sphinx 6.2.1 and Furo 2024.01.29 -->
        <title>include/gen/command_gen.h - Openacr Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?digest=369552022d0b975c8e74270ce6eabe0fb7978f24" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --sidebar-item-spacing-horizontal: 1.0rem;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --sidebar-item-spacing-horizontal: 1.0rem;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --sidebar-item-spacing-horizontal: 1.0rem;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Openacr Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  
  <span class="sidebar-brand-text">Openacr Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../txt/intro/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../txt/start/setup.html">Setup And Installation</a></li>
</ul>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../txt/fun/README.html">Fundamentals</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Fundamentals</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/fun/cpp/README.html">C++ integration</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of C++ integration</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/fun/cpp/coding-style.html">Coding Style</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/fun/cpp/fun_06.html">C++ target</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/fun/cpp/intro.html">AMC Intro</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/fun/ssim/README.html">Ssimfiles for Information Management</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Ssimfiles for Information Management</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/fun/ssim/fun_01.html"><strong>ssim</strong> tuples and <strong>ssimfiles</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/fun/ssim/fun_02.html"><strong>ssim</strong> tuples and SQL Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/fun/ssim/fun_03.html"><strong>fldfunc fields</strong> in <strong>ssim</strong> tuples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/fun/ssim/fun_04.html"><strong>ssimfile</strong> cross-references</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/fun/ssim/fun_05.html">Information Management Insights</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../txt/recipe/README.html">Recipes</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Recipes</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/recipe/cpp/README.html">C++</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of C++</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/recipe/cpp/recipe_04.html">How to create C++ <strong>target</strong></a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/recipe/ssim/README.html">Ssimfiles</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Ssimfiles</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/recipe/ssim/recipe_01.html">How to define a new ssimfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/recipe/ssim/recipe_02.html">How to edit an existing ssimfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/recipe/ssim/recipe_03.html">How to display an existing ssimfile</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../txt/tut/README.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../txt/tut/tut1.html">Tutorial 1: Parts And Projects Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/tut/tut2.html">Tutorial 2: Parts And Projects in SQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/tut/tut3.html">Tutorial 3: Scheduling And Main Loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/tut/tut4.html">Tutorial 4: Command Lines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/tut/tut5.html">Tutorial 5: Running multiple subprocesses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/tut/tut6.html">Iohook &amp; Fbuf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/tut/tut7.html">Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/tut/tut8.html">tut8 - ACR live tutorial</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../txt/ssimdb/README.html">Ssim Databases</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Ssim Databases</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/amcdb/README.html">amcdb - Algo Model Compiler support tables</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of amcdb - Algo Model Compiler support tables</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/amcdb/bltin.html">amcdb.bltin - Specify properties of a C built-in type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/amcdb/curstype.html">amcdb.curstype - Cursor type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/amcdb/gen.html">amcdb.gen -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/amcdb/regxtype.html">amcdb.regxtype -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/amcdb/tclass.html">amcdb.tclass - AMC template class</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/amcdb/tcurs.html">amcdb.tcurs - Cursor template</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/amcdb/tfunc.html">amcdb.tfunc - AMC template function</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/amsdb/README.html">amsdb - AMS configuration (ssim database)</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of amsdb - AMS configuration (ssim database)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/amsdb/proctype.html">amsdb.proctype -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/amsdb/streamtype.html">amsdb.streamtype -</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/atfdb/README.html">atfdb - Support tables for testing</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of atfdb - Support tables for testing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/amctest.html">atfdb.amctest -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/cijob.html">atfdb.cijob -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/cipackage.html">atfdb.cipackage -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/citest.html">atfdb.citest -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/comptest.html">atfdb.comptest -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/fuzzstrat.html">atfdb.fuzzstrat -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/msgdir.html">atfdb.msgdir -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/targs.html">atfdb.targs -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/test_gsymbol_char.html">atfdb.test_gsymbol_char -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/test_gsymbol_pkey.html">atfdb.test_gsymbol_pkey -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/test_gsymbol_strptr.html">atfdb.test_gsymbol_strptr -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/tfilt.html">atfdb.tfilt -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/tmsg.html">atfdb.tmsg -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/atfdb/unittest.html">atfdb.unittest -</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/dclidb/README.html">dclidb - docker db</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of dclidb - docker db</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dclidb/dclicmd.html">dclidb.dclicmd -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dclidb/dclicmdsel.html">dclidb.dclicmdsel -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dclidb/dclicmdstep.html">dclidb.dclicmdstep -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dclidb/dclisel.html">dclidb.dclisel -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dclidb/dctr.html">dclidb.dctr - Container</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dclidb/dctrhost.html">dclidb.dctrhost - Container/host</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dclidb/dctrua.html">dclidb.dctrua - User attribute</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dclidb/dhost.html">dclidb.dhost - Host</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dclidb/duascript.html">dclidb.duascript - Script type (step in preparation of container)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dclidb/duascriptstep.html">dclidb.duascriptstep - Script step ordering</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/dev/README.html">dev - Tables supporting compilation of programs</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of dev - Tables supporting compilation of programs</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/arch.html">dev.arch - System architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/badline.html">dev.badline - Regex of a dubious source code line</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/builddir.html">dev.builddir - Directory where object files/executables go. Determines compile/link options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/cfg.html">dev.cfg - Compiler configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/compiler.html">dev.compiler - One of the known compilers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/copyright.html">dev.copyright - Copyrighting entity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/covfile.html">dev.covfile -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/covline.html">dev.covline -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/covtarget.html">dev.covtarget -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/edaction.html">dev.edaction - acr_ed editing action (only one can exist at a time)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/edacttype.html">dev.edacttype - acr_ed editing action type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/gitfile.html">dev.gitfile - File managed by git</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/gitinfo.html">dev.gitinfo -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/hilite.html">dev.hilite - Mapping of perl regx-&gt;hilite pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/htmlentity.html">dev.htmlentity - Known HTML entity strings &amp; codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/include.html">dev.include - A site where one file includes another</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/license.html">dev.license - Source code license</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/linelim.html">dev.linelim -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/mdsection.html">dev.mdsection - Template for updating a markdown file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/msgfile.html">dev.msgfile - File in repo containing messages that should be normalized during CI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/noindent.html">dev.noindent - Indicates that a file should not be automatically indented</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/opt_type.html">dev.opt_type - Type of option (used in tool_opt)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/package.html">dev.package - OpenACR package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/pkgdep.html">dev.pkgdep - OpenACR Package dependency</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/pkgkey.html">dev.pkgkey - Keys belonging to the OpenACR package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/readme.html">dev.readme - File containing documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/readmecat.html">dev.readmecat - sorted categories of txt/ *.md files presented in dev.readme</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/sandbox.html">dev.sandbox - Registered sandbox</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/sbpath.html">dev.sbpath - Extra files to copy into the sandbox</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/scriptfile.html">dev.scriptfile - Known script file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/srcfile.html">dev.srcfile - Source file or header (key is pathname)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/syscmd.html">dev.syscmd - System command to execute</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/syscmddep.html">dev.syscmddep - Dependency between two commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/syslib.html">dev.syslib - Registered system library</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/targdep.html">dev.targdep - Dependency between targets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/target.html">dev.target - Build target</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/targsrc.html">dev.targsrc - List of sources for target</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/targsyslib.html">dev.targsyslib - Use of system library by target</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/tgtcov.html">dev.tgtcov - Captured line coverate information by target</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/timefmt.html">dev.timefmt - Time formats supported by orgfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/tool_opt.html">dev.tool_opt - Compiler/linker options to use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/uname.html">dev.uname - List of known unames</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dev/unstablefld.html">dev.unstablefld - Fields that should be stripped from component test output because they contain timestamps etc.</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/dmmeta/README.html">dmmeta - Tables holding metadata (data model meta)</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of dmmeta - Tables holding metadata (data model meta)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/anonfld.html">dmmeta.anonfld - Omit field name where possible (command line, enums, constants)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/argvtype.html">dmmeta.argvtype - Customize parsing of command lines (rarely used)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/basepool.html">dmmeta.basepool - Specify pool to be used for allocating elements of a type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/bitfld.html">dmmeta.bitfld - Specify offset/width of a bitfield within another field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cafter.html">dmmeta.cafter - Control amc processing order for unrelated types (used in rare situations)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cascdel.html">dmmeta.cascdel - Request cascading delete of referenced rows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ccmp.html">dmmeta.ccmp - Generate hash function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cdflt.html">dmmeta.cdflt - Specify default value for single-value types that lack fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cextern.html">dmmeta.cextern - Externally defined ctype (a struct from system header, or from a c++ library)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cfast.html">dmmeta.cfast - FAST properties for ctype</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cfmt.html">dmmeta.cfmt - Specify options for printing/reading ctypes into multiple formats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cget.html">dmmeta.cget - Generate state functions for these ctypes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/charset.html">dmmeta.charset - Generate functions to determine if a character is a member of a set</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/chash.html">dmmeta.chash - Generate hash function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cppfunc.html">dmmeta.cppfunc - Value of field provided by this expression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cppkeyword.html">dmmeta.cppkeyword - Built-in C++ keyword</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cpptype.html">dmmeta.cpptype - Specify whether a ctype can be passed by value, and other c++ options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/csize.html">dmmeta.csize - Specify size/alignment for built-in C++ types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/cstr.html">dmmeta.cstr - Specify that type behaves like a string</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ctype.html">dmmeta.ctype - Struct</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ctypelen.html">dmmeta.ctypelen - Size of Ctype</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/dispatch.html">dmmeta.dispatch - Generate code for a multi-way branch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/dispatch_msg.html">dmmeta.dispatch_msg - Add message to a dispatch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/dispctx.html">dmmeta.dispctx - Use context with dispatch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/dispfilter.html">dmmeta.dispfilter - Generate filter function on dispatch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/dispsig.html">dmmeta.dispsig - Cryptographic signature of all dispatches</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/dispsigcheck.html">dmmeta.dispsigcheck - Check signature of input data against executable’s version</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/disptrace.html">dmmeta.disptrace - Generate trace fields (cycles, counts) for all dispatch branches</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/falias.html">dmmeta.falias - Alias field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fastenc.html">dmmeta.fastenc -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fastinstr.html">dmmeta.fastinstr -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fastop.html">dmmeta.fastop -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fbase.html">dmmeta.fbase - Customize imported Base fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fbigend.html">dmmeta.fbigend - Annotate field as having big-endian storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fbitset.html">dmmeta.fbitset - Generate bitset functions over integer field or array</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fbuf.html">dmmeta.fbuf - Buffer for reading/writing messages, works with Iohook</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fbufdir.html">dmmeta.fbufdir - Buffer direction (in,out)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fbuftype.html">dmmeta.fbuftype - Buffer type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fcast.html">dmmeta.fcast - Generate implicit conversion from field to c++ expression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fcleanup.html">dmmeta.fcleanup - Request user-implemented function to be called at Uninit time for a field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fcmap.html">dmmeta.fcmap - Bidirectional mapping between fconst values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fcmdline.html">dmmeta.fcmdline - Annotate field that holds process command line</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fcmp.html">dmmeta.fcmp - Request versionsort or case-insensitive sort for field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fcompact.html">dmmeta.fcompact - Request compaction upon removal from index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fconst.html">dmmeta.fconst - Specify enum value (integer + string constant) for a field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fcurs.html">dmmeta.fcurs - Request generation of custom cursor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fdec.html">dmmeta.fdec - Specify that field has an implied # of decimal places and specify formatting options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fdelay.html">dmmeta.fdelay - Control elapsed time between execution of a step</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ffast.html">dmmeta.ffast - FAST properties for field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fflag.html">dmmeta.fflag - Options for command-line flags</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/field.html">dmmeta.field - Specify field of a struct</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/findrem.html">dmmeta.findrem - Request generation of FindRemove function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/finput.html">dmmeta.finput - Describe input table of a program</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fldoffset.html">dmmeta.fldoffset - Assert field offset - will result in compile-time error if violated</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/floadtuples.html">dmmeta.floadtuples - Request that process automatically load any input tables on startup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fnoremove.html">dmmeta.fnoremove - Omit any functions for removing elements from table; Table is append-only</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/foutput.html">dmmeta.foutput - Generate function to save index/table back to disk</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fprefix.html">dmmeta.fprefix - Mapping between field prefix and Reftype</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fregx.html">dmmeta.fregx - Specify options for command-line regx field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fsort.html">dmmeta.fsort - Generate custom sort function for array field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fstep.html">dmmeta.fstep - Generate a main loop step to be executed whenever a field is non-empty</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ftrace.html">dmmeta.ftrace - Generate cycle/step counting fields for a step</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ftuple.html">dmmeta.ftuple -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/func.html">dmmeta.func -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/funique.html">dmmeta.funique - This field must be unique in the table. Not needed for primary key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fuserinit.html">dmmeta.fuserinit - Add user-defined initialization function for field (see fcleanup)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/fwddecl.html">dmmeta.fwddecl - Request forward declaration of a field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/gconst.html">dmmeta.gconst - Import ssim table columns as fconst for a field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/gstatic.html">dmmeta.gstatic - Load entries for this table at startup time</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/gsymbol.html">dmmeta.gsymbol - Create C++ symbols from entries in ssim table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/hashtype.html">dmmeta.hashtype - Hash function type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/hook.html">dmmeta.hook - Required on Hook fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/inlary.html">dmmeta.inlary - Generate inline array of fixed or variable length (all entries fit within parent struct)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/lenfld.html">dmmeta.lenfld - Specify which gives length of varlen portion in bytes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/listtype.html">dmmeta.listtype - Specify structure of linked list based on field prefix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/llist.html">dmmeta.llist - Options for Llist field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/logcat.html">dmmeta.logcat - Log category</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/main.html">dmmeta.main - Generate Main function for namespace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/msgtype.html">dmmeta.msgtype - Specify message type for each eligible message, controls dispatch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nocascdel.html">dmmeta.nocascdel - Remove cascade delete for this index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nossimfile.html">dmmeta.nossimfile - Indicates that ssimfile does not exist for this ssimdb ctype</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/noxref.html">dmmeta.noxref - Explicitly specify that no x-ref exists between tables (don’t use unless forced)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ns.html">dmmeta.ns - Namespace (for in-memory database, protocol, etc)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nscpp.html">dmmeta.nscpp - Generate C++ code for this namespace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nsdb.html">dmmeta.nsdb - Annotate ssimdb namespaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nsfast.html">dmmeta.nsfast - Whether namespace is FAST</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nsinclude.html">dmmeta.nsinclude - Explicitly specify a C++ include file for namespace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nsjs.html">dmmeta.nsjs - Generate JavaScript code for this namespace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nsproto.html">dmmeta.nsproto - Annotate protocol namespace (collection of types, no state)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nstype.html">dmmeta.nstype - Namespace type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nsversion.html">dmmeta.nsversion - Namespace version</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/nsx.html">dmmeta.nsx - Control code-generation and exception handling options for process/library</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/numstr.html">dmmeta.numstr - Add functions to read numbers out of a string field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/pack.html">dmmeta.pack - Request byte-packing of structure fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/pmaskfld.html">dmmeta.pmaskfld - Specify which field holds presence mask bits (one for each field in struct)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/pmaskfld_member.html">dmmeta.pmaskfld_member - Explicit field-to-pmask association</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/pnew.html">dmmeta.pnew - Generate custom constructor (placement new), for use with binary protocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/pnewtype.html">dmmeta.pnewtype - Type of fbuf</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/printfmt.html">dmmeta.printfmt - Print format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ptrary.html">dmmeta.ptrary - Required for fields with reftype:Ptrary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/reftype.html">dmmeta.reftype - Field type constructor (e.g. reference type)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/rowid.html">dmmeta.rowid - Initialize field to row id of element</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/smallstr.html">dmmeta.smallstr - Generated fixed-length padded or length-delimited string field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/sortfld.html">dmmeta.sortfld - Specify what field an index (Bheap,Atree) is sorted on</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/sorttype.html">dmmeta.sorttype - Sort type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/sqltype.html">dmmeta.sqltype - Mapping of ctype -&gt; SQL expression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ssimfile.html">dmmeta.ssimfile - File with ssim tuples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ssimreq.html">dmmeta.ssimreq - Extended constraints for ssim records</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ssimsort.html">dmmeta.ssimsort - Define sort order for ssimfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/ssimvolatile.html">dmmeta.ssimvolatile - Types based on ssim files marked this way cannot be cross-referenced</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/steptype.html">dmmeta.steptype - Type of scheduler step</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/strfmt.html">dmmeta.strfmt - Cfmt conversion type (misnomer, not necessarily a string)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/strtype.html">dmmeta.strtype - Type of small string</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/substr.html">dmmeta.substr - Specify that the field value is computed from a substring of another field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/svtype.html">dmmeta.svtype - Table for determining ctype from separated value file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/tary.html">dmmeta.tary - Indirect linear dynamically alocated array (used for strings, arrays of data, etc)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/thash.html">dmmeta.thash - Hash index, required for fields with reftype Thash</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/tracefld.html">dmmeta.tracefld - Trace fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/tracerec.html">dmmeta.tracerec - Trace record</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/typefld.html">dmmeta.typefld - Specifies which field of a message carries the type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/usertracefld.html">dmmeta.usertracefld - Add custom user trace fields to process’s trace struct</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/dmmeta/xref.html">dmmeta.xref - Specify how to cross-reference (i.e. project, or group-by) one record with another</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/fmdb/README.html">fmdb - Fault management tables (ssim database)</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of fmdb - Fault management tables (ssim database)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/fmdb/alarm.html">fmdb.alarm -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/fmdb/alm_code.html">fmdb.alm_code -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/fmdb/alm_objtype.html">fmdb.alm_objtype - Alarm resource type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/fmdb/alm_source.html">fmdb.alm_source - Subsystem where alarm has been detected</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/gclidb/README.html">gclidb - gcli db</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of gclidb - gcli db</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gact.html">gclidb.gact - Action that may be performed on a table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gatv.html">gclidb.gatv -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gclicmd.html">gclidb.gclicmd -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gclicmdf2j.html">gclidb.gclicmdf2j - Mapping of internal fields to JSON fields for gitlab/github</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gclicmdt.html">gclidb.gclicmdt - Internal test</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gclienv.html">gclidb.gclienv -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gclienvsub.html">gclidb.gclienvsub -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gclisub.html">gclidb.gclisub -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gfld.html">gclidb.gfld - Gitlab/github field name</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/githost.html">gclidb.githost -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gmethod.html">gclidb.gmethod - HTTP method list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/grepo.html">gclidb.grepo - Repo table (acr grepo -in ~/.ssim)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/grepogitport.html">gclidb.grepogitport - Default ports for repositories</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/grepossh.html">gclidb.grepossh - Ssh key table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gstate.html">gclidb.gstate - Issue/MR state list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gstatet.html">gclidb.gstatet - Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gtbl.html">gclidb.gtbl - Supported gcli tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gtblact.html">gclidb.gtblact -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gtblactfld.html">gclidb.gtblactfld - List of available for each table &amp; action combination</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gtblacttst.html">gclidb.gtblacttst -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gtblacttstout.html">gclidb.gtblacttstout -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gtype.html">gclidb.gtype - Platform type (ghp=github; glpat=gitlab)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gtypeh.html">gclidb.gtypeh - HTTP heaaderes for user with platform</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/gtypeprefix.html">gclidb.gtypeprefix - Token prefix mapping to platform</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/issue.html">gclidb.issue - Gitlab project issue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/issuenote.html">gclidb.issuenote - Issue note</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/issuepipeline.html">gclidb.issuepipeline - Issue pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/label.html">gclidb.label - List of labels for gitlab/github</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/milestone.html">gclidb.milestone - Gclidb project milestone</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/mr.html">gclidb.mr - Gitlab project mr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/mrjob.html">gclidb.mrjob - Mr job</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/mrnote.html">gclidb.mrnote - Issue note</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/project.html">gclidb.project - Gitlab project mr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gclidb/user.html">gclidb.user -</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/gmvdb/README.html">gmvdb - gmv db</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of gmvdb - gmv db</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gmvdb/gmvproj.html">gmvdb.gmvproj -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gmvdb/gmvscript.html">gmvdb.gmvscript - action type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/gmvdb/gmvua.html">gmvdb.gmvua - User attribute</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/spnxdb/README.html">spnxdb - Sphinx-based Websites build tool DB</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of spnxdb - Sphinx-based Websites build tool DB</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/spnxdb/build.html">spnxdb.build - list of actions supported by sphinx-build</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/spnxdb/pkgapt.html">spnxdb.pkgapt - required packages to be installed by apt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/spnxdb/pkgpip.html">spnxdb.pkgpip - required packages to be installed by pip</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/spnxdb/site.html">spnxdb.site - list of sites supported by bin/spnx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/spnxdb/siteattr.html">spnxdb.siteattr - list of attributes and values by the site</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/spnxdb/srcext.html">spnxdb.srcext - source extensions read as md by sphinx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/spnxdb/theme.html">spnxdb.theme -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/spnxdb/userattr.html">spnxdb.userattr - list of possible attributes referred by spnxdb.siteattr</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/wclidb/README.html">wclidb - wiki db</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of wclidb - wiki db</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/atfwclicmd.html">wclidb.atfwclicmd - management commands for atf_wcli</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/atfwclicmdfld.html">wclidb.atfwclicmdfld - arguments taken by management commands for atf_wcli</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/curlarg.html">wclidb.curlarg - an internal list of curl arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/ftype.html">wclidb.ftype - wiki file ftype types used by wcli to copy files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/page.html">wclidb.page - a form for wcli page operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/pagesec.html">wclidb.pagesec - a from for wcli page sections operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/pagetitle.html">wclidb.pagetitle - a form for wcli page reporting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wact.html">wclidb.wact - wcli actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wcliapi.html">wclidb.wcliapi - api tokens for wcli</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wclicmd.html">wclidb.wclicmd - wcli api commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wclicmdapi.html">wclidb.wclicmdapi - wcli api commands with arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wclicmdf2j.html">wclidb.wclicmdf2j - Mapping of internal fields to JSON fields for gitlab/github</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wfld.html">wclidb.wfld - Wiki field name</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wikiext.html">wclidb.wikiext - wiki allowed file extensions, dynamic read</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wikigroup.html">wclidb.wikigroup - wiki default user groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wikins.html">wclidb.wikins - wiki namespaces, dynamic read</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wikisite.html">wclidb.wikisite - wiki site types supported by wcli - the main wcli key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wikisitesub.html">wclidb.wikisitesub - atf_wcli args substitution table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wikisub.html">wclidb.wikisub - atf_wcli substitutions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wikitoken.html">wclidb.wikitoken - wcli medaiwiki auth token types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wikitokenapi.html">wclidb.wikitokenapi - wcli tie-in of a token to an api action</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wikiuser.html">wclidb.wikiuser -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wikiuseruser.html">wclidb.wikiuseruser -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wlogin.html">wclidb.wlogin - a form for wcli login operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wtbl.html">wclidb.wtbl - scope for wcli actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wtblact.html">wclidb.wtblact - a wcli tie-in of table and action</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wtblactfld.html">wclidb.wtblactfld - List of available for each table &amp; action combination</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wtblacttst.html">wclidb.wtblacttst - atf_wcli wcli regression testcases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wtblacttstout.html">wclidb.wtblacttstout - atf_wcli wcli regression results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wclidb/wwiki.html">wclidb.wwiki - user/auth tokens holding structure</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/wsdb/README.html">wsdb - WebSocket db</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of wsdb - WebSocket db</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/wsdb/status.html">wsdb.status -</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/ssimdb/x2db/README.html">x2db - operational info for algornd</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of x2db - operational info for algornd</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/admact.html">x2db.admact - x2admin actions for startup scripts generation and use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/admsvc.html">x2db.admsvc - x2admin scope for services like user, host, ssh applied to envnodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/admsvcact.html">x2db.admsvcact - x2admin coupling for the scope and the actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/dctrport.html">x2db.dctrport - tie-in docker ports with uids for containers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/env.html">x2db.env - x2 environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/envctr.html">x2db.envctr - envnode to container tie-in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/envhost.html">x2db.envhost - envnode to hosts tie-in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/envktypeuser.html">x2db.envktypeuser - environment to “ssh key type” to a user and its public key tie in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/envnode.html">x2db.envnode - environment to node tie in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/envnodeacct.html">x2db.envnodeacct - envnode to its users accounts tie in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/envnodeacctuser.html">x2db.envnodeacctuser - envnode accounts to users tie in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/envnodecname.html">x2db.envnodecname - envnode to cname tie in - cname used in /etc/hosts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/ktype.html">x2db.ktype - “ssh key types” list for different purposes/env</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/node.html">x2db.node - node name</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/nodektype.html">x2db.nodektype - A node to “ssh key type” assignment list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/uid.html">x2db.uid - x2 user linux uid list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/ssimdb/x2db/user.html">x2db.user - x2 users list</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../txt/protocol/README.html">Protocols</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of Protocols</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/protocol/algo/README.html">algo - Basic types and functions</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of algo - Basic types and functions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Attr.html">txt/protocol/algo/Attr.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Bool.html">txt/protocol/algo/Bool.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Charset.html">txt/protocol/algo/Charset.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Comment.html">txt/protocol/algo/Comment.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/CppExpr.html">txt/protocol/algo/CppExpr.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/DateCache.html">txt/protocol/algo/DateCache.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Decimal.html">txt/protocol/algo/Decimal.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/DirEntry.html">txt/protocol/algo/DirEntry.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Errcode.html">txt/protocol/algo/Errcode.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Errns.html">txt/protocol/algo/Errns.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Fildes.html">txt/protocol/algo/Fildes.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/FileFlags.html">txt/protocol/algo/FileFlags.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/IOEvtFlags.html">txt/protocol/algo/IOEvtFlags.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/IPoint.html">txt/protocol/algo/IPoint.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Imtable.html">txt/protocol/algo/Imtable.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Ipmask.html">txt/protocol/algo/Ipmask.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/LineBuf.html">txt/protocol/algo/LineBuf.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Md5Digest.html">txt/protocol/algo/Md5Digest.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Month.html">txt/protocol/algo/Month.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/NumParseFlags.html">txt/protocol/algo/NumParseFlags.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/PrlogFcn.html">txt/protocol/algo/PrlogFcn.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/SchedTime.html">txt/protocol/algo/SchedTime.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/SeqType.html">txt/protocol/algo/SeqType.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Sha1sig.html">txt/protocol/algo/Sha1sig.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/TFNNtTestAlert.html">txt/protocol/algo/TFNNtTestAlert.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/TermStyle.html">txt/protocol/algo/TermStyle.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/TextJust.html">txt/protocol/algo/TextJust.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/TstampCache.html">txt/protocol/algo/TstampCache.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/Tuple.html">txt/protocol/algo/Tuple.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/URL.html">txt/protocol/algo/URL.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/UnDiff.html">txt/protocol/algo/UnDiff.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/UnTime.html">txt/protocol/algo/UnTime.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/UnixDiff.html">txt/protocol/algo/UnixDiff.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/UnixTime.html">txt/protocol/algo/UnixTime.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/cstring.html">txt/protocol/algo/cstring.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/memptr.html">txt/protocol/algo/memptr.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/algo/strptr.html">txt/protocol/algo/strptr.md</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/protocol/ams/README.html">ams - Algo Messaging System protocol</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of ams - Algo Messaging System protocol</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/AlarmSyncMsg.html">txt/protocol/ams/AlarmSyncMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/DfltStream.html">txt/protocol/ams/DfltStream.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/DumpStreamTableMsg.html">txt/protocol/ams/DumpStreamTableMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/ExpectMsg.html">txt/protocol/ams/ExpectMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/HeartbeatMsg.html">txt/protocol/ams/HeartbeatMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/InputLineMsg.html">txt/protocol/ams/InputLineMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/LogMsg.html">txt/protocol/ams/LogMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/Member.html">txt/protocol/ams/Member.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/MsgBlock.html">txt/protocol/ams/MsgBlock.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/MsgHeader.html">txt/protocol/ams/MsgHeader.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/OpenMsg.html">txt/protocol/ams/OpenMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/PrlogMsg.html">txt/protocol/ams/PrlogMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/ProcAddMsg.html">txt/protocol/ams/ProcAddMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/ProcId.html">txt/protocol/ams/ProcId.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/ProcRemoveMsg.html">txt/protocol/ams/ProcRemoveMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/ProcType.html">txt/protocol/ams/ProcType.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/Seqmsg.html">txt/protocol/ams/Seqmsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/SeqmsgId.html">txt/protocol/ams/SeqmsgId.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/SeqmsgTrace.html">txt/protocol/ams/SeqmsgTrace.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/StreamFlags.html">txt/protocol/ams/StreamFlags.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/StreamHbMsg.html">txt/protocol/ams/StreamHbMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/StreamId.html">txt/protocol/ams/StreamId.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/StreamPos.html">txt/protocol/ams/StreamPos.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/StreamType.html">txt/protocol/ams/StreamType.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/TerminateMsg.html">txt/protocol/ams/TerminateMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/Trace2Msg.html">txt/protocol/ams/Trace2Msg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/TraceInfo2Msg.html">txt/protocol/ams/TraceInfo2Msg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/TraceInfoMsg.html">txt/protocol/ams/TraceInfoMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/TraceMsg.html">txt/protocol/ams/TraceMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/protocol/ams/UdpFrame.html">txt/protocol/ams/UdpFrame.md</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/protocol/atf/README.html">atf - Algo Testing Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/protocol/command/README.html">command - Command line descriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/protocol/emdi12/README.html">emdi12 -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/protocol/fasttest/README.html">fasttest -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/protocol/fm/README.html">fm - Fault management types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/protocol/ietf/README.html">ietf - Some IETF structs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/protocol/js/README.html">js - Reserved for JavaScript builtin types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/protocol/report/README.html">report - Command reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/protocol/ws/README.html">ws - WebSocket binary protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/protocol/x2/README.html">x2 - X2 protocol</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../txt/lib/README.html">Libraries</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of Libraries</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/algo_lib/README.html">algo_lib - Support library for all executables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_amcdb/README.html">lib_amcdb - Library used by amc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_ams/README.html">lib_ams - Library for AMS middleware, supporting file format &amp; messaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_ams/README.html#ams-library">AMS Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_ams/README.html#list-of-ams-messages">List of AMS Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_ams/README.html#in-memory-stream-format-flow-control">In-memory stream format; Flow control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_ctype/README.html">lib_ctype - Helpful library for reading/writing ctypes as text tuples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_exec/README.html">lib_exec - Build and run a dag of subprocesses with N parallel jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_fast/README.html">lib_fast - FAST prococol support library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_finprot/README.html">lib_finprot - Library of financial protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_fm/README.html">lib_fm - Library for dynamic alarm management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_git/README.html">lib_git - Helpful git wrappers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_iconv/README.html">lib_iconv - Iconv wrapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_json/README.html">lib_json - Full json support library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_mysql/README.html">lib_mysql - Mysql adaptor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_prot/README.html">lib_prot - Library covering all protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_sql/README.html">lib_sql - SQL formatting functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/lib/lib_ws/README.html">lib_ws - WebSocket library</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../txt/exe/README.html">Executables</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of Executables</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/abt/README.html">abt - Algo Build Tool - build &amp; link C++ targets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/abt_md/README.html">abt_md - Tool to generate markdown documentation</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/exe/acr/README.html">acr - Algo Cross-Reference - ssimfile database &amp; update tool</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of acr - Algo Cross-Reference - ssimfile database &amp; update tool</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/acr/relnotes.html">ACR release notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/acr_compl/README.html">acr_compl - ACR shell auto-complete for all targets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/acr_dm/README.html">acr_dm - ACR Diff/Merge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/acr_ed/README.html">acr_ed - Script generator for common dev tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/acr_in/README.html">acr_in - ACR Input - compute set of ssimfiles or tuples used by a specific target</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/acr_my/README.html">acr_my - ACR &lt;-&gt; MariaDB adaptor</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../txt/exe/amc/README.html">amc - Algo Model Compiler: generate code under include/gen and cpp/gen</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of amc - Algo Model Compiler: generate code under include/gen and cpp/gen</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/enum.html">AMC Enumerated Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/exec.html">AMC Subprocess Invocation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/pmask.html">AMC Presence Masks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/pools.html">AMC Memory Pools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/proto.html">AMC Protocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/reflection.html">AMC Reflection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/reftypes.html">AMC Reftypes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/relnotes.html">AMC release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/runtime.html">AMC Runtime</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/strings.html">AMC Strings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../txt/exe/amc/xref.html">AMC Cross-References (xrefs)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/amc_gc/README.html">amc_gc - Garbage collector for in-memory databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/amc_js/README.html">amc_js - Model compiler for javascript targets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/amc_vis/README.html">amc_vis - Draw access path diagrams</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/ams_cat/README.html">ams_cat - Algo Messaging System sample tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/ams_sendtest/README.html">ams_sendtest - Algo Messaging System test tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/apm/README.html">apm - Algo Package Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_amc/README.html">atf_amc - Unit tests for amc (see amctest table)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_ci/README.html">atf_ci - Normalization tests (see citest table)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_cmdline/README.html">atf_cmdline - Test tool for command line parsing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_comp/README.html">atf_comp - Algo Test Framework - Component test execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_cov/README.html">atf_cov - Line coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_cov/README.html#line-coverage">Line coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_fuzz/README.html">atf_fuzz - Generator of bad inputs for targets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_gcli/README.html">atf_gcli - test harness for gcli</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_netio/README.html">atf_netio - Test driver for netio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_nrun/README.html">atf_nrun - Run N subprocesses in parallel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_unit/README.html">atf_unit - Unit tests (see unittest table)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_wcli/README.html">atf_wcli - wiki management and test harness for wcli tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/atf_ws/README.html">atf_ws - Component test driver for lib_ws</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/bash2html/README.html">bash2html - Convert bash output and colours to html</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/dcli/README.html">dcli - command line tool for container operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/dcli_ed/README.html">dcli_ed - Docker Client Editor - generator of dcli commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/fast/README.html">fast - FAST utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/gcache/README.html">gcache - Compiler cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/gcli/README.html">gcli - Gcli - gitlab/github command-line client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/gmv/README.html">gmv - Utility to move parts of the project in or out to a different project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/lib_x2/README.html">lib_x2 -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/mdbg/README.html">mdbg - Gdb front-end</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/mysql2ssim/README.html">mysql2ssim - mysql -&gt; ssim conversion tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/orgfile/README.html">orgfile - Organize and deduplicate files by timestamp and by contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/samp_regx/README.html">samp_regx - Test tool for regular expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/samp_ws/README.html">samp_ws - WebSocket sample</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/sandbox/README.html">sandbox - Sandbox - sandbox management tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/spnx/README.html">spnx - website generator based on sphinx</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/src_func/README.html">src_func - Access / edit functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/src_hdr/README.html">src_hdr - Manage source copyright+license header in source files and scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/src_lim/README.html">src_lim - Enforce line length, function length, and indentation limits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/ssim2csv/README.html">ssim2csv - Ssim -&gt; csv conversion tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/ssim2mysql/README.html">ssim2mysql - Ssim -&gt; mysql</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/ssimfilt/README.html">ssimfilt - Tuple utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/strconv/README.html">strconv - A simple string utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/sv2ssim/README.html">sv2ssim - sv2ssim - Separated Value file processor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/ttrack/README.html">ttrack - Tool for keeping track of work time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/wcli/README.html">wcli - wiki cli to operate on wikis via API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/x2admin/README.html">x2admin - utility to generate admsvc control for containers etc…</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/x2cmt/README.html">x2cmt - X2 - Commit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/x2gf/README.html">x2gf - X2 - Gapfill</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/x2gw/README.html">x2gw - X2 - Gateway</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/x2mon/README.html">x2mon - X2 - Monitor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/x2node/README.html">x2node - ssh tool to access varios aops nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/x2read/README.html">x2read - X2 - Read client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/x2sup/README.html">x2sup - X2 - Supervisor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/x2txn/README.html">x2txn - X2 - Transaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/exe/x2write/README.html">x2write - X2 - Write client</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../txt/script/README.html">Scripts</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle navigation of Scripts</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/abt_md_filt.html">bin/abt_md_filt - Eliminate unstable fields from inline-command output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/ai.html">bin/ai - Bootstrapped compilation script</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/alexei-setup-soft-links.html">bin/alexei-setup-soft-links -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/break-long-lines.html">bin/break-long-lines - Read input and break long lines into multiple lines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/ci-show-log.html">bin/ci-show-log - Fetch gitlab runner output for current issue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/cpp-indent.html">bin/cpp-indent - Indent specified files using emacs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/delete-duplicate-lines.html">bin/delete-duplicate-lines - Read input and eliminate duplicate lines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/diff-to-errlist.html">bin/diff-to-errlist - Read standard diff format on input and produce output suitable for errlist</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/edit-conflicts.html">bin/edit-conflicts - Open any files marked as being in confict using EDITOR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/em.html">bin/em - Alias for ‘emacs -nw’</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/errlist.html">bin/errlist - Open error list in editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/ff.html">bin/ff - Find files and inside files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/find-non-copyrighted.html">bin/find-non-copyrighted - Find any files with missing copyrights</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/fix-gen-conflicts.html">bin/fix-gen-conflicts - Auto-fix for git merge- or rebase-related conflicts by re-running generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-add-to-last-commit.html">bin/git-add-to-last-commit - Add any currently modified changes to the most recent commit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-branch-gc.html">bin/git-branch-gc - Attempt to rebase all branches and delete branches merged into HEAD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-clean-branches.html">bin/git-clean-branches -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-commits-per-user.html">bin/git-commits-per-user -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-current-ref.html">bin/git-current-ref - Print gitref of current HEAD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-diff-annotate.html">bin/git-diff-annotate -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-grep-reflog.html">bin/git-grep-reflog - Find a commit in reflog whose delta contains given regex</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-mdiff.html">bin/git-mdiff - Git diff but exclude generated files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-mod-plot.html">bin/git-mod-plot -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-praise.html">bin/git-praise -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-rebase-origin.html">bin/git-rebase-origin - Rebase current branch onto origin master</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-rebase-remote.html">bin/git-rebase-remote - Rebase current branch onto given <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-recent-branches.html">bin/git-recent-branches - List recent branches that you worked on</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-rollback-file.html">bin/git-rollback-file - Roll back specified files to the previous commit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/git-update-config.html">bin/git-update-config -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/gitconfig-setup.html">bin/gitconfig-setup -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/grephunk.html">bin/grephunk - Patch file filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/hilite-error.html">bin/hilite-error - Read input and highlight errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/hilite.html">bin/hilite - Inline highlighter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/limit-output.html">bin/limit-output - Read input and show at most N lines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/lines-to-dots.html">bin/lines-to-dots - Read input and print a dot for each input line</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/lsfunc.html">bin/lsfunc - List all functions from all source files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/msloc.pl.html">bin/msloc.pl - Word count statistics for non-generated source files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/normalize.html">bin/normalize - Run standard normalization tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/select-bootstrap.html">bin/select-bootstrap -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/sha1.html">bin/sha1 -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/sloc.pl.html">bin/sloc.pl - Word count statistics for specified list of source files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/tags.html">bin/tags -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/targ-diff.html">bin/targ-diff - Show changes in TARG’s source code between this branch and REF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/test-orgfile.html">bin/test-orgfile -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/timestamps.html">bin/timestamps - Read input and timestamp each line</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/toamc.html">bin/toamc - Try to extract amc schema from specified C++ file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/todo.html">bin/todo -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/update-gitfile.html">bin/update-gitfile -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/update-hdr.html">bin/update-hdr -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/update-scriptfile.html">bin/update-scriptfile -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../txt/script/zfs_snapshot.pl.html">bin/zfs_snapshot.pl -</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="include-gen-command-gen-h">
<h1>include/gen/command_gen.h<a class="headerlink" href="#include-gen-command-gen-h" title="Permalink to this heading">#</a></h1>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="linenos">   1</span><span class="c1">//</span>
<span class="linenos">   2</span><span class="c1">// include/gen/command_gen.h</span>
<span class="linenos">   3</span><span class="c1">// Generated by AMC</span>
<span class="linenos">   4</span><span class="c1">//</span>
<span class="linenos">   5</span><span class="c1">// Copyright (C) 2008-2013 AlgoEngineering LLC</span>
<span class="linenos">   6</span><span class="c1">// Copyright (C) 2013-2019 NYSE | Intercontinental Exchange</span>
<span class="linenos">   7</span><span class="c1">// Copyright (C) 2020-2023 Astra</span>
<span class="linenos">   8</span><span class="c1">// Copyright (C) 2023 AlgoRND</span>
<span class="linenos">   9</span><span class="c1">//</span>
<span class="linenos">  10</span><span class="c1">// This program is free software: you can redistribute it and/or modify</span>
<span class="linenos">  11</span><span class="c1">// it under the terms of the GNU General Public License as published by</span>
<span class="linenos">  12</span><span class="c1">// the Free Software Foundation, either version 3 of the License, or</span>
<span class="linenos">  13</span><span class="c1">// (at your option) any later version.</span>
<span class="linenos">  14</span><span class="c1">//</span>
<span class="linenos">  15</span><span class="c1">// This program is distributed in the hope that it will be useful,</span>
<span class="linenos">  16</span><span class="c1">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="linenos">  17</span><span class="c1">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="linenos">  18</span><span class="c1">// GNU General Public License for more details.</span>
<span class="linenos">  19</span><span class="c1">//</span>
<span class="linenos">  20</span><span class="c1">// You should have received a copy of the GNU General Public License</span>
<span class="linenos">  21</span><span class="c1">// along with this program.  If not, see &lt;https://www.gnu.org/licenses/&gt;.</span>
<span class="linenos">  22</span><span class="c1">//</span>
<span class="linenos">  23</span>
<span class="linenos">  24</span>
<span class="linenos">  25</span><span class="cp">#pragma once</span>
<span class="linenos">  26</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;include/gen/algo_gen.h&quot;</span>
<span class="linenos">  27</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;include/gen/ietf_gen.h&quot;</span>
<span class="linenos">  28</span><span class="c1">//#pragma endinclude</span>
<span class="linenos">  29</span><span class="c1">// gen:ns_enums</span>
<span class="linenos">  30</span>
<span class="linenos">  31</span><span class="c1">// --- command_FieldIdEnum</span>
<span class="linenos">  32</span>
<span class="linenos">  33</span><span class="k">enum</span><span class="w"> </span><span class="nc">command_FieldIdEnum</span><span class="w"> </span><span class="p">{</span><span class="w">                             </span><span class="c1">// command.FieldId.value</span>
<span class="linenos">  34</span><span class="w">     </span><span class="n">command_FieldId_target</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="linenos">  35</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_in</span><span class="w">                         </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="linenos">  36</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_out_dir</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
<span class="linenos">  37</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_cfg</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span>
<span class="linenos">  38</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_compiler</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span>
<span class="linenos">  39</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_uname</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span>
<span class="linenos">  40</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_arch</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span>
<span class="linenos">  41</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_ood</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span>
<span class="linenos">  42</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_list</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span>
<span class="linenos">  43</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_listincl</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">9</span>
<span class="linenos">  44</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_build</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span>
<span class="linenos">  45</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_preproc</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">11</span>
<span class="linenos">  46</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_clean</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">12</span>
<span class="linenos">  47</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_dry_run</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">13</span>
<span class="linenos">  48</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_maxjobs</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">14</span>
<span class="linenos">  49</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_printcmd</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">15</span>
<span class="linenos">  50</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_force</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span>
<span class="linenos">  51</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_install</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">17</span>
<span class="linenos">  52</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_coverity</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">18</span>
<span class="linenos">  53</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_package</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">19</span>
<span class="linenos">  54</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_maxerr</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span>
<span class="linenos">  55</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_disas</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">21</span>
<span class="linenos">  56</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_report</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">22</span>
<span class="linenos">  57</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_jcdb</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">23</span>
<span class="linenos">  58</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_cache</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">24</span>
<span class="linenos">  59</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_readme</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">25</span>
<span class="linenos">  60</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_ns</span><span class="w">                         </span><span class="o">=</span><span class="w"> </span><span class="mi">26</span>
<span class="linenos">  61</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_section</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">27</span>
<span class="linenos">  62</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_update</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">28</span>
<span class="linenos">  63</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_check</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">29</span>
<span class="linenos">  64</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_link</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span>
<span class="linenos">  65</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_anchor</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">31</span>
<span class="linenos">  66</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_print</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">32</span>
<span class="linenos">  67</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_query</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">33</span>
<span class="linenos">  68</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_where</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">34</span>
<span class="linenos">  69</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_del</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">35</span>
<span class="linenos">  70</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_sel</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">36</span>
<span class="linenos">  71</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_insert</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">37</span>
<span class="linenos">  72</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_replace</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">38</span>
<span class="linenos">  73</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_merge</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">39</span>
<span class="linenos">  74</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_unused</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">40</span>
<span class="linenos">  75</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_trunc</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">41</span>
<span class="linenos">  76</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_selerr</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span>
<span class="linenos">  77</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_maxshow</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">43</span>
<span class="linenos">  78</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_write</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">44</span>
<span class="linenos">  79</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_rename</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">45</span>
<span class="linenos">  80</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_nup</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">46</span>
<span class="linenos">  81</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_ndown</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">47</span>
<span class="linenos">  82</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_l</span><span class="w">                          </span><span class="o">=</span><span class="w"> </span><span class="mi">48</span>
<span class="linenos">  83</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_xref</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">49</span>
<span class="linenos">  84</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_fldfunc</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span>
<span class="linenos">  85</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_maxgroup</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">51</span>
<span class="linenos">  86</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_pretty</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">52</span>
<span class="linenos">  87</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_tree</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">53</span>
<span class="linenos">  88</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_loose</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">54</span>
<span class="linenos">  89</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_my</span><span class="w">                         </span><span class="o">=</span><span class="w"> </span><span class="mi">55</span>
<span class="linenos">  90</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_schema</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">56</span>
<span class="linenos">  91</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_e</span><span class="w">                          </span><span class="o">=</span><span class="w"> </span><span class="mi">57</span>
<span class="linenos">  92</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_t</span><span class="w">                          </span><span class="o">=</span><span class="w"> </span><span class="mi">58</span>
<span class="linenos">  93</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_g</span><span class="w">                          </span><span class="o">=</span><span class="w"> </span><span class="mi">59</span>
<span class="linenos">  94</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_x</span><span class="w">                          </span><span class="o">=</span><span class="w"> </span><span class="mi">60</span>
<span class="linenos">  95</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_rowid</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">61</span>
<span class="linenos">  96</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_cmt</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">62</span>
<span class="linenos">  97</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_cmd</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">63</span>
<span class="linenos">  98</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_field</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span>
<span class="linenos">  99</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_regxof</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">65</span>
<span class="linenos"> 100</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_meta</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">66</span>
<span class="linenos"> 101</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_data</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">67</span>
<span class="linenos"> 102</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_line</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">68</span>
<span class="linenos"> 103</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_point</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">69</span>
<span class="linenos"> 104</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_type</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">70</span>
<span class="linenos"> 105</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_debug_log</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">71</span>
<span class="linenos"> 106</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_arg</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">72</span>
<span class="linenos"> 107</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_write_ours</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="mi">73</span>
<span class="linenos"> 108</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_msize</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">74</span>
<span class="linenos"> 109</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_create</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">75</span>
<span class="linenos"> 110</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_finput</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">76</span>
<span class="linenos"> 111</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_foutput</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">77</span>
<span class="linenos"> 112</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_srcfile</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">78</span>
<span class="linenos"> 113</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_gstatic</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">79</span>
<span class="linenos"> 114</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_indexed</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">80</span>
<span class="linenos"> 115</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_nstype</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">81</span>
<span class="linenos"> 116</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_ctype</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">82</span>
<span class="linenos"> 117</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_pooltype</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">83</span>
<span class="linenos"> 118</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_ssimfile</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">84</span>
<span class="linenos"> 119</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_subset</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">85</span>
<span class="linenos"> 120</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_subset2</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">86</span>
<span class="linenos"> 121</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_separator</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">87</span>
<span class="linenos"> 122</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_dflt</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">88</span>
<span class="linenos"> 123</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_anon</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">89</span>
<span class="linenos"> 124</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_bigend</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">90</span>
<span class="linenos"> 125</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_cascdel</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">91</span>
<span class="linenos"> 126</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_before</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">92</span>
<span class="linenos"> 127</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_substr</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">93</span>
<span class="linenos"> 128</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_alias</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">94</span>
<span class="linenos"> 129</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_srcfield</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">95</span>
<span class="linenos"> 130</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_fstep</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">96</span>
<span class="linenos"> 131</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_inscond</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">97</span>
<span class="linenos"> 132</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_reftype</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">98</span>
<span class="linenos"> 133</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_hashfld</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">99</span>
<span class="linenos"> 134</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_sortfld</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span>
<span class="linenos"> 135</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_unittest</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">101</span>
<span class="linenos"> 136</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_citest</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">102</span>
<span class="linenos"> 137</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_cppfunc</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">103</span>
<span class="linenos"> 138</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_via</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">104</span>
<span class="linenos"> 139</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_comment</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">105</span>
<span class="linenos"> 140</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_sandbox</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">106</span>
<span class="linenos"> 141</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_test</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">107</span>
<span class="linenos"> 142</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_showcpp</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">108</span>
<span class="linenos"> 143</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_msgtype</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">109</span>
<span class="linenos"> 144</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_anonfld</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">110</span>
<span class="linenos"> 145</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_sigcheck</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">111</span>
<span class="linenos"> 146</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_data_dir</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">112</span>
<span class="linenos"> 147</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_related</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">113</span>
<span class="linenos"> 148</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_notssimfile</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="mi">114</span>
<span class="linenos"> 149</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_checkable</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">115</span>
<span class="linenos"> 150</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_r</span><span class="w">                          </span><span class="o">=</span><span class="w"> </span><span class="mi">116</span>
<span class="linenos"> 151</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_nsdb</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">117</span>
<span class="linenos"> 152</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_fkey</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">118</span>
<span class="linenos"> 153</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_start</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">119</span>
<span class="linenos"> 154</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_stop</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">120</span>
<span class="linenos"> 155</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_abort</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">121</span>
<span class="linenos"> 156</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_shell</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">122</span>
<span class="linenos"> 157</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_serv</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">123</span>
<span class="linenos"> 158</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_in_dir</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">124</span>
<span class="linenos"> 159</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_proto</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">125</span>
<span class="linenos"> 160</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_trace</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">126</span>
<span class="linenos"> 161</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_key</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">127</span>
<span class="linenos"> 162</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_include</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">128</span>
<span class="linenos"> 163</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_dot</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">129</span>
<span class="linenos"> 164</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_xns</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">130</span>
<span class="linenos"> 165</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_noinput</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">131</span>
<span class="linenos"> 166</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_render</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">132</span>
<span class="linenos"> 167</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_id</span><span class="w">                         </span><span class="o">=</span><span class="w"> </span><span class="mi">133</span>
<span class="linenos"> 168</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_file_prefix</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="mi">134</span>
<span class="linenos"> 169</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_nchild</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">135</span>
<span class="linenos"> 170</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_blocking</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">136</span>
<span class="linenos"> 171</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_nmsg</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">137</span>
<span class="linenos"> 172</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_timeout</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">138</span>
<span class="linenos"> 173</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_recvdelay_ns</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="mi">139</span>
<span class="linenos"> 174</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_senddelay_ns</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="mi">140</span>
<span class="linenos"> 175</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_msgsize_min</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="mi">141</span>
<span class="linenos"> 176</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_msgsize_max</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="mi">142</span>
<span class="linenos"> 177</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_bufsize</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">143</span>
<span class="linenos"> 178</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_recvdelay</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">144</span>
<span class="linenos"> 179</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_pkgdata</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">145</span>
<span class="linenos"> 180</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_diff</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">146</span>
<span class="linenos"> 181</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_push</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">147</span>
<span class="linenos"> 182</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_remove</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">148</span>
<span class="linenos"> 183</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_origin</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">149</span>
<span class="linenos"> 184</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_ref</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">150</span>
<span class="linenos"> 185</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_showrec</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">151</span>
<span class="linenos"> 186</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_showfile</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">152</span>
<span class="linenos"> 187</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_R</span><span class="w">                          </span><span class="o">=</span><span class="w"> </span><span class="mi">153</span>
<span class="linenos"> 188</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_reset</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">154</span>
<span class="linenos"> 189</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_checkclean</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="mi">155</span>
<span class="linenos"> 190</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_stat</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">156</span>
<span class="linenos"> 191</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_annotate</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">157</span>
<span class="linenos"> 192</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_data_in</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">158</span>
<span class="linenos"> 193</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_binpath</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">159</span>
<span class="linenos"> 194</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_amctest</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">160</span>
<span class="linenos"> 195</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_dofork</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">161</span>
<span class="linenos"> 196</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_q</span><span class="w">                          </span><span class="o">=</span><span class="w"> </span><span class="mi">162</span>
<span class="linenos"> 197</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_cijob</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">163</span>
<span class="linenos"> 198</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_capture</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">164</span>
<span class="linenos"> 199</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_exec</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">165</span>
<span class="linenos"> 200</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_astr</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">166</span>
<span class="linenos"> 201</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_anum</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">167</span>
<span class="linenos"> 202</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_adbl</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">168</span>
<span class="linenos"> 203</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_aflag</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">169</span>
<span class="linenos"> 204</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_str</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">170</span>
<span class="linenos"> 205</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_num</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">171</span>
<span class="linenos"> 206</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_dbl</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">172</span>
<span class="linenos"> 207</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_flag</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">173</span>
<span class="linenos"> 208</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_dstr</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">174</span>
<span class="linenos"> 209</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_dnum</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">175</span>
<span class="linenos"> 210</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_ddbl</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">176</span>
<span class="linenos"> 211</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_dflag</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">177</span>
<span class="linenos"> 212</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_mstr</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">178</span>
<span class="linenos"> 213</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_mnum</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">179</span>
<span class="linenos"> 214</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_mdbl</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">180</span>
<span class="linenos"> 215</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_amnum</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">181</span>
<span class="linenos"> 216</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_fconst</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">182</span>
<span class="linenos"> 217</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_cconst</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">183</span>
<span class="linenos"> 218</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_dregx</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">184</span>
<span class="linenos"> 219</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_dpkey</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">185</span>
<span class="linenos"> 220</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_comptest</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">186</span>
<span class="linenos"> 221</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_mdbg</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">187</span>
<span class="linenos"> 222</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_run</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">188</span>
<span class="linenos"> 223</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_printinput</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="mi">189</span>
<span class="linenos"> 224</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_normalize</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">190</span>
<span class="linenos"> 225</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_covcapture</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="mi">191</span>
<span class="linenos"> 226</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_covcheck</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">192</span>
<span class="linenos"> 227</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_compdir</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">193</span>
<span class="linenos"> 228</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_check_untracked</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="mi">194</span>
<span class="linenos"> 229</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_memcheck</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">195</span>
<span class="linenos"> 230</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_callgrind</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">196</span>
<span class="linenos"> 231</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_stream</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">197</span>
<span class="linenos"> 232</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_i</span><span class="w">                          </span><span class="o">=</span><span class="w"> </span><span class="mi">198</span>
<span class="linenos"> 233</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_b</span><span class="w">                          </span><span class="o">=</span><span class="w"> </span><span class="mi">199</span>
<span class="linenos"> 234</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_covdir</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">200</span>
<span class="linenos"> 235</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_logfile</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">201</span>
<span class="linenos"> 236</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_runcmd</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">202</span>
<span class="linenos"> 237</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_exclude</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">203</span>
<span class="linenos"> 238</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_mergepath</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">204</span>
<span class="linenos"> 239</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_gcov</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">205</span>
<span class="linenos"> 240</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_ssim</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">206</span>
<span class="linenos"> 241</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_xmlpretty</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">207</span>
<span class="linenos"> 242</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_summary</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">208</span>
<span class="linenos"> 243</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_reprofile</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">209</span>
<span class="linenos"> 244</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_args</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">210</span>
<span class="linenos"> 245</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_inputfile</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">211</span>
<span class="linenos"> 246</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_fuzzstrat</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">212</span>
<span class="linenos"> 247</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_seed</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">213</span>
<span class="linenos"> 248</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_testprob</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">214</span>
<span class="linenos"> 249</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_gtblacttst</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="mi">215</span>
<span class="linenos"> 250</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_mr</span><span class="w">                         </span><span class="o">=</span><span class="w"> </span><span class="mi">216</span>
<span class="linenos"> 251</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_note</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">217</span>
<span class="linenos"> 252</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_skip_init</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">218</span>
<span class="linenos"> 253</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_skip_git_init</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="mi">219</span>
<span class="linenos"> 254</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_randomize_ports</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="mi">220</span>
<span class="linenos"> 255</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_ncmd</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">221</span>
<span class="linenos"> 256</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_nofork</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">222</span>
<span class="linenos"> 257</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_perf_secs</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">223</span>
<span class="linenos"> 258</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_pertest_timeout</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="mi">224</span>
<span class="linenos"> 259</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_wtblacttst</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="mi">225</span>
<span class="linenos"> 260</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_wiki_envnode</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="mi">226</span>
<span class="linenos"> 261</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_wiki_kill</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">227</span>
<span class="linenos"> 262</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_wiki_start</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="mi">228</span>
<span class="linenos"> 263</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_wiki_update</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="mi">229</span>
<span class="linenos"> 264</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_wiki_update_help</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">230</span>
<span class="linenos"> 265</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_wiki_update_fields</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="mi">231</span>
<span class="linenos"> 266</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_wiki_clean_start</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">232</span>
<span class="linenos"> 267</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_authdir_dflt</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="mi">233</span>
<span class="linenos"> 268</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_wikisite</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">234</span>
<span class="linenos"> 269</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_cmd_dctr</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">235</span>
<span class="linenos"> 270</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_config_ssh</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="mi">236</span>
<span class="linenos"> 271</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_config_ssh_vpn</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="mi">237</span>
<span class="linenos"> 272</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_clean_run</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">238</span>
<span class="linenos"> 273</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_inspect</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">239</span>
<span class="linenos"> 274</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_logs</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">240</span>
<span class="linenos"> 275</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_generate_build</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="mi">241</span>
<span class="linenos"> 276</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_dhost</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">242</span>
<span class="linenos"> 277</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_dctr</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">243</span>
<span class="linenos"> 278</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_dctrhost</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">244</span>
<span class="linenos"> 279</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_script_dir</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="mi">245</span>
<span class="linenos"> 280</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_cloneto</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">246</span>
<span class="linenos"> 281</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_renameto</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">247</span>
<span class="linenos"> 282</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_purge</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">248</span>
<span class="linenos"> 283</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_deep</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">249</span>
<span class="linenos"> 284</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_sync</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">250</span>
<span class="linenos"> 285</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_keep_files</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="mi">251</span>
<span class="linenos"> 286</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_dctr_from</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">252</span>
<span class="linenos"> 287</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_dhost_ip</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">253</span>
<span class="linenos"> 288</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_dhost_ext_ip</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="mi">254</span>
<span class="linenos"> 289</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_dhost_ext_port</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="mi">255</span>
<span class="linenos"> 290</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_dhost_user</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="mi">256</span>
<span class="linenos"> 291</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_genamc</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">257</span>
<span class="linenos"> 292</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_xml</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">258</span>
<span class="linenos"> 293</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_add_reset</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">259</span>
<span class="linenos"> 294</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_encode</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">260</span>
<span class="linenos"> 295</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_decode</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">261</span>
<span class="linenos"> 296</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_enc</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">262</span>
<span class="linenos"> 297</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_nullable</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">263</span>
<span class="linenos"> 298</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_ifmt</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">264</span>
<span class="linenos"> 299</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_ofmt</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">265</span>
<span class="linenos"> 300</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_echo</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">266</span>
<span class="linenos"> 301</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_hex</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">267</span>
<span class="linenos"> 302</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_fix_bs</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">268</span>
<span class="linenos"> 303</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_fix_soh</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">269</span>
<span class="linenos"> 304</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_fix_nl</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">270</span>
<span class="linenos"> 305</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_fast_msg_max</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="mi">271</span>
<span class="linenos"> 306</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_stats</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">272</span>
<span class="linenos"> 307</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_enable</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">273</span>
<span class="linenos"> 308</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_disable</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">274</span>
<span class="linenos"> 309</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_gc</span><span class="w">                         </span><span class="o">=</span><span class="w"> </span><span class="mi">275</span>
<span class="linenos"> 310</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_dir</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">276</span>
<span class="linenos"> 311</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_hitrate</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">277</span>
<span class="linenos"> 312</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_after</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">278</span>
<span class="linenos"> 313</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_selector</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">279</span>
<span class="linenos"> 314</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_fields</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">280</span>
<span class="linenos"> 315</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_accept</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">281</span>
<span class="linenos"> 316</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_approve</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">282</span>
<span class="linenos"> 317</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_needs_work</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="mi">283</span>
<span class="linenos"> 318</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_authdir</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">284</span>
<span class="linenos"> 319</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_gitdir</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">285</span>
<span class="linenos"> 320</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_show_gitlab_system_notes</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">286</span>
<span class="linenos"> 321</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_gmvproj</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">287</span>
<span class="linenos"> 322</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_move_out</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">288</span>
<span class="linenos"> 323</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_move_in</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">289</span>
<span class="linenos"> 324</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_commit</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">290</span>
<span class="linenos"> 325</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_no_rebase</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">291</span>
<span class="linenos"> 326</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_attach</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">292</span>
<span class="linenos"> 327</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_catchthrow</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="mi">293</span>
<span class="linenos"> 328</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_tui</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">294</span>
<span class="linenos"> 329</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_bcmd</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">295</span>
<span class="linenos"> 330</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_emacs</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">296</span>
<span class="linenos"> 331</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_manywin</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">297</span>
<span class="linenos"> 332</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_follow_child</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="mi">298</span>
<span class="linenos"> 333</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_py</span><span class="w">                         </span><span class="o">=</span><span class="w"> </span><span class="mi">299</span>
<span class="linenos"> 334</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_writessimfile</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="mi">300</span>
<span class="linenos"> 335</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_url</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">301</span>
<span class="linenos"> 336</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_tables</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">302</span>
<span class="linenos"> 337</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_nologo</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">303</span>
<span class="linenos"> 338</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_baddbok</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">304</span>
<span class="linenos"> 339</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_move</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">305</span>
<span class="linenos"> 340</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_dedup</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">306</span>
<span class="linenos"> 341</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_undo</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">307</span>
<span class="linenos"> 342</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_hash</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">308</span>
<span class="linenos"> 343</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_expr</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">309</span>
<span class="linenos"> 344</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_style</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">310</span>
<span class="linenos"> 345</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_match</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">311</span>
<span class="linenos"> 346</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_string</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">312</span>
<span class="linenos"> 347</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_show</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">313</span>
<span class="linenos"> 348</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_name</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">314</span>
<span class="linenos"> 349</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_files</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">315</span>
<span class="linenos"> 350</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_refs</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">316</span>
<span class="linenos"> 351</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_site</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">317</span>
<span class="linenos"> 352</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_builder</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">318</span>
<span class="linenos"> 353</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_build_fail_on_warning</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mi">319</span>
<span class="linenos"> 354</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_build_quiet</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="mi">320</span>
<span class="linenos"> 355</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_jobs</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">321</span>
<span class="linenos"> 356</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_preserve_footer</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="mi">322</span>
<span class="linenos"> 357</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_serve</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">323</span>
<span class="linenos"> 358</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_serve_dctrhost</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="mi">324</span>
<span class="linenos"> 359</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_serve_pages</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="mi">325</span>
<span class="linenos"> 360</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_serve_verify</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="mi">326</span>
<span class="linenos"> 361</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_workdir</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">327</span>
<span class="linenos"> 362</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_opts_numbered</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="mi">328</span>
<span class="linenos"> 363</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_body</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">329</span>
<span class="linenos"> 364</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_targsrc</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">330</span>
<span class="linenos"> 365</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_func</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">331</span>
<span class="linenos"> 366</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_nextfile</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">332</span>
<span class="linenos"> 367</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_other</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">333</span>
<span class="linenos"> 368</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_updateproto</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="mi">334</span>
<span class="linenos"> 369</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_listfunc</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">335</span>
<span class="linenos"> 370</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_iffy</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">336</span>
<span class="linenos"> 371</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_gen</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">337</span>
<span class="linenos"> 372</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_showloc</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">338</span>
<span class="linenos"> 373</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_showstatic</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="mi">339</span>
<span class="linenos"> 374</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_showsortkey</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="mi">340</span>
<span class="linenos"> 375</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_sortname</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">341</span>
<span class="linenos"> 376</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_baddecl</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">342</span>
<span class="linenos"> 377</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_indent</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">343</span>
<span class="linenos"> 378</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_update_copyright</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">344</span>
<span class="linenos"> 379</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_scriptfile</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="mi">345</span>
<span class="linenos"> 380</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_linelim</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">346</span>
<span class="linenos"> 381</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_strayfile</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">347</span>
<span class="linenos"> 382</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_badchar</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">348</span>
<span class="linenos"> 383</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_badline</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">349</span>
<span class="linenos"> 384</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_expand</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">350</span>
<span class="linenos"> 385</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_ignoreQuote</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="mi">351</span>
<span class="linenos"> 386</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_maxpacket</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">352</span>
<span class="linenos"> 387</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_db</span><span class="w">                         </span><span class="o">=</span><span class="w"> </span><span class="mi">353</span>
<span class="linenos"> 388</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_createdb</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">354</span>
<span class="linenos"> 389</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_typetag</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">355</span>
<span class="linenos"> 390</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_format</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">356</span>
<span class="linenos"> 391</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_tocamelcase</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="mi">357</span>
<span class="linenos"> 392</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_tolowerunder</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="mi">358</span>
<span class="linenos"> 393</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_pathcomp</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">359</span>
<span class="linenos"> 394</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_fname</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">360</span>
<span class="linenos"> 395</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_outseparator</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="mi">361</span>
<span class="linenos"> 396</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_header</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">362</span>
<span class="linenos"> 397</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_prefer_signed</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="mi">363</span>
<span class="linenos"> 398</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_begin</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">364</span>
<span class="linenos"> 399</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_end</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">365</span>
<span class="linenos"> 400</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_stay</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">366</span>
<span class="linenos"> 401</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_from</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">367</span>
<span class="linenos"> 402</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_to</span><span class="w">                         </span><span class="o">=</span><span class="w"> </span><span class="mi">368</span>
<span class="linenos"> 403</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_download</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">369</span>
<span class="linenos"> 404</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_upload</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">370</span>
<span class="linenos"> 405</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_ignore_saved_edit</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="mi">371</span>
<span class="linenos"> 406</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_exclude_subpages</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">372</span>
<span class="linenos"> 407</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_pagedir</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">373</span>
<span class="linenos"> 408</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_envnode</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">374</span>
<span class="linenos"> 409</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_admsvc</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">375</span>
<span class="linenos"> 410</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_generate</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">376</span>
<span class="linenos"> 411</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_verify</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">377</span>
<span class="linenos"> 412</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_prefix</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">378</span>
<span class="linenos"> 413</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_root</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">379</span>
<span class="linenos"> 414</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_user</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">380</span>
<span class="linenos"> 415</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_rsync_put</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">381</span>
<span class="linenos"> 416</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_rsync_get</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">382</span>
<span class="linenos"> 417</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_rsync_opts</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="mi">383</span>
<span class="linenos"> 418</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_local</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">384</span>
<span class="linenos"> 419</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_remote</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mi">385</span>
<span class="linenos"> 420</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_maxtime</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mi">386</span>
<span class="linenos"> 421</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_gw</span><span class="w">                         </span><span class="o">=</span><span class="w"> </span><span class="mi">387</span>
<span class="linenos"> 422</span><span class="w">    </span><span class="p">,</span><span class="n">command_FieldId_value</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">388</span>
<span class="linenos"> 423</span><span class="p">};</span>
<span class="linenos"> 424</span>
<span class="linenos"> 425</span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">command_FieldIdEnum_N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">389</span><span class="w"> </span><span class="p">};</span>
<span class="linenos"> 426</span>
<span class="linenos"> 427</span>
<span class="linenos"> 428</span><span class="c1">// --- command_abt_cache_Enum</span>
<span class="linenos"> 429</span>
<span class="linenos"> 430</span><span class="k">enum</span><span class="w"> </span><span class="nc">command_abt_cache_Enum</span><span class="w"> </span><span class="p">{</span><span class="w">               </span><span class="c1">// command.abt.cache</span>
<span class="linenos"> 431</span><span class="w">     </span><span class="n">command_abt_cache_auto</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w">   </span><span class="c1">// Select cache automatically among enabled</span>
<span class="linenos"> 432</span><span class="w">    </span><span class="p">,</span><span class="n">command_abt_cache_none</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">   </span><span class="c1">// No cache</span>
<span class="linenos"> 433</span><span class="w">    </span><span class="p">,</span><span class="n">command_abt_cache_gcache</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">   </span><span class="c1">// Select gcache if enabled (no cache if disabled)</span>
<span class="linenos"> 434</span><span class="w">    </span><span class="p">,</span><span class="n">command_abt_cache_gcache_force</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w">   </span><span class="c1">// Pass --force to gcache (no cache if disabled)</span>
<span class="linenos"> 435</span><span class="w">    </span><span class="p">,</span><span class="n">command_abt_cache_ccache</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="w">   </span><span class="c1">// Select ccache if enabled (no cache if disabled)</span>
<span class="linenos"> 436</span><span class="p">};</span>
<span class="linenos"> 437</span>
<span class="linenos"> 438</span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">command_abt_cache_Enum_N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">};</span>
<span class="linenos"> 439</span>
<span class="linenos"> 440</span>
<span class="linenos"> 441</span><span class="c1">// --- command_atf_cmdline_fconst_Enum</span>
<span class="linenos"> 442</span>
<span class="linenos"> 443</span><span class="k">enum</span><span class="w"> </span><span class="nc">command_atf_cmdline_fconst_Enum</span><span class="w"> </span><span class="p">{</span><span class="w">         </span><span class="c1">// command.atf_cmdline.fconst</span>
<span class="linenos"> 444</span><span class="w">     </span><span class="n">command_atf_cmdline_fconst_high</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w">   </span><span class="c1">// Cool</span>
<span class="linenos"> 445</span><span class="w">    </span><span class="p">,</span><span class="n">command_atf_cmdline_fconst_medium</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">   </span><span class="c1">// So-so</span>
<span class="linenos"> 446</span><span class="w">    </span><span class="p">,</span><span class="n">command_atf_cmdline_fconst_low</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">   </span><span class="c1">// Bad</span>
<span class="linenos"> 447</span><span class="p">};</span>
<span class="linenos"> 448</span>
<span class="linenos"> 449</span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">command_atf_cmdline_fconst_Enum_N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">};</span>
<span class="linenos"> 450</span>
<span class="linenos"> 451</span>
<span class="linenos"> 452</span><span class="c1">// --- command_fast_enc_Enum</span>
<span class="linenos"> 453</span>
<span class="linenos"> 454</span><span class="k">enum</span><span class="w"> </span><span class="nc">command_fast_enc_Enum</span><span class="w"> </span><span class="p">{</span><span class="w">             </span><span class="c1">// command.fast.enc</span>
<span class="linenos"> 455</span><span class="w">     </span><span class="n">command_fast_enc_none</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w">   </span><span class="c1">// Unspecified</span>
<span class="linenos"> 456</span><span class="w">    </span><span class="p">,</span><span class="n">command_fast_enc_unsigned</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">   </span><span class="c1">// Unsigned</span>
<span class="linenos"> 457</span><span class="w">    </span><span class="p">,</span><span class="n">command_fast_enc_signed</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">   </span><span class="c1">// Signed</span>
<span class="linenos"> 458</span><span class="w">    </span><span class="p">,</span><span class="n">command_fast_enc_string</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w">   </span><span class="c1">// String</span>
<span class="linenos"> 459</span><span class="w">    </span><span class="p">,</span><span class="n">command_fast_enc_bytevector</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="w">   </span><span class="c1">// Byte vector</span>
<span class="linenos"> 460</span><span class="w">    </span><span class="p">,</span><span class="n">command_fast_enc_scaled</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="w">   </span><span class="c1">// Decimal</span>
<span class="linenos"> 461</span><span class="w">    </span><span class="p">,</span><span class="n">command_fast_enc_pmap</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="w">   </span><span class="c1">// Presence map</span>
<span class="linenos"> 462</span><span class="p">};</span>
<span class="linenos"> 463</span>
<span class="linenos"> 464</span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">command_fast_enc_Enum_N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="p">};</span>
<span class="linenos"> 465</span>
<span class="linenos"> 466</span>
<span class="linenos"> 467</span><span class="c1">// --- command_fast_ifmt_Enum</span>
<span class="linenos"> 468</span>
<span class="linenos"> 469</span><span class="k">enum</span><span class="w"> </span><span class="nc">command_fast_ifmt_Enum</span><span class="w"> </span><span class="p">{</span><span class="w">            </span><span class="c1">// command.fast.ifmt</span>
<span class="linenos"> 470</span><span class="w">     </span><span class="n">command_fast_ifmt_none</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w">   </span><span class="c1">// Unspecified</span>
<span class="linenos"> 471</span><span class="w">    </span><span class="p">,</span><span class="n">command_fast_ifmt_fast</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">   </span><span class="c1">// FAST</span>
<span class="linenos"> 472</span><span class="w">    </span><span class="p">,</span><span class="n">command_fast_ifmt_ssim</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">   </span><span class="c1">// Ssim</span>
<span class="linenos"> 473</span><span class="w">    </span><span class="p">,</span><span class="n">command_fast_ifmt_xetradump</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w">   </span><span class="c1">// Xetra dump format: data: &quot;...&quot;</span>
<span class="linenos"> 474</span><span class="p">};</span>
<span class="linenos"> 475</span>
<span class="linenos"> 476</span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">command_fast_ifmt_Enum_N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">};</span>
<span class="linenos"> 477</span>
<span class="linenos"> 478</span>
<span class="linenos"> 479</span><span class="c1">// --- command_fast_ofmt_Enum</span>
<span class="linenos"> 480</span>
<span class="linenos"> 481</span><span class="k">enum</span><span class="w"> </span><span class="nc">command_fast_ofmt_Enum</span><span class="w"> </span><span class="p">{</span><span class="w">            </span><span class="c1">// command.fast.ofmt</span>
<span class="linenos"> 482</span><span class="w">     </span><span class="n">command_fast_ofmt_none</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w">   </span><span class="c1">// Unspecified</span>
<span class="linenos"> 483</span><span class="w">    </span><span class="p">,</span><span class="n">command_fast_ofmt_fast</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">   </span><span class="c1">// FAST</span>
<span class="linenos"> 484</span><span class="w">    </span><span class="p">,</span><span class="n">command_fast_ofmt_ssim</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">   </span><span class="c1">// Ssim</span>
<span class="linenos"> 485</span><span class="w">    </span><span class="p">,</span><span class="n">command_fast_ofmt_tagvalue</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w">   </span><span class="c1">// FIX tagvalue</span>
<span class="linenos"> 486</span><span class="p">};</span>
<span class="linenos"> 487</span>
<span class="linenos"> 488</span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">command_fast_ofmt_Enum_N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">};</span>
<span class="linenos"> 489</span>
<span class="linenos"> 490</span>
<span class="linenos"> 491</span><span class="c1">// --- command_samp_regx_style_Enum</span>
<span class="linenos"> 492</span>
<span class="linenos"> 493</span><span class="k">enum</span><span class="w"> </span><span class="nc">command_samp_regx_style_Enum</span><span class="w"> </span><span class="p">{</span><span class="w">          </span><span class="c1">// command.samp_regx.style</span>
<span class="linenos"> 494</span><span class="w">     </span><span class="n">command_samp_regx_style_acr</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w">   </span><span class="c1">// ACR-style regx</span>
<span class="linenos"> 495</span><span class="w">    </span><span class="p">,</span><span class="n">command_samp_regx_style_shell</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">   </span><span class="c1">// Shell-style regx</span>
<span class="linenos"> 496</span><span class="w">    </span><span class="p">,</span><span class="n">command_samp_regx_style_classic</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">   </span><span class="c1">// Classic regx</span>
<span class="linenos"> 497</span><span class="w">    </span><span class="p">,</span><span class="n">command_samp_regx_style_literal</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w">   </span><span class="c1">// Literal string</span>
<span class="linenos"> 498</span><span class="p">};</span>
<span class="linenos"> 499</span>
<span class="linenos"> 500</span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">command_samp_regx_style_Enum_N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">};</span>
<span class="linenos"> 501</span>
<span class="linenos"> 502</span>
<span class="linenos"> 503</span><span class="c1">// --- command_ssimfilt_format_Enum</span>
<span class="linenos"> 504</span>
<span class="linenos"> 505</span><span class="k">enum</span><span class="w"> </span><span class="nc">command_ssimfilt_format_Enum</span><span class="w"> </span><span class="p">{</span><span class="w">        </span><span class="c1">// command.ssimfilt.format</span>
<span class="linenos"> 506</span><span class="w">     </span><span class="n">command_ssimfilt_format_ssim</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w">   </span><span class="c1">// Print selected/filtered tuples</span>
<span class="linenos"> 507</span><span class="w">    </span><span class="p">,</span><span class="n">command_ssimfilt_format_csv</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">   </span><span class="c1">// First tuple determines header. CSV quoting is used. Newlines are removed</span>
<span class="linenos"> 508</span><span class="w">    </span><span class="p">,</span><span class="n">command_ssimfilt_format_field</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">   </span><span class="c1">// Print selected fields, one per line</span>
<span class="linenos"> 509</span><span class="w">    </span><span class="p">,</span><span class="n">command_ssimfilt_format_cmd</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="w">   </span><span class="c1">// Emit command for each tuple (implied if -cmd is set)</span>
<span class="linenos"> 510</span><span class="w">    </span><span class="p">,</span><span class="n">command_ssimfilt_format_json</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="w">   </span><span class="c1">// Print JSON object for each tuple</span>
<span class="linenos"> 511</span><span class="w">    </span><span class="p">,</span><span class="n">command_ssimfilt_format_table</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="w">   </span><span class="c1">// ASCII table for each group of tuples</span>
<span class="linenos"> 512</span><span class="p">};</span>
<span class="linenos"> 513</span>
<span class="linenos"> 514</span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">command_ssimfilt_format_Enum_N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="p">};</span>
<span class="linenos"> 515</span>
<span class="linenos"> 516</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// gen:ns_pkeytypedef</span>
<span class="linenos"> 517</span><span class="p">}</span><span class="w"> </span><span class="c1">// gen:ns_pkeytypedef</span>
<span class="linenos"> 518</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// gen:ns_tclass_field</span>
<span class="linenos"> 519</span><span class="p">}</span><span class="w"> </span><span class="c1">// gen:ns_tclass_field</span>
<span class="linenos"> 520</span><span class="c1">// gen:ns_fwddecl2</span>
<span class="linenos"> 521</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_where_curs</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 522</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_field_curs</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 523</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_dm_arg_curs</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 524</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_cmdline_mstr_curs</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 525</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_cmdline_mnum_curs</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 526</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_cmdline_mdbl_curs</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 527</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_cmdline_amnum_curs</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 528</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_wcli_wiki_update_fields_curs</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 529</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">gcache_cmd_curs</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 530</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">gcli_fields_curs</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 531</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">mdbg_args_curs</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 532</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">mdbg_b_curs</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 533</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">sandbox_cmd_curs</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 534</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">sandbox_files_curs</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 535</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">ssimfilt_match_curs</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 536</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">ssimfilt_field_curs</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 537</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">wcli_fields_curs</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 538</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">FieldId</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 539</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">abt</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 540</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">abt_md</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 541</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">abt_md_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 542</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">abt_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 543</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">acr</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 544</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_compl</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 545</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_compl_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 546</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_dm</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 547</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_dm_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 548</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_ed</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 549</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_ed_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 550</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_in</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 551</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_in_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 552</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_my</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 553</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_my_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 554</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 555</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">amc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 556</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">amc_gc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 557</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">amc_gc_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 558</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">amc_js</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 559</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">amc_js_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 560</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">amc_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 561</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">amc_vis</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 562</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">amc_vis_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 563</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">ams_cat</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 564</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">ams_cat_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 565</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">ams_sendtest</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 566</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">ams_sendtest_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 567</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">apm</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 568</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">apm_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 569</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_amc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 570</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_amc_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 571</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_ci</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 572</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_ci_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 573</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_cmdline</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 574</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_cmdline_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 575</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_comp</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 576</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_comp_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 577</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_cov</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 578</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_cov_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 579</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_fuzz</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 580</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_fuzz_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 581</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_gcli</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 582</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_gcli_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 583</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_netio</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 584</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_netio_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 585</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_nrun</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 586</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_nrun_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 587</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_unit</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 588</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_unit_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 589</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_wcli</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 590</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_wcli_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 591</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_ws</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 592</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_ws_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 593</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">bash</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 594</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">bash2html</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 595</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">bash2html_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 596</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">bash_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 597</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">dcli</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 598</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">dcli_ed</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 599</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">dcli_ed_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 600</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">dcli_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 601</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">fast</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 602</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">fast_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 603</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">gcache</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 604</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">gcache_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 605</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">gcli</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 606</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">gcli_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 607</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">gmv</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 608</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">gmv_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 609</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">mdbg</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 610</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">mdbg_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 611</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">mysql2ssim</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 612</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">mysql2ssim_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 613</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">orgfile</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 614</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">orgfile_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 615</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">samp_regx</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 616</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">samp_regx_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 617</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">samp_ws</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 618</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">samp_ws_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 619</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">sandbox</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 620</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">sandbox_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 621</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">spnx</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 622</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">spnx_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 623</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">src_func</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 624</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">src_func_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 625</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">src_hdr</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 626</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">src_hdr_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 627</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">src_lim</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 628</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">src_lim_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 629</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">ssim2csv</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 630</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">ssim2csv_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 631</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">ssim2mysql</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 632</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">ssim2mysql_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 633</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">ssimfilt</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 634</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">ssimfilt_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 635</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">strconv</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 636</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">strconv_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 637</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">sv2ssim</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 638</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">sv2ssim_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 639</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">ttrack</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 640</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">ttrack_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 641</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">wcli</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 642</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">wcli_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 643</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">x2admin</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 644</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">x2admin_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 645</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">x2cmt</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 646</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">x2cmt_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 647</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">x2gf</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 648</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">x2gf_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 649</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">x2gw</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 650</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">x2gw_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 651</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">x2mon</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 652</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">x2mon_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 653</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">x2node</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 654</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">x2node_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 655</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">x2read</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 656</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">x2read_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 657</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">x2sup</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 658</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">x2sup_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 659</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">x2txn</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 660</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">x2txn_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 661</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">x2write</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 662</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">x2write_proc</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos"> 663</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// gen:ns_print_struct</span>
<span class="linenos"> 664</span>
<span class="linenos"> 665</span><span class="c1">// --- command.FieldId</span>
<span class="linenos"> 666</span><span class="cp">#pragma pack(push,1)</span>
<span class="linenos"> 667</span><span class="k">struct</span><span class="w"> </span><span class="nc">FieldId</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.FieldId: Field read helper</span>
<span class="linenos"> 668</span><span class="w">    </span><span class="n">i32</span><span class="w">   </span><span class="n">value</span><span class="p">;</span><span class="w">   </span><span class="c1">//   -1</span>
<span class="linenos"> 669</span><span class="w">    </span><span class="kr">inline</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="n">command_FieldIdEnum</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="linenos"> 670</span><span class="w">    </span><span class="k">explicit</span><span class="w"> </span><span class="n">FieldId</span><span class="p">(</span><span class="n">i32</span><span class="w">                            </span><span class="n">in_value</span><span class="p">);</span>
<span class="linenos"> 671</span><span class="w">    </span><span class="n">FieldId</span><span class="p">(</span><span class="n">command_FieldIdEnum</span><span class="w"> </span><span class="n">arg</span><span class="p">);</span>
<span class="linenos"> 672</span><span class="w">    </span><span class="n">FieldId</span><span class="p">();</span>
<span class="linenos"> 673</span><span class="p">};</span>
<span class="linenos"> 674</span><span class="cp">#pragma pack(pop)</span>
<span class="linenos"> 675</span>
<span class="linenos"> 676</span><span class="c1">// Get value of field as enum type</span>
<span class="linenos"> 677</span><span class="c1">// func:command.FieldId.value.GetEnum</span>
<span class="linenos"> 678</span><span class="n">command_FieldIdEnum</span><span class="w">  </span><span class="nf">value_GetEnum</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 679</span><span class="c1">// Set value of field from enum type.</span>
<span class="linenos"> 680</span><span class="c1">// func:command.FieldId.value.SetEnum</span>
<span class="linenos"> 681</span><span class="kt">void</span><span class="w">                 </span><span class="nf">value_SetEnum</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command_FieldIdEnum</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 682</span><span class="c1">// Convert numeric value of field to one of predefined string constants.</span>
<span class="linenos"> 683</span><span class="c1">// If string is found, return a static C string. Otherwise, return NULL.</span>
<span class="linenos"> 684</span><span class="c1">// func:command.FieldId.value.ToCstr</span>
<span class="linenos"> 685</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w">          </span><span class="nf">value_ToCstr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 686</span><span class="c1">// Convert value to a string. First, attempt conversion to a known string.</span>
<span class="linenos"> 687</span><span class="c1">// If no string matches, print value as a numeric value.</span>
<span class="linenos"> 688</span><span class="c1">// func:command.FieldId.value.Print</span>
<span class="linenos"> 689</span><span class="kt">void</span><span class="w">                 </span><span class="nf">value_Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 690</span><span class="c1">// Convert string to field.</span>
<span class="linenos"> 691</span><span class="c1">// If the string is invalid, do not modify field and return false.</span>
<span class="linenos"> 692</span><span class="c1">// In case of success, return true</span>
<span class="linenos"> 693</span><span class="c1">// func:command.FieldId.value.SetStrptrMaybe</span>
<span class="linenos"> 694</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">value_SetStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 695</span><span class="c1">// Convert string to field.</span>
<span class="linenos"> 696</span><span class="c1">// If the string is invalid, set numeric value to DFLT</span>
<span class="linenos"> 697</span><span class="c1">// func:command.FieldId.value.SetStrptr</span>
<span class="linenos"> 698</span><span class="kt">void</span><span class="w">                 </span><span class="nf">value_SetStrptr</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">,</span><span class="w"> </span><span class="n">command_FieldIdEnum</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 699</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 700</span><span class="c1">// func:command.FieldId.value.ReadStrptrMaybe</span>
<span class="linenos"> 701</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">value_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 702</span>
<span class="linenos"> 703</span><span class="c1">// Read fields of command::FieldId from an ascii string.</span>
<span class="linenos"> 704</span><span class="c1">// The format of the string is the format of the command::FieldId&#39;s only field</span>
<span class="linenos"> 705</span><span class="c1">// func:command.FieldId..ReadStrptrMaybe</span>
<span class="linenos"> 706</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">FieldId_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 707</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos"> 708</span><span class="c1">// func:command.FieldId..Init</span>
<span class="linenos"> 709</span><span class="kt">void</span><span class="w">                 </span><span class="nf">FieldId_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 710</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 711</span><span class="c1">// cfmt:command.FieldId.String  printfmt:Raw</span>
<span class="linenos"> 712</span><span class="c1">// func:command.FieldId..Print</span>
<span class="linenos"> 713</span><span class="kt">void</span><span class="w">                 </span><span class="nf">FieldId_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 714</span>
<span class="linenos"> 715</span><span class="c1">// --- command.abt</span>
<span class="linenos"> 716</span><span class="c1">// access: command.abt_proc.abt (Exec)</span>
<span class="linenos"> 717</span><span class="k">struct</span><span class="w"> </span><span class="nc">abt</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.abt</span>
<span class="linenos"> 718</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">     </span><span class="n">target</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;&quot;  Sql Regx of dev::Target</span>
<span class="linenos"> 719</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">in</span><span class="p">;</span><span class="w">         </span><span class="c1">//   &quot;data&quot;  Root of input ssim dir</span>
<span class="linenos"> 720</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">out_dir</span><span class="p">;</span><span class="w">    </span><span class="c1">//   &quot;&quot;  Output directory</span>
<span class="linenos"> 721</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">   </span><span class="n">cfg</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;&quot;  Set config</span>
<span class="linenos"> 722</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">   </span><span class="n">compiler</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;&quot;  Set compiler.</span>
<span class="linenos"> 723</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">   </span><span class="n">uname</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;&quot;  Set uname (default: guess)</span>
<span class="linenos"> 724</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">   </span><span class="n">arch</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;&quot;  Set architecture (default: guess)</span>
<span class="linenos"> 725</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">ood</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false  List out-of-date source files</span>
<span class="linenos"> 726</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">list</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  List target files</span>
<span class="linenos"> 727</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">listincl</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  List includes</span>
<span class="linenos"> 728</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">build</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  If set, build specified target (all necessary steps)</span>
<span class="linenos"> 729</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">preproc</span><span class="p">;</span><span class="w">    </span><span class="c1">//   false  Preprocess file, produce .i file</span>
<span class="linenos"> 730</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">clean</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  Delete all output files</span>
<span class="linenos"> 731</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">dry_run</span><span class="p">;</span><span class="w">    </span><span class="c1">//   false  Print actions, do not perform</span>
<span class="linenos"> 732</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">maxjobs</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  Maximum number of child build processes. 0=pick good default</span>
<span class="linenos"> 733</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">printcmd</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  Print commands. Do not execute</span>
<span class="linenos"> 734</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">force</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  Assume all files are out-of-date</span>
<span class="linenos"> 735</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">install</span><span class="p">;</span><span class="w">    </span><span class="c1">//   false  Update soft-link under bin/</span>
<span class="linenos"> 736</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">coverity</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  Run abt in coverity mode</span>
<span class="linenos"> 737</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">package</span><span class="p">;</span><span class="w">    </span><span class="c1">//   &quot;&quot;  Package tag</span>
<span class="linenos"> 738</span><span class="w">    </span><span class="n">u32</span><span class="w">                </span><span class="n">maxerr</span><span class="p">;</span><span class="w">     </span><span class="c1">//   100  Max failing commands before rest of pipeline is forced to fail</span>
<span class="linenos"> 739</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">     </span><span class="n">disas</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;&quot;  Sql Regx</span>
<span class="linenos"> 740</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">report</span><span class="p">;</span><span class="w">     </span><span class="c1">//   true  Print final report</span>
<span class="linenos"> 741</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">jcdb</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;&quot;  Create JSON compilation database in specified file</span>
<span class="linenos"> 742</span><span class="w">    </span><span class="n">u8</span><span class="w">                 </span><span class="n">cache</span><span class="p">;</span><span class="w">      </span><span class="c1">//   0  Cache mode</span>
<span class="linenos"> 743</span><span class="w">    </span><span class="n">abt</span><span class="p">();</span>
<span class="linenos"> 744</span><span class="k">private</span><span class="o">:</span>
<span class="linenos"> 745</span><span class="w">    </span><span class="c1">// reftype Regx of command.abt.target prohibits copy</span>
<span class="linenos"> 746</span><span class="w">    </span><span class="c1">// reftype Regx of command.abt.disas prohibits copy</span>
<span class="linenos"> 747</span><span class="w">    </span><span class="n">abt</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">abt</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos"> 748</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">abt</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos"> 749</span><span class="p">};</span>
<span class="linenos"> 750</span>
<span class="linenos"> 751</span><span class="c1">// Print back to string</span>
<span class="linenos"> 752</span><span class="c1">// func:command.abt.target.Print</span>
<span class="linenos"> 753</span><span class="kt">void</span><span class="w">                 </span><span class="nf">target_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 754</span><span class="c1">// Read Regx from string</span>
<span class="linenos"> 755</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 756</span><span class="c1">// func:command.abt.target.ReadStrptrMaybe</span>
<span class="linenos"> 757</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">target_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 758</span>
<span class="linenos"> 759</span><span class="c1">// Print back to string</span>
<span class="linenos"> 760</span><span class="c1">// func:command.abt.disas.Print</span>
<span class="linenos"> 761</span><span class="kt">void</span><span class="w">                 </span><span class="nf">disas_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 762</span><span class="c1">// Read Regx from string</span>
<span class="linenos"> 763</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 764</span><span class="c1">// func:command.abt.disas.ReadStrptrMaybe</span>
<span class="linenos"> 765</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">disas_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 766</span>
<span class="linenos"> 767</span><span class="c1">// Get value of field as enum type</span>
<span class="linenos"> 768</span><span class="c1">// func:command.abt.cache.GetEnum</span>
<span class="linenos"> 769</span><span class="n">command_abt_cache_Enum</span><span class="w"> </span><span class="nf">cache_GetEnum</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">abt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 770</span><span class="c1">// Set value of field from enum type.</span>
<span class="linenos"> 771</span><span class="c1">// func:command.abt.cache.SetEnum</span>
<span class="linenos"> 772</span><span class="kt">void</span><span class="w">                 </span><span class="nf">cache_SetEnum</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command_abt_cache_Enum</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 773</span><span class="c1">// Convert numeric value of field to one of predefined string constants.</span>
<span class="linenos"> 774</span><span class="c1">// If string is found, return a static C string. Otherwise, return NULL.</span>
<span class="linenos"> 775</span><span class="c1">// func:command.abt.cache.ToCstr</span>
<span class="linenos"> 776</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w">          </span><span class="nf">cache_ToCstr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">abt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 777</span><span class="c1">// Convert cache to a string. First, attempt conversion to a known string.</span>
<span class="linenos"> 778</span><span class="c1">// If no string matches, print cache as a numeric value.</span>
<span class="linenos"> 779</span><span class="c1">// func:command.abt.cache.Print</span>
<span class="linenos"> 780</span><span class="kt">void</span><span class="w">                 </span><span class="nf">cache_Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">abt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 781</span><span class="c1">// Convert string to field.</span>
<span class="linenos"> 782</span><span class="c1">// If the string is invalid, do not modify field and return false.</span>
<span class="linenos"> 783</span><span class="c1">// In case of success, return true</span>
<span class="linenos"> 784</span><span class="c1">// func:command.abt.cache.SetStrptrMaybe</span>
<span class="linenos"> 785</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">cache_SetStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 786</span><span class="c1">// Convert string to field.</span>
<span class="linenos"> 787</span><span class="c1">// If the string is invalid, set numeric value to DFLT</span>
<span class="linenos"> 788</span><span class="c1">// func:command.abt.cache.SetStrptr</span>
<span class="linenos"> 789</span><span class="kt">void</span><span class="w">                 </span><span class="nf">cache_SetStrptr</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">,</span><span class="w"> </span><span class="n">command_abt_cache_Enum</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 790</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 791</span><span class="c1">// func:command.abt.cache.ReadStrptrMaybe</span>
<span class="linenos"> 792</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">cache_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 793</span>
<span class="linenos"> 794</span><span class="c1">// func:command.abt..ReadFieldMaybe</span>
<span class="linenos"> 795</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">abt_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 796</span><span class="c1">// Read fields of command::abt from attributes of ascii tuple TUPLE</span>
<span class="linenos"> 797</span><span class="c1">// func:command.abt..ReadTupleMaybe</span>
<span class="linenos"> 798</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">abt_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 799</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos"> 800</span><span class="c1">// func:command.abt..Init</span>
<span class="linenos"> 801</span><span class="kt">void</span><span class="w">                 </span><span class="nf">abt_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 802</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos"> 803</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos"> 804</span><span class="c1">// func:command.abt..ToCmdline</span>
<span class="linenos"> 805</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">abt_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 806</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 807</span><span class="c1">// cfmt:command.abt.Argv  printfmt:Auto</span>
<span class="linenos"> 808</span><span class="c1">// func:command.abt..PrintArgv</span>
<span class="linenos"> 809</span><span class="kt">void</span><span class="w">                 </span><span class="nf">abt_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 810</span><span class="c1">// func:command.abt..GetAnon</span>
<span class="linenos"> 811</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">abt_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 812</span><span class="c1">// Used with command lines</span>
<span class="linenos"> 813</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos"> 814</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos"> 815</span><span class="c1">// func:command.abt..NArgs</span>
<span class="linenos"> 816</span><span class="n">i32</span><span class="w">                  </span><span class="nf">abt_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 817</span>
<span class="linenos"> 818</span><span class="c1">// --- command.abt_md</span>
<span class="linenos"> 819</span><span class="c1">// access: command.abt_md_proc.abt_md (Exec)</span>
<span class="linenos"> 820</span><span class="k">struct</span><span class="w"> </span><span class="nc">abt_md</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.abt_md</span>
<span class="linenos"> 821</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos"> 822</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">readme</span><span class="p">;</span><span class="w">    </span><span class="c1">//   &quot;%&quot;  Sql Regx of dev::Readme</span>
<span class="linenos"> 823</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">ns</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;&quot;  Sql Regx of dmmeta::Ns</span>
<span class="linenos"> 824</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">section</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;%&quot;  Sql Regx</span>
<span class="linenos"> 825</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">update</span><span class="p">;</span><span class="w">    </span><span class="c1">//   true  (action) Update mode: Re-generate mdfiles</span>
<span class="linenos"> 826</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">check</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  (action) Check mode: Check syntax and links</span>
<span class="linenos"> 827</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">link</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  (with -print) Print links</span>
<span class="linenos"> 828</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">anchor</span><span class="p">;</span><span class="w">    </span><span class="c1">//   false  (with -print) Print anchors</span>
<span class="linenos"> 829</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">print</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  (action) Query mode: Print .md section without evaluating</span>
<span class="linenos"> 830</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">dry_run</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  Do not write changes to disk</span>
<span class="linenos"> 831</span><span class="w">    </span><span class="n">abt_md</span><span class="p">();</span>
<span class="linenos"> 832</span><span class="k">private</span><span class="o">:</span>
<span class="linenos"> 833</span><span class="w">    </span><span class="c1">// reftype Regx of command.abt_md.readme prohibits copy</span>
<span class="linenos"> 834</span><span class="w">    </span><span class="c1">// reftype Regx of command.abt_md.ns prohibits copy</span>
<span class="linenos"> 835</span><span class="w">    </span><span class="c1">// reftype Regx of command.abt_md.section prohibits copy</span>
<span class="linenos"> 836</span><span class="w">    </span><span class="c1">// ... and several other reasons</span>
<span class="linenos"> 837</span><span class="w">    </span><span class="n">abt_md</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">abt_md</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos"> 838</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">abt_md</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos"> 839</span><span class="p">};</span>
<span class="linenos"> 840</span>
<span class="linenos"> 841</span><span class="c1">// Print back to string</span>
<span class="linenos"> 842</span><span class="c1">// func:command.abt_md.readme.Print</span>
<span class="linenos"> 843</span><span class="kt">void</span><span class="w">                 </span><span class="nf">readme_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 844</span><span class="c1">// Read Regx from string</span>
<span class="linenos"> 845</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 846</span><span class="c1">// func:command.abt_md.readme.ReadStrptrMaybe</span>
<span class="linenos"> 847</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">readme_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 848</span>
<span class="linenos"> 849</span><span class="c1">// Print back to string</span>
<span class="linenos"> 850</span><span class="c1">// func:command.abt_md.ns.Print</span>
<span class="linenos"> 851</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ns_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 852</span><span class="c1">// Read Regx from string</span>
<span class="linenos"> 853</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 854</span><span class="c1">// func:command.abt_md.ns.ReadStrptrMaybe</span>
<span class="linenos"> 855</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ns_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 856</span>
<span class="linenos"> 857</span><span class="c1">// Print back to string</span>
<span class="linenos"> 858</span><span class="c1">// func:command.abt_md.section.Print</span>
<span class="linenos"> 859</span><span class="kt">void</span><span class="w">                 </span><span class="nf">section_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 860</span><span class="c1">// Read Regx from string</span>
<span class="linenos"> 861</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos"> 862</span><span class="c1">// func:command.abt_md.section.ReadStrptrMaybe</span>
<span class="linenos"> 863</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">section_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 864</span>
<span class="linenos"> 865</span><span class="c1">// func:command.abt_md..ReadFieldMaybe</span>
<span class="linenos"> 866</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">abt_md_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 867</span><span class="c1">// Read fields of command::abt_md from attributes of ascii tuple TUPLE</span>
<span class="linenos"> 868</span><span class="c1">// func:command.abt_md..ReadTupleMaybe</span>
<span class="linenos"> 869</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">abt_md_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 870</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos"> 871</span><span class="c1">// func:command.abt_md..Init</span>
<span class="linenos"> 872</span><span class="kt">void</span><span class="w">                 </span><span class="nf">abt_md_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 873</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos"> 874</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos"> 875</span><span class="c1">// func:command.abt_md..ToCmdline</span>
<span class="linenos"> 876</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">abt_md_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 877</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos"> 878</span><span class="c1">// cfmt:command.abt_md.Argv  printfmt:Tuple</span>
<span class="linenos"> 879</span><span class="c1">// func:command.abt_md..PrintArgv</span>
<span class="linenos"> 880</span><span class="kt">void</span><span class="w">                 </span><span class="nf">abt_md_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 881</span><span class="c1">// func:command.abt_md..GetAnon</span>
<span class="linenos"> 882</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">abt_md_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 883</span><span class="c1">// Used with command lines</span>
<span class="linenos"> 884</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos"> 885</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos"> 886</span><span class="c1">// func:command.abt_md..NArgs</span>
<span class="linenos"> 887</span><span class="n">i32</span><span class="w">                  </span><span class="nf">abt_md_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 888</span>
<span class="linenos"> 889</span><span class="c1">// --- command.abt_md_proc</span>
<span class="linenos"> 890</span><span class="k">struct</span><span class="w"> </span><span class="nc">abt_md_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.abt_md_proc: Subprocess: Tool to generate markdown documentation</span>
<span class="linenos"> 891</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/abt_md&quot;  path for executable</span>
<span class="linenos"> 892</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">abt_md</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos"> 893</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos"> 894</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos"> 895</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos"> 896</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">             </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos"> 897</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos"> 898</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos"> 899</span><span class="w">    </span><span class="n">abt_md_proc</span><span class="p">();</span>
<span class="linenos"> 900</span><span class="w">    </span><span class="o">~</span><span class="n">abt_md_proc</span><span class="p">();</span>
<span class="linenos"> 901</span><span class="k">private</span><span class="o">:</span>
<span class="linenos"> 902</span><span class="w">    </span><span class="c1">// reftype Exec of command.abt_md_proc.abt_md prohibits copy</span>
<span class="linenos"> 903</span><span class="w">    </span><span class="c1">// value field command.abt_md_proc.cmd is not copiable</span>
<span class="linenos"> 904</span><span class="w">    </span><span class="n">abt_md_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">abt_md_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos"> 905</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">abt_md_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos"> 906</span><span class="p">};</span>
<span class="linenos"> 907</span>
<span class="linenos"> 908</span><span class="c1">// Start subprocess</span>
<span class="linenos"> 909</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos"> 910</span><span class="c1">// func:command.abt_md_proc.abt_md.Start</span>
<span class="linenos"> 911</span><span class="kt">int</span><span class="w">                  </span><span class="nf">abt_md_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 912</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos"> 913</span><span class="c1">// func:command.abt_md_proc.abt_md.StartRead</span>
<span class="linenos"> 914</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">abt_md_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 915</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos"> 916</span><span class="c1">// func:command.abt_md_proc.abt_md.Kill</span>
<span class="linenos"> 917</span><span class="kt">void</span><span class="w">                 </span><span class="nf">abt_md_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 918</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos"> 919</span><span class="c1">// func:command.abt_md_proc.abt_md.Wait</span>
<span class="linenos"> 920</span><span class="kt">void</span><span class="w">                 </span><span class="nf">abt_md_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 921</span><span class="c1">// Start + Wait</span>
<span class="linenos"> 922</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos"> 923</span><span class="c1">// func:command.abt_md_proc.abt_md.Exec</span>
<span class="linenos"> 924</span><span class="kt">int</span><span class="w">                  </span><span class="nf">abt_md_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 925</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos"> 926</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos"> 927</span><span class="c1">// func:command.abt_md_proc.abt_md.ExecX</span>
<span class="linenos"> 928</span><span class="kt">void</span><span class="w">                 </span><span class="nf">abt_md_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 929</span><span class="c1">// Call execv()</span>
<span class="linenos"> 930</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos"> 931</span><span class="c1">// func:command.abt_md_proc.abt_md.Execv</span>
<span class="linenos"> 932</span><span class="kt">int</span><span class="w">                  </span><span class="nf">abt_md_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 933</span><span class="c1">// func:command.abt_md_proc.abt_md.ToCmdline</span>
<span class="linenos"> 934</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">abt_md_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 935</span><span class="c1">// Form array from the command line</span>
<span class="linenos"> 936</span><span class="c1">// func:command.abt_md_proc.abt_md.ToArgv</span>
<span class="linenos"> 937</span><span class="kt">void</span><span class="w">                 </span><span class="nf">abt_md_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 938</span>
<span class="linenos"> 939</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos"> 940</span><span class="c1">// func:command.abt_md_proc..Init</span>
<span class="linenos"> 941</span><span class="kt">void</span><span class="w">                 </span><span class="nf">abt_md_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 942</span><span class="c1">// func:command.abt_md_proc..Uninit</span>
<span class="linenos"> 943</span><span class="kt">void</span><span class="w">                 </span><span class="nf">abt_md_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_md_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 944</span>
<span class="linenos"> 945</span><span class="c1">// --- command.abt_proc</span>
<span class="linenos"> 946</span><span class="k">struct</span><span class="w"> </span><span class="nc">abt_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.abt_proc: Subprocess: Algo Build Tool - build &amp; link C++ targets</span>
<span class="linenos"> 947</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/abt&quot;  path for executable</span>
<span class="linenos"> 948</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">abt</span><span class="w">    </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos"> 949</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos"> 950</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos"> 951</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos"> 952</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">           </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos"> 953</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos"> 954</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos"> 955</span><span class="w">    </span><span class="n">abt_proc</span><span class="p">();</span>
<span class="linenos"> 956</span><span class="w">    </span><span class="o">~</span><span class="n">abt_proc</span><span class="p">();</span>
<span class="linenos"> 957</span><span class="k">private</span><span class="o">:</span>
<span class="linenos"> 958</span><span class="w">    </span><span class="c1">// reftype Exec of command.abt_proc.abt prohibits copy</span>
<span class="linenos"> 959</span><span class="w">    </span><span class="c1">// value field command.abt_proc.cmd is not copiable</span>
<span class="linenos"> 960</span><span class="w">    </span><span class="n">abt_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">abt_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos"> 961</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">abt_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos"> 962</span><span class="p">};</span>
<span class="linenos"> 963</span>
<span class="linenos"> 964</span><span class="c1">// Start subprocess</span>
<span class="linenos"> 965</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos"> 966</span><span class="c1">// func:command.abt_proc.abt.Start</span>
<span class="linenos"> 967</span><span class="kt">int</span><span class="w">                  </span><span class="nf">abt_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 968</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos"> 969</span><span class="c1">// func:command.abt_proc.abt.StartRead</span>
<span class="linenos"> 970</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">abt_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 971</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos"> 972</span><span class="c1">// func:command.abt_proc.abt.Kill</span>
<span class="linenos"> 973</span><span class="kt">void</span><span class="w">                 </span><span class="nf">abt_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 974</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos"> 975</span><span class="c1">// func:command.abt_proc.abt.Wait</span>
<span class="linenos"> 976</span><span class="kt">void</span><span class="w">                 </span><span class="nf">abt_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 977</span><span class="c1">// Start + Wait</span>
<span class="linenos"> 978</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos"> 979</span><span class="c1">// func:command.abt_proc.abt.Exec</span>
<span class="linenos"> 980</span><span class="kt">int</span><span class="w">                  </span><span class="nf">abt_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 981</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos"> 982</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos"> 983</span><span class="c1">// func:command.abt_proc.abt.ExecX</span>
<span class="linenos"> 984</span><span class="kt">void</span><span class="w">                 </span><span class="nf">abt_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 985</span><span class="c1">// Call execv()</span>
<span class="linenos"> 986</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos"> 987</span><span class="c1">// func:command.abt_proc.abt.Execv</span>
<span class="linenos"> 988</span><span class="kt">int</span><span class="w">                  </span><span class="nf">abt_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 989</span><span class="c1">// func:command.abt_proc.abt.ToCmdline</span>
<span class="linenos"> 990</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">abt_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 991</span><span class="c1">// Form array from the command line</span>
<span class="linenos"> 992</span><span class="c1">// func:command.abt_proc.abt.ToArgv</span>
<span class="linenos"> 993</span><span class="kt">void</span><span class="w">                 </span><span class="nf">abt_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos"> 994</span>
<span class="linenos"> 995</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos"> 996</span><span class="c1">// func:command.abt_proc..Init</span>
<span class="linenos"> 997</span><span class="kt">void</span><span class="w">                 </span><span class="nf">abt_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos"> 998</span><span class="c1">// func:command.abt_proc..Uninit</span>
<span class="linenos"> 999</span><span class="kt">void</span><span class="w">                 </span><span class="nf">abt_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">abt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1000</span>
<span class="linenos">1001</span><span class="c1">// --- command.acr</span>
<span class="linenos">1002</span><span class="c1">// access: command.acr_proc.acr (Exec)</span>
<span class="linenos">1003</span><span class="k">struct</span><span class="w"> </span><span class="nc">acr</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.acr</span>
<span class="linenos">1004</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">query</span><span class="p">;</span><span class="w">         </span><span class="c1">//   &quot;&quot;  Regx to match record</span>
<span class="linenos">1005</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">   </span><span class="n">where_elems</span><span class="p">;</span><span class="w">   </span><span class="c1">// pointer to elements</span>
<span class="linenos">1006</span><span class="w">    </span><span class="n">u32</span><span class="w">              </span><span class="n">where_n</span><span class="p">;</span><span class="w">       </span><span class="c1">// number of elements in array</span>
<span class="linenos">1007</span><span class="w">    </span><span class="n">u32</span><span class="w">              </span><span class="n">where_max</span><span class="p">;</span><span class="w">     </span><span class="c1">// max. capacity of array before realloc</span>
<span class="linenos">1008</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">            </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">1009</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">del</span><span class="p">;</span><span class="w">           </span><span class="c1">//   false  Delete found item</span>
<span class="linenos">1010</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">sel</span><span class="p">;</span><span class="w">           </span><span class="c1">//   false  Read stdin and select records</span>
<span class="linenos">1011</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">insert</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false  Read stdin and insert tuples</span>
<span class="linenos">1012</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">replace</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  Read stdin and replace tuples</span>
<span class="linenos">1013</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">update</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false  Read stdin and update attributes of existing tuples</span>
<span class="linenos">1014</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">merge</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Combination of -update and -insert</span>
<span class="linenos">1015</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">unused</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false  Only select records which are not referenced.</span>
<span class="linenos">1016</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">trunc</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Truncate table on first write</span>
<span class="linenos">1017</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">check</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Run cross-reference check on selection</span>
<span class="linenos">1018</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">selerr</span><span class="p">;</span><span class="w">        </span><span class="c1">//   true  (with -check): Select error records</span>
<span class="linenos">1019</span><span class="w">    </span><span class="n">i32</span><span class="w">              </span><span class="n">maxshow</span><span class="p">;</span><span class="w">       </span><span class="c1">//   100  Limit number of errors per table</span>
<span class="linenos">1020</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">write</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Write data back to disk.</span>
<span class="linenos">1021</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">rename</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;&quot;  Change value of found item</span>
<span class="linenos">1022</span><span class="w">    </span><span class="n">i32</span><span class="w">              </span><span class="n">nup</span><span class="p">;</span><span class="w">           </span><span class="c1">//   0  Number of levels to go up</span>
<span class="linenos">1023</span><span class="w">    </span><span class="n">i32</span><span class="w">              </span><span class="n">ndown</span><span class="p">;</span><span class="w">         </span><span class="c1">//   0  Number of levels to go down</span>
<span class="linenos">1024</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">l</span><span class="p">;</span><span class="w">             </span><span class="c1">//   false  Go down via pkeys only</span>
<span class="linenos">1025</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">xref</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  Short for -nup 100 -ndown 100</span>
<span class="linenos">1026</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">fldfunc</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  Evaluate fldfunc when printing tuple</span>
<span class="linenos">1027</span><span class="w">    </span><span class="n">i32</span><span class="w">              </span><span class="n">maxgroup</span><span class="p">;</span><span class="w">      </span><span class="c1">//   25  Max. items per group</span>
<span class="linenos">1028</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">pretty</span><span class="p">;</span><span class="w">        </span><span class="c1">//   true  Align output in blocks</span>
<span class="linenos">1029</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">tree</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  Print as tree</span>
<span class="linenos">1030</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">loose</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Allow printing a record before its references (used with -e)</span>
<span class="linenos">1031</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">my</span><span class="p">;</span><span class="w">            </span><span class="c1">//   false  Invoke acr_my -e (using acr_my directly is faster)</span>
<span class="linenos">1032</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">schema</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;data&quot;  Directory for initializing acr meta-data</span>
<span class="linenos">1033</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">e</span><span class="p">;</span><span class="w">             </span><span class="c1">//   false  Open selection in editor, write back when done.</span>
<span class="linenos">1034</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">t</span><span class="p">;</span><span class="w">             </span><span class="c1">//   false  Short for -tree -xref -loose</span>
<span class="linenos">1035</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">g</span><span class="p">;</span><span class="w">             </span><span class="c1">//   false  Trigger git commands for changes in dev.gitfile table</span>
<span class="linenos">1036</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">x</span><span class="p">;</span><span class="w">             </span><span class="c1">//   false  Propagate select/rename/delete to ssimreq records</span>
<span class="linenos">1037</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">rowid</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Always print acr.rowid attribute</span>
<span class="linenos">1038</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">cmt</span><span class="p">;</span><span class="w">           </span><span class="c1">//   false  Print comments for all columns referenced in output</span>
<span class="linenos">1039</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">report</span><span class="p">;</span><span class="w">        </span><span class="c1">//   true  Show final report</span>
<span class="linenos">1040</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">print</span><span class="p">;</span><span class="w">         </span><span class="c1">//   true  Print selected records</span>
<span class="linenos">1041</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">cmd</span><span class="p">;</span><span class="w">           </span><span class="c1">//   &quot;&quot;  Print script with command execution for each selected row</span>
<span class="linenos">1042</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">   </span><span class="n">field_elems</span><span class="p">;</span><span class="w">   </span><span class="c1">// pointer to elements</span>
<span class="linenos">1043</span><span class="w">    </span><span class="n">u32</span><span class="w">              </span><span class="n">field_n</span><span class="p">;</span><span class="w">       </span><span class="c1">// number of elements in array</span>
<span class="linenos">1044</span><span class="w">    </span><span class="n">u32</span><span class="w">              </span><span class="n">field_max</span><span class="p">;</span><span class="w">     </span><span class="c1">// max. capacity of array before realloc</span>
<span class="linenos">1045</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">regxof</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;&quot;  Single field: output regx of matching field values</span>
<span class="linenos">1046</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">meta</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  Select meta-data for selected records</span>
<span class="linenos">1047</span><span class="w">    </span><span class="n">acr</span><span class="p">();</span>
<span class="linenos">1048</span><span class="w">    </span><span class="o">~</span><span class="n">acr</span><span class="p">();</span>
<span class="linenos">1049</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">1050</span><span class="w">    </span><span class="c1">// reftype Tary of command.acr.where prohibits copy</span>
<span class="linenos">1051</span><span class="w">    </span><span class="c1">// reftype Tary of command.acr.field prohibits copy</span>
<span class="linenos">1052</span><span class="w">    </span><span class="n">acr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">acr</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">1053</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">acr</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">1054</span><span class="p">};</span>
<span class="linenos">1055</span>
<span class="linenos">1056</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">1057</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">1058</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">1059</span><span class="c1">// func:command.acr.where.Addary</span>
<span class="linenos">1060</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">where_Addary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1061</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">1062</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">1063</span><span class="c1">// func:command.acr.where.Alloc</span>
<span class="linenos">1064</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">where_Alloc</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1065</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">1066</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">1067</span><span class="c1">// func:command.acr.where.AllocAt</span>
<span class="linenos">1068</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">where_AllocAt</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1069</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">1070</span><span class="c1">// func:command.acr.where.AllocN</span>
<span class="linenos">1071</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">where_AllocN</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1072</span><span class="c1">// Return true if index is empty</span>
<span class="linenos">1073</span><span class="c1">// func:command.acr.where.EmptyQ</span>
<span class="linenos">1074</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">where_EmptyQ</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1075</span><span class="c1">// Look up row by row id. Return NULL if out of range</span>
<span class="linenos">1076</span><span class="c1">// func:command.acr.where.Find</span>
<span class="linenos">1077</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">where_Find</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1078</span><span class="c1">// Return array pointer by value</span>
<span class="linenos">1079</span><span class="c1">// func:command.acr.where.Getary</span>
<span class="linenos">1080</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">where_Getary</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1081</span><span class="c1">// Return pointer to last element of array, or NULL if array is empty</span>
<span class="linenos">1082</span><span class="c1">// func:command.acr.where.Last</span>
<span class="linenos">1083</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">where_Last</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">1084</span><span class="c1">// Return max. number of items in the array</span>
<span class="linenos">1085</span><span class="c1">// func:command.acr.where.Max</span>
<span class="linenos">1086</span><span class="n">i32</span><span class="w">                  </span><span class="nf">where_Max</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1087</span><span class="c1">// Return number of items in the array</span>
<span class="linenos">1088</span><span class="c1">// func:command.acr.where.N</span>
<span class="linenos">1089</span><span class="n">i32</span><span class="w">                  </span><span class="nf">where_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">1090</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">1091</span><span class="c1">// func:command.acr.where.Remove</span>
<span class="linenos">1092</span><span class="kt">void</span><span class="w">                 </span><span class="nf">where_Remove</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1093</span><span class="c1">// func:command.acr.where.RemoveAll</span>
<span class="linenos">1094</span><span class="kt">void</span><span class="w">                 </span><span class="nf">where_RemoveAll</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1095</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">1096</span><span class="c1">// func:command.acr.where.RemoveLast</span>
<span class="linenos">1097</span><span class="kt">void</span><span class="w">                 </span><span class="nf">where_RemoveLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1098</span><span class="c1">// Make sure N *more* elements will fit in array. Process dies if out of memory</span>
<span class="linenos">1099</span><span class="c1">// func:command.acr.where.Reserve</span>
<span class="linenos">1100</span><span class="kt">void</span><span class="w">                 </span><span class="nf">where_Reserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1101</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">1102</span><span class="c1">// func:command.acr.where.AbsReserve</span>
<span class="linenos">1103</span><span class="kt">void</span><span class="w">                 </span><span class="nf">where_AbsReserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1104</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">1105</span><span class="c1">// func:command.acr.where.Setary</span>
<span class="linenos">1106</span><span class="kt">void</span><span class="w">                 </span><span class="nf">where_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1107</span><span class="c1">// Copy specified array into where, discarding previous contents.</span>
<span class="linenos">1108</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">1109</span><span class="c1">// func:command.acr.where.Setary2</span>
<span class="linenos">1110</span><span class="kt">void</span><span class="w">                 </span><span class="nf">where_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1111</span><span class="c1">// &#39;quick&#39; Access row by row id. No bounds checking.</span>
<span class="linenos">1112</span><span class="c1">// func:command.acr.where.qFind</span>
<span class="linenos">1113</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">where_qFind</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1114</span><span class="c1">// Return reference to last element of array. No bounds checking</span>
<span class="linenos">1115</span><span class="c1">// func:command.acr.where.qLast</span>
<span class="linenos">1116</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">where_qLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1117</span><span class="c1">// Return row id of specified element</span>
<span class="linenos">1118</span><span class="c1">// func:command.acr.where.rowid_Get</span>
<span class="linenos">1119</span><span class="n">u64</span><span class="w">                  </span><span class="nf">where_rowid_Get</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1120</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">1121</span><span class="c1">// func:command.acr.where.AllocNVal</span>
<span class="linenos">1122</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">where_AllocNVal</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1123</span><span class="c1">// A single element is read from input string and appended to the array.</span>
<span class="linenos">1124</span><span class="c1">// If the string contains an error, the array is untouched.</span>
<span class="linenos">1125</span><span class="c1">// Function returns success value.</span>
<span class="linenos">1126</span><span class="c1">// func:command.acr.where.ReadStrptrMaybe</span>
<span class="linenos">1127</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">where_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1128</span>
<span class="linenos">1129</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">1130</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">1131</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">1132</span><span class="c1">// func:command.acr.field.Addary</span>
<span class="linenos">1133</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">field_Addary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1134</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">1135</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">1136</span><span class="c1">// func:command.acr.field.Alloc</span>
<span class="linenos">1137</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">field_Alloc</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1138</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">1139</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">1140</span><span class="c1">// func:command.acr.field.AllocAt</span>
<span class="linenos">1141</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">field_AllocAt</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1142</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">1143</span><span class="c1">// func:command.acr.field.AllocN</span>
<span class="linenos">1144</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">field_AllocN</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1145</span><span class="c1">// Return true if index is empty</span>
<span class="linenos">1146</span><span class="c1">// func:command.acr.field.EmptyQ</span>
<span class="linenos">1147</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">field_EmptyQ</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1148</span><span class="c1">// Look up row by row id. Return NULL if out of range</span>
<span class="linenos">1149</span><span class="c1">// func:command.acr.field.Find</span>
<span class="linenos">1150</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">field_Find</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1151</span><span class="c1">// Return array pointer by value</span>
<span class="linenos">1152</span><span class="c1">// func:command.acr.field.Getary</span>
<span class="linenos">1153</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">field_Getary</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1154</span><span class="c1">// Return pointer to last element of array, or NULL if array is empty</span>
<span class="linenos">1155</span><span class="c1">// func:command.acr.field.Last</span>
<span class="linenos">1156</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">field_Last</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">1157</span><span class="c1">// Return max. number of items in the array</span>
<span class="linenos">1158</span><span class="c1">// func:command.acr.field.Max</span>
<span class="linenos">1159</span><span class="n">i32</span><span class="w">                  </span><span class="nf">field_Max</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1160</span><span class="c1">// Return number of items in the array</span>
<span class="linenos">1161</span><span class="c1">// func:command.acr.field.N</span>
<span class="linenos">1162</span><span class="n">i32</span><span class="w">                  </span><span class="nf">field_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">1163</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">1164</span><span class="c1">// func:command.acr.field.Remove</span>
<span class="linenos">1165</span><span class="kt">void</span><span class="w">                 </span><span class="nf">field_Remove</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1166</span><span class="c1">// func:command.acr.field.RemoveAll</span>
<span class="linenos">1167</span><span class="kt">void</span><span class="w">                 </span><span class="nf">field_RemoveAll</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1168</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">1169</span><span class="c1">// func:command.acr.field.RemoveLast</span>
<span class="linenos">1170</span><span class="kt">void</span><span class="w">                 </span><span class="nf">field_RemoveLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1171</span><span class="c1">// Make sure N *more* elements will fit in array. Process dies if out of memory</span>
<span class="linenos">1172</span><span class="c1">// func:command.acr.field.Reserve</span>
<span class="linenos">1173</span><span class="kt">void</span><span class="w">                 </span><span class="nf">field_Reserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1174</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">1175</span><span class="c1">// func:command.acr.field.AbsReserve</span>
<span class="linenos">1176</span><span class="kt">void</span><span class="w">                 </span><span class="nf">field_AbsReserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1177</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">1178</span><span class="c1">// func:command.acr.field.Setary</span>
<span class="linenos">1179</span><span class="kt">void</span><span class="w">                 </span><span class="nf">field_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1180</span><span class="c1">// Copy specified array into field, discarding previous contents.</span>
<span class="linenos">1181</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">1182</span><span class="c1">// func:command.acr.field.Setary2</span>
<span class="linenos">1183</span><span class="kt">void</span><span class="w">                 </span><span class="nf">field_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1184</span><span class="c1">// &#39;quick&#39; Access row by row id. No bounds checking.</span>
<span class="linenos">1185</span><span class="c1">// func:command.acr.field.qFind</span>
<span class="linenos">1186</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">field_qFind</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1187</span><span class="c1">// Return reference to last element of array. No bounds checking</span>
<span class="linenos">1188</span><span class="c1">// func:command.acr.field.qLast</span>
<span class="linenos">1189</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">field_qLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1190</span><span class="c1">// Return row id of specified element</span>
<span class="linenos">1191</span><span class="c1">// func:command.acr.field.rowid_Get</span>
<span class="linenos">1192</span><span class="n">u64</span><span class="w">                  </span><span class="nf">field_rowid_Get</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1193</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">1194</span><span class="c1">// func:command.acr.field.AllocNVal</span>
<span class="linenos">1195</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">field_AllocNVal</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1196</span><span class="c1">// A single element is read from input string and appended to the array.</span>
<span class="linenos">1197</span><span class="c1">// If the string contains an error, the array is untouched.</span>
<span class="linenos">1198</span><span class="c1">// Function returns success value.</span>
<span class="linenos">1199</span><span class="c1">// func:command.acr.field.ReadStrptrMaybe</span>
<span class="linenos">1200</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">field_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1201</span>
<span class="linenos">1202</span><span class="c1">// proceed to next item</span>
<span class="linenos">1203</span><span class="c1">// func:command.acr.where_curs.Next</span>
<span class="linenos">1204</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_where_curs_Next</span><span class="p">(</span><span class="n">acr_where_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1205</span><span class="c1">// func:command.acr.where_curs.Reset</span>
<span class="linenos">1206</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_where_curs_Reset</span><span class="p">(</span><span class="n">acr_where_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1207</span><span class="c1">// cursor points to valid item</span>
<span class="linenos">1208</span><span class="c1">// func:command.acr.where_curs.ValidQ</span>
<span class="linenos">1209</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">acr_where_curs_ValidQ</span><span class="p">(</span><span class="n">acr_where_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1210</span><span class="c1">// item access</span>
<span class="linenos">1211</span><span class="c1">// func:command.acr.where_curs.Access</span>
<span class="linenos">1212</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">acr_where_curs_Access</span><span class="p">(</span><span class="n">acr_where_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1213</span><span class="c1">// proceed to next item</span>
<span class="linenos">1214</span><span class="c1">// func:command.acr.field_curs.Next</span>
<span class="linenos">1215</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_field_curs_Next</span><span class="p">(</span><span class="n">acr_field_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1216</span><span class="c1">// func:command.acr.field_curs.Reset</span>
<span class="linenos">1217</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_field_curs_Reset</span><span class="p">(</span><span class="n">acr_field_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1218</span><span class="c1">// cursor points to valid item</span>
<span class="linenos">1219</span><span class="c1">// func:command.acr.field_curs.ValidQ</span>
<span class="linenos">1220</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">acr_field_curs_ValidQ</span><span class="p">(</span><span class="n">acr_field_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1221</span><span class="c1">// item access</span>
<span class="linenos">1222</span><span class="c1">// func:command.acr.field_curs.Access</span>
<span class="linenos">1223</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">acr_field_curs_Access</span><span class="p">(</span><span class="n">acr_field_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1224</span><span class="c1">// func:command.acr..ReadFieldMaybe</span>
<span class="linenos">1225</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">acr_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1226</span><span class="c1">// Read fields of command::acr from attributes of ascii tuple TUPLE</span>
<span class="linenos">1227</span><span class="c1">// func:command.acr..ReadTupleMaybe</span>
<span class="linenos">1228</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">acr_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1229</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">1230</span><span class="c1">// func:command.acr..Init</span>
<span class="linenos">1231</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1232</span><span class="c1">// func:command.acr..Uninit</span>
<span class="linenos">1233</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1234</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">1235</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">1236</span><span class="c1">// func:command.acr..ToCmdline</span>
<span class="linenos">1237</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">acr_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1238</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">1239</span><span class="c1">// cfmt:command.acr.Argv  printfmt:Auto</span>
<span class="linenos">1240</span><span class="c1">// func:command.acr..PrintArgv</span>
<span class="linenos">1241</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1242</span><span class="c1">// func:command.acr..GetAnon</span>
<span class="linenos">1243</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">acr_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1244</span><span class="c1">// Used with command lines</span>
<span class="linenos">1245</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">1246</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">1247</span><span class="c1">// func:command.acr..NArgs</span>
<span class="linenos">1248</span><span class="n">i32</span><span class="w">                  </span><span class="nf">acr_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1249</span>
<span class="linenos">1250</span><span class="c1">// --- command.acr_compl</span>
<span class="linenos">1251</span><span class="c1">// access: command.acr_compl_proc.acr_compl (Exec)</span>
<span class="linenos">1252</span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_compl</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.acr_compl</span>
<span class="linenos">1253</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">data</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;data&quot;  Source for completions (dir or file or -)</span>
<span class="linenos">1254</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">schema</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;data&quot;  Source for schema information</span>
<span class="linenos">1255</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">line</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;&quot;  Simulates COMP_LINE (debug)</span>
<span class="linenos">1256</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">point</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;&quot;  Simulates COMP_POINT (debug). default: whole line</span>
<span class="linenos">1257</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">type</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;9&quot;  Simulates COMP_TYPE (debug)</span>
<span class="linenos">1258</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">install</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Produce bash commands to install the handler</span>
<span class="linenos">1259</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">debug_log</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;&quot;  Log file for debug information, overrides ACR_COMPL_DEBUG_LOG</span>
<span class="linenos">1260</span><span class="w">    </span><span class="n">acr_compl</span><span class="p">();</span>
<span class="linenos">1261</span><span class="p">};</span>
<span class="linenos">1262</span>
<span class="linenos">1263</span><span class="c1">// func:command.acr_compl..ReadFieldMaybe</span>
<span class="linenos">1264</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">acr_compl_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_compl</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1265</span><span class="c1">// Read fields of command::acr_compl from an ascii string.</span>
<span class="linenos">1266</span><span class="c1">// The format of the string is an ssim Tuple</span>
<span class="linenos">1267</span><span class="c1">// func:command.acr_compl..ReadStrptrMaybe</span>
<span class="linenos">1268</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">acr_compl_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_compl</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1269</span><span class="c1">// Read fields of command::acr_compl from attributes of ascii tuple TUPLE</span>
<span class="linenos">1270</span><span class="c1">// func:command.acr_compl..ReadTupleMaybe</span>
<span class="linenos">1271</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">acr_compl_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_compl</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1272</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">1273</span><span class="c1">// func:command.acr_compl..Init</span>
<span class="linenos">1274</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_compl_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_compl</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1275</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">1276</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">1277</span><span class="c1">// func:command.acr_compl..ToCmdline</span>
<span class="linenos">1278</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">acr_compl_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_compl</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1279</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">1280</span><span class="c1">// cfmt:command.acr_compl.Argv  printfmt:Auto</span>
<span class="linenos">1281</span><span class="c1">// func:command.acr_compl..PrintArgv</span>
<span class="linenos">1282</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_compl_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_compl</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1283</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">1284</span><span class="c1">// cfmt:command.acr_compl.String  printfmt:Tuple</span>
<span class="linenos">1285</span><span class="c1">// func:command.acr_compl..Print</span>
<span class="linenos">1286</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_compl_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_compl</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1287</span><span class="c1">// Used with command lines</span>
<span class="linenos">1288</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">1289</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">1290</span><span class="c1">// func:command.acr_compl..NArgs</span>
<span class="linenos">1291</span><span class="n">i32</span><span class="w">                  </span><span class="nf">acr_compl_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1292</span>
<span class="linenos">1293</span><span class="c1">// --- command.acr_compl_proc</span>
<span class="linenos">1294</span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_compl_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.acr_compl_proc: Subprocess: ACR shell auto-complete for all targets</span>
<span class="linenos">1295</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">        </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/acr_compl&quot;  path for executable</span>
<span class="linenos">1296</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">acr_compl</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">1297</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">        </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">1298</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">        </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">1299</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">        </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">1300</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">                </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">1301</span><span class="w">    </span><span class="n">i32</span><span class="w">                  </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">1302</span><span class="w">    </span><span class="n">i32</span><span class="w">                  </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">1303</span><span class="w">    </span><span class="n">acr_compl_proc</span><span class="p">();</span>
<span class="linenos">1304</span><span class="w">    </span><span class="o">~</span><span class="n">acr_compl_proc</span><span class="p">();</span>
<span class="linenos">1305</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">1306</span><span class="w">    </span><span class="c1">// reftype Exec of command.acr_compl_proc.acr_compl prohibits copy</span>
<span class="linenos">1307</span><span class="w">    </span><span class="n">acr_compl_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">acr_compl_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">1308</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">acr_compl_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">1309</span><span class="p">};</span>
<span class="linenos">1310</span>
<span class="linenos">1311</span><span class="c1">// Start subprocess</span>
<span class="linenos">1312</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">1313</span><span class="c1">// func:command.acr_compl_proc.acr_compl.Start</span>
<span class="linenos">1314</span><span class="kt">int</span><span class="w">                  </span><span class="nf">acr_compl_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_compl_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1315</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">1316</span><span class="c1">// func:command.acr_compl_proc.acr_compl.StartRead</span>
<span class="linenos">1317</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">acr_compl_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_compl_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1318</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">1319</span><span class="c1">// func:command.acr_compl_proc.acr_compl.Kill</span>
<span class="linenos">1320</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_compl_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_compl_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1321</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">1322</span><span class="c1">// func:command.acr_compl_proc.acr_compl.Wait</span>
<span class="linenos">1323</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_compl_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_compl_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1324</span><span class="c1">// Start + Wait</span>
<span class="linenos">1325</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">1326</span><span class="c1">// func:command.acr_compl_proc.acr_compl.Exec</span>
<span class="linenos">1327</span><span class="kt">int</span><span class="w">                  </span><span class="nf">acr_compl_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_compl_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1328</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">1329</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">1330</span><span class="c1">// func:command.acr_compl_proc.acr_compl.ExecX</span>
<span class="linenos">1331</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_compl_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_compl_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1332</span><span class="c1">// Call execv()</span>
<span class="linenos">1333</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">1334</span><span class="c1">// func:command.acr_compl_proc.acr_compl.Execv</span>
<span class="linenos">1335</span><span class="kt">int</span><span class="w">                  </span><span class="nf">acr_compl_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_compl_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1336</span><span class="c1">// func:command.acr_compl_proc.acr_compl.ToCmdline</span>
<span class="linenos">1337</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">acr_compl_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_compl_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1338</span><span class="c1">// Form array from the command line</span>
<span class="linenos">1339</span><span class="c1">// func:command.acr_compl_proc.acr_compl.ToArgv</span>
<span class="linenos">1340</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_compl_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_compl_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1341</span>
<span class="linenos">1342</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">1343</span><span class="c1">// func:command.acr_compl_proc..Init</span>
<span class="linenos">1344</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_compl_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_compl_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1345</span><span class="c1">// func:command.acr_compl_proc..Uninit</span>
<span class="linenos">1346</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_compl_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_compl_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1347</span>
<span class="linenos">1348</span><span class="c1">// --- command.acr_dm</span>
<span class="linenos">1349</span><span class="c1">// access: command.acr_dm_proc.acr_dm (Exec)</span>
<span class="linenos">1350</span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_dm</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.acr_dm</span>
<span class="linenos">1351</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">           </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">1352</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">   </span><span class="n">arg_elems</span><span class="p">;</span><span class="w">    </span><span class="c1">// pointer to elements</span>
<span class="linenos">1353</span><span class="w">    </span><span class="n">u32</span><span class="w">              </span><span class="n">arg_n</span><span class="p">;</span><span class="w">        </span><span class="c1">// number of elements in array</span>
<span class="linenos">1354</span><span class="w">    </span><span class="n">u32</span><span class="w">              </span><span class="n">arg_max</span><span class="p">;</span><span class="w">      </span><span class="c1">// max. capacity of array before realloc</span>
<span class="linenos">1355</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">write_ours</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  Write result to ours file</span>
<span class="linenos">1356</span><span class="w">    </span><span class="n">u8</span><span class="w">               </span><span class="n">msize</span><span class="p">;</span><span class="w">        </span><span class="c1">//   7  Conflict marker size</span>
<span class="linenos">1357</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">rowid</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false  Output &#39;ours&#39; rowid for merging into original ssimfiles</span>
<span class="linenos">1358</span><span class="w">    </span><span class="n">acr_dm</span><span class="p">();</span>
<span class="linenos">1359</span><span class="w">    </span><span class="o">~</span><span class="n">acr_dm</span><span class="p">();</span>
<span class="linenos">1360</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">1361</span><span class="w">    </span><span class="c1">// reftype Tary of command.acr_dm.arg prohibits copy</span>
<span class="linenos">1362</span><span class="w">    </span><span class="n">acr_dm</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">1363</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">1364</span><span class="p">};</span>
<span class="linenos">1365</span>
<span class="linenos">1366</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">1367</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">1368</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">1369</span><span class="c1">// func:command.acr_dm.arg.Addary</span>
<span class="linenos">1370</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">arg_Addary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1371</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">1372</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">1373</span><span class="c1">// func:command.acr_dm.arg.Alloc</span>
<span class="linenos">1374</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">arg_Alloc</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1375</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">1376</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">1377</span><span class="c1">// func:command.acr_dm.arg.AllocAt</span>
<span class="linenos">1378</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">arg_AllocAt</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1379</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">1380</span><span class="c1">// func:command.acr_dm.arg.AllocN</span>
<span class="linenos">1381</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">arg_AllocN</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1382</span><span class="c1">// Return true if index is empty</span>
<span class="linenos">1383</span><span class="c1">// func:command.acr_dm.arg.EmptyQ</span>
<span class="linenos">1384</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">arg_EmptyQ</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1385</span><span class="c1">// Look up row by row id. Return NULL if out of range</span>
<span class="linenos">1386</span><span class="c1">// func:command.acr_dm.arg.Find</span>
<span class="linenos">1387</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">arg_Find</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1388</span><span class="c1">// Return array pointer by value</span>
<span class="linenos">1389</span><span class="c1">// func:command.acr_dm.arg.Getary</span>
<span class="linenos">1390</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">arg_Getary</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1391</span><span class="c1">// Return pointer to last element of array, or NULL if array is empty</span>
<span class="linenos">1392</span><span class="c1">// func:command.acr_dm.arg.Last</span>
<span class="linenos">1393</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">arg_Last</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">1394</span><span class="c1">// Return max. number of items in the array</span>
<span class="linenos">1395</span><span class="c1">// func:command.acr_dm.arg.Max</span>
<span class="linenos">1396</span><span class="n">i32</span><span class="w">                  </span><span class="nf">arg_Max</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1397</span><span class="c1">// Return number of items in the array</span>
<span class="linenos">1398</span><span class="c1">// func:command.acr_dm.arg.N</span>
<span class="linenos">1399</span><span class="n">i32</span><span class="w">                  </span><span class="nf">arg_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">1400</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">1401</span><span class="c1">// func:command.acr_dm.arg.Remove</span>
<span class="linenos">1402</span><span class="kt">void</span><span class="w">                 </span><span class="nf">arg_Remove</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1403</span><span class="c1">// func:command.acr_dm.arg.RemoveAll</span>
<span class="linenos">1404</span><span class="kt">void</span><span class="w">                 </span><span class="nf">arg_RemoveAll</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1405</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">1406</span><span class="c1">// func:command.acr_dm.arg.RemoveLast</span>
<span class="linenos">1407</span><span class="kt">void</span><span class="w">                 </span><span class="nf">arg_RemoveLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1408</span><span class="c1">// Make sure N *more* elements will fit in array. Process dies if out of memory</span>
<span class="linenos">1409</span><span class="c1">// func:command.acr_dm.arg.Reserve</span>
<span class="linenos">1410</span><span class="kt">void</span><span class="w">                 </span><span class="nf">arg_Reserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1411</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">1412</span><span class="c1">// func:command.acr_dm.arg.AbsReserve</span>
<span class="linenos">1413</span><span class="kt">void</span><span class="w">                 </span><span class="nf">arg_AbsReserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1414</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">1415</span><span class="c1">// func:command.acr_dm.arg.Setary</span>
<span class="linenos">1416</span><span class="kt">void</span><span class="w">                 </span><span class="nf">arg_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1417</span><span class="c1">// Copy specified array into arg, discarding previous contents.</span>
<span class="linenos">1418</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">1419</span><span class="c1">// func:command.acr_dm.arg.Setary2</span>
<span class="linenos">1420</span><span class="kt">void</span><span class="w">                 </span><span class="nf">arg_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1421</span><span class="c1">// &#39;quick&#39; Access row by row id. No bounds checking.</span>
<span class="linenos">1422</span><span class="c1">// func:command.acr_dm.arg.qFind</span>
<span class="linenos">1423</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">arg_qFind</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1424</span><span class="c1">// Return reference to last element of array. No bounds checking</span>
<span class="linenos">1425</span><span class="c1">// func:command.acr_dm.arg.qLast</span>
<span class="linenos">1426</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">arg_qLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1427</span><span class="c1">// Return row id of specified element</span>
<span class="linenos">1428</span><span class="c1">// func:command.acr_dm.arg.rowid_Get</span>
<span class="linenos">1429</span><span class="n">u64</span><span class="w">                  </span><span class="nf">arg_rowid_Get</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1430</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">1431</span><span class="c1">// func:command.acr_dm.arg.AllocNVal</span>
<span class="linenos">1432</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">arg_AllocNVal</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1433</span><span class="c1">// A single element is read from input string and appended to the array.</span>
<span class="linenos">1434</span><span class="c1">// If the string contains an error, the array is untouched.</span>
<span class="linenos">1435</span><span class="c1">// Function returns success value.</span>
<span class="linenos">1436</span><span class="c1">// func:command.acr_dm.arg.ReadStrptrMaybe</span>
<span class="linenos">1437</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">arg_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1438</span>
<span class="linenos">1439</span><span class="c1">// proceed to next item</span>
<span class="linenos">1440</span><span class="c1">// func:command.acr_dm.arg_curs.Next</span>
<span class="linenos">1441</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_dm_arg_curs_Next</span><span class="p">(</span><span class="n">acr_dm_arg_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1442</span><span class="c1">// func:command.acr_dm.arg_curs.Reset</span>
<span class="linenos">1443</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_dm_arg_curs_Reset</span><span class="p">(</span><span class="n">acr_dm_arg_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1444</span><span class="c1">// cursor points to valid item</span>
<span class="linenos">1445</span><span class="c1">// func:command.acr_dm.arg_curs.ValidQ</span>
<span class="linenos">1446</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">acr_dm_arg_curs_ValidQ</span><span class="p">(</span><span class="n">acr_dm_arg_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1447</span><span class="c1">// item access</span>
<span class="linenos">1448</span><span class="c1">// func:command.acr_dm.arg_curs.Access</span>
<span class="linenos">1449</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">acr_dm_arg_curs_Access</span><span class="p">(</span><span class="n">acr_dm_arg_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1450</span><span class="c1">// func:command.acr_dm..ReadFieldMaybe</span>
<span class="linenos">1451</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">acr_dm_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1452</span><span class="c1">// Read fields of command::acr_dm from attributes of ascii tuple TUPLE</span>
<span class="linenos">1453</span><span class="c1">// func:command.acr_dm..ReadTupleMaybe</span>
<span class="linenos">1454</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">acr_dm_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1455</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">1456</span><span class="c1">// func:command.acr_dm..Init</span>
<span class="linenos">1457</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_dm_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1458</span><span class="c1">// func:command.acr_dm..Uninit</span>
<span class="linenos">1459</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_dm_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1460</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">1461</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">1462</span><span class="c1">// func:command.acr_dm..ToCmdline</span>
<span class="linenos">1463</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">acr_dm_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1464</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">1465</span><span class="c1">// cfmt:command.acr_dm.Argv  printfmt:Tuple</span>
<span class="linenos">1466</span><span class="c1">// func:command.acr_dm..PrintArgv</span>
<span class="linenos">1467</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_dm_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1468</span><span class="c1">// func:command.acr_dm..GetAnon</span>
<span class="linenos">1469</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">acr_dm_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1470</span><span class="c1">// Used with command lines</span>
<span class="linenos">1471</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">1472</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">1473</span><span class="c1">// func:command.acr_dm..NArgs</span>
<span class="linenos">1474</span><span class="n">i32</span><span class="w">                  </span><span class="nf">acr_dm_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1475</span>
<span class="linenos">1476</span><span class="c1">// --- command.acr_dm_proc</span>
<span class="linenos">1477</span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_dm_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.acr_dm_proc: Subprocess: ACR Diff/Merge</span>
<span class="linenos">1478</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/acr_dm&quot;  path for executable</span>
<span class="linenos">1479</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">1480</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">1481</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">1482</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">1483</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">             </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">1484</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">1485</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">1486</span><span class="w">    </span><span class="n">acr_dm_proc</span><span class="p">();</span>
<span class="linenos">1487</span><span class="w">    </span><span class="o">~</span><span class="n">acr_dm_proc</span><span class="p">();</span>
<span class="linenos">1488</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">1489</span><span class="w">    </span><span class="c1">// reftype Exec of command.acr_dm_proc.acr_dm prohibits copy</span>
<span class="linenos">1490</span><span class="w">    </span><span class="c1">// value field command.acr_dm_proc.cmd is not copiable</span>
<span class="linenos">1491</span><span class="w">    </span><span class="n">acr_dm_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">acr_dm_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">1492</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">acr_dm_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">1493</span><span class="p">};</span>
<span class="linenos">1494</span>
<span class="linenos">1495</span><span class="c1">// Start subprocess</span>
<span class="linenos">1496</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">1497</span><span class="c1">// func:command.acr_dm_proc.acr_dm.Start</span>
<span class="linenos">1498</span><span class="kt">int</span><span class="w">                  </span><span class="nf">acr_dm_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1499</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">1500</span><span class="c1">// func:command.acr_dm_proc.acr_dm.StartRead</span>
<span class="linenos">1501</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">acr_dm_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1502</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">1503</span><span class="c1">// func:command.acr_dm_proc.acr_dm.Kill</span>
<span class="linenos">1504</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_dm_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1505</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">1506</span><span class="c1">// func:command.acr_dm_proc.acr_dm.Wait</span>
<span class="linenos">1507</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_dm_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1508</span><span class="c1">// Start + Wait</span>
<span class="linenos">1509</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">1510</span><span class="c1">// func:command.acr_dm_proc.acr_dm.Exec</span>
<span class="linenos">1511</span><span class="kt">int</span><span class="w">                  </span><span class="nf">acr_dm_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1512</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">1513</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">1514</span><span class="c1">// func:command.acr_dm_proc.acr_dm.ExecX</span>
<span class="linenos">1515</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_dm_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1516</span><span class="c1">// Call execv()</span>
<span class="linenos">1517</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">1518</span><span class="c1">// func:command.acr_dm_proc.acr_dm.Execv</span>
<span class="linenos">1519</span><span class="kt">int</span><span class="w">                  </span><span class="nf">acr_dm_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1520</span><span class="c1">// func:command.acr_dm_proc.acr_dm.ToCmdline</span>
<span class="linenos">1521</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">acr_dm_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1522</span><span class="c1">// Form array from the command line</span>
<span class="linenos">1523</span><span class="c1">// func:command.acr_dm_proc.acr_dm.ToArgv</span>
<span class="linenos">1524</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_dm_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1525</span>
<span class="linenos">1526</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">1527</span><span class="c1">// func:command.acr_dm_proc..Init</span>
<span class="linenos">1528</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_dm_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1529</span><span class="c1">// func:command.acr_dm_proc..Uninit</span>
<span class="linenos">1530</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_dm_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_dm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1531</span>
<span class="linenos">1532</span><span class="c1">// --- command.acr_ed</span>
<span class="linenos">1533</span><span class="c1">// access: command.acr_ed_proc.acr_ed (Exec)</span>
<span class="linenos">1534</span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_ed</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.acr_ed</span>
<span class="linenos">1535</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">in</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">1536</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">create</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  Create new entity (-finput, -target, -ctype, -field)</span>
<span class="linenos">1537</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">del</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Delete mode</span>
<span class="linenos">1538</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">rename</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;&quot;  Rename to something else</span>
<span class="linenos">1539</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">finput</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  Create in-memory table based on ssimfile</span>
<span class="linenos">1540</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">foutput</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Declare field as an output</span>
<span class="linenos">1541</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">srcfile</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;&quot;  Create/Rename/Delete a source file</span>
<span class="linenos">1542</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">gstatic</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Like -finput, but data is loaded at compile time</span>
<span class="linenos">1543</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">indexed</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  (with -finput) Add hash index</span>
<span class="linenos">1544</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr16</span><span class="w">    </span><span class="n">target</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;&quot;  Create/Rename/Delete target</span>
<span class="linenos">1545</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">    </span><span class="n">nstype</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;exe&quot;  (with -create -target): exe,lib,etc.</span>
<span class="linenos">1546</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100</span><span class="w">   </span><span class="n">ctype</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;&quot;  Create/Rename/Delete ctype</span>
<span class="linenos">1547</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">    </span><span class="n">pooltype</span><span class="p">;</span><span class="w">    </span><span class="c1">//   &quot;&quot;   Pool reftype (Lary,Lpool etc) for finput/ctype</span>
<span class="linenos">1548</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">    </span><span class="n">ssimfile</span><span class="p">;</span><span class="w">    </span><span class="c1">//   &quot;&quot;    Ssimfile for new ctype</span>
<span class="linenos">1549</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100</span><span class="w">   </span><span class="n">subset</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;&quot;    Primary key is a subset of this ctype</span>
<span class="linenos">1550</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100</span><span class="w">   </span><span class="n">subset2</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;&quot;    Primary key is also a subset of this ctype</span>
<span class="linenos">1551</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">separator</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;.&quot;      Key separator</span>
<span class="linenos">1552</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100</span><span class="w">   </span><span class="n">field</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;&quot;  Create field</span>
<span class="linenos">1553</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100</span><span class="w">   </span><span class="n">arg</span><span class="p">;</span><span class="w">         </span><span class="c1">//   &quot;&quot;    Field type (e.g. u32, etc), (with -ctype) add the base field</span>
<span class="linenos">1554</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">dflt</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;&quot;    Field default value</span>
<span class="linenos">1555</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">anon</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false    Anonymous field (use with command lines)</span>
<span class="linenos">1556</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">bigend</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false    Big-endian field</span>
<span class="linenos">1557</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">cascdel</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false    Field is cascdel</span>
<span class="linenos">1558</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100</span><span class="w">   </span><span class="n">before</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;&quot;    Place field before this one</span>
<span class="linenos">1559</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100</span><span class="w">   </span><span class="n">substr</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;&quot;    New field is a substring</span>
<span class="linenos">1560</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">alias</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  Create alias field (requires -srcfield)</span>
<span class="linenos">1561</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100</span><span class="w">   </span><span class="n">srcfield</span><span class="p">;</span><span class="w">    </span><span class="c1">//   &quot;&quot;    Source field for bitfld/substr</span>
<span class="linenos">1562</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100</span><span class="w">   </span><span class="n">fstep</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;&quot;    Add fstep record</span>
<span class="linenos">1563</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">inscond</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;true&quot;    Insert condition (for xref)</span>
<span class="linenos">1564</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">    </span><span class="n">reftype</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;&quot;    Reftype (e.g. Val, Thash, Llist, etc)</span>
<span class="linenos">1565</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100</span><span class="w">   </span><span class="n">hashfld</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;&quot;      (-reftype:Thash) Hash field</span>
<span class="linenos">1566</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100</span><span class="w">   </span><span class="n">sortfld</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;&quot;      (-reftype:Bheap) Sort field</span>
<span class="linenos">1567</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">unittest</span><span class="p">;</span><span class="w">    </span><span class="c1">//   &quot;&quot;  Create unit test, &lt;ns&gt;.&lt;functionname&gt;</span>
<span class="linenos">1568</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">citest</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;&quot;  Create CI test</span>
<span class="linenos">1569</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">cppfunc</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;&quot;  Field is a cppfunc, pass c++ expression as argument</span>
<span class="linenos">1570</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">xref</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false      X-ref with field type</span>
<span class="linenos">1571</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">via</span><span class="p">;</span><span class="w">         </span><span class="c1">//   &quot;&quot;        X-ref argument (index, pointer, or index/key)</span>
<span class="linenos">1572</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">write</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  Commit output to disk</span>
<span class="linenos">1573</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">e</span><span class="p">;</span><span class="w">           </span><span class="c1">//   false   (with -create -unittest) Edit new testcase</span>
<span class="linenos">1574</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">comment</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;&quot;  Comment for new entity</span>
<span class="linenos">1575</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">sandbox</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Make changes in sandbox</span>
<span class="linenos">1576</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">test</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false  Build resulting changes, run tests</span>
<span class="linenos">1577</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">showcpp</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  (With -sandbox), show resulting diff</span>
<span class="linenos">1578</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">msgtype</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;&quot;  (with -ctype) use this msgtype as type</span>
<span class="linenos">1579</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">anonfld</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Create anonfld</span>
<span class="linenos">1580</span><span class="w">    </span><span class="n">acr_ed</span><span class="p">();</span>
<span class="linenos">1581</span><span class="p">};</span>
<span class="linenos">1582</span>
<span class="linenos">1583</span><span class="c1">// func:command.acr_ed..ReadFieldMaybe</span>
<span class="linenos">1584</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">acr_ed_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_ed</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1585</span><span class="c1">// Read fields of command::acr_ed from attributes of ascii tuple TUPLE</span>
<span class="linenos">1586</span><span class="c1">// func:command.acr_ed..ReadTupleMaybe</span>
<span class="linenos">1587</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">acr_ed_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_ed</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1588</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">1589</span><span class="c1">// func:command.acr_ed..Init</span>
<span class="linenos">1590</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_ed_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_ed</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1591</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">1592</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">1593</span><span class="c1">// func:command.acr_ed..ToCmdline</span>
<span class="linenos">1594</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">acr_ed_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_ed</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1595</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">1596</span><span class="c1">// cfmt:command.acr_ed.Argv  printfmt:Auto</span>
<span class="linenos">1597</span><span class="c1">// func:command.acr_ed..PrintArgv</span>
<span class="linenos">1598</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_ed_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_ed</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1599</span><span class="c1">// Used with command lines</span>
<span class="linenos">1600</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">1601</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">1602</span><span class="c1">// func:command.acr_ed..NArgs</span>
<span class="linenos">1603</span><span class="n">i32</span><span class="w">                  </span><span class="nf">acr_ed_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1604</span>
<span class="linenos">1605</span><span class="c1">// --- command.acr_ed_proc</span>
<span class="linenos">1606</span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_ed_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.acr_ed_proc: Subprocess: Script generator for common dev tasks</span>
<span class="linenos">1607</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/acr_ed&quot;  path for executable</span>
<span class="linenos">1608</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">acr_ed</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">1609</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">1610</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">1611</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">1612</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">             </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">1613</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">1614</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">1615</span><span class="w">    </span><span class="n">acr_ed_proc</span><span class="p">();</span>
<span class="linenos">1616</span><span class="w">    </span><span class="o">~</span><span class="n">acr_ed_proc</span><span class="p">();</span>
<span class="linenos">1617</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">1618</span><span class="w">    </span><span class="c1">// reftype Exec of command.acr_ed_proc.acr_ed prohibits copy</span>
<span class="linenos">1619</span><span class="w">    </span><span class="n">acr_ed_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">acr_ed_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">1620</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">acr_ed_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">1621</span><span class="p">};</span>
<span class="linenos">1622</span>
<span class="linenos">1623</span><span class="c1">// Start subprocess</span>
<span class="linenos">1624</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">1625</span><span class="c1">// func:command.acr_ed_proc.acr_ed.Start</span>
<span class="linenos">1626</span><span class="kt">int</span><span class="w">                  </span><span class="nf">acr_ed_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1627</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">1628</span><span class="c1">// func:command.acr_ed_proc.acr_ed.StartRead</span>
<span class="linenos">1629</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">acr_ed_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1630</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">1631</span><span class="c1">// func:command.acr_ed_proc.acr_ed.Kill</span>
<span class="linenos">1632</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_ed_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1633</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">1634</span><span class="c1">// func:command.acr_ed_proc.acr_ed.Wait</span>
<span class="linenos">1635</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_ed_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1636</span><span class="c1">// Start + Wait</span>
<span class="linenos">1637</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">1638</span><span class="c1">// func:command.acr_ed_proc.acr_ed.Exec</span>
<span class="linenos">1639</span><span class="kt">int</span><span class="w">                  </span><span class="nf">acr_ed_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1640</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">1641</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">1642</span><span class="c1">// func:command.acr_ed_proc.acr_ed.ExecX</span>
<span class="linenos">1643</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_ed_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1644</span><span class="c1">// Call execv()</span>
<span class="linenos">1645</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">1646</span><span class="c1">// func:command.acr_ed_proc.acr_ed.Execv</span>
<span class="linenos">1647</span><span class="kt">int</span><span class="w">                  </span><span class="nf">acr_ed_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1648</span><span class="c1">// func:command.acr_ed_proc.acr_ed.ToCmdline</span>
<span class="linenos">1649</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">acr_ed_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1650</span><span class="c1">// Form array from the command line</span>
<span class="linenos">1651</span><span class="c1">// func:command.acr_ed_proc.acr_ed.ToArgv</span>
<span class="linenos">1652</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_ed_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1653</span>
<span class="linenos">1654</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">1655</span><span class="c1">// func:command.acr_ed_proc..Init</span>
<span class="linenos">1656</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_ed_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1657</span><span class="c1">// func:command.acr_ed_proc..Uninit</span>
<span class="linenos">1658</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_ed_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1659</span>
<span class="linenos">1660</span><span class="c1">// --- command.acr_in</span>
<span class="linenos">1661</span><span class="c1">// access: command.acr_in_proc.acr_in (Exec)</span>
<span class="linenos">1662</span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_in</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.acr_in</span>
<span class="linenos">1663</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">ns</span><span class="p">;</span><span class="w">            </span><span class="c1">//   &quot;&quot;  Sql Regx of dmmeta::Ns</span>
<span class="linenos">1664</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">data</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  List ssimfile contents</span>
<span class="linenos">1665</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">sigcheck</span><span class="p">;</span><span class="w">      </span><span class="c1">//   true  Output sigcheck records for schema version mismatch detection</span>
<span class="linenos">1666</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">list</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  List ssimfile names</span>
<span class="linenos">1667</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">t</span><span class="p">;</span><span class="w">             </span><span class="c1">//   false  (with -list) Tree mode</span>
<span class="linenos">1668</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">data_dir</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;data&quot;  Directory with ssimfiles</span>
<span class="linenos">1669</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">schema</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;data&quot;</span>
<span class="linenos">1670</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">related</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;&quot;  Select only tuples related to specified acr key</span>
<span class="linenos">1671</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">notssimfile</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;&quot;  Sql Regx of dmmeta::Ssimfile</span>
<span class="linenos">1672</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">checkable</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Ensure output passes acr -check</span>
<span class="linenos">1673</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">r</span><span class="p">;</span><span class="w">             </span><span class="c1">//   &quot;&quot;  Sql Regx of dmmeta::Ssimfile</span>
<span class="linenos">1674</span><span class="w">    </span><span class="n">acr_in</span><span class="p">();</span>
<span class="linenos">1675</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">1676</span><span class="w">    </span><span class="c1">// reftype Regx of command.acr_in.ns prohibits copy</span>
<span class="linenos">1677</span><span class="w">    </span><span class="c1">// reftype Regx of command.acr_in.notssimfile prohibits copy</span>
<span class="linenos">1678</span><span class="w">    </span><span class="c1">// reftype Regx of command.acr_in.r prohibits copy</span>
<span class="linenos">1679</span><span class="w">    </span><span class="c1">// ... and several other reasons</span>
<span class="linenos">1680</span><span class="w">    </span><span class="n">acr_in</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">acr_in</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">1681</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">acr_in</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">1682</span><span class="p">};</span>
<span class="linenos">1683</span>
<span class="linenos">1684</span><span class="c1">// Print back to string</span>
<span class="linenos">1685</span><span class="c1">// func:command.acr_in.ns.Print</span>
<span class="linenos">1686</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ns_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1687</span><span class="c1">// Read Regx from string</span>
<span class="linenos">1688</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">1689</span><span class="c1">// func:command.acr_in.ns.ReadStrptrMaybe</span>
<span class="linenos">1690</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ns_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1691</span>
<span class="linenos">1692</span><span class="c1">// Print back to string</span>
<span class="linenos">1693</span><span class="c1">// func:command.acr_in.notssimfile.Print</span>
<span class="linenos">1694</span><span class="kt">void</span><span class="w">                 </span><span class="nf">notssimfile_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1695</span><span class="c1">// Read Regx from string</span>
<span class="linenos">1696</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">1697</span><span class="c1">// func:command.acr_in.notssimfile.ReadStrptrMaybe</span>
<span class="linenos">1698</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">notssimfile_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1699</span>
<span class="linenos">1700</span><span class="c1">// Print back to string</span>
<span class="linenos">1701</span><span class="c1">// func:command.acr_in.r.Print</span>
<span class="linenos">1702</span><span class="kt">void</span><span class="w">                 </span><span class="nf">r_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1703</span><span class="c1">// Read Regx from string</span>
<span class="linenos">1704</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">1705</span><span class="c1">// func:command.acr_in.r.ReadStrptrMaybe</span>
<span class="linenos">1706</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">r_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1707</span>
<span class="linenos">1708</span><span class="c1">// func:command.acr_in..ReadFieldMaybe</span>
<span class="linenos">1709</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">acr_in_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1710</span><span class="c1">// Read fields of command::acr_in from attributes of ascii tuple TUPLE</span>
<span class="linenos">1711</span><span class="c1">// func:command.acr_in..ReadTupleMaybe</span>
<span class="linenos">1712</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">acr_in_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1713</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">1714</span><span class="c1">// func:command.acr_in..Init</span>
<span class="linenos">1715</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_in_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1716</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">1717</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">1718</span><span class="c1">// func:command.acr_in..ToCmdline</span>
<span class="linenos">1719</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">acr_in_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1720</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">1721</span><span class="c1">// cfmt:command.acr_in.Argv  printfmt:Auto</span>
<span class="linenos">1722</span><span class="c1">// func:command.acr_in..PrintArgv</span>
<span class="linenos">1723</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_in_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1724</span><span class="c1">// func:command.acr_in..GetAnon</span>
<span class="linenos">1725</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">acr_in_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1726</span><span class="c1">// Used with command lines</span>
<span class="linenos">1727</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">1728</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">1729</span><span class="c1">// func:command.acr_in..NArgs</span>
<span class="linenos">1730</span><span class="n">i32</span><span class="w">                  </span><span class="nf">acr_in_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1731</span>
<span class="linenos">1732</span><span class="c1">// --- command.acr_in_proc</span>
<span class="linenos">1733</span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_in_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.acr_in_proc: Subprocess: ACR Input - compute set of ssimfiles or tuples used by a specific target</span>
<span class="linenos">1734</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/acr_in&quot;  path for executable</span>
<span class="linenos">1735</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">acr_in</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">1736</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">1737</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">1738</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">1739</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">             </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">1740</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">1741</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">1742</span><span class="w">    </span><span class="n">acr_in_proc</span><span class="p">();</span>
<span class="linenos">1743</span><span class="w">    </span><span class="o">~</span><span class="n">acr_in_proc</span><span class="p">();</span>
<span class="linenos">1744</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">1745</span><span class="w">    </span><span class="c1">// reftype Exec of command.acr_in_proc.acr_in prohibits copy</span>
<span class="linenos">1746</span><span class="w">    </span><span class="c1">// value field command.acr_in_proc.cmd is not copiable</span>
<span class="linenos">1747</span><span class="w">    </span><span class="n">acr_in_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">acr_in_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">1748</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">acr_in_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">1749</span><span class="p">};</span>
<span class="linenos">1750</span>
<span class="linenos">1751</span><span class="c1">// Start subprocess</span>
<span class="linenos">1752</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">1753</span><span class="c1">// func:command.acr_in_proc.acr_in.Start</span>
<span class="linenos">1754</span><span class="kt">int</span><span class="w">                  </span><span class="nf">acr_in_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1755</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">1756</span><span class="c1">// func:command.acr_in_proc.acr_in.StartRead</span>
<span class="linenos">1757</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">acr_in_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1758</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">1759</span><span class="c1">// func:command.acr_in_proc.acr_in.Kill</span>
<span class="linenos">1760</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_in_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1761</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">1762</span><span class="c1">// func:command.acr_in_proc.acr_in.Wait</span>
<span class="linenos">1763</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_in_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1764</span><span class="c1">// Start + Wait</span>
<span class="linenos">1765</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">1766</span><span class="c1">// func:command.acr_in_proc.acr_in.Exec</span>
<span class="linenos">1767</span><span class="kt">int</span><span class="w">                  </span><span class="nf">acr_in_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1768</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">1769</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">1770</span><span class="c1">// func:command.acr_in_proc.acr_in.ExecX</span>
<span class="linenos">1771</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_in_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1772</span><span class="c1">// Call execv()</span>
<span class="linenos">1773</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">1774</span><span class="c1">// func:command.acr_in_proc.acr_in.Execv</span>
<span class="linenos">1775</span><span class="kt">int</span><span class="w">                  </span><span class="nf">acr_in_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1776</span><span class="c1">// func:command.acr_in_proc.acr_in.ToCmdline</span>
<span class="linenos">1777</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">acr_in_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1778</span><span class="c1">// Form array from the command line</span>
<span class="linenos">1779</span><span class="c1">// func:command.acr_in_proc.acr_in.ToArgv</span>
<span class="linenos">1780</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_in_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1781</span>
<span class="linenos">1782</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">1783</span><span class="c1">// func:command.acr_in_proc..Init</span>
<span class="linenos">1784</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_in_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1785</span><span class="c1">// func:command.acr_in_proc..Uninit</span>
<span class="linenos">1786</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_in_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_in_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1787</span>
<span class="linenos">1788</span><span class="c1">// --- command.acr_my</span>
<span class="linenos">1789</span><span class="c1">// access: command.acr_my_proc.acr_my (Exec)</span>
<span class="linenos">1790</span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_my</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.acr_my</span>
<span class="linenos">1791</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">nsdb</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;&quot;  Sql Regx of dmmeta::Nsdb</span>
<span class="linenos">1792</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">1793</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">schema</span><span class="p">;</span><span class="w">    </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">1794</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">fldfunc</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  Evaluate fldfunc when printing tuple</span>
<span class="linenos">1795</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">fkey</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  Enable foreign key constraints</span>
<span class="linenos">1796</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">e</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Alias for -start -shell -stop</span>
<span class="linenos">1797</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">start</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Start local mysql server</span>
<span class="linenos">1798</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">stop</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  Stop local mysql server, saving data</span>
<span class="linenos">1799</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">abort</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Abort local mysql server, losing data</span>
<span class="linenos">1800</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">shell</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Connect to local mysql server</span>
<span class="linenos">1801</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">serv</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  Start mysql with TCP/IP service enabled</span>
<span class="linenos">1802</span><span class="w">    </span><span class="n">acr_my</span><span class="p">();</span>
<span class="linenos">1803</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">1804</span><span class="w">    </span><span class="c1">// reftype Regx of command.acr_my.nsdb prohibits copy</span>
<span class="linenos">1805</span><span class="w">    </span><span class="n">acr_my</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">acr_my</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">1806</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">acr_my</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">1807</span><span class="p">};</span>
<span class="linenos">1808</span>
<span class="linenos">1809</span><span class="c1">// Print back to string</span>
<span class="linenos">1810</span><span class="c1">// func:command.acr_my.nsdb.Print</span>
<span class="linenos">1811</span><span class="kt">void</span><span class="w">                 </span><span class="nf">nsdb_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_my</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1812</span><span class="c1">// Read Regx from string</span>
<span class="linenos">1813</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">1814</span><span class="c1">// func:command.acr_my.nsdb.ReadStrptrMaybe</span>
<span class="linenos">1815</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">nsdb_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_my</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1816</span>
<span class="linenos">1817</span><span class="c1">// func:command.acr_my..ReadFieldMaybe</span>
<span class="linenos">1818</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">acr_my_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_my</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1819</span><span class="c1">// Read fields of command::acr_my from attributes of ascii tuple TUPLE</span>
<span class="linenos">1820</span><span class="c1">// func:command.acr_my..ReadTupleMaybe</span>
<span class="linenos">1821</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">acr_my_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_my</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1822</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">1823</span><span class="c1">// func:command.acr_my..Init</span>
<span class="linenos">1824</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_my_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_my</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1825</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">1826</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">1827</span><span class="c1">// func:command.acr_my..ToCmdline</span>
<span class="linenos">1828</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">acr_my_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_my</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1829</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">1830</span><span class="c1">// cfmt:command.acr_my.Argv  printfmt:Tuple</span>
<span class="linenos">1831</span><span class="c1">// func:command.acr_my..PrintArgv</span>
<span class="linenos">1832</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_my_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_my</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1833</span><span class="c1">// func:command.acr_my..GetAnon</span>
<span class="linenos">1834</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">acr_my_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_my</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1835</span><span class="c1">// Used with command lines</span>
<span class="linenos">1836</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">1837</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">1838</span><span class="c1">// func:command.acr_my..NArgs</span>
<span class="linenos">1839</span><span class="n">i32</span><span class="w">                  </span><span class="nf">acr_my_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1840</span>
<span class="linenos">1841</span><span class="c1">// --- command.acr_my_proc</span>
<span class="linenos">1842</span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_my_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.acr_my_proc: Subprocess: ACR &lt;-&gt; MariaDB adaptor</span>
<span class="linenos">1843</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/acr_my&quot;  path for executable</span>
<span class="linenos">1844</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">acr_my</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">1845</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">1846</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">1847</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">1848</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">             </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">1849</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">1850</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">1851</span><span class="w">    </span><span class="n">acr_my_proc</span><span class="p">();</span>
<span class="linenos">1852</span><span class="w">    </span><span class="o">~</span><span class="n">acr_my_proc</span><span class="p">();</span>
<span class="linenos">1853</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">1854</span><span class="w">    </span><span class="c1">// reftype Exec of command.acr_my_proc.acr_my prohibits copy</span>
<span class="linenos">1855</span><span class="w">    </span><span class="c1">// value field command.acr_my_proc.cmd is not copiable</span>
<span class="linenos">1856</span><span class="w">    </span><span class="n">acr_my_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">acr_my_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">1857</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">acr_my_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">1858</span><span class="p">};</span>
<span class="linenos">1859</span>
<span class="linenos">1860</span><span class="c1">// Start subprocess</span>
<span class="linenos">1861</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">1862</span><span class="c1">// func:command.acr_my_proc.acr_my.Start</span>
<span class="linenos">1863</span><span class="kt">int</span><span class="w">                  </span><span class="nf">acr_my_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_my_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1864</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">1865</span><span class="c1">// func:command.acr_my_proc.acr_my.StartRead</span>
<span class="linenos">1866</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">acr_my_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_my_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1867</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">1868</span><span class="c1">// func:command.acr_my_proc.acr_my.Kill</span>
<span class="linenos">1869</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_my_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_my_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1870</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">1871</span><span class="c1">// func:command.acr_my_proc.acr_my.Wait</span>
<span class="linenos">1872</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_my_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_my_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1873</span><span class="c1">// Start + Wait</span>
<span class="linenos">1874</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">1875</span><span class="c1">// func:command.acr_my_proc.acr_my.Exec</span>
<span class="linenos">1876</span><span class="kt">int</span><span class="w">                  </span><span class="nf">acr_my_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_my_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1877</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">1878</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">1879</span><span class="c1">// func:command.acr_my_proc.acr_my.ExecX</span>
<span class="linenos">1880</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_my_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_my_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1881</span><span class="c1">// Call execv()</span>
<span class="linenos">1882</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">1883</span><span class="c1">// func:command.acr_my_proc.acr_my.Execv</span>
<span class="linenos">1884</span><span class="kt">int</span><span class="w">                  </span><span class="nf">acr_my_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_my_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1885</span><span class="c1">// func:command.acr_my_proc.acr_my.ToCmdline</span>
<span class="linenos">1886</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">acr_my_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_my_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1887</span><span class="c1">// Form array from the command line</span>
<span class="linenos">1888</span><span class="c1">// func:command.acr_my_proc.acr_my.ToArgv</span>
<span class="linenos">1889</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_my_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_my_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1890</span>
<span class="linenos">1891</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">1892</span><span class="c1">// func:command.acr_my_proc..Init</span>
<span class="linenos">1893</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_my_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_my_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1894</span><span class="c1">// func:command.acr_my_proc..Uninit</span>
<span class="linenos">1895</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_my_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_my_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1896</span>
<span class="linenos">1897</span><span class="c1">// --- command.acr_proc</span>
<span class="linenos">1898</span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.acr_proc: Subprocess: Algo Cross-Reference - ssimfile database &amp; update tool</span>
<span class="linenos">1899</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/acr&quot;  path for executable</span>
<span class="linenos">1900</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">acr</span><span class="w">    </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">1901</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">1902</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">1903</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">1904</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">           </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">1905</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">1906</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">1907</span><span class="w">    </span><span class="n">acr_proc</span><span class="p">();</span>
<span class="linenos">1908</span><span class="w">    </span><span class="o">~</span><span class="n">acr_proc</span><span class="p">();</span>
<span class="linenos">1909</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">1910</span><span class="w">    </span><span class="c1">// reftype Exec of command.acr_proc.acr prohibits copy</span>
<span class="linenos">1911</span><span class="w">    </span><span class="c1">// value field command.acr_proc.cmd is not copiable</span>
<span class="linenos">1912</span><span class="w">    </span><span class="n">acr_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">acr_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">1913</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">acr_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">1914</span><span class="p">};</span>
<span class="linenos">1915</span>
<span class="linenos">1916</span><span class="c1">// Start subprocess</span>
<span class="linenos">1917</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">1918</span><span class="c1">// func:command.acr_proc.acr.Start</span>
<span class="linenos">1919</span><span class="kt">int</span><span class="w">                  </span><span class="nf">acr_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1920</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">1921</span><span class="c1">// func:command.acr_proc.acr.StartRead</span>
<span class="linenos">1922</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">acr_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1923</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">1924</span><span class="c1">// func:command.acr_proc.acr.Kill</span>
<span class="linenos">1925</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1926</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">1927</span><span class="c1">// func:command.acr_proc.acr.Wait</span>
<span class="linenos">1928</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1929</span><span class="c1">// Start + Wait</span>
<span class="linenos">1930</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">1931</span><span class="c1">// func:command.acr_proc.acr.Exec</span>
<span class="linenos">1932</span><span class="kt">int</span><span class="w">                  </span><span class="nf">acr_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1933</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">1934</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">1935</span><span class="c1">// func:command.acr_proc.acr.ExecX</span>
<span class="linenos">1936</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1937</span><span class="c1">// Call execv()</span>
<span class="linenos">1938</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">1939</span><span class="c1">// func:command.acr_proc.acr.Execv</span>
<span class="linenos">1940</span><span class="kt">int</span><span class="w">                  </span><span class="nf">acr_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1941</span><span class="c1">// func:command.acr_proc.acr.ToCmdline</span>
<span class="linenos">1942</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">acr_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1943</span><span class="c1">// Form array from the command line</span>
<span class="linenos">1944</span><span class="c1">// func:command.acr_proc.acr.ToArgv</span>
<span class="linenos">1945</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1946</span>
<span class="linenos">1947</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">1948</span><span class="c1">// func:command.acr_proc..Init</span>
<span class="linenos">1949</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1950</span><span class="c1">// func:command.acr_proc..Uninit</span>
<span class="linenos">1951</span><span class="kt">void</span><span class="w">                 </span><span class="nf">acr_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">acr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1952</span>
<span class="linenos">1953</span><span class="c1">// --- command.amc</span>
<span class="linenos">1954</span><span class="c1">// access: command.amc_proc.amc (Exec)</span>
<span class="linenos">1955</span><span class="k">struct</span><span class="w"> </span><span class="nc">amc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.amc</span>
<span class="linenos">1956</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in_dir</span><span class="p">;</span><span class="w">    </span><span class="c1">//   &quot;data&quot;  Root of input ssim dir</span>
<span class="linenos">1957</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">query</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;&quot;  Query mode: generate code for specified object</span>
<span class="linenos">1958</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">out_dir</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;.&quot;  Root of output cpp dir</span>
<span class="linenos">1959</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">proto</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Print prototype</span>
<span class="linenos">1960</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">report</span><span class="p">;</span><span class="w">    </span><span class="c1">//   true  Final report</span>
<span class="linenos">1961</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">e</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Open matching records in editor</span>
<span class="linenos">1962</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">trace</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;&quot;  Sql Regx</span>
<span class="linenos">1963</span><span class="w">    </span><span class="n">amc</span><span class="p">();</span>
<span class="linenos">1964</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">1965</span><span class="w">    </span><span class="c1">// reftype Regx of command.amc.trace prohibits copy</span>
<span class="linenos">1966</span><span class="w">    </span><span class="n">amc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">amc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">1967</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">amc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">1968</span><span class="p">};</span>
<span class="linenos">1969</span>
<span class="linenos">1970</span><span class="c1">// Print back to string</span>
<span class="linenos">1971</span><span class="c1">// func:command.amc.trace.Print</span>
<span class="linenos">1972</span><span class="kt">void</span><span class="w">                 </span><span class="nf">trace_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1973</span><span class="c1">// Read Regx from string</span>
<span class="linenos">1974</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">1975</span><span class="c1">// func:command.amc.trace.ReadStrptrMaybe</span>
<span class="linenos">1976</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">trace_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1977</span>
<span class="linenos">1978</span><span class="c1">// func:command.amc..ReadFieldMaybe</span>
<span class="linenos">1979</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">amc_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1980</span><span class="c1">// Read fields of command::amc from attributes of ascii tuple TUPLE</span>
<span class="linenos">1981</span><span class="c1">// func:command.amc..ReadTupleMaybe</span>
<span class="linenos">1982</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">amc_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1983</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">1984</span><span class="c1">// func:command.amc..Init</span>
<span class="linenos">1985</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">1986</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">1987</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">1988</span><span class="c1">// func:command.amc..ToCmdline</span>
<span class="linenos">1989</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">amc_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1990</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">1991</span><span class="c1">// cfmt:command.amc.Argv  printfmt:Auto</span>
<span class="linenos">1992</span><span class="c1">// func:command.amc..PrintArgv</span>
<span class="linenos">1993</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1994</span><span class="c1">// func:command.amc..GetAnon</span>
<span class="linenos">1995</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">amc_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">1996</span><span class="c1">// Used with command lines</span>
<span class="linenos">1997</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">1998</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">1999</span><span class="c1">// func:command.amc..NArgs</span>
<span class="linenos">2000</span><span class="n">i32</span><span class="w">                  </span><span class="nf">amc_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2001</span>
<span class="linenos">2002</span><span class="c1">// --- command.amc_gc</span>
<span class="linenos">2003</span><span class="c1">// access: command.amc_gc_proc.amc_gc (Exec)</span>
<span class="linenos">2004</span><span class="k">struct</span><span class="w"> </span><span class="nc">amc_gc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.amc_gc</span>
<span class="linenos">2005</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">target</span><span class="p">;</span><span class="w">    </span><span class="c1">//   &quot;%&quot;  Sql Regx of dev::Target</span>
<span class="linenos">2006</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">key</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;&quot;  Sql Regx</span>
<span class="linenos">2007</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">include</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  Garbage collect includes for specified target</span>
<span class="linenos">2008</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">2009</span><span class="w">    </span><span class="n">amc_gc</span><span class="p">();</span>
<span class="linenos">2010</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">2011</span><span class="w">    </span><span class="c1">// reftype Regx of command.amc_gc.target prohibits copy</span>
<span class="linenos">2012</span><span class="w">    </span><span class="c1">// reftype Regx of command.amc_gc.key prohibits copy</span>
<span class="linenos">2013</span><span class="w">    </span><span class="n">amc_gc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">amc_gc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">2014</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">amc_gc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">2015</span><span class="p">};</span>
<span class="linenos">2016</span>
<span class="linenos">2017</span><span class="c1">// Print back to string</span>
<span class="linenos">2018</span><span class="c1">// func:command.amc_gc.target.Print</span>
<span class="linenos">2019</span><span class="kt">void</span><span class="w">                 </span><span class="nf">target_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2020</span><span class="c1">// Read Regx from string</span>
<span class="linenos">2021</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">2022</span><span class="c1">// func:command.amc_gc.target.ReadStrptrMaybe</span>
<span class="linenos">2023</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">target_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2024</span>
<span class="linenos">2025</span><span class="c1">// Print back to string</span>
<span class="linenos">2026</span><span class="c1">// func:command.amc_gc.key.Print</span>
<span class="linenos">2027</span><span class="kt">void</span><span class="w">                 </span><span class="nf">key_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2028</span><span class="c1">// Read Regx from string</span>
<span class="linenos">2029</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">2030</span><span class="c1">// func:command.amc_gc.key.ReadStrptrMaybe</span>
<span class="linenos">2031</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">key_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2032</span>
<span class="linenos">2033</span><span class="c1">// func:command.amc_gc..ReadFieldMaybe</span>
<span class="linenos">2034</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">amc_gc_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2035</span><span class="c1">// Read fields of command::amc_gc from attributes of ascii tuple TUPLE</span>
<span class="linenos">2036</span><span class="c1">// func:command.amc_gc..ReadTupleMaybe</span>
<span class="linenos">2037</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">amc_gc_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2038</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">2039</span><span class="c1">// func:command.amc_gc..Init</span>
<span class="linenos">2040</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_gc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2041</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">2042</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">2043</span><span class="c1">// func:command.amc_gc..ToCmdline</span>
<span class="linenos">2044</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">amc_gc_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2045</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">2046</span><span class="c1">// cfmt:command.amc_gc.Argv  printfmt:Tuple</span>
<span class="linenos">2047</span><span class="c1">// func:command.amc_gc..PrintArgv</span>
<span class="linenos">2048</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_gc_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2049</span><span class="c1">// Used with command lines</span>
<span class="linenos">2050</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">2051</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">2052</span><span class="c1">// func:command.amc_gc..NArgs</span>
<span class="linenos">2053</span><span class="n">i32</span><span class="w">                  </span><span class="nf">amc_gc_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2054</span>
<span class="linenos">2055</span><span class="c1">// --- command.amc_gc_proc</span>
<span class="linenos">2056</span><span class="k">struct</span><span class="w"> </span><span class="nc">amc_gc_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.amc_gc_proc: Subprocess: Garbage collector for in-memory databases</span>
<span class="linenos">2057</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/amc_gc&quot;  path for executable</span>
<span class="linenos">2058</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">2059</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">2060</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">2061</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">2062</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">             </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">2063</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">2064</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">2065</span><span class="w">    </span><span class="n">amc_gc_proc</span><span class="p">();</span>
<span class="linenos">2066</span><span class="w">    </span><span class="o">~</span><span class="n">amc_gc_proc</span><span class="p">();</span>
<span class="linenos">2067</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">2068</span><span class="w">    </span><span class="c1">// reftype Exec of command.amc_gc_proc.amc_gc prohibits copy</span>
<span class="linenos">2069</span><span class="w">    </span><span class="c1">// value field command.amc_gc_proc.cmd is not copiable</span>
<span class="linenos">2070</span><span class="w">    </span><span class="n">amc_gc_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">amc_gc_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">2071</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">amc_gc_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">2072</span><span class="p">};</span>
<span class="linenos">2073</span>
<span class="linenos">2074</span><span class="c1">// Start subprocess</span>
<span class="linenos">2075</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">2076</span><span class="c1">// func:command.amc_gc_proc.amc_gc.Start</span>
<span class="linenos">2077</span><span class="kt">int</span><span class="w">                  </span><span class="nf">amc_gc_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2078</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">2079</span><span class="c1">// func:command.amc_gc_proc.amc_gc.StartRead</span>
<span class="linenos">2080</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">amc_gc_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2081</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">2082</span><span class="c1">// func:command.amc_gc_proc.amc_gc.Kill</span>
<span class="linenos">2083</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_gc_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2084</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">2085</span><span class="c1">// func:command.amc_gc_proc.amc_gc.Wait</span>
<span class="linenos">2086</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_gc_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2087</span><span class="c1">// Start + Wait</span>
<span class="linenos">2088</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">2089</span><span class="c1">// func:command.amc_gc_proc.amc_gc.Exec</span>
<span class="linenos">2090</span><span class="kt">int</span><span class="w">                  </span><span class="nf">amc_gc_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2091</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">2092</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">2093</span><span class="c1">// func:command.amc_gc_proc.amc_gc.ExecX</span>
<span class="linenos">2094</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_gc_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2095</span><span class="c1">// Call execv()</span>
<span class="linenos">2096</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">2097</span><span class="c1">// func:command.amc_gc_proc.amc_gc.Execv</span>
<span class="linenos">2098</span><span class="kt">int</span><span class="w">                  </span><span class="nf">amc_gc_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2099</span><span class="c1">// func:command.amc_gc_proc.amc_gc.ToCmdline</span>
<span class="linenos">2100</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">amc_gc_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2101</span><span class="c1">// Form array from the command line</span>
<span class="linenos">2102</span><span class="c1">// func:command.amc_gc_proc.amc_gc.ToArgv</span>
<span class="linenos">2103</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_gc_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2104</span>
<span class="linenos">2105</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">2106</span><span class="c1">// func:command.amc_gc_proc..Init</span>
<span class="linenos">2107</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_gc_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2108</span><span class="c1">// func:command.amc_gc_proc..Uninit</span>
<span class="linenos">2109</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_gc_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_gc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2110</span>
<span class="linenos">2111</span><span class="c1">// --- command.amc_js</span>
<span class="linenos">2112</span><span class="c1">// access: command.amc_js_proc.amc_js (Exec)</span>
<span class="linenos">2113</span><span class="k">struct</span><span class="w"> </span><span class="nc">amc_js</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.amc_js</span>
<span class="linenos">2114</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">in</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">2115</span><span class="w">    </span><span class="n">amc_js</span><span class="p">();</span>
<span class="linenos">2116</span><span class="p">};</span>
<span class="linenos">2117</span>
<span class="linenos">2118</span><span class="c1">// func:command.amc_js..ReadFieldMaybe</span>
<span class="linenos">2119</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">amc_js_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_js</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2120</span><span class="c1">// Read fields of command::amc_js from attributes of ascii tuple TUPLE</span>
<span class="linenos">2121</span><span class="c1">// func:command.amc_js..ReadTupleMaybe</span>
<span class="linenos">2122</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">amc_js_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_js</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2123</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">2124</span><span class="c1">// func:command.amc_js..Init</span>
<span class="linenos">2125</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_js_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_js</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2126</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">2127</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">2128</span><span class="c1">// func:command.amc_js..ToCmdline</span>
<span class="linenos">2129</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">amc_js_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_js</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2130</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">2131</span><span class="c1">// cfmt:command.amc_js.Argv  printfmt:Tuple</span>
<span class="linenos">2132</span><span class="c1">// func:command.amc_js..PrintArgv</span>
<span class="linenos">2133</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_js_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_js</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2134</span><span class="c1">// Used with command lines</span>
<span class="linenos">2135</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">2136</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">2137</span><span class="c1">// func:command.amc_js..NArgs</span>
<span class="linenos">2138</span><span class="n">i32</span><span class="w">                  </span><span class="nf">amc_js_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2139</span>
<span class="linenos">2140</span><span class="c1">// --- command.amc_js_proc</span>
<span class="linenos">2141</span><span class="k">struct</span><span class="w"> </span><span class="nc">amc_js_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.amc_js_proc: Subprocess: Model compiler for javascript targets</span>
<span class="linenos">2142</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/amc_js&quot;  path for executable</span>
<span class="linenos">2143</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">amc_js</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">2144</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">2145</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">2146</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">2147</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">             </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">2148</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">2149</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">2150</span><span class="w">    </span><span class="n">amc_js_proc</span><span class="p">();</span>
<span class="linenos">2151</span><span class="w">    </span><span class="o">~</span><span class="n">amc_js_proc</span><span class="p">();</span>
<span class="linenos">2152</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">2153</span><span class="w">    </span><span class="c1">// reftype Exec of command.amc_js_proc.amc_js prohibits copy</span>
<span class="linenos">2154</span><span class="w">    </span><span class="n">amc_js_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">amc_js_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">2155</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">amc_js_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">2156</span><span class="p">};</span>
<span class="linenos">2157</span>
<span class="linenos">2158</span><span class="c1">// Start subprocess</span>
<span class="linenos">2159</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">2160</span><span class="c1">// func:command.amc_js_proc.amc_js.Start</span>
<span class="linenos">2161</span><span class="kt">int</span><span class="w">                  </span><span class="nf">amc_js_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_js_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2162</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">2163</span><span class="c1">// func:command.amc_js_proc.amc_js.StartRead</span>
<span class="linenos">2164</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">amc_js_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_js_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2165</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">2166</span><span class="c1">// func:command.amc_js_proc.amc_js.Kill</span>
<span class="linenos">2167</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_js_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_js_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2168</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">2169</span><span class="c1">// func:command.amc_js_proc.amc_js.Wait</span>
<span class="linenos">2170</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_js_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_js_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2171</span><span class="c1">// Start + Wait</span>
<span class="linenos">2172</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">2173</span><span class="c1">// func:command.amc_js_proc.amc_js.Exec</span>
<span class="linenos">2174</span><span class="kt">int</span><span class="w">                  </span><span class="nf">amc_js_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_js_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2175</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">2176</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">2177</span><span class="c1">// func:command.amc_js_proc.amc_js.ExecX</span>
<span class="linenos">2178</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_js_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_js_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2179</span><span class="c1">// Call execv()</span>
<span class="linenos">2180</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">2181</span><span class="c1">// func:command.amc_js_proc.amc_js.Execv</span>
<span class="linenos">2182</span><span class="kt">int</span><span class="w">                  </span><span class="nf">amc_js_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_js_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2183</span><span class="c1">// func:command.amc_js_proc.amc_js.ToCmdline</span>
<span class="linenos">2184</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">amc_js_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_js_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2185</span><span class="c1">// Form array from the command line</span>
<span class="linenos">2186</span><span class="c1">// func:command.amc_js_proc.amc_js.ToArgv</span>
<span class="linenos">2187</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_js_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_js_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2188</span>
<span class="linenos">2189</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">2190</span><span class="c1">// func:command.amc_js_proc..Init</span>
<span class="linenos">2191</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_js_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_js_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2192</span><span class="c1">// func:command.amc_js_proc..Uninit</span>
<span class="linenos">2193</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_js_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_js_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2194</span>
<span class="linenos">2195</span><span class="c1">// --- command.amc_proc</span>
<span class="linenos">2196</span><span class="k">struct</span><span class="w"> </span><span class="nc">amc_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.amc_proc: Subprocess: Algo Model Compiler: generate code under include/gen and cpp/gen</span>
<span class="linenos">2197</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/amc&quot;  path for executable</span>
<span class="linenos">2198</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">amc</span><span class="w">    </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">2199</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">2200</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">2201</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">2202</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">           </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">2203</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">2204</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">2205</span><span class="w">    </span><span class="n">amc_proc</span><span class="p">();</span>
<span class="linenos">2206</span><span class="w">    </span><span class="o">~</span><span class="n">amc_proc</span><span class="p">();</span>
<span class="linenos">2207</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">2208</span><span class="w">    </span><span class="c1">// reftype Exec of command.amc_proc.amc prohibits copy</span>
<span class="linenos">2209</span><span class="w">    </span><span class="c1">// value field command.amc_proc.cmd is not copiable</span>
<span class="linenos">2210</span><span class="w">    </span><span class="n">amc_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">amc_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">2211</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">amc_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">2212</span><span class="p">};</span>
<span class="linenos">2213</span>
<span class="linenos">2214</span><span class="c1">// Start subprocess</span>
<span class="linenos">2215</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">2216</span><span class="c1">// func:command.amc_proc.amc.Start</span>
<span class="linenos">2217</span><span class="kt">int</span><span class="w">                  </span><span class="nf">amc_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2218</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">2219</span><span class="c1">// func:command.amc_proc.amc.StartRead</span>
<span class="linenos">2220</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">amc_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2221</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">2222</span><span class="c1">// func:command.amc_proc.amc.Kill</span>
<span class="linenos">2223</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2224</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">2225</span><span class="c1">// func:command.amc_proc.amc.Wait</span>
<span class="linenos">2226</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2227</span><span class="c1">// Start + Wait</span>
<span class="linenos">2228</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">2229</span><span class="c1">// func:command.amc_proc.amc.Exec</span>
<span class="linenos">2230</span><span class="kt">int</span><span class="w">                  </span><span class="nf">amc_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2231</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">2232</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">2233</span><span class="c1">// func:command.amc_proc.amc.ExecX</span>
<span class="linenos">2234</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2235</span><span class="c1">// Call execv()</span>
<span class="linenos">2236</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">2237</span><span class="c1">// func:command.amc_proc.amc.Execv</span>
<span class="linenos">2238</span><span class="kt">int</span><span class="w">                  </span><span class="nf">amc_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2239</span><span class="c1">// func:command.amc_proc.amc.ToCmdline</span>
<span class="linenos">2240</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">amc_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2241</span><span class="c1">// Form array from the command line</span>
<span class="linenos">2242</span><span class="c1">// func:command.amc_proc.amc.ToArgv</span>
<span class="linenos">2243</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2244</span>
<span class="linenos">2245</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">2246</span><span class="c1">// func:command.amc_proc..Init</span>
<span class="linenos">2247</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2248</span><span class="c1">// func:command.amc_proc..Uninit</span>
<span class="linenos">2249</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2250</span>
<span class="linenos">2251</span><span class="c1">// --- command.amc_vis</span>
<span class="linenos">2252</span><span class="c1">// access: command.amc_vis_proc.amc_vis (Exec)</span>
<span class="linenos">2253</span><span class="k">struct</span><span class="w"> </span><span class="nc">amc_vis</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.amc_vis</span>
<span class="linenos">2254</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">ctype</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;%&quot;  Sql Regx of dmmeta::Ctype</span>
<span class="linenos">2255</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">2256</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">dot</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;&quot;  Save dot file with specified filename</span>
<span class="linenos">2257</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">xref</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  Include all ctypes referenced by selected ones</span>
<span class="linenos">2258</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">xns</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  Cross namespace boundaries</span>
<span class="linenos">2259</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">noinput</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  Deselect module inputs</span>
<span class="linenos">2260</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">check</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Check model for dependency problems</span>
<span class="linenos">2261</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">render</span><span class="p">;</span><span class="w">    </span><span class="c1">//   true  Produce an ascii drawing</span>
<span class="linenos">2262</span><span class="w">    </span><span class="n">amc_vis</span><span class="p">();</span>
<span class="linenos">2263</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">2264</span><span class="w">    </span><span class="c1">// reftype Regx of command.amc_vis.ctype prohibits copy</span>
<span class="linenos">2265</span><span class="w">    </span><span class="n">amc_vis</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">amc_vis</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">2266</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">amc_vis</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">2267</span><span class="p">};</span>
<span class="linenos">2268</span>
<span class="linenos">2269</span><span class="c1">// Print back to string</span>
<span class="linenos">2270</span><span class="c1">// func:command.amc_vis.ctype.Print</span>
<span class="linenos">2271</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ctype_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_vis</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2272</span><span class="c1">// Read Regx from string</span>
<span class="linenos">2273</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">2274</span><span class="c1">// func:command.amc_vis.ctype.ReadStrptrMaybe</span>
<span class="linenos">2275</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ctype_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_vis</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2276</span>
<span class="linenos">2277</span><span class="c1">// func:command.amc_vis..ReadFieldMaybe</span>
<span class="linenos">2278</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">amc_vis_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_vis</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2279</span><span class="c1">// Read fields of command::amc_vis from attributes of ascii tuple TUPLE</span>
<span class="linenos">2280</span><span class="c1">// func:command.amc_vis..ReadTupleMaybe</span>
<span class="linenos">2281</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">amc_vis_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_vis</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2282</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">2283</span><span class="c1">// func:command.amc_vis..Init</span>
<span class="linenos">2284</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_vis_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_vis</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2285</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">2286</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">2287</span><span class="c1">// func:command.amc_vis..ToCmdline</span>
<span class="linenos">2288</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">amc_vis_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_vis</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2289</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">2290</span><span class="c1">// cfmt:command.amc_vis.Argv  printfmt:Auto</span>
<span class="linenos">2291</span><span class="c1">// func:command.amc_vis..PrintArgv</span>
<span class="linenos">2292</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_vis_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_vis</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2293</span><span class="c1">// func:command.amc_vis..GetAnon</span>
<span class="linenos">2294</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">amc_vis_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_vis</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2295</span><span class="c1">// Used with command lines</span>
<span class="linenos">2296</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">2297</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">2298</span><span class="c1">// func:command.amc_vis..NArgs</span>
<span class="linenos">2299</span><span class="n">i32</span><span class="w">                  </span><span class="nf">amc_vis_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2300</span>
<span class="linenos">2301</span><span class="c1">// --- command.amc_vis_proc</span>
<span class="linenos">2302</span><span class="k">struct</span><span class="w"> </span><span class="nc">amc_vis_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.amc_vis_proc: Subprocess: Draw access path diagrams</span>
<span class="linenos">2303</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/amc_vis&quot;  path for executable</span>
<span class="linenos">2304</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">amc_vis</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">2305</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">2306</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">2307</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">2308</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">              </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">2309</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">2310</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">2311</span><span class="w">    </span><span class="n">amc_vis_proc</span><span class="p">();</span>
<span class="linenos">2312</span><span class="w">    </span><span class="o">~</span><span class="n">amc_vis_proc</span><span class="p">();</span>
<span class="linenos">2313</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">2314</span><span class="w">    </span><span class="c1">// reftype Exec of command.amc_vis_proc.amc_vis prohibits copy</span>
<span class="linenos">2315</span><span class="w">    </span><span class="c1">// value field command.amc_vis_proc.cmd is not copiable</span>
<span class="linenos">2316</span><span class="w">    </span><span class="n">amc_vis_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">amc_vis_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">2317</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">amc_vis_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">2318</span><span class="p">};</span>
<span class="linenos">2319</span>
<span class="linenos">2320</span><span class="c1">// Start subprocess</span>
<span class="linenos">2321</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">2322</span><span class="c1">// func:command.amc_vis_proc.amc_vis.Start</span>
<span class="linenos">2323</span><span class="kt">int</span><span class="w">                  </span><span class="nf">amc_vis_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_vis_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2324</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">2325</span><span class="c1">// func:command.amc_vis_proc.amc_vis.StartRead</span>
<span class="linenos">2326</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">amc_vis_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_vis_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2327</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">2328</span><span class="c1">// func:command.amc_vis_proc.amc_vis.Kill</span>
<span class="linenos">2329</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_vis_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_vis_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2330</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">2331</span><span class="c1">// func:command.amc_vis_proc.amc_vis.Wait</span>
<span class="linenos">2332</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_vis_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_vis_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2333</span><span class="c1">// Start + Wait</span>
<span class="linenos">2334</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">2335</span><span class="c1">// func:command.amc_vis_proc.amc_vis.Exec</span>
<span class="linenos">2336</span><span class="kt">int</span><span class="w">                  </span><span class="nf">amc_vis_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_vis_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2337</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">2338</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">2339</span><span class="c1">// func:command.amc_vis_proc.amc_vis.ExecX</span>
<span class="linenos">2340</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_vis_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_vis_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2341</span><span class="c1">// Call execv()</span>
<span class="linenos">2342</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">2343</span><span class="c1">// func:command.amc_vis_proc.amc_vis.Execv</span>
<span class="linenos">2344</span><span class="kt">int</span><span class="w">                  </span><span class="nf">amc_vis_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_vis_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2345</span><span class="c1">// func:command.amc_vis_proc.amc_vis.ToCmdline</span>
<span class="linenos">2346</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">amc_vis_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_vis_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2347</span><span class="c1">// Form array from the command line</span>
<span class="linenos">2348</span><span class="c1">// func:command.amc_vis_proc.amc_vis.ToArgv</span>
<span class="linenos">2349</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_vis_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_vis_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2350</span>
<span class="linenos">2351</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">2352</span><span class="c1">// func:command.amc_vis_proc..Init</span>
<span class="linenos">2353</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_vis_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_vis_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2354</span><span class="c1">// func:command.amc_vis_proc..Uninit</span>
<span class="linenos">2355</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amc_vis_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">amc_vis_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2356</span>
<span class="linenos">2357</span><span class="c1">// --- command.ams_cat</span>
<span class="linenos">2358</span><span class="c1">// access: command.ams_cat_proc.ams_cat (Exec)</span>
<span class="linenos">2359</span><span class="k">struct</span><span class="w"> </span><span class="nc">ams_cat</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.ams_cat</span>
<span class="linenos">2360</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">in</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">2361</span><span class="w">    </span><span class="n">ams_cat</span><span class="p">();</span>
<span class="linenos">2362</span><span class="p">};</span>
<span class="linenos">2363</span>
<span class="linenos">2364</span><span class="c1">// func:command.ams_cat..ReadFieldMaybe</span>
<span class="linenos">2365</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ams_cat_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_cat</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2366</span><span class="c1">// Read fields of command::ams_cat from attributes of ascii tuple TUPLE</span>
<span class="linenos">2367</span><span class="c1">// func:command.ams_cat..ReadTupleMaybe</span>
<span class="linenos">2368</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ams_cat_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_cat</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2369</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">2370</span><span class="c1">// func:command.ams_cat..Init</span>
<span class="linenos">2371</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ams_cat_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_cat</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2372</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">2373</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">2374</span><span class="c1">// func:command.ams_cat..ToCmdline</span>
<span class="linenos">2375</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">ams_cat_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_cat</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2376</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">2377</span><span class="c1">// cfmt:command.ams_cat.Argv  printfmt:Tuple</span>
<span class="linenos">2378</span><span class="c1">// func:command.ams_cat..PrintArgv</span>
<span class="linenos">2379</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ams_cat_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_cat</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2380</span><span class="c1">// Used with command lines</span>
<span class="linenos">2381</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">2382</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">2383</span><span class="c1">// func:command.ams_cat..NArgs</span>
<span class="linenos">2384</span><span class="n">i32</span><span class="w">                  </span><span class="nf">ams_cat_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2385</span>
<span class="linenos">2386</span><span class="c1">// --- command.ams_cat_proc</span>
<span class="linenos">2387</span><span class="k">struct</span><span class="w"> </span><span class="nc">ams_cat_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.ams_cat_proc: Subprocess: Algo Messaging System sample tool</span>
<span class="linenos">2388</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/ams_cat&quot;  path for executable</span>
<span class="linenos">2389</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">ams_cat</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">2390</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">2391</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">2392</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">2393</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">              </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">2394</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">2395</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">2396</span><span class="w">    </span><span class="n">ams_cat_proc</span><span class="p">();</span>
<span class="linenos">2397</span><span class="w">    </span><span class="o">~</span><span class="n">ams_cat_proc</span><span class="p">();</span>
<span class="linenos">2398</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">2399</span><span class="w">    </span><span class="c1">// reftype Exec of command.ams_cat_proc.ams_cat prohibits copy</span>
<span class="linenos">2400</span><span class="w">    </span><span class="n">ams_cat_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ams_cat_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">2401</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ams_cat_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">2402</span><span class="p">};</span>
<span class="linenos">2403</span>
<span class="linenos">2404</span><span class="c1">// Start subprocess</span>
<span class="linenos">2405</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">2406</span><span class="c1">// func:command.ams_cat_proc.ams_cat.Start</span>
<span class="linenos">2407</span><span class="kt">int</span><span class="w">                  </span><span class="nf">ams_cat_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_cat_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2408</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">2409</span><span class="c1">// func:command.ams_cat_proc.ams_cat.StartRead</span>
<span class="linenos">2410</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">ams_cat_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_cat_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2411</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">2412</span><span class="c1">// func:command.ams_cat_proc.ams_cat.Kill</span>
<span class="linenos">2413</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ams_cat_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_cat_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2414</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">2415</span><span class="c1">// func:command.ams_cat_proc.ams_cat.Wait</span>
<span class="linenos">2416</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ams_cat_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_cat_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2417</span><span class="c1">// Start + Wait</span>
<span class="linenos">2418</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">2419</span><span class="c1">// func:command.ams_cat_proc.ams_cat.Exec</span>
<span class="linenos">2420</span><span class="kt">int</span><span class="w">                  </span><span class="nf">ams_cat_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_cat_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2421</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">2422</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">2423</span><span class="c1">// func:command.ams_cat_proc.ams_cat.ExecX</span>
<span class="linenos">2424</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ams_cat_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_cat_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2425</span><span class="c1">// Call execv()</span>
<span class="linenos">2426</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">2427</span><span class="c1">// func:command.ams_cat_proc.ams_cat.Execv</span>
<span class="linenos">2428</span><span class="kt">int</span><span class="w">                  </span><span class="nf">ams_cat_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_cat_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2429</span><span class="c1">// func:command.ams_cat_proc.ams_cat.ToCmdline</span>
<span class="linenos">2430</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">ams_cat_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_cat_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2431</span><span class="c1">// Form array from the command line</span>
<span class="linenos">2432</span><span class="c1">// func:command.ams_cat_proc.ams_cat.ToArgv</span>
<span class="linenos">2433</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ams_cat_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_cat_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2434</span>
<span class="linenos">2435</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">2436</span><span class="c1">// func:command.ams_cat_proc..Init</span>
<span class="linenos">2437</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ams_cat_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_cat_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2438</span><span class="c1">// func:command.ams_cat_proc..Uninit</span>
<span class="linenos">2439</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ams_cat_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_cat_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2440</span>
<span class="linenos">2441</span><span class="c1">// --- command.ams_sendtest</span>
<span class="linenos">2442</span><span class="c1">// access: command.ams_sendtest_proc.ams_sendtest (Exec)</span>
<span class="linenos">2443</span><span class="k">struct</span><span class="w"> </span><span class="nc">ams_sendtest</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.ams_sendtest</span>
<span class="linenos">2444</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">             </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">2445</span><span class="w">    </span><span class="n">i32</span><span class="w">              </span><span class="n">id</span><span class="p">;</span><span class="w">             </span><span class="c1">//   0  Process index (0=parent)</span>
<span class="linenos">2446</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">file_prefix</span><span class="p">;</span><span class="w">    </span><span class="c1">//   &quot;&quot;  Use file_prefix</span>
<span class="linenos">2447</span><span class="w">    </span><span class="n">i32</span><span class="w">              </span><span class="n">nchild</span><span class="p">;</span><span class="w">         </span><span class="c1">//   1  Number of stream readers</span>
<span class="linenos">2448</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">blocking</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  Use blocking send mode</span>
<span class="linenos">2449</span><span class="w">    </span><span class="n">i32</span><span class="w">              </span><span class="n">nmsg</span><span class="p">;</span><span class="w">           </span><span class="c1">//   1000  Number of messages to send/receive</span>
<span class="linenos">2450</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">trace</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;&quot;  Sql Regx</span>
<span class="linenos">2451</span><span class="w">    </span><span class="n">i32</span><span class="w">              </span><span class="n">timeout</span><span class="p">;</span><span class="w">        </span><span class="c1">//   30  Time limit for the send</span>
<span class="linenos">2452</span><span class="w">    </span><span class="n">i64</span><span class="w">              </span><span class="n">recvdelay_ns</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  Pause nanoseconds between messages</span>
<span class="linenos">2453</span><span class="w">    </span><span class="n">i64</span><span class="w">              </span><span class="n">senddelay_ns</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  Pause nanoseconds between messages</span>
<span class="linenos">2454</span><span class="w">    </span><span class="n">i32</span><span class="w">              </span><span class="n">msgsize_min</span><span class="p">;</span><span class="w">    </span><span class="c1">//   64  Minimum message length</span>
<span class="linenos">2455</span><span class="w">    </span><span class="n">i32</span><span class="w">              </span><span class="n">msgsize_max</span><span class="p">;</span><span class="w">    </span><span class="c1">//   1024  Maximum message length</span>
<span class="linenos">2456</span><span class="w">    </span><span class="n">i32</span><span class="w">              </span><span class="n">bufsize</span><span class="p">;</span><span class="w">        </span><span class="c1">//   32768  Shared memory buffer size</span>
<span class="linenos">2457</span><span class="w">    </span><span class="n">i64</span><span class="w">              </span><span class="n">recvdelay</span><span class="p">;</span><span class="w">      </span><span class="c1">//   0  Pause nanoseconds between messages</span>
<span class="linenos">2458</span><span class="w">    </span><span class="n">ams_sendtest</span><span class="p">();</span>
<span class="linenos">2459</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">2460</span><span class="w">    </span><span class="c1">// reftype Regx of command.ams_sendtest.trace prohibits copy</span>
<span class="linenos">2461</span><span class="w">    </span><span class="n">ams_sendtest</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ams_sendtest</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">2462</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ams_sendtest</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">2463</span><span class="p">};</span>
<span class="linenos">2464</span>
<span class="linenos">2465</span><span class="c1">// Print back to string</span>
<span class="linenos">2466</span><span class="c1">// func:command.ams_sendtest.trace.Print</span>
<span class="linenos">2467</span><span class="kt">void</span><span class="w">                 </span><span class="nf">trace_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_sendtest</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2468</span><span class="c1">// Read Regx from string</span>
<span class="linenos">2469</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">2470</span><span class="c1">// func:command.ams_sendtest.trace.ReadStrptrMaybe</span>
<span class="linenos">2471</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">trace_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_sendtest</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2472</span>
<span class="linenos">2473</span><span class="c1">// func:command.ams_sendtest..ReadFieldMaybe</span>
<span class="linenos">2474</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ams_sendtest_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_sendtest</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2475</span><span class="c1">// Read fields of command::ams_sendtest from attributes of ascii tuple TUPLE</span>
<span class="linenos">2476</span><span class="c1">// func:command.ams_sendtest..ReadTupleMaybe</span>
<span class="linenos">2477</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ams_sendtest_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_sendtest</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2478</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">2479</span><span class="c1">// func:command.ams_sendtest..Init</span>
<span class="linenos">2480</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ams_sendtest_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_sendtest</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2481</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">2482</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">2483</span><span class="c1">// func:command.ams_sendtest..ToCmdline</span>
<span class="linenos">2484</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">ams_sendtest_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_sendtest</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2485</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">2486</span><span class="c1">// cfmt:command.ams_sendtest.Argv  printfmt:Tuple</span>
<span class="linenos">2487</span><span class="c1">// func:command.ams_sendtest..PrintArgv</span>
<span class="linenos">2488</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ams_sendtest_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_sendtest</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2489</span><span class="c1">// Used with command lines</span>
<span class="linenos">2490</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">2491</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">2492</span><span class="c1">// func:command.ams_sendtest..NArgs</span>
<span class="linenos">2493</span><span class="n">i32</span><span class="w">                  </span><span class="nf">ams_sendtest_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2494</span>
<span class="linenos">2495</span><span class="c1">// --- command.ams_sendtest_proc</span>
<span class="linenos">2496</span><span class="k">struct</span><span class="w"> </span><span class="nc">ams_sendtest_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.ams_sendtest_proc: Subprocess: Algo Messaging System test tool</span>
<span class="linenos">2497</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">           </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/ams_sendtest&quot;  path for executable</span>
<span class="linenos">2498</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">ams_sendtest</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">2499</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">           </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">2500</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">           </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">2501</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">           </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">2502</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">                   </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">2503</span><span class="w">    </span><span class="n">i32</span><span class="w">                     </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">2504</span><span class="w">    </span><span class="n">i32</span><span class="w">                     </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">2505</span><span class="w">    </span><span class="n">ams_sendtest_proc</span><span class="p">();</span>
<span class="linenos">2506</span><span class="w">    </span><span class="o">~</span><span class="n">ams_sendtest_proc</span><span class="p">();</span>
<span class="linenos">2507</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">2508</span><span class="w">    </span><span class="c1">// reftype Exec of command.ams_sendtest_proc.ams_sendtest prohibits copy</span>
<span class="linenos">2509</span><span class="w">    </span><span class="c1">// value field command.ams_sendtest_proc.cmd is not copiable</span>
<span class="linenos">2510</span><span class="w">    </span><span class="n">ams_sendtest_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ams_sendtest_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">2511</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ams_sendtest_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">2512</span><span class="p">};</span>
<span class="linenos">2513</span>
<span class="linenos">2514</span><span class="c1">// Start subprocess</span>
<span class="linenos">2515</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">2516</span><span class="c1">// func:command.ams_sendtest_proc.ams_sendtest.Start</span>
<span class="linenos">2517</span><span class="kt">int</span><span class="w">                  </span><span class="nf">ams_sendtest_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_sendtest_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2518</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">2519</span><span class="c1">// func:command.ams_sendtest_proc.ams_sendtest.StartRead</span>
<span class="linenos">2520</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">ams_sendtest_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_sendtest_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2521</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">2522</span><span class="c1">// func:command.ams_sendtest_proc.ams_sendtest.Kill</span>
<span class="linenos">2523</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ams_sendtest_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_sendtest_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2524</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">2525</span><span class="c1">// func:command.ams_sendtest_proc.ams_sendtest.Wait</span>
<span class="linenos">2526</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ams_sendtest_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_sendtest_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2527</span><span class="c1">// Start + Wait</span>
<span class="linenos">2528</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">2529</span><span class="c1">// func:command.ams_sendtest_proc.ams_sendtest.Exec</span>
<span class="linenos">2530</span><span class="kt">int</span><span class="w">                  </span><span class="nf">ams_sendtest_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_sendtest_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2531</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">2532</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">2533</span><span class="c1">// func:command.ams_sendtest_proc.ams_sendtest.ExecX</span>
<span class="linenos">2534</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ams_sendtest_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_sendtest_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2535</span><span class="c1">// Call execv()</span>
<span class="linenos">2536</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">2537</span><span class="c1">// func:command.ams_sendtest_proc.ams_sendtest.Execv</span>
<span class="linenos">2538</span><span class="kt">int</span><span class="w">                  </span><span class="nf">ams_sendtest_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_sendtest_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2539</span><span class="c1">// func:command.ams_sendtest_proc.ams_sendtest.ToCmdline</span>
<span class="linenos">2540</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">ams_sendtest_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_sendtest_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2541</span><span class="c1">// Form array from the command line</span>
<span class="linenos">2542</span><span class="c1">// func:command.ams_sendtest_proc.ams_sendtest.ToArgv</span>
<span class="linenos">2543</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ams_sendtest_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_sendtest_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2544</span>
<span class="linenos">2545</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">2546</span><span class="c1">// func:command.ams_sendtest_proc..Init</span>
<span class="linenos">2547</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ams_sendtest_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_sendtest_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2548</span><span class="c1">// func:command.ams_sendtest_proc..Uninit</span>
<span class="linenos">2549</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ams_sendtest_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ams_sendtest_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2550</span>
<span class="linenos">2551</span><span class="c1">// --- command.apm</span>
<span class="linenos">2552</span><span class="c1">// access: command.apm_proc.apm (Exec)</span>
<span class="linenos">2553</span><span class="k">struct</span><span class="w"> </span><span class="nc">apm</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.apm</span>
<span class="linenos">2554</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">in</span><span class="p">;</span><span class="w">           </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">2555</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">pkgdata</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;&quot;  Load package definitions from here</span>
<span class="linenos">2556</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">      </span><span class="n">package</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;&quot;  Sql Regx of dev::Package</span>
<span class="linenos">2557</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">      </span><span class="n">ns</span><span class="p">;</span><span class="w">           </span><span class="c1">//   &quot;&quot;  Sql Regx of dmmeta::Ns</span>
<span class="linenos">2558</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">install</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  Install new package (specify -origin)</span>
<span class="linenos">2559</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">update</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  Update package (-origin)</span>
<span class="linenos">2560</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">list</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  List installed packages</span>
<span class="linenos">2561</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">diff</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Diff package with respect to installed version</span>
<span class="linenos">2562</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">push</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Evaluate package diff and push it to origin</span>
<span class="linenos">2563</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">check</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false  Consistency check</span>
<span class="linenos">2564</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">remove</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  Remove specified package</span>
<span class="linenos">2565</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr200</span><span class="w">   </span><span class="n">origin</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;&quot;  Upstream URL of new package</span>
<span class="linenos">2566</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">    </span><span class="n">ref</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;&quot;  (with -create) Gitref or branch to fetch</span>
<span class="linenos">2567</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">dry_run</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  Do not execute transaction</span>
<span class="linenos">2568</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">showrec</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  Show records belonging to package</span>
<span class="linenos">2569</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">showfile</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  List package files (gitfile records)</span>
<span class="linenos">2570</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">R</span><span class="p">;</span><span class="w">            </span><span class="c1">//   false  reverse the diff direction</span>
<span class="linenos">2571</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">l</span><span class="p">;</span><span class="w">            </span><span class="c1">//   false  Use local package definition on the remote side</span>
<span class="linenos">2572</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">reset</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false  Reset package baseref/origin to those provided by the command line</span>
<span class="linenos">2573</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">checkclean</span><span class="p">;</span><span class="w">   </span><span class="c1">//   true  Ensure that changes are applied to a clean directory</span>
<span class="linenos">2574</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">t</span><span class="p">;</span><span class="w">            </span><span class="c1">//   false  Select parent packages for operation</span>
<span class="linenos">2575</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">stat</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  (with -diff) show stats</span>
<span class="linenos">2576</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">annotate</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;&quot;  Read file and annotate each input tuple with package(s) it belongs to</span>
<span class="linenos">2577</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">data_in</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;data&quot;  Dataset from which package records are loaded</span>
<span class="linenos">2578</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">e</span><span class="p">;</span><span class="w">            </span><span class="c1">//   false  Open selected records in editor</span>
<span class="linenos">2579</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">binpath</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin&quot;  (internal use)</span>
<span class="linenos">2580</span><span class="w">    </span><span class="n">apm</span><span class="p">();</span>
<span class="linenos">2581</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">2582</span><span class="w">    </span><span class="c1">// reftype Regx of command.apm.package prohibits copy</span>
<span class="linenos">2583</span><span class="w">    </span><span class="c1">// reftype Regx of command.apm.ns prohibits copy</span>
<span class="linenos">2584</span><span class="w">    </span><span class="n">apm</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">apm</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">2585</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">apm</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">2586</span><span class="p">};</span>
<span class="linenos">2587</span>
<span class="linenos">2588</span><span class="c1">// Print back to string</span>
<span class="linenos">2589</span><span class="c1">// func:command.apm.package.Print</span>
<span class="linenos">2590</span><span class="kt">void</span><span class="w">                 </span><span class="nf">package_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2591</span><span class="c1">// Read Regx from string</span>
<span class="linenos">2592</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">2593</span><span class="c1">// func:command.apm.package.ReadStrptrMaybe</span>
<span class="linenos">2594</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">package_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2595</span>
<span class="linenos">2596</span><span class="c1">// Print back to string</span>
<span class="linenos">2597</span><span class="c1">// func:command.apm.ns.Print</span>
<span class="linenos">2598</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ns_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2599</span><span class="c1">// Read Regx from string</span>
<span class="linenos">2600</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">2601</span><span class="c1">// func:command.apm.ns.ReadStrptrMaybe</span>
<span class="linenos">2602</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ns_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2603</span>
<span class="linenos">2604</span><span class="c1">// func:command.apm..ReadFieldMaybe</span>
<span class="linenos">2605</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">apm_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2606</span><span class="c1">// Read fields of command::apm from attributes of ascii tuple TUPLE</span>
<span class="linenos">2607</span><span class="c1">// func:command.apm..ReadTupleMaybe</span>
<span class="linenos">2608</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">apm_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2609</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">2610</span><span class="c1">// func:command.apm..Init</span>
<span class="linenos">2611</span><span class="kt">void</span><span class="w">                 </span><span class="nf">apm_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2612</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">2613</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">2614</span><span class="c1">// func:command.apm..ToCmdline</span>
<span class="linenos">2615</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">apm_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2616</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">2617</span><span class="c1">// cfmt:command.apm.Argv  printfmt:Tuple</span>
<span class="linenos">2618</span><span class="c1">// func:command.apm..PrintArgv</span>
<span class="linenos">2619</span><span class="kt">void</span><span class="w">                 </span><span class="nf">apm_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2620</span><span class="c1">// func:command.apm..GetAnon</span>
<span class="linenos">2621</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">apm_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2622</span><span class="c1">// Used with command lines</span>
<span class="linenos">2623</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">2624</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">2625</span><span class="c1">// func:command.apm..NArgs</span>
<span class="linenos">2626</span><span class="n">i32</span><span class="w">                  </span><span class="nf">apm_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2627</span>
<span class="linenos">2628</span><span class="c1">// --- command.apm_proc</span>
<span class="linenos">2629</span><span class="k">struct</span><span class="w"> </span><span class="nc">apm_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.apm_proc: Subprocess: Algo Package Manager</span>
<span class="linenos">2630</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/apm&quot;  path for executable</span>
<span class="linenos">2631</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">apm</span><span class="w">    </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">2632</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">2633</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">2634</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">2635</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">           </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">2636</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">2637</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">2638</span><span class="w">    </span><span class="n">apm_proc</span><span class="p">();</span>
<span class="linenos">2639</span><span class="w">    </span><span class="o">~</span><span class="n">apm_proc</span><span class="p">();</span>
<span class="linenos">2640</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">2641</span><span class="w">    </span><span class="c1">// reftype Exec of command.apm_proc.apm prohibits copy</span>
<span class="linenos">2642</span><span class="w">    </span><span class="c1">// value field command.apm_proc.cmd is not copiable</span>
<span class="linenos">2643</span><span class="w">    </span><span class="n">apm_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">apm_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">2644</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">apm_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">2645</span><span class="p">};</span>
<span class="linenos">2646</span>
<span class="linenos">2647</span><span class="c1">// Start subprocess</span>
<span class="linenos">2648</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">2649</span><span class="c1">// func:command.apm_proc.apm.Start</span>
<span class="linenos">2650</span><span class="kt">int</span><span class="w">                  </span><span class="nf">apm_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2651</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">2652</span><span class="c1">// func:command.apm_proc.apm.StartRead</span>
<span class="linenos">2653</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">apm_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2654</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">2655</span><span class="c1">// func:command.apm_proc.apm.Kill</span>
<span class="linenos">2656</span><span class="kt">void</span><span class="w">                 </span><span class="nf">apm_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2657</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">2658</span><span class="c1">// func:command.apm_proc.apm.Wait</span>
<span class="linenos">2659</span><span class="kt">void</span><span class="w">                 </span><span class="nf">apm_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2660</span><span class="c1">// Start + Wait</span>
<span class="linenos">2661</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">2662</span><span class="c1">// func:command.apm_proc.apm.Exec</span>
<span class="linenos">2663</span><span class="kt">int</span><span class="w">                  </span><span class="nf">apm_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2664</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">2665</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">2666</span><span class="c1">// func:command.apm_proc.apm.ExecX</span>
<span class="linenos">2667</span><span class="kt">void</span><span class="w">                 </span><span class="nf">apm_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2668</span><span class="c1">// Call execv()</span>
<span class="linenos">2669</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">2670</span><span class="c1">// func:command.apm_proc.apm.Execv</span>
<span class="linenos">2671</span><span class="kt">int</span><span class="w">                  </span><span class="nf">apm_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2672</span><span class="c1">// func:command.apm_proc.apm.ToCmdline</span>
<span class="linenos">2673</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">apm_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2674</span><span class="c1">// Form array from the command line</span>
<span class="linenos">2675</span><span class="c1">// func:command.apm_proc.apm.ToArgv</span>
<span class="linenos">2676</span><span class="kt">void</span><span class="w">                 </span><span class="nf">apm_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2677</span>
<span class="linenos">2678</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">2679</span><span class="c1">// func:command.apm_proc..Init</span>
<span class="linenos">2680</span><span class="kt">void</span><span class="w">                 </span><span class="nf">apm_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2681</span><span class="c1">// func:command.apm_proc..Uninit</span>
<span class="linenos">2682</span><span class="kt">void</span><span class="w">                 </span><span class="nf">apm_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">apm_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2683</span>
<span class="linenos">2684</span><span class="c1">// --- command.atf_amc</span>
<span class="linenos">2685</span><span class="c1">// access: command.atf_amc_proc.atf_amc (Exec)</span>
<span class="linenos">2686</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_amc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_amc</span>
<span class="linenos">2687</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">2688</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">amctest</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;%&quot;  Sql Regx of atfdb::Amctest</span>
<span class="linenos">2689</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">dofork</span><span class="p">;</span><span class="w">    </span><span class="c1">//   true  Use fork</span>
<span class="linenos">2690</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">q</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Quiet mode</span>
<span class="linenos">2691</span><span class="w">    </span><span class="n">atf_amc</span><span class="p">();</span>
<span class="linenos">2692</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">2693</span><span class="w">    </span><span class="c1">// reftype Regx of command.atf_amc.amctest prohibits copy</span>
<span class="linenos">2694</span><span class="w">    </span><span class="n">atf_amc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_amc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">2695</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_amc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">2696</span><span class="p">};</span>
<span class="linenos">2697</span>
<span class="linenos">2698</span><span class="c1">// Print back to string</span>
<span class="linenos">2699</span><span class="c1">// func:command.atf_amc.amctest.Print</span>
<span class="linenos">2700</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amctest_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_amc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2701</span><span class="c1">// Read Regx from string</span>
<span class="linenos">2702</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">2703</span><span class="c1">// func:command.atf_amc.amctest.ReadStrptrMaybe</span>
<span class="linenos">2704</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">amctest_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_amc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2705</span>
<span class="linenos">2706</span><span class="c1">// func:command.atf_amc..ReadFieldMaybe</span>
<span class="linenos">2707</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_amc_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_amc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2708</span><span class="c1">// Read fields of command::atf_amc from attributes of ascii tuple TUPLE</span>
<span class="linenos">2709</span><span class="c1">// func:command.atf_amc..ReadTupleMaybe</span>
<span class="linenos">2710</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_amc_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_amc</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2711</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">2712</span><span class="c1">// func:command.atf_amc..Init</span>
<span class="linenos">2713</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_amc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_amc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2714</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">2715</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">2716</span><span class="c1">// func:command.atf_amc..ToCmdline</span>
<span class="linenos">2717</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">atf_amc_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_amc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2718</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">2719</span><span class="c1">// cfmt:command.atf_amc.Argv  printfmt:Tuple</span>
<span class="linenos">2720</span><span class="c1">// func:command.atf_amc..PrintArgv</span>
<span class="linenos">2721</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_amc_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_amc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2722</span><span class="c1">// func:command.atf_amc..GetAnon</span>
<span class="linenos">2723</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">atf_amc_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_amc</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2724</span><span class="c1">// Used with command lines</span>
<span class="linenos">2725</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">2726</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">2727</span><span class="c1">// func:command.atf_amc..NArgs</span>
<span class="linenos">2728</span><span class="n">i32</span><span class="w">                  </span><span class="nf">atf_amc_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2729</span>
<span class="linenos">2730</span><span class="c1">// --- command.atf_amc_proc</span>
<span class="linenos">2731</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_amc_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_amc_proc: Subprocess: Unit tests for amc (see amctest table)</span>
<span class="linenos">2732</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/atf_amc&quot;  path for executable</span>
<span class="linenos">2733</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">atf_amc</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">2734</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">2735</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">2736</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">2737</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">              </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">2738</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">2739</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">2740</span><span class="w">    </span><span class="n">atf_amc_proc</span><span class="p">();</span>
<span class="linenos">2741</span><span class="w">    </span><span class="o">~</span><span class="n">atf_amc_proc</span><span class="p">();</span>
<span class="linenos">2742</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">2743</span><span class="w">    </span><span class="c1">// reftype Exec of command.atf_amc_proc.atf_amc prohibits copy</span>
<span class="linenos">2744</span><span class="w">    </span><span class="c1">// value field command.atf_amc_proc.cmd is not copiable</span>
<span class="linenos">2745</span><span class="w">    </span><span class="n">atf_amc_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_amc_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">2746</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_amc_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">2747</span><span class="p">};</span>
<span class="linenos">2748</span>
<span class="linenos">2749</span><span class="c1">// Start subprocess</span>
<span class="linenos">2750</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">2751</span><span class="c1">// func:command.atf_amc_proc.atf_amc.Start</span>
<span class="linenos">2752</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_amc_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2753</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">2754</span><span class="c1">// func:command.atf_amc_proc.atf_amc.StartRead</span>
<span class="linenos">2755</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">atf_amc_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2756</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">2757</span><span class="c1">// func:command.atf_amc_proc.atf_amc.Kill</span>
<span class="linenos">2758</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_amc_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2759</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">2760</span><span class="c1">// func:command.atf_amc_proc.atf_amc.Wait</span>
<span class="linenos">2761</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_amc_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2762</span><span class="c1">// Start + Wait</span>
<span class="linenos">2763</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">2764</span><span class="c1">// func:command.atf_amc_proc.atf_amc.Exec</span>
<span class="linenos">2765</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_amc_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2766</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">2767</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">2768</span><span class="c1">// func:command.atf_amc_proc.atf_amc.ExecX</span>
<span class="linenos">2769</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_amc_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2770</span><span class="c1">// Call execv()</span>
<span class="linenos">2771</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">2772</span><span class="c1">// func:command.atf_amc_proc.atf_amc.Execv</span>
<span class="linenos">2773</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_amc_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2774</span><span class="c1">// func:command.atf_amc_proc.atf_amc.ToCmdline</span>
<span class="linenos">2775</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">atf_amc_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2776</span><span class="c1">// Form array from the command line</span>
<span class="linenos">2777</span><span class="c1">// func:command.atf_amc_proc.atf_amc.ToArgv</span>
<span class="linenos">2778</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_amc_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2779</span>
<span class="linenos">2780</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">2781</span><span class="c1">// func:command.atf_amc_proc..Init</span>
<span class="linenos">2782</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_amc_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2783</span><span class="c1">// func:command.atf_amc_proc..Uninit</span>
<span class="linenos">2784</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_amc_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_amc_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2785</span>
<span class="linenos">2786</span><span class="c1">// --- command.atf_ci</span>
<span class="linenos">2787</span><span class="c1">// access: command.atf_ci_proc.atf_ci (Exec)</span>
<span class="linenos">2788</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_ci</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_ci</span>
<span class="linenos">2789</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">2790</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">citest</span><span class="p">;</span><span class="w">    </span><span class="c1">//   &quot;%&quot;  Sql Regx of atfdb::Citest</span>
<span class="linenos">2791</span><span class="w">    </span><span class="n">i32</span><span class="w">              </span><span class="n">maxerr</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  Exit after this many errors</span>
<span class="linenos">2792</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">cijob</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;%&quot;  Sql Regx of atfdb::Cijob</span>
<span class="linenos">2793</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">capture</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  Capture the output of the test</span>
<span class="linenos">2794</span><span class="w">    </span><span class="n">atf_ci</span><span class="p">();</span>
<span class="linenos">2795</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">2796</span><span class="w">    </span><span class="c1">// reftype Regx of command.atf_ci.citest prohibits copy</span>
<span class="linenos">2797</span><span class="w">    </span><span class="c1">// reftype Regx of command.atf_ci.cijob prohibits copy</span>
<span class="linenos">2798</span><span class="w">    </span><span class="n">atf_ci</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_ci</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">2799</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_ci</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">2800</span><span class="p">};</span>
<span class="linenos">2801</span>
<span class="linenos">2802</span><span class="c1">// Print back to string</span>
<span class="linenos">2803</span><span class="c1">// func:command.atf_ci.citest.Print</span>
<span class="linenos">2804</span><span class="kt">void</span><span class="w">                 </span><span class="nf">citest_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2805</span><span class="c1">// Read Regx from string</span>
<span class="linenos">2806</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">2807</span><span class="c1">// func:command.atf_ci.citest.ReadStrptrMaybe</span>
<span class="linenos">2808</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">citest_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2809</span>
<span class="linenos">2810</span><span class="c1">// Print back to string</span>
<span class="linenos">2811</span><span class="c1">// func:command.atf_ci.cijob.Print</span>
<span class="linenos">2812</span><span class="kt">void</span><span class="w">                 </span><span class="nf">cijob_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2813</span><span class="c1">// Read Regx from string</span>
<span class="linenos">2814</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">2815</span><span class="c1">// func:command.atf_ci.cijob.ReadStrptrMaybe</span>
<span class="linenos">2816</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">cijob_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2817</span>
<span class="linenos">2818</span><span class="c1">// func:command.atf_ci..ReadFieldMaybe</span>
<span class="linenos">2819</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_ci_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2820</span><span class="c1">// Read fields of command::atf_ci from attributes of ascii tuple TUPLE</span>
<span class="linenos">2821</span><span class="c1">// func:command.atf_ci..ReadTupleMaybe</span>
<span class="linenos">2822</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_ci_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2823</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">2824</span><span class="c1">// func:command.atf_ci..Init</span>
<span class="linenos">2825</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_ci_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2826</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">2827</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">2828</span><span class="c1">// func:command.atf_ci..ToCmdline</span>
<span class="linenos">2829</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">atf_ci_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2830</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">2831</span><span class="c1">// cfmt:command.atf_ci.Argv  printfmt:Tuple</span>
<span class="linenos">2832</span><span class="c1">// func:command.atf_ci..PrintArgv</span>
<span class="linenos">2833</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_ci_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2834</span><span class="c1">// func:command.atf_ci..GetAnon</span>
<span class="linenos">2835</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">atf_ci_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2836</span><span class="c1">// Used with command lines</span>
<span class="linenos">2837</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">2838</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">2839</span><span class="c1">// func:command.atf_ci..NArgs</span>
<span class="linenos">2840</span><span class="n">i32</span><span class="w">                  </span><span class="nf">atf_ci_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2841</span>
<span class="linenos">2842</span><span class="c1">// --- command.atf_ci_proc</span>
<span class="linenos">2843</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_ci_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_ci_proc: Subprocess: Normalization tests (see citest table)</span>
<span class="linenos">2844</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/atf_ci&quot;  path for executable</span>
<span class="linenos">2845</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">2846</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">2847</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">2848</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">2849</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">             </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">2850</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">2851</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">2852</span><span class="w">    </span><span class="n">atf_ci_proc</span><span class="p">();</span>
<span class="linenos">2853</span><span class="w">    </span><span class="o">~</span><span class="n">atf_ci_proc</span><span class="p">();</span>
<span class="linenos">2854</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">2855</span><span class="w">    </span><span class="c1">// reftype Exec of command.atf_ci_proc.atf_ci prohibits copy</span>
<span class="linenos">2856</span><span class="w">    </span><span class="c1">// value field command.atf_ci_proc.cmd is not copiable</span>
<span class="linenos">2857</span><span class="w">    </span><span class="n">atf_ci_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_ci_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">2858</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_ci_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">2859</span><span class="p">};</span>
<span class="linenos">2860</span>
<span class="linenos">2861</span><span class="c1">// Start subprocess</span>
<span class="linenos">2862</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">2863</span><span class="c1">// func:command.atf_ci_proc.atf_ci.Start</span>
<span class="linenos">2864</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_ci_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2865</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">2866</span><span class="c1">// func:command.atf_ci_proc.atf_ci.StartRead</span>
<span class="linenos">2867</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">atf_ci_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2868</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">2869</span><span class="c1">// func:command.atf_ci_proc.atf_ci.Kill</span>
<span class="linenos">2870</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_ci_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2871</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">2872</span><span class="c1">// func:command.atf_ci_proc.atf_ci.Wait</span>
<span class="linenos">2873</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_ci_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2874</span><span class="c1">// Start + Wait</span>
<span class="linenos">2875</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">2876</span><span class="c1">// func:command.atf_ci_proc.atf_ci.Exec</span>
<span class="linenos">2877</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_ci_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2878</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">2879</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">2880</span><span class="c1">// func:command.atf_ci_proc.atf_ci.ExecX</span>
<span class="linenos">2881</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_ci_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2882</span><span class="c1">// Call execv()</span>
<span class="linenos">2883</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">2884</span><span class="c1">// func:command.atf_ci_proc.atf_ci.Execv</span>
<span class="linenos">2885</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_ci_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2886</span><span class="c1">// func:command.atf_ci_proc.atf_ci.ToCmdline</span>
<span class="linenos">2887</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">atf_ci_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2888</span><span class="c1">// Form array from the command line</span>
<span class="linenos">2889</span><span class="c1">// func:command.atf_ci_proc.atf_ci.ToArgv</span>
<span class="linenos">2890</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_ci_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2891</span>
<span class="linenos">2892</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">2893</span><span class="c1">// func:command.atf_ci_proc..Init</span>
<span class="linenos">2894</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_ci_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">2895</span><span class="c1">// func:command.atf_ci_proc..Uninit</span>
<span class="linenos">2896</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_ci_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ci_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2897</span>
<span class="linenos">2898</span><span class="c1">// --- command.atf_cmdline</span>
<span class="linenos">2899</span><span class="c1">// access: command.atf_cmdline_proc.atf_cmdline (Exec)</span>
<span class="linenos">2900</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_cmdline</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_cmdline</span>
<span class="linenos">2901</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">in</span><span class="p">;</span><span class="w">            </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">2902</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">exec</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  Execv itself</span>
<span class="linenos">2903</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">astr</span><span class="p">;</span><span class="w">          </span><span class="c1">// Required anon string</span>
<span class="linenos">2904</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">anum</span><span class="p">;</span><span class="w">          </span><span class="c1">//   0  Anon number</span>
<span class="linenos">2905</span><span class="w">    </span><span class="kt">double</span><span class="w">              </span><span class="n">adbl</span><span class="p">;</span><span class="w">          </span><span class="c1">//   0.0  Anon double</span>
<span class="linenos">2906</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">aflag</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Anon flag</span>
<span class="linenos">2907</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">str</span><span class="p">;</span><span class="w">           </span><span class="c1">// Required string</span>
<span class="linenos">2908</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">num</span><span class="p">;</span><span class="w">           </span><span class="c1">//   0  Required Number</span>
<span class="linenos">2909</span><span class="w">    </span><span class="kt">double</span><span class="w">              </span><span class="n">dbl</span><span class="p">;</span><span class="w">           </span><span class="c1">//   0.0  Required double</span>
<span class="linenos">2910</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">flag</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  Required flag</span>
<span class="linenos">2911</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">dstr</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;blah&quot;  Predefined string</span>
<span class="linenos">2912</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">dnum</span><span class="p">;</span><span class="w">          </span><span class="c1">//   -33  Predefined number</span>
<span class="linenos">2913</span><span class="w">    </span><span class="kt">double</span><span class="w">              </span><span class="n">ddbl</span><span class="p">;</span><span class="w">          </span><span class="c1">//   0.0001  Predefined double</span>
<span class="linenos">2914</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">dflag</span><span class="p">;</span><span class="w">         </span><span class="c1">//   true  Predefined flag</span>
<span class="linenos">2915</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">      </span><span class="n">mstr_elems</span><span class="p">;</span><span class="w">    </span><span class="c1">// pointer to elements</span>
<span class="linenos">2916</span><span class="w">    </span><span class="n">u32</span><span class="w">                 </span><span class="n">mstr_n</span><span class="p">;</span><span class="w">        </span><span class="c1">// number of elements in array</span>
<span class="linenos">2917</span><span class="w">    </span><span class="n">u32</span><span class="w">                 </span><span class="n">mstr_max</span><span class="p">;</span><span class="w">      </span><span class="c1">// max. capacity of array before realloc</span>
<span class="linenos">2918</span><span class="w">    </span><span class="n">i32</span><span class="o">*</span><span class="w">                </span><span class="n">mnum_elems</span><span class="p">;</span><span class="w">    </span><span class="c1">// pointer to elements</span>
<span class="linenos">2919</span><span class="w">    </span><span class="n">u32</span><span class="w">                 </span><span class="n">mnum_n</span><span class="p">;</span><span class="w">        </span><span class="c1">// number of elements in array</span>
<span class="linenos">2920</span><span class="w">    </span><span class="n">u32</span><span class="w">                 </span><span class="n">mnum_max</span><span class="p">;</span><span class="w">      </span><span class="c1">// max. capacity of array before realloc</span>
<span class="linenos">2921</span><span class="w">    </span><span class="kt">double</span><span class="o">*</span><span class="w">             </span><span class="n">mdbl_elems</span><span class="p">;</span><span class="w">    </span><span class="c1">// pointer to elements</span>
<span class="linenos">2922</span><span class="w">    </span><span class="n">u32</span><span class="w">                 </span><span class="n">mdbl_n</span><span class="p">;</span><span class="w">        </span><span class="c1">// number of elements in array</span>
<span class="linenos">2923</span><span class="w">    </span><span class="n">u32</span><span class="w">                 </span><span class="n">mdbl_max</span><span class="p">;</span><span class="w">      </span><span class="c1">// max. capacity of array before realloc</span>
<span class="linenos">2924</span><span class="w">    </span><span class="n">i32</span><span class="o">*</span><span class="w">                </span><span class="n">amnum_elems</span><span class="p">;</span><span class="w">   </span><span class="c1">// pointer to elements</span>
<span class="linenos">2925</span><span class="w">    </span><span class="n">u32</span><span class="w">                 </span><span class="n">amnum_n</span><span class="p">;</span><span class="w">       </span><span class="c1">// number of elements in array</span>
<span class="linenos">2926</span><span class="w">    </span><span class="n">u32</span><span class="w">                 </span><span class="n">amnum_max</span><span class="p">;</span><span class="w">     </span><span class="c1">// max. capacity of array before realloc</span>
<span class="linenos">2927</span><span class="w">    </span><span class="n">u8</span><span class="w">                  </span><span class="n">fconst</span><span class="p">;</span><span class="w">        </span><span class="c1">//   0  Fconst for field</span>
<span class="linenos">2928</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Month</span><span class="w">         </span><span class="n">cconst</span><span class="p">;</span><span class="w">        </span><span class="c1">// Fconst for arg ctype</span>
<span class="linenos">2929</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">      </span><span class="n">dregx</span><span class="p">;</span><span class="w">         </span><span class="c1">//   &quot;%&quot;  Sql Regx of dmmeta::Ctype</span>
<span class="linenos">2930</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100</span><span class="w">   </span><span class="n">dpkey</span><span class="p">;</span><span class="w">         </span><span class="c1">//   &quot;&quot;  Predefined pkey</span>
<span class="linenos">2931</span><span class="w">    </span><span class="n">atf_cmdline</span><span class="p">();</span>
<span class="linenos">2932</span><span class="w">    </span><span class="o">~</span><span class="n">atf_cmdline</span><span class="p">();</span>
<span class="linenos">2933</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">2934</span><span class="w">    </span><span class="c1">// reftype Tary of command.atf_cmdline.mstr prohibits copy</span>
<span class="linenos">2935</span><span class="w">    </span><span class="c1">// reftype Tary of command.atf_cmdline.mnum prohibits copy</span>
<span class="linenos">2936</span><span class="w">    </span><span class="c1">// reftype Tary of command.atf_cmdline.mdbl prohibits copy</span>
<span class="linenos">2937</span><span class="w">    </span><span class="c1">// ... and several other reasons</span>
<span class="linenos">2938</span><span class="w">    </span><span class="n">atf_cmdline</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">2939</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">2940</span><span class="p">};</span>
<span class="linenos">2941</span>
<span class="linenos">2942</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">2943</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">2944</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">2945</span><span class="c1">// func:command.atf_cmdline.mstr.Addary</span>
<span class="linenos">2946</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mstr_Addary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2947</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">2948</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">2949</span><span class="c1">// func:command.atf_cmdline.mstr.Alloc</span>
<span class="linenos">2950</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">mstr_Alloc</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2951</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">2952</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">2953</span><span class="c1">// func:command.atf_cmdline.mstr.AllocAt</span>
<span class="linenos">2954</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">mstr_AllocAt</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2955</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">2956</span><span class="c1">// func:command.atf_cmdline.mstr.AllocN</span>
<span class="linenos">2957</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mstr_AllocN</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2958</span><span class="c1">// Return true if index is empty</span>
<span class="linenos">2959</span><span class="c1">// func:command.atf_cmdline.mstr.EmptyQ</span>
<span class="linenos">2960</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">mstr_EmptyQ</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2961</span><span class="c1">// Look up row by row id. Return NULL if out of range</span>
<span class="linenos">2962</span><span class="c1">// func:command.atf_cmdline.mstr.Find</span>
<span class="linenos">2963</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">mstr_Find</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2964</span><span class="c1">// Return array pointer by value</span>
<span class="linenos">2965</span><span class="c1">// func:command.atf_cmdline.mstr.Getary</span>
<span class="linenos">2966</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mstr_Getary</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2967</span><span class="c1">// Return pointer to last element of array, or NULL if array is empty</span>
<span class="linenos">2968</span><span class="c1">// func:command.atf_cmdline.mstr.Last</span>
<span class="linenos">2969</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">mstr_Last</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">2970</span><span class="c1">// Return max. number of items in the array</span>
<span class="linenos">2971</span><span class="c1">// func:command.atf_cmdline.mstr.Max</span>
<span class="linenos">2972</span><span class="n">i32</span><span class="w">                  </span><span class="nf">mstr_Max</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2973</span><span class="c1">// Return number of items in the array</span>
<span class="linenos">2974</span><span class="c1">// func:command.atf_cmdline.mstr.N</span>
<span class="linenos">2975</span><span class="n">i32</span><span class="w">                  </span><span class="nf">mstr_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">2976</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">2977</span><span class="c1">// func:command.atf_cmdline.mstr.Remove</span>
<span class="linenos">2978</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mstr_Remove</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2979</span><span class="c1">// func:command.atf_cmdline.mstr.RemoveAll</span>
<span class="linenos">2980</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mstr_RemoveAll</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2981</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">2982</span><span class="c1">// func:command.atf_cmdline.mstr.RemoveLast</span>
<span class="linenos">2983</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mstr_RemoveLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2984</span><span class="c1">// Make sure N *more* elements will fit in array. Process dies if out of memory</span>
<span class="linenos">2985</span><span class="c1">// func:command.atf_cmdline.mstr.Reserve</span>
<span class="linenos">2986</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mstr_Reserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2987</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">2988</span><span class="c1">// func:command.atf_cmdline.mstr.AbsReserve</span>
<span class="linenos">2989</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mstr_AbsReserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2990</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">2991</span><span class="c1">// func:command.atf_cmdline.mstr.Setary</span>
<span class="linenos">2992</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mstr_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2993</span><span class="c1">// Copy specified array into mstr, discarding previous contents.</span>
<span class="linenos">2994</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">2995</span><span class="c1">// func:command.atf_cmdline.mstr.Setary2</span>
<span class="linenos">2996</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mstr_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">2997</span><span class="c1">// &#39;quick&#39; Access row by row id. No bounds checking.</span>
<span class="linenos">2998</span><span class="c1">// func:command.atf_cmdline.mstr.qFind</span>
<span class="linenos">2999</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">mstr_qFind</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3000</span><span class="c1">// Return reference to last element of array. No bounds checking</span>
<span class="linenos">3001</span><span class="c1">// func:command.atf_cmdline.mstr.qLast</span>
<span class="linenos">3002</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">mstr_qLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3003</span><span class="c1">// Return row id of specified element</span>
<span class="linenos">3004</span><span class="c1">// func:command.atf_cmdline.mstr.rowid_Get</span>
<span class="linenos">3005</span><span class="n">u64</span><span class="w">                  </span><span class="nf">mstr_rowid_Get</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3006</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">3007</span><span class="c1">// func:command.atf_cmdline.mstr.AllocNVal</span>
<span class="linenos">3008</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mstr_AllocNVal</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3009</span><span class="c1">// A single element is read from input string and appended to the array.</span>
<span class="linenos">3010</span><span class="c1">// If the string contains an error, the array is untouched.</span>
<span class="linenos">3011</span><span class="c1">// Function returns success value.</span>
<span class="linenos">3012</span><span class="c1">// func:command.atf_cmdline.mstr.ReadStrptrMaybe</span>
<span class="linenos">3013</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">mstr_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3014</span>
<span class="linenos">3015</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">3016</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">3017</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">3018</span><span class="c1">// func:command.atf_cmdline.mnum.Addary</span>
<span class="linenos">3019</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">i32</span><span class="o">&gt;</span><span class="w">    </span><span class="n">mnum_Addary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">i32</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3020</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">3021</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">3022</span><span class="c1">// func:command.atf_cmdline.mnum.Alloc</span>
<span class="linenos">3023</span><span class="n">i32</span><span class="o">&amp;</span><span class="w">                 </span><span class="nf">mnum_Alloc</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3024</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">3025</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">3026</span><span class="c1">// func:command.atf_cmdline.mnum.AllocAt</span>
<span class="linenos">3027</span><span class="n">i32</span><span class="o">&amp;</span><span class="w">                 </span><span class="nf">mnum_AllocAt</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3028</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">3029</span><span class="c1">// func:command.atf_cmdline.mnum.AllocN</span>
<span class="linenos">3030</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">i32</span><span class="o">&gt;</span><span class="w">    </span><span class="n">mnum_AllocN</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3031</span><span class="c1">// Return true if index is empty</span>
<span class="linenos">3032</span><span class="c1">// func:command.atf_cmdline.mnum.EmptyQ</span>
<span class="linenos">3033</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">mnum_EmptyQ</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3034</span><span class="c1">// Look up row by row id. Return NULL if out of range</span>
<span class="linenos">3035</span><span class="c1">// func:command.atf_cmdline.mnum.Find</span>
<span class="linenos">3036</span><span class="n">i32</span><span class="o">*</span><span class="w">                 </span><span class="nf">mnum_Find</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3037</span><span class="c1">// Return array pointer by value</span>
<span class="linenos">3038</span><span class="c1">// func:command.atf_cmdline.mnum.Getary</span>
<span class="linenos">3039</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">i32</span><span class="o">&gt;</span><span class="w">    </span><span class="n">mnum_Getary</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3040</span><span class="c1">// Return pointer to last element of array, or NULL if array is empty</span>
<span class="linenos">3041</span><span class="c1">// func:command.atf_cmdline.mnum.Last</span>
<span class="linenos">3042</span><span class="n">i32</span><span class="o">*</span><span class="w">                 </span><span class="nf">mnum_Last</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">3043</span><span class="c1">// Return max. number of items in the array</span>
<span class="linenos">3044</span><span class="c1">// func:command.atf_cmdline.mnum.Max</span>
<span class="linenos">3045</span><span class="n">i32</span><span class="w">                  </span><span class="nf">mnum_Max</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3046</span><span class="c1">// Return number of items in the array</span>
<span class="linenos">3047</span><span class="c1">// func:command.atf_cmdline.mnum.N</span>
<span class="linenos">3048</span><span class="n">i32</span><span class="w">                  </span><span class="nf">mnum_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">3049</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">3050</span><span class="c1">// func:command.atf_cmdline.mnum.Remove</span>
<span class="linenos">3051</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mnum_Remove</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3052</span><span class="c1">// func:command.atf_cmdline.mnum.RemoveAll</span>
<span class="linenos">3053</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mnum_RemoveAll</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3054</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">3055</span><span class="c1">// func:command.atf_cmdline.mnum.RemoveLast</span>
<span class="linenos">3056</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mnum_RemoveLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3057</span><span class="c1">// Make sure N *more* elements will fit in array. Process dies if out of memory</span>
<span class="linenos">3058</span><span class="c1">// func:command.atf_cmdline.mnum.Reserve</span>
<span class="linenos">3059</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mnum_Reserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3060</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">3061</span><span class="c1">// func:command.atf_cmdline.mnum.AbsReserve</span>
<span class="linenos">3062</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mnum_AbsReserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3063</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">3064</span><span class="c1">// func:command.atf_cmdline.mnum.Setary</span>
<span class="linenos">3065</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mnum_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3066</span><span class="c1">// Copy specified array into mnum, discarding previous contents.</span>
<span class="linenos">3067</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">3068</span><span class="c1">// func:command.atf_cmdline.mnum.Setary2</span>
<span class="linenos">3069</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mnum_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">i32</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3070</span><span class="c1">// &#39;quick&#39; Access row by row id. No bounds checking.</span>
<span class="linenos">3071</span><span class="c1">// func:command.atf_cmdline.mnum.qFind</span>
<span class="linenos">3072</span><span class="n">i32</span><span class="o">&amp;</span><span class="w">                 </span><span class="nf">mnum_qFind</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3073</span><span class="c1">// Return reference to last element of array. No bounds checking</span>
<span class="linenos">3074</span><span class="c1">// func:command.atf_cmdline.mnum.qLast</span>
<span class="linenos">3075</span><span class="n">i32</span><span class="o">&amp;</span><span class="w">                 </span><span class="nf">mnum_qLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3076</span><span class="c1">// Return row id of specified element</span>
<span class="linenos">3077</span><span class="c1">// func:command.atf_cmdline.mnum.rowid_Get</span>
<span class="linenos">3078</span><span class="n">u64</span><span class="w">                  </span><span class="nf">mnum_rowid_Get</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3079</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">3080</span><span class="c1">// func:command.atf_cmdline.mnum.AllocNVal</span>
<span class="linenos">3081</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">i32</span><span class="o">&gt;</span><span class="w">    </span><span class="n">mnum_AllocNVal</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">i32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3082</span><span class="c1">// A single element is read from input string and appended to the array.</span>
<span class="linenos">3083</span><span class="c1">// If the string contains an error, the array is untouched.</span>
<span class="linenos">3084</span><span class="c1">// Function returns success value.</span>
<span class="linenos">3085</span><span class="c1">// func:command.atf_cmdline.mnum.ReadStrptrMaybe</span>
<span class="linenos">3086</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">mnum_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3087</span>
<span class="linenos">3088</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">3089</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">3090</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">3091</span><span class="c1">// func:command.atf_cmdline.mdbl.Addary</span>
<span class="linenos">3092</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mdbl_Addary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3093</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">3094</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">3095</span><span class="c1">// func:command.atf_cmdline.mdbl.Alloc</span>
<span class="linenos">3096</span><span class="kt">double</span><span class="o">&amp;</span><span class="w">              </span><span class="nf">mdbl_Alloc</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3097</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">3098</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">3099</span><span class="c1">// func:command.atf_cmdline.mdbl.AllocAt</span>
<span class="linenos">3100</span><span class="kt">double</span><span class="o">&amp;</span><span class="w">              </span><span class="nf">mdbl_AllocAt</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3101</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">3102</span><span class="c1">// func:command.atf_cmdline.mdbl.AllocN</span>
<span class="linenos">3103</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mdbl_AllocN</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3104</span><span class="c1">// Return true if index is empty</span>
<span class="linenos">3105</span><span class="c1">// func:command.atf_cmdline.mdbl.EmptyQ</span>
<span class="linenos">3106</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">mdbl_EmptyQ</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3107</span><span class="c1">// Look up row by row id. Return NULL if out of range</span>
<span class="linenos">3108</span><span class="c1">// func:command.atf_cmdline.mdbl.Find</span>
<span class="linenos">3109</span><span class="kt">double</span><span class="o">*</span><span class="w">              </span><span class="nf">mdbl_Find</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3110</span><span class="c1">// Return array pointer by value</span>
<span class="linenos">3111</span><span class="c1">// func:command.atf_cmdline.mdbl.Getary</span>
<span class="linenos">3112</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mdbl_Getary</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3113</span><span class="c1">// Return pointer to last element of array, or NULL if array is empty</span>
<span class="linenos">3114</span><span class="c1">// func:command.atf_cmdline.mdbl.Last</span>
<span class="linenos">3115</span><span class="kt">double</span><span class="o">*</span><span class="w">              </span><span class="nf">mdbl_Last</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">3116</span><span class="c1">// Return max. number of items in the array</span>
<span class="linenos">3117</span><span class="c1">// func:command.atf_cmdline.mdbl.Max</span>
<span class="linenos">3118</span><span class="n">i32</span><span class="w">                  </span><span class="nf">mdbl_Max</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3119</span><span class="c1">// Return number of items in the array</span>
<span class="linenos">3120</span><span class="c1">// func:command.atf_cmdline.mdbl.N</span>
<span class="linenos">3121</span><span class="n">i32</span><span class="w">                  </span><span class="nf">mdbl_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">3122</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">3123</span><span class="c1">// func:command.atf_cmdline.mdbl.Remove</span>
<span class="linenos">3124</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mdbl_Remove</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3125</span><span class="c1">// func:command.atf_cmdline.mdbl.RemoveAll</span>
<span class="linenos">3126</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mdbl_RemoveAll</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3127</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">3128</span><span class="c1">// func:command.atf_cmdline.mdbl.RemoveLast</span>
<span class="linenos">3129</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mdbl_RemoveLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3130</span><span class="c1">// Make sure N *more* elements will fit in array. Process dies if out of memory</span>
<span class="linenos">3131</span><span class="c1">// func:command.atf_cmdline.mdbl.Reserve</span>
<span class="linenos">3132</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mdbl_Reserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3133</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">3134</span><span class="c1">// func:command.atf_cmdline.mdbl.AbsReserve</span>
<span class="linenos">3135</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mdbl_AbsReserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3136</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">3137</span><span class="c1">// func:command.atf_cmdline.mdbl.Setary</span>
<span class="linenos">3138</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mdbl_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3139</span><span class="c1">// Copy specified array into mdbl, discarding previous contents.</span>
<span class="linenos">3140</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">3141</span><span class="c1">// func:command.atf_cmdline.mdbl.Setary2</span>
<span class="linenos">3142</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mdbl_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3143</span><span class="c1">// &#39;quick&#39; Access row by row id. No bounds checking.</span>
<span class="linenos">3144</span><span class="c1">// func:command.atf_cmdline.mdbl.qFind</span>
<span class="linenos">3145</span><span class="kt">double</span><span class="o">&amp;</span><span class="w">              </span><span class="nf">mdbl_qFind</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3146</span><span class="c1">// Return reference to last element of array. No bounds checking</span>
<span class="linenos">3147</span><span class="c1">// func:command.atf_cmdline.mdbl.qLast</span>
<span class="linenos">3148</span><span class="kt">double</span><span class="o">&amp;</span><span class="w">              </span><span class="nf">mdbl_qLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3149</span><span class="c1">// Return row id of specified element</span>
<span class="linenos">3150</span><span class="c1">// func:command.atf_cmdline.mdbl.rowid_Get</span>
<span class="linenos">3151</span><span class="n">u64</span><span class="w">                  </span><span class="nf">mdbl_rowid_Get</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="o">&amp;</span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3152</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">3153</span><span class="c1">// func:command.atf_cmdline.mdbl.AllocNVal</span>
<span class="linenos">3154</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mdbl_AllocNVal</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3155</span><span class="c1">// A single element is read from input string and appended to the array.</span>
<span class="linenos">3156</span><span class="c1">// If the string contains an error, the array is untouched.</span>
<span class="linenos">3157</span><span class="c1">// Function returns success value.</span>
<span class="linenos">3158</span><span class="c1">// func:command.atf_cmdline.mdbl.ReadStrptrMaybe</span>
<span class="linenos">3159</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">mdbl_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3160</span>
<span class="linenos">3161</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">3162</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">3163</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">3164</span><span class="c1">// func:command.atf_cmdline.amnum.Addary</span>
<span class="linenos">3165</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">i32</span><span class="o">&gt;</span><span class="w">    </span><span class="n">amnum_Addary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">i32</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3166</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">3167</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">3168</span><span class="c1">// func:command.atf_cmdline.amnum.Alloc</span>
<span class="linenos">3169</span><span class="n">i32</span><span class="o">&amp;</span><span class="w">                 </span><span class="nf">amnum_Alloc</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3170</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">3171</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">3172</span><span class="c1">// func:command.atf_cmdline.amnum.AllocAt</span>
<span class="linenos">3173</span><span class="n">i32</span><span class="o">&amp;</span><span class="w">                 </span><span class="nf">amnum_AllocAt</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3174</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">3175</span><span class="c1">// func:command.atf_cmdline.amnum.AllocN</span>
<span class="linenos">3176</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">i32</span><span class="o">&gt;</span><span class="w">    </span><span class="n">amnum_AllocN</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3177</span><span class="c1">// Return true if index is empty</span>
<span class="linenos">3178</span><span class="c1">// func:command.atf_cmdline.amnum.EmptyQ</span>
<span class="linenos">3179</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">amnum_EmptyQ</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3180</span><span class="c1">// Look up row by row id. Return NULL if out of range</span>
<span class="linenos">3181</span><span class="c1">// func:command.atf_cmdline.amnum.Find</span>
<span class="linenos">3182</span><span class="n">i32</span><span class="o">*</span><span class="w">                 </span><span class="nf">amnum_Find</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3183</span><span class="c1">// Return array pointer by value</span>
<span class="linenos">3184</span><span class="c1">// func:command.atf_cmdline.amnum.Getary</span>
<span class="linenos">3185</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">i32</span><span class="o">&gt;</span><span class="w">    </span><span class="n">amnum_Getary</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3186</span><span class="c1">// Return pointer to last element of array, or NULL if array is empty</span>
<span class="linenos">3187</span><span class="c1">// func:command.atf_cmdline.amnum.Last</span>
<span class="linenos">3188</span><span class="n">i32</span><span class="o">*</span><span class="w">                 </span><span class="nf">amnum_Last</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">3189</span><span class="c1">// Return max. number of items in the array</span>
<span class="linenos">3190</span><span class="c1">// func:command.atf_cmdline.amnum.Max</span>
<span class="linenos">3191</span><span class="n">i32</span><span class="w">                  </span><span class="nf">amnum_Max</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3192</span><span class="c1">// Return number of items in the array</span>
<span class="linenos">3193</span><span class="c1">// func:command.atf_cmdline.amnum.N</span>
<span class="linenos">3194</span><span class="n">i32</span><span class="w">                  </span><span class="nf">amnum_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">3195</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">3196</span><span class="c1">// func:command.atf_cmdline.amnum.Remove</span>
<span class="linenos">3197</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amnum_Remove</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3198</span><span class="c1">// func:command.atf_cmdline.amnum.RemoveAll</span>
<span class="linenos">3199</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amnum_RemoveAll</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3200</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">3201</span><span class="c1">// func:command.atf_cmdline.amnum.RemoveLast</span>
<span class="linenos">3202</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amnum_RemoveLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3203</span><span class="c1">// Make sure N *more* elements will fit in array. Process dies if out of memory</span>
<span class="linenos">3204</span><span class="c1">// func:command.atf_cmdline.amnum.Reserve</span>
<span class="linenos">3205</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amnum_Reserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3206</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">3207</span><span class="c1">// func:command.atf_cmdline.amnum.AbsReserve</span>
<span class="linenos">3208</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amnum_AbsReserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3209</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">3210</span><span class="c1">// func:command.atf_cmdline.amnum.Setary</span>
<span class="linenos">3211</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amnum_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3212</span><span class="c1">// Copy specified array into amnum, discarding previous contents.</span>
<span class="linenos">3213</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">3214</span><span class="c1">// func:command.atf_cmdline.amnum.Setary2</span>
<span class="linenos">3215</span><span class="kt">void</span><span class="w">                 </span><span class="nf">amnum_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">i32</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3216</span><span class="c1">// &#39;quick&#39; Access row by row id. No bounds checking.</span>
<span class="linenos">3217</span><span class="c1">// func:command.atf_cmdline.amnum.qFind</span>
<span class="linenos">3218</span><span class="n">i32</span><span class="o">&amp;</span><span class="w">                 </span><span class="nf">amnum_qFind</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3219</span><span class="c1">// Return reference to last element of array. No bounds checking</span>
<span class="linenos">3220</span><span class="c1">// func:command.atf_cmdline.amnum.qLast</span>
<span class="linenos">3221</span><span class="n">i32</span><span class="o">&amp;</span><span class="w">                 </span><span class="nf">amnum_qLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3222</span><span class="c1">// Return row id of specified element</span>
<span class="linenos">3223</span><span class="c1">// func:command.atf_cmdline.amnum.rowid_Get</span>
<span class="linenos">3224</span><span class="n">u64</span><span class="w">                  </span><span class="nf">amnum_rowid_Get</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3225</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">3226</span><span class="c1">// func:command.atf_cmdline.amnum.AllocNVal</span>
<span class="linenos">3227</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">i32</span><span class="o">&gt;</span><span class="w">    </span><span class="n">amnum_AllocNVal</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">i32</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3228</span><span class="c1">// A single element is read from input string and appended to the array.</span>
<span class="linenos">3229</span><span class="c1">// If the string contains an error, the array is untouched.</span>
<span class="linenos">3230</span><span class="c1">// Function returns success value.</span>
<span class="linenos">3231</span><span class="c1">// func:command.atf_cmdline.amnum.ReadStrptrMaybe</span>
<span class="linenos">3232</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">amnum_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3233</span>
<span class="linenos">3234</span><span class="c1">// Get value of field as enum type</span>
<span class="linenos">3235</span><span class="c1">// func:command.atf_cmdline.fconst.GetEnum</span>
<span class="linenos">3236</span><span class="n">command_atf_cmdline_fconst_Enum</span><span class="w"> </span><span class="nf">fconst_GetEnum</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3237</span><span class="c1">// Set value of field from enum type.</span>
<span class="linenos">3238</span><span class="c1">// func:command.atf_cmdline.fconst.SetEnum</span>
<span class="linenos">3239</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fconst_SetEnum</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command_atf_cmdline_fconst_Enum</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3240</span><span class="c1">// Convert numeric value of field to one of predefined string constants.</span>
<span class="linenos">3241</span><span class="c1">// If string is found, return a static C string. Otherwise, return NULL.</span>
<span class="linenos">3242</span><span class="c1">// func:command.atf_cmdline.fconst.ToCstr</span>
<span class="linenos">3243</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w">          </span><span class="nf">fconst_ToCstr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3244</span><span class="c1">// Convert fconst to a string. First, attempt conversion to a known string.</span>
<span class="linenos">3245</span><span class="c1">// If no string matches, print fconst as a numeric value.</span>
<span class="linenos">3246</span><span class="c1">// func:command.atf_cmdline.fconst.Print</span>
<span class="linenos">3247</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fconst_Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3248</span><span class="c1">// Convert string to field.</span>
<span class="linenos">3249</span><span class="c1">// If the string is invalid, do not modify field and return false.</span>
<span class="linenos">3250</span><span class="c1">// In case of success, return true</span>
<span class="linenos">3251</span><span class="c1">// func:command.atf_cmdline.fconst.SetStrptrMaybe</span>
<span class="linenos">3252</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">fconst_SetStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3253</span><span class="c1">// Convert string to field.</span>
<span class="linenos">3254</span><span class="c1">// If the string is invalid, set numeric value to DFLT</span>
<span class="linenos">3255</span><span class="c1">// func:command.atf_cmdline.fconst.SetStrptr</span>
<span class="linenos">3256</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fconst_SetStrptr</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">,</span><span class="w"> </span><span class="n">command_atf_cmdline_fconst_Enum</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3257</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">3258</span><span class="c1">// func:command.atf_cmdline.fconst.ReadStrptrMaybe</span>
<span class="linenos">3259</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">fconst_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3260</span>
<span class="linenos">3261</span><span class="c1">// Print back to string</span>
<span class="linenos">3262</span><span class="c1">// func:command.atf_cmdline.dregx.Print</span>
<span class="linenos">3263</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dregx_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3264</span><span class="c1">// Read Regx from string</span>
<span class="linenos">3265</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">3266</span><span class="c1">// func:command.atf_cmdline.dregx.ReadStrptrMaybe</span>
<span class="linenos">3267</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">dregx_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3268</span>
<span class="linenos">3269</span><span class="c1">// proceed to next item</span>
<span class="linenos">3270</span><span class="c1">// func:command.atf_cmdline.mstr_curs.Next</span>
<span class="linenos">3271</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cmdline_mstr_curs_Next</span><span class="p">(</span><span class="n">atf_cmdline_mstr_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3272</span><span class="c1">// func:command.atf_cmdline.mstr_curs.Reset</span>
<span class="linenos">3273</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cmdline_mstr_curs_Reset</span><span class="p">(</span><span class="n">atf_cmdline_mstr_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3274</span><span class="c1">// cursor points to valid item</span>
<span class="linenos">3275</span><span class="c1">// func:command.atf_cmdline.mstr_curs.ValidQ</span>
<span class="linenos">3276</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_cmdline_mstr_curs_ValidQ</span><span class="p">(</span><span class="n">atf_cmdline_mstr_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3277</span><span class="c1">// item access</span>
<span class="linenos">3278</span><span class="c1">// func:command.atf_cmdline.mstr_curs.Access</span>
<span class="linenos">3279</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">atf_cmdline_mstr_curs_Access</span><span class="p">(</span><span class="n">atf_cmdline_mstr_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3280</span><span class="c1">// proceed to next item</span>
<span class="linenos">3281</span><span class="c1">// func:command.atf_cmdline.mnum_curs.Next</span>
<span class="linenos">3282</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cmdline_mnum_curs_Next</span><span class="p">(</span><span class="n">atf_cmdline_mnum_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3283</span><span class="c1">// func:command.atf_cmdline.mnum_curs.Reset</span>
<span class="linenos">3284</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cmdline_mnum_curs_Reset</span><span class="p">(</span><span class="n">atf_cmdline_mnum_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3285</span><span class="c1">// cursor points to valid item</span>
<span class="linenos">3286</span><span class="c1">// func:command.atf_cmdline.mnum_curs.ValidQ</span>
<span class="linenos">3287</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_cmdline_mnum_curs_ValidQ</span><span class="p">(</span><span class="n">atf_cmdline_mnum_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3288</span><span class="c1">// item access</span>
<span class="linenos">3289</span><span class="c1">// func:command.atf_cmdline.mnum_curs.Access</span>
<span class="linenos">3290</span><span class="n">i32</span><span class="o">&amp;</span><span class="w">                 </span><span class="nf">atf_cmdline_mnum_curs_Access</span><span class="p">(</span><span class="n">atf_cmdline_mnum_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3291</span><span class="c1">// proceed to next item</span>
<span class="linenos">3292</span><span class="c1">// func:command.atf_cmdline.mdbl_curs.Next</span>
<span class="linenos">3293</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cmdline_mdbl_curs_Next</span><span class="p">(</span><span class="n">atf_cmdline_mdbl_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3294</span><span class="c1">// func:command.atf_cmdline.mdbl_curs.Reset</span>
<span class="linenos">3295</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cmdline_mdbl_curs_Reset</span><span class="p">(</span><span class="n">atf_cmdline_mdbl_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3296</span><span class="c1">// cursor points to valid item</span>
<span class="linenos">3297</span><span class="c1">// func:command.atf_cmdline.mdbl_curs.ValidQ</span>
<span class="linenos">3298</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_cmdline_mdbl_curs_ValidQ</span><span class="p">(</span><span class="n">atf_cmdline_mdbl_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3299</span><span class="c1">// item access</span>
<span class="linenos">3300</span><span class="c1">// func:command.atf_cmdline.mdbl_curs.Access</span>
<span class="linenos">3301</span><span class="kt">double</span><span class="o">&amp;</span><span class="w">              </span><span class="nf">atf_cmdline_mdbl_curs_Access</span><span class="p">(</span><span class="n">atf_cmdline_mdbl_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3302</span><span class="c1">// proceed to next item</span>
<span class="linenos">3303</span><span class="c1">// func:command.atf_cmdline.amnum_curs.Next</span>
<span class="linenos">3304</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cmdline_amnum_curs_Next</span><span class="p">(</span><span class="n">atf_cmdline_amnum_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3305</span><span class="c1">// func:command.atf_cmdline.amnum_curs.Reset</span>
<span class="linenos">3306</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cmdline_amnum_curs_Reset</span><span class="p">(</span><span class="n">atf_cmdline_amnum_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3307</span><span class="c1">// cursor points to valid item</span>
<span class="linenos">3308</span><span class="c1">// func:command.atf_cmdline.amnum_curs.ValidQ</span>
<span class="linenos">3309</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_cmdline_amnum_curs_ValidQ</span><span class="p">(</span><span class="n">atf_cmdline_amnum_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3310</span><span class="c1">// item access</span>
<span class="linenos">3311</span><span class="c1">// func:command.atf_cmdline.amnum_curs.Access</span>
<span class="linenos">3312</span><span class="n">i32</span><span class="o">&amp;</span><span class="w">                 </span><span class="nf">atf_cmdline_amnum_curs_Access</span><span class="p">(</span><span class="n">atf_cmdline_amnum_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3313</span><span class="c1">// func:command.atf_cmdline..ReadFieldMaybe</span>
<span class="linenos">3314</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_cmdline_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3315</span><span class="c1">// Read fields of command::atf_cmdline from attributes of ascii tuple TUPLE</span>
<span class="linenos">3316</span><span class="c1">// func:command.atf_cmdline..ReadTupleMaybe</span>
<span class="linenos">3317</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_cmdline_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3318</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">3319</span><span class="c1">// func:command.atf_cmdline..Init</span>
<span class="linenos">3320</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cmdline_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3321</span><span class="c1">// func:command.atf_cmdline..Uninit</span>
<span class="linenos">3322</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cmdline_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3323</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">3324</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">3325</span><span class="c1">// func:command.atf_cmdline..ToCmdline</span>
<span class="linenos">3326</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">atf_cmdline_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3327</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">3328</span><span class="c1">// cfmt:command.atf_cmdline.Argv  printfmt:Tuple</span>
<span class="linenos">3329</span><span class="c1">// func:command.atf_cmdline..PrintArgv</span>
<span class="linenos">3330</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cmdline_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3331</span><span class="c1">// func:command.atf_cmdline..GetAnon</span>
<span class="linenos">3332</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">atf_cmdline_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3333</span><span class="c1">// Used with command lines</span>
<span class="linenos">3334</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">3335</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">3336</span><span class="c1">// func:command.atf_cmdline..NArgs</span>
<span class="linenos">3337</span><span class="n">i32</span><span class="w">                  </span><span class="nf">atf_cmdline_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3338</span>
<span class="linenos">3339</span><span class="c1">// --- command.atf_cmdline_proc</span>
<span class="linenos">3340</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_cmdline_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_cmdline_proc: Subprocess: Test tool for command line parsing</span>
<span class="linenos">3341</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">          </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/atf_cmdline&quot;  path for executable</span>
<span class="linenos">3342</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">3343</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">          </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">3344</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">          </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">3345</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">          </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">3346</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">                  </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">3347</span><span class="w">    </span><span class="n">i32</span><span class="w">                    </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">3348</span><span class="w">    </span><span class="n">i32</span><span class="w">                    </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">3349</span><span class="w">    </span><span class="n">atf_cmdline_proc</span><span class="p">();</span>
<span class="linenos">3350</span><span class="w">    </span><span class="o">~</span><span class="n">atf_cmdline_proc</span><span class="p">();</span>
<span class="linenos">3351</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">3352</span><span class="w">    </span><span class="c1">// reftype Exec of command.atf_cmdline_proc.atf_cmdline prohibits copy</span>
<span class="linenos">3353</span><span class="w">    </span><span class="c1">// value field command.atf_cmdline_proc.cmd is not copiable</span>
<span class="linenos">3354</span><span class="w">    </span><span class="n">atf_cmdline_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_cmdline_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">3355</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_cmdline_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">3356</span><span class="p">};</span>
<span class="linenos">3357</span>
<span class="linenos">3358</span><span class="c1">// Start subprocess</span>
<span class="linenos">3359</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">3360</span><span class="c1">// func:command.atf_cmdline_proc.atf_cmdline.Start</span>
<span class="linenos">3361</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_cmdline_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3362</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">3363</span><span class="c1">// func:command.atf_cmdline_proc.atf_cmdline.StartRead</span>
<span class="linenos">3364</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">atf_cmdline_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3365</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">3366</span><span class="c1">// func:command.atf_cmdline_proc.atf_cmdline.Kill</span>
<span class="linenos">3367</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cmdline_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3368</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">3369</span><span class="c1">// func:command.atf_cmdline_proc.atf_cmdline.Wait</span>
<span class="linenos">3370</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cmdline_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3371</span><span class="c1">// Start + Wait</span>
<span class="linenos">3372</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">3373</span><span class="c1">// func:command.atf_cmdline_proc.atf_cmdline.Exec</span>
<span class="linenos">3374</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_cmdline_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3375</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">3376</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">3377</span><span class="c1">// func:command.atf_cmdline_proc.atf_cmdline.ExecX</span>
<span class="linenos">3378</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cmdline_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3379</span><span class="c1">// Call execv()</span>
<span class="linenos">3380</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">3381</span><span class="c1">// func:command.atf_cmdline_proc.atf_cmdline.Execv</span>
<span class="linenos">3382</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_cmdline_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3383</span><span class="c1">// func:command.atf_cmdline_proc.atf_cmdline.ToCmdline</span>
<span class="linenos">3384</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">atf_cmdline_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3385</span><span class="c1">// Form array from the command line</span>
<span class="linenos">3386</span><span class="c1">// func:command.atf_cmdline_proc.atf_cmdline.ToArgv</span>
<span class="linenos">3387</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cmdline_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3388</span>
<span class="linenos">3389</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">3390</span><span class="c1">// func:command.atf_cmdline_proc..Init</span>
<span class="linenos">3391</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cmdline_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3392</span><span class="c1">// func:command.atf_cmdline_proc..Uninit</span>
<span class="linenos">3393</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cmdline_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cmdline_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3394</span>
<span class="linenos">3395</span><span class="c1">// --- command.atf_comp</span>
<span class="linenos">3396</span><span class="c1">// access: command.atf_comp_proc.atf_comp (Exec)</span>
<span class="linenos">3397</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_comp</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_comp</span>
<span class="linenos">3398</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">in</span><span class="p">;</span><span class="w">                </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">3399</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">     </span><span class="n">comptest</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;%&quot;  Sql Regx of atfdb::Comptest</span>
<span class="linenos">3400</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">mdbg</span><span class="p">;</span><span class="w">              </span><span class="c1">//   false  (action) Run component test under debugger</span>
<span class="linenos">3401</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">run</span><span class="p">;</span><span class="w">               </span><span class="c1">//   true  (action) Run selected component tests</span>
<span class="linenos">3402</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">capture</span><span class="p">;</span><span class="w">           </span><span class="c1">//   false  (action) Re-capture test results</span>
<span class="linenos">3403</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">print</span><span class="p">;</span><span class="w">             </span><span class="c1">//   false  (action) Print testcase</span>
<span class="linenos">3404</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">printinput</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false  (action) Print input of test case</span>
<span class="linenos">3405</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">e</span><span class="p">;</span><span class="w">                 </span><span class="c1">//   false  (action) Open selected testcases in an editor</span>
<span class="linenos">3406</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">normalize</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  (action) Renumber and normalize tmsgs</span>
<span class="linenos">3407</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">covcapture</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false  (action) Capture new coverage percentages and save back</span>
<span class="linenos">3408</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">covcheck</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  (action) Check coverage percentages against tgtcov table</span>
<span class="linenos">3409</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">compdir</span><span class="p">;</span><span class="w">           </span><span class="c1">//   &quot;&quot;  Component image directory (exe)</span>
<span class="linenos">3410</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">   </span><span class="n">cfg</span><span class="p">;</span><span class="w">               </span><span class="c1">//   &quot;release&quot;  Set config</span>
<span class="linenos">3411</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">check_untracked</span><span class="p">;</span><span class="w">   </span><span class="c1">//   true  Check for untracked file before allowing test to run</span>
<span class="linenos">3412</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">maxerr</span><span class="p">;</span><span class="w">            </span><span class="c1">//   1  Exit after this many errors</span>
<span class="linenos">3413</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">build</span><span class="p">;</span><span class="w">             </span><span class="c1">//   false  Build given cfg before test</span>
<span class="linenos">3414</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">ood</span><span class="p">;</span><span class="w">               </span><span class="c1">//   false  Check given cfg for ood before test</span>
<span class="linenos">3415</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">memcheck</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  Run under memory checker (valgrind)</span>
<span class="linenos">3416</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">force</span><span class="p">;</span><span class="w">             </span><span class="c1">//   false  (With -memcheck) run suppressed memcheck</span>
<span class="linenos">3417</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">callgrind</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Run under callgrind profiler (valgrind)</span>
<span class="linenos">3418</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">maxjobs</span><span class="p">;</span><span class="w">           </span><span class="c1">//   0  Maximum number of tests run in parallel</span>
<span class="linenos">3419</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">stream</span><span class="p">;</span><span class="w">            </span><span class="c1">//   false  prints component&#39;s output</span>
<span class="linenos">3420</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">i</span><span class="p">;</span><span class="w">                 </span><span class="c1">//   false  Read and execute testcase from stdin</span>
<span class="linenos">3421</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">write</span><span class="p">;</span><span class="w">             </span><span class="c1">//   true  (implied with -e) Write any changes back to ssim tables</span>
<span class="linenos">3422</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">report</span><span class="p">;</span><span class="w">            </span><span class="c1">//   false  Print final report</span>
<span class="linenos">3423</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">b</span><span class="p">;</span><span class="w">                 </span><span class="c1">//   &quot;&quot;  Breakpoint passed to mdbg as-is</span>
<span class="linenos">3424</span><span class="w">    </span><span class="n">atf_comp</span><span class="p">();</span>
<span class="linenos">3425</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">3426</span><span class="w">    </span><span class="c1">// reftype Regx of command.atf_comp.comptest prohibits copy</span>
<span class="linenos">3427</span><span class="w">    </span><span class="n">atf_comp</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_comp</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">3428</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_comp</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">3429</span><span class="p">};</span>
<span class="linenos">3430</span>
<span class="linenos">3431</span><span class="c1">// Print back to string</span>
<span class="linenos">3432</span><span class="c1">// func:command.atf_comp.comptest.Print</span>
<span class="linenos">3433</span><span class="kt">void</span><span class="w">                 </span><span class="nf">comptest_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_comp</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3434</span><span class="c1">// Read Regx from string</span>
<span class="linenos">3435</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">3436</span><span class="c1">// func:command.atf_comp.comptest.ReadStrptrMaybe</span>
<span class="linenos">3437</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">comptest_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_comp</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3438</span>
<span class="linenos">3439</span><span class="c1">// func:command.atf_comp..ReadFieldMaybe</span>
<span class="linenos">3440</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_comp_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_comp</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3441</span><span class="c1">// Read fields of command::atf_comp from attributes of ascii tuple TUPLE</span>
<span class="linenos">3442</span><span class="c1">// func:command.atf_comp..ReadTupleMaybe</span>
<span class="linenos">3443</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_comp_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_comp</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3444</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">3445</span><span class="c1">// func:command.atf_comp..Init</span>
<span class="linenos">3446</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_comp_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_comp</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3447</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">3448</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">3449</span><span class="c1">// func:command.atf_comp..ToCmdline</span>
<span class="linenos">3450</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">atf_comp_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_comp</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3451</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">3452</span><span class="c1">// cfmt:command.atf_comp.Argv  printfmt:Tuple</span>
<span class="linenos">3453</span><span class="c1">// func:command.atf_comp..PrintArgv</span>
<span class="linenos">3454</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_comp_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_comp</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3455</span><span class="c1">// func:command.atf_comp..GetAnon</span>
<span class="linenos">3456</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">atf_comp_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_comp</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3457</span><span class="c1">// Used with command lines</span>
<span class="linenos">3458</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">3459</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">3460</span><span class="c1">// func:command.atf_comp..NArgs</span>
<span class="linenos">3461</span><span class="n">i32</span><span class="w">                  </span><span class="nf">atf_comp_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3462</span>
<span class="linenos">3463</span><span class="c1">// --- command.atf_comp_proc</span>
<span class="linenos">3464</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_comp_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_comp_proc: Subprocess: Algo Test Framework - Component test execution</span>
<span class="linenos">3465</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/atf_comp&quot;  path for executable</span>
<span class="linenos">3466</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">atf_comp</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">3467</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">3468</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">3469</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">3470</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">               </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">3471</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">3472</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">3473</span><span class="w">    </span><span class="n">atf_comp_proc</span><span class="p">();</span>
<span class="linenos">3474</span><span class="w">    </span><span class="o">~</span><span class="n">atf_comp_proc</span><span class="p">();</span>
<span class="linenos">3475</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">3476</span><span class="w">    </span><span class="c1">// reftype Exec of command.atf_comp_proc.atf_comp prohibits copy</span>
<span class="linenos">3477</span><span class="w">    </span><span class="c1">// value field command.atf_comp_proc.cmd is not copiable</span>
<span class="linenos">3478</span><span class="w">    </span><span class="n">atf_comp_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_comp_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">3479</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_comp_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">3480</span><span class="p">};</span>
<span class="linenos">3481</span>
<span class="linenos">3482</span><span class="c1">// Start subprocess</span>
<span class="linenos">3483</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">3484</span><span class="c1">// func:command.atf_comp_proc.atf_comp.Start</span>
<span class="linenos">3485</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_comp_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_comp_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3486</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">3487</span><span class="c1">// func:command.atf_comp_proc.atf_comp.StartRead</span>
<span class="linenos">3488</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">atf_comp_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_comp_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3489</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">3490</span><span class="c1">// func:command.atf_comp_proc.atf_comp.Kill</span>
<span class="linenos">3491</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_comp_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_comp_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3492</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">3493</span><span class="c1">// func:command.atf_comp_proc.atf_comp.Wait</span>
<span class="linenos">3494</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_comp_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_comp_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3495</span><span class="c1">// Start + Wait</span>
<span class="linenos">3496</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">3497</span><span class="c1">// func:command.atf_comp_proc.atf_comp.Exec</span>
<span class="linenos">3498</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_comp_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_comp_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3499</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">3500</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">3501</span><span class="c1">// func:command.atf_comp_proc.atf_comp.ExecX</span>
<span class="linenos">3502</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_comp_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_comp_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3503</span><span class="c1">// Call execv()</span>
<span class="linenos">3504</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">3505</span><span class="c1">// func:command.atf_comp_proc.atf_comp.Execv</span>
<span class="linenos">3506</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_comp_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_comp_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3507</span><span class="c1">// func:command.atf_comp_proc.atf_comp.ToCmdline</span>
<span class="linenos">3508</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">atf_comp_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_comp_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3509</span><span class="c1">// Form array from the command line</span>
<span class="linenos">3510</span><span class="c1">// func:command.atf_comp_proc.atf_comp.ToArgv</span>
<span class="linenos">3511</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_comp_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_comp_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3512</span>
<span class="linenos">3513</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">3514</span><span class="c1">// func:command.atf_comp_proc..Init</span>
<span class="linenos">3515</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_comp_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_comp_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3516</span><span class="c1">// func:command.atf_comp_proc..Uninit</span>
<span class="linenos">3517</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_comp_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_comp_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3518</span>
<span class="linenos">3519</span><span class="c1">// --- command.atf_cov</span>
<span class="linenos">3520</span><span class="c1">// access: command.atf_cov_proc.atf_cov (Exec)</span>
<span class="linenos">3521</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_cov</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_cov</span>
<span class="linenos">3522</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">3523</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">covdir</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;temp/covdata&quot;  Output directory to save coverage data</span>
<span class="linenos">3524</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">logfile</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;&quot;  Log file</span>
<span class="linenos">3525</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">runcmd</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;&quot;  command to run</span>
<span class="linenos">3526</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">exclude</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;(extern|include/gen|cpp/gen)/%&quot;  Sql Regx of dev::Gitfile</span>
<span class="linenos">3527</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">mergepath</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;&quot;  colon-separated dir list to load .cov.ssim files from</span>
<span class="linenos">3528</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">gcov</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false  run gcov</span>
<span class="linenos">3529</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">ssim</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false  write out ssim files</span>
<span class="linenos">3530</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">report</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  write out all reports</span>
<span class="linenos">3531</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">capture</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Write coverage information into tgtcov table</span>
<span class="linenos">3532</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">xmlpretty</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  Generate pretty-formatted XML</span>
<span class="linenos">3533</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">summary</span><span class="p">;</span><span class="w">     </span><span class="c1">//   true  Show summary figures</span>
<span class="linenos">3534</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">check</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  Check coverage information against tgtcov table</span>
<span class="linenos">3535</span><span class="w">    </span><span class="n">atf_cov</span><span class="p">();</span>
<span class="linenos">3536</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">3537</span><span class="w">    </span><span class="c1">// reftype Regx of command.atf_cov.exclude prohibits copy</span>
<span class="linenos">3538</span><span class="w">    </span><span class="n">atf_cov</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_cov</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">3539</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_cov</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">3540</span><span class="p">};</span>
<span class="linenos">3541</span>
<span class="linenos">3542</span><span class="c1">// Print back to string</span>
<span class="linenos">3543</span><span class="c1">// func:command.atf_cov.exclude.Print</span>
<span class="linenos">3544</span><span class="kt">void</span><span class="w">                 </span><span class="nf">exclude_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cov</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3545</span><span class="c1">// Read Regx from string</span>
<span class="linenos">3546</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">3547</span><span class="c1">// func:command.atf_cov.exclude.ReadStrptrMaybe</span>
<span class="linenos">3548</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">exclude_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cov</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3549</span>
<span class="linenos">3550</span><span class="c1">// func:command.atf_cov..ReadFieldMaybe</span>
<span class="linenos">3551</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_cov_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cov</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3552</span><span class="c1">// Read fields of command::atf_cov from attributes of ascii tuple TUPLE</span>
<span class="linenos">3553</span><span class="c1">// func:command.atf_cov..ReadTupleMaybe</span>
<span class="linenos">3554</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_cov_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cov</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3555</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">3556</span><span class="c1">// func:command.atf_cov..Init</span>
<span class="linenos">3557</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cov_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cov</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3558</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">3559</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">3560</span><span class="c1">// func:command.atf_cov..ToCmdline</span>
<span class="linenos">3561</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">atf_cov_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cov</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3562</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">3563</span><span class="c1">// cfmt:command.atf_cov.Argv  printfmt:Tuple</span>
<span class="linenos">3564</span><span class="c1">// func:command.atf_cov..PrintArgv</span>
<span class="linenos">3565</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cov_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cov</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3566</span><span class="c1">// Used with command lines</span>
<span class="linenos">3567</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">3568</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">3569</span><span class="c1">// func:command.atf_cov..NArgs</span>
<span class="linenos">3570</span><span class="n">i32</span><span class="w">                  </span><span class="nf">atf_cov_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3571</span>
<span class="linenos">3572</span><span class="c1">// --- command.atf_cov_proc</span>
<span class="linenos">3573</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_cov_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_cov_proc: Subprocess: Line coverage</span>
<span class="linenos">3574</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/atf_cov&quot;  path for executable</span>
<span class="linenos">3575</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">atf_cov</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">3576</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">3577</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">3578</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">3579</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">              </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">3580</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">3581</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">3582</span><span class="w">    </span><span class="n">atf_cov_proc</span><span class="p">();</span>
<span class="linenos">3583</span><span class="w">    </span><span class="o">~</span><span class="n">atf_cov_proc</span><span class="p">();</span>
<span class="linenos">3584</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">3585</span><span class="w">    </span><span class="c1">// reftype Exec of command.atf_cov_proc.atf_cov prohibits copy</span>
<span class="linenos">3586</span><span class="w">    </span><span class="c1">// value field command.atf_cov_proc.cmd is not copiable</span>
<span class="linenos">3587</span><span class="w">    </span><span class="n">atf_cov_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_cov_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">3588</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_cov_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">3589</span><span class="p">};</span>
<span class="linenos">3590</span>
<span class="linenos">3591</span><span class="c1">// Start subprocess</span>
<span class="linenos">3592</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">3593</span><span class="c1">// func:command.atf_cov_proc.atf_cov.Start</span>
<span class="linenos">3594</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_cov_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cov_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3595</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">3596</span><span class="c1">// func:command.atf_cov_proc.atf_cov.StartRead</span>
<span class="linenos">3597</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">atf_cov_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cov_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3598</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">3599</span><span class="c1">// func:command.atf_cov_proc.atf_cov.Kill</span>
<span class="linenos">3600</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cov_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cov_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3601</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">3602</span><span class="c1">// func:command.atf_cov_proc.atf_cov.Wait</span>
<span class="linenos">3603</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cov_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cov_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3604</span><span class="c1">// Start + Wait</span>
<span class="linenos">3605</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">3606</span><span class="c1">// func:command.atf_cov_proc.atf_cov.Exec</span>
<span class="linenos">3607</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_cov_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cov_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3608</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">3609</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">3610</span><span class="c1">// func:command.atf_cov_proc.atf_cov.ExecX</span>
<span class="linenos">3611</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cov_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cov_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3612</span><span class="c1">// Call execv()</span>
<span class="linenos">3613</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">3614</span><span class="c1">// func:command.atf_cov_proc.atf_cov.Execv</span>
<span class="linenos">3615</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_cov_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cov_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3616</span><span class="c1">// func:command.atf_cov_proc.atf_cov.ToCmdline</span>
<span class="linenos">3617</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">atf_cov_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cov_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3618</span><span class="c1">// Form array from the command line</span>
<span class="linenos">3619</span><span class="c1">// func:command.atf_cov_proc.atf_cov.ToArgv</span>
<span class="linenos">3620</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cov_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cov_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3621</span>
<span class="linenos">3622</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">3623</span><span class="c1">// func:command.atf_cov_proc..Init</span>
<span class="linenos">3624</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cov_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cov_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3625</span><span class="c1">// func:command.atf_cov_proc..Uninit</span>
<span class="linenos">3626</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_cov_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_cov_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3627</span>
<span class="linenos">3628</span><span class="c1">// --- command.atf_fuzz</span>
<span class="linenos">3629</span><span class="c1">// access: command.atf_fuzz_proc.atf_fuzz (Exec)</span>
<span class="linenos">3630</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_fuzz</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_fuzz</span>
<span class="linenos">3631</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">reprofile</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;temp/atf_fuzz.repro&quot;  File where repros are stored</span>
<span class="linenos">3632</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr16</span><span class="w">   </span><span class="n">target</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;&quot;  Target to fuzz</span>
<span class="linenos">3633</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">args</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;&quot;  Additional arguments to target</span>
<span class="linenos">3634</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">inputfile</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;&quot;  File with input tuples.</span>
<span class="linenos">3635</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">     </span><span class="n">fuzzstrat</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;%&quot;  Sql Regx of atfdb::Fuzzstrat</span>
<span class="linenos">3636</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">in</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">3637</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">seed</span><span class="p">;</span><span class="w">        </span><span class="c1">//   0  Random seed</span>
<span class="linenos">3638</span><span class="w">    </span><span class="kt">double</span><span class="w">             </span><span class="n">testprob</span><span class="p">;</span><span class="w">    </span><span class="c1">//   1  Run each case with this probability</span>
<span class="linenos">3639</span><span class="w">    </span><span class="n">atf_fuzz</span><span class="p">();</span>
<span class="linenos">3640</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">3641</span><span class="w">    </span><span class="c1">// reftype Regx of command.atf_fuzz.fuzzstrat prohibits copy</span>
<span class="linenos">3642</span><span class="w">    </span><span class="n">atf_fuzz</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_fuzz</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">3643</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_fuzz</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">3644</span><span class="p">};</span>
<span class="linenos">3645</span>
<span class="linenos">3646</span><span class="c1">// Print back to string</span>
<span class="linenos">3647</span><span class="c1">// func:command.atf_fuzz.fuzzstrat.Print</span>
<span class="linenos">3648</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fuzzstrat_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_fuzz</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3649</span><span class="c1">// Read Regx from string</span>
<span class="linenos">3650</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">3651</span><span class="c1">// func:command.atf_fuzz.fuzzstrat.ReadStrptrMaybe</span>
<span class="linenos">3652</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">fuzzstrat_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_fuzz</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3653</span>
<span class="linenos">3654</span><span class="c1">// func:command.atf_fuzz..ReadFieldMaybe</span>
<span class="linenos">3655</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_fuzz_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_fuzz</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3656</span><span class="c1">// Read fields of command::atf_fuzz from attributes of ascii tuple TUPLE</span>
<span class="linenos">3657</span><span class="c1">// func:command.atf_fuzz..ReadTupleMaybe</span>
<span class="linenos">3658</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_fuzz_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_fuzz</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3659</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">3660</span><span class="c1">// func:command.atf_fuzz..Init</span>
<span class="linenos">3661</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_fuzz_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_fuzz</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3662</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">3663</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">3664</span><span class="c1">// func:command.atf_fuzz..ToCmdline</span>
<span class="linenos">3665</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">atf_fuzz_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_fuzz</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3666</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">3667</span><span class="c1">// cfmt:command.atf_fuzz.Argv  printfmt:Tuple</span>
<span class="linenos">3668</span><span class="c1">// func:command.atf_fuzz..PrintArgv</span>
<span class="linenos">3669</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_fuzz_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_fuzz</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3670</span><span class="c1">// func:command.atf_fuzz..GetAnon</span>
<span class="linenos">3671</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">atf_fuzz_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_fuzz</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3672</span><span class="c1">// Used with command lines</span>
<span class="linenos">3673</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">3674</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">3675</span><span class="c1">// func:command.atf_fuzz..NArgs</span>
<span class="linenos">3676</span><span class="n">i32</span><span class="w">                  </span><span class="nf">atf_fuzz_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3677</span>
<span class="linenos">3678</span><span class="c1">// --- command.atf_fuzz_proc</span>
<span class="linenos">3679</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_fuzz_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_fuzz_proc: Subprocess: Generator of bad inputs for targets</span>
<span class="linenos">3680</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/atf_fuzz&quot;  path for executable</span>
<span class="linenos">3681</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">atf_fuzz</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">3682</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">3683</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">3684</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">3685</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">               </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">3686</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">3687</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">3688</span><span class="w">    </span><span class="n">atf_fuzz_proc</span><span class="p">();</span>
<span class="linenos">3689</span><span class="w">    </span><span class="o">~</span><span class="n">atf_fuzz_proc</span><span class="p">();</span>
<span class="linenos">3690</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">3691</span><span class="w">    </span><span class="c1">// reftype Exec of command.atf_fuzz_proc.atf_fuzz prohibits copy</span>
<span class="linenos">3692</span><span class="w">    </span><span class="c1">// value field command.atf_fuzz_proc.cmd is not copiable</span>
<span class="linenos">3693</span><span class="w">    </span><span class="n">atf_fuzz_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_fuzz_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">3694</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_fuzz_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">3695</span><span class="p">};</span>
<span class="linenos">3696</span>
<span class="linenos">3697</span><span class="c1">// Start subprocess</span>
<span class="linenos">3698</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">3699</span><span class="c1">// func:command.atf_fuzz_proc.atf_fuzz.Start</span>
<span class="linenos">3700</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_fuzz_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_fuzz_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3701</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">3702</span><span class="c1">// func:command.atf_fuzz_proc.atf_fuzz.StartRead</span>
<span class="linenos">3703</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">atf_fuzz_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_fuzz_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3704</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">3705</span><span class="c1">// func:command.atf_fuzz_proc.atf_fuzz.Kill</span>
<span class="linenos">3706</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_fuzz_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_fuzz_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3707</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">3708</span><span class="c1">// func:command.atf_fuzz_proc.atf_fuzz.Wait</span>
<span class="linenos">3709</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_fuzz_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_fuzz_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3710</span><span class="c1">// Start + Wait</span>
<span class="linenos">3711</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">3712</span><span class="c1">// func:command.atf_fuzz_proc.atf_fuzz.Exec</span>
<span class="linenos">3713</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_fuzz_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_fuzz_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3714</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">3715</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">3716</span><span class="c1">// func:command.atf_fuzz_proc.atf_fuzz.ExecX</span>
<span class="linenos">3717</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_fuzz_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_fuzz_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3718</span><span class="c1">// Call execv()</span>
<span class="linenos">3719</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">3720</span><span class="c1">// func:command.atf_fuzz_proc.atf_fuzz.Execv</span>
<span class="linenos">3721</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_fuzz_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_fuzz_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3722</span><span class="c1">// func:command.atf_fuzz_proc.atf_fuzz.ToCmdline</span>
<span class="linenos">3723</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">atf_fuzz_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_fuzz_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3724</span><span class="c1">// Form array from the command line</span>
<span class="linenos">3725</span><span class="c1">// func:command.atf_fuzz_proc.atf_fuzz.ToArgv</span>
<span class="linenos">3726</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_fuzz_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_fuzz_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3727</span>
<span class="linenos">3728</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">3729</span><span class="c1">// func:command.atf_fuzz_proc..Init</span>
<span class="linenos">3730</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_fuzz_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_fuzz_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3731</span><span class="c1">// func:command.atf_fuzz_proc..Uninit</span>
<span class="linenos">3732</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_fuzz_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_fuzz_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3733</span>
<span class="linenos">3734</span><span class="c1">// --- command.atf_gcli</span>
<span class="linenos">3735</span><span class="c1">// access: command.atf_gcli_proc.atf_gcli (Exec)</span>
<span class="linenos">3736</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_gcli</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_gcli</span>
<span class="linenos">3737</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">              </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">3738</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">gtblacttst</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;%&quot;  Sql Regx of gclidb::Gtblacttst</span>
<span class="linenos">3739</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">id</span><span class="p">;</span><span class="w">              </span><span class="c1">//   &quot;&quot;  Use this issue for $ISSUE substitutions</span>
<span class="linenos">3740</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">mr</span><span class="p">;</span><span class="w">              </span><span class="c1">//   &quot;&quot;  Use this issue for $MR substitutions</span>
<span class="linenos">3741</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">note</span><span class="p">;</span><span class="w">            </span><span class="c1">//   &quot;&quot;  Use this issue for $NOTE substitutions</span>
<span class="linenos">3742</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">capture</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Capture test command output into gverbtout</span>
<span class="linenos">3743</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">skip_init</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  Skip setting local files - already set</span>
<span class="linenos">3744</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">skip_git_init</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  Skip setting local files - already set</span>
<span class="linenos">3745</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">dry_run</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Print actions, do not perform</span>
<span class="linenos">3746</span><span class="w">    </span><span class="n">atf_gcli</span><span class="p">();</span>
<span class="linenos">3747</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">3748</span><span class="w">    </span><span class="c1">// reftype Regx of command.atf_gcli.gtblacttst prohibits copy</span>
<span class="linenos">3749</span><span class="w">    </span><span class="n">atf_gcli</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_gcli</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">3750</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_gcli</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">3751</span><span class="p">};</span>
<span class="linenos">3752</span>
<span class="linenos">3753</span><span class="c1">// Print back to string</span>
<span class="linenos">3754</span><span class="c1">// func:command.atf_gcli.gtblacttst.Print</span>
<span class="linenos">3755</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gtblacttst_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3756</span><span class="c1">// Read Regx from string</span>
<span class="linenos">3757</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">3758</span><span class="c1">// func:command.atf_gcli.gtblacttst.ReadStrptrMaybe</span>
<span class="linenos">3759</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">gtblacttst_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3760</span>
<span class="linenos">3761</span><span class="c1">// func:command.atf_gcli..ReadFieldMaybe</span>
<span class="linenos">3762</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_gcli_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3763</span><span class="c1">// Read fields of command::atf_gcli from attributes of ascii tuple TUPLE</span>
<span class="linenos">3764</span><span class="c1">// func:command.atf_gcli..ReadTupleMaybe</span>
<span class="linenos">3765</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_gcli_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_gcli</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3766</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">3767</span><span class="c1">// func:command.atf_gcli..Init</span>
<span class="linenos">3768</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_gcli_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3769</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">3770</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">3771</span><span class="c1">// func:command.atf_gcli..ToCmdline</span>
<span class="linenos">3772</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">atf_gcli_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3773</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">3774</span><span class="c1">// cfmt:command.atf_gcli.Argv  printfmt:Tuple</span>
<span class="linenos">3775</span><span class="c1">// func:command.atf_gcli..PrintArgv</span>
<span class="linenos">3776</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_gcli_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3777</span><span class="c1">// Used with command lines</span>
<span class="linenos">3778</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">3779</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">3780</span><span class="c1">// func:command.atf_gcli..NArgs</span>
<span class="linenos">3781</span><span class="n">i32</span><span class="w">                  </span><span class="nf">atf_gcli_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3782</span>
<span class="linenos">3783</span><span class="c1">// --- command.atf_gcli_proc</span>
<span class="linenos">3784</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_gcli_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_gcli_proc: Subprocess: test harness for gcli</span>
<span class="linenos">3785</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/atf_gcli&quot;  path for executable</span>
<span class="linenos">3786</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">atf_gcli</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">3787</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">3788</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">3789</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">3790</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">               </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">3791</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">3792</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">3793</span><span class="w">    </span><span class="n">atf_gcli_proc</span><span class="p">();</span>
<span class="linenos">3794</span><span class="w">    </span><span class="o">~</span><span class="n">atf_gcli_proc</span><span class="p">();</span>
<span class="linenos">3795</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">3796</span><span class="w">    </span><span class="c1">// reftype Exec of command.atf_gcli_proc.atf_gcli prohibits copy</span>
<span class="linenos">3797</span><span class="w">    </span><span class="c1">// value field command.atf_gcli_proc.cmd is not copiable</span>
<span class="linenos">3798</span><span class="w">    </span><span class="n">atf_gcli_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_gcli_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">3799</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_gcli_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">3800</span><span class="p">};</span>
<span class="linenos">3801</span>
<span class="linenos">3802</span><span class="c1">// Start subprocess</span>
<span class="linenos">3803</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">3804</span><span class="c1">// func:command.atf_gcli_proc.atf_gcli.Start</span>
<span class="linenos">3805</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_gcli_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3806</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">3807</span><span class="c1">// func:command.atf_gcli_proc.atf_gcli.StartRead</span>
<span class="linenos">3808</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">atf_gcli_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3809</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">3810</span><span class="c1">// func:command.atf_gcli_proc.atf_gcli.Kill</span>
<span class="linenos">3811</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_gcli_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3812</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">3813</span><span class="c1">// func:command.atf_gcli_proc.atf_gcli.Wait</span>
<span class="linenos">3814</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_gcli_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3815</span><span class="c1">// Start + Wait</span>
<span class="linenos">3816</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">3817</span><span class="c1">// func:command.atf_gcli_proc.atf_gcli.Exec</span>
<span class="linenos">3818</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_gcli_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3819</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">3820</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">3821</span><span class="c1">// func:command.atf_gcli_proc.atf_gcli.ExecX</span>
<span class="linenos">3822</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_gcli_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3823</span><span class="c1">// Call execv()</span>
<span class="linenos">3824</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">3825</span><span class="c1">// func:command.atf_gcli_proc.atf_gcli.Execv</span>
<span class="linenos">3826</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_gcli_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3827</span><span class="c1">// func:command.atf_gcli_proc.atf_gcli.ToCmdline</span>
<span class="linenos">3828</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">atf_gcli_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3829</span><span class="c1">// Form array from the command line</span>
<span class="linenos">3830</span><span class="c1">// func:command.atf_gcli_proc.atf_gcli.ToArgv</span>
<span class="linenos">3831</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_gcli_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3832</span>
<span class="linenos">3833</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">3834</span><span class="c1">// func:command.atf_gcli_proc..Init</span>
<span class="linenos">3835</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_gcli_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3836</span><span class="c1">// func:command.atf_gcli_proc..Uninit</span>
<span class="linenos">3837</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_gcli_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3838</span>
<span class="linenos">3839</span><span class="c1">// --- command.atf_netio</span>
<span class="linenos">3840</span><span class="c1">// access: command.atf_netio_proc.atf_netio (Exec)</span>
<span class="linenos">3841</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_netio</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_netio</span>
<span class="linenos">3842</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">in</span><span class="p">;</span><span class="w">                </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">3843</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">randomize_ports</span><span class="p">;</span><span class="w">   </span><span class="c1">//   true  Randomize port numbers</span>
<span class="linenos">3844</span><span class="w">    </span><span class="n">atf_netio</span><span class="p">();</span>
<span class="linenos">3845</span><span class="p">};</span>
<span class="linenos">3846</span>
<span class="linenos">3847</span><span class="c1">// func:command.atf_netio..ReadFieldMaybe</span>
<span class="linenos">3848</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_netio_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_netio</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3849</span><span class="c1">// Read fields of command::atf_netio from attributes of ascii tuple TUPLE</span>
<span class="linenos">3850</span><span class="c1">// func:command.atf_netio..ReadTupleMaybe</span>
<span class="linenos">3851</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_netio_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_netio</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3852</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">3853</span><span class="c1">// func:command.atf_netio..Init</span>
<span class="linenos">3854</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_netio_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_netio</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3855</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">3856</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">3857</span><span class="c1">// func:command.atf_netio..ToCmdline</span>
<span class="linenos">3858</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">atf_netio_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_netio</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3859</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">3860</span><span class="c1">// cfmt:command.atf_netio.Argv  printfmt:Tuple</span>
<span class="linenos">3861</span><span class="c1">// func:command.atf_netio..PrintArgv</span>
<span class="linenos">3862</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_netio_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_netio</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3863</span><span class="c1">// Used with command lines</span>
<span class="linenos">3864</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">3865</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">3866</span><span class="c1">// func:command.atf_netio..NArgs</span>
<span class="linenos">3867</span><span class="n">i32</span><span class="w">                  </span><span class="nf">atf_netio_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3868</span>
<span class="linenos">3869</span><span class="c1">// --- command.atf_netio_proc</span>
<span class="linenos">3870</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_netio_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_netio_proc: Subprocess: Test driver for netio</span>
<span class="linenos">3871</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">        </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/atf_netio&quot;  path for executable</span>
<span class="linenos">3872</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">atf_netio</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">3873</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">        </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">3874</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">        </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">3875</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">        </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">3876</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">                </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">3877</span><span class="w">    </span><span class="n">i32</span><span class="w">                  </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">3878</span><span class="w">    </span><span class="n">i32</span><span class="w">                  </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">3879</span><span class="w">    </span><span class="n">atf_netio_proc</span><span class="p">();</span>
<span class="linenos">3880</span><span class="w">    </span><span class="o">~</span><span class="n">atf_netio_proc</span><span class="p">();</span>
<span class="linenos">3881</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">3882</span><span class="w">    </span><span class="c1">// reftype Exec of command.atf_netio_proc.atf_netio prohibits copy</span>
<span class="linenos">3883</span><span class="w">    </span><span class="n">atf_netio_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_netio_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">3884</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_netio_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">3885</span><span class="p">};</span>
<span class="linenos">3886</span>
<span class="linenos">3887</span><span class="c1">// Start subprocess</span>
<span class="linenos">3888</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">3889</span><span class="c1">// func:command.atf_netio_proc.atf_netio.Start</span>
<span class="linenos">3890</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_netio_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_netio_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3891</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">3892</span><span class="c1">// func:command.atf_netio_proc.atf_netio.StartRead</span>
<span class="linenos">3893</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">atf_netio_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_netio_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3894</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">3895</span><span class="c1">// func:command.atf_netio_proc.atf_netio.Kill</span>
<span class="linenos">3896</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_netio_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_netio_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3897</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">3898</span><span class="c1">// func:command.atf_netio_proc.atf_netio.Wait</span>
<span class="linenos">3899</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_netio_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_netio_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3900</span><span class="c1">// Start + Wait</span>
<span class="linenos">3901</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">3902</span><span class="c1">// func:command.atf_netio_proc.atf_netio.Exec</span>
<span class="linenos">3903</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_netio_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_netio_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3904</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">3905</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">3906</span><span class="c1">// func:command.atf_netio_proc.atf_netio.ExecX</span>
<span class="linenos">3907</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_netio_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_netio_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3908</span><span class="c1">// Call execv()</span>
<span class="linenos">3909</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">3910</span><span class="c1">// func:command.atf_netio_proc.atf_netio.Execv</span>
<span class="linenos">3911</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_netio_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_netio_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3912</span><span class="c1">// func:command.atf_netio_proc.atf_netio.ToCmdline</span>
<span class="linenos">3913</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">atf_netio_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_netio_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3914</span><span class="c1">// Form array from the command line</span>
<span class="linenos">3915</span><span class="c1">// func:command.atf_netio_proc.atf_netio.ToArgv</span>
<span class="linenos">3916</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_netio_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_netio_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3917</span>
<span class="linenos">3918</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">3919</span><span class="c1">// func:command.atf_netio_proc..Init</span>
<span class="linenos">3920</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_netio_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_netio_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3921</span><span class="c1">// func:command.atf_netio_proc..Uninit</span>
<span class="linenos">3922</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_netio_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_netio_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3923</span>
<span class="linenos">3924</span><span class="c1">// --- command.atf_nrun</span>
<span class="linenos">3925</span><span class="c1">// access: command.atf_nrun_proc.atf_nrun (Exec)</span>
<span class="linenos">3926</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_nrun</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_nrun</span>
<span class="linenos">3927</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">in</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">3928</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">maxjobs</span><span class="p">;</span><span class="w">   </span><span class="c1">//   2  Number of simultaneous jobs</span>
<span class="linenos">3929</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">ncmd</span><span class="p">;</span><span class="w">      </span><span class="c1">//   6</span>
<span class="linenos">3930</span><span class="w">    </span><span class="n">atf_nrun</span><span class="p">();</span>
<span class="linenos">3931</span><span class="p">};</span>
<span class="linenos">3932</span>
<span class="linenos">3933</span><span class="c1">// func:command.atf_nrun..ReadFieldMaybe</span>
<span class="linenos">3934</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_nrun_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_nrun</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3935</span><span class="c1">// Read fields of command::atf_nrun from attributes of ascii tuple TUPLE</span>
<span class="linenos">3936</span><span class="c1">// func:command.atf_nrun..ReadTupleMaybe</span>
<span class="linenos">3937</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_nrun_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_nrun</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3938</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">3939</span><span class="c1">// func:command.atf_nrun..Init</span>
<span class="linenos">3940</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_nrun_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_nrun</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3941</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">3942</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">3943</span><span class="c1">// func:command.atf_nrun..ToCmdline</span>
<span class="linenos">3944</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">atf_nrun_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_nrun</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3945</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">3946</span><span class="c1">// cfmt:command.atf_nrun.Argv  printfmt:Tuple</span>
<span class="linenos">3947</span><span class="c1">// func:command.atf_nrun..PrintArgv</span>
<span class="linenos">3948</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_nrun_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_nrun</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3949</span><span class="c1">// func:command.atf_nrun..GetAnon</span>
<span class="linenos">3950</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">atf_nrun_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_nrun</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3951</span><span class="c1">// Used with command lines</span>
<span class="linenos">3952</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">3953</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">3954</span><span class="c1">// func:command.atf_nrun..NArgs</span>
<span class="linenos">3955</span><span class="n">i32</span><span class="w">                  </span><span class="nf">atf_nrun_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3956</span>
<span class="linenos">3957</span><span class="c1">// --- command.atf_nrun_proc</span>
<span class="linenos">3958</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_nrun_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_nrun_proc: Subprocess: Run N subprocesses in parallel</span>
<span class="linenos">3959</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/atf_nrun&quot;  path for executable</span>
<span class="linenos">3960</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">atf_nrun</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">3961</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">3962</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">3963</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">3964</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">               </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">3965</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">3966</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">3967</span><span class="w">    </span><span class="n">atf_nrun_proc</span><span class="p">();</span>
<span class="linenos">3968</span><span class="w">    </span><span class="o">~</span><span class="n">atf_nrun_proc</span><span class="p">();</span>
<span class="linenos">3969</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">3970</span><span class="w">    </span><span class="c1">// reftype Exec of command.atf_nrun_proc.atf_nrun prohibits copy</span>
<span class="linenos">3971</span><span class="w">    </span><span class="n">atf_nrun_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_nrun_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">3972</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_nrun_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">3973</span><span class="p">};</span>
<span class="linenos">3974</span>
<span class="linenos">3975</span><span class="c1">// Start subprocess</span>
<span class="linenos">3976</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">3977</span><span class="c1">// func:command.atf_nrun_proc.atf_nrun.Start</span>
<span class="linenos">3978</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_nrun_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_nrun_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3979</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">3980</span><span class="c1">// func:command.atf_nrun_proc.atf_nrun.StartRead</span>
<span class="linenos">3981</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">atf_nrun_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_nrun_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3982</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">3983</span><span class="c1">// func:command.atf_nrun_proc.atf_nrun.Kill</span>
<span class="linenos">3984</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_nrun_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_nrun_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3985</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">3986</span><span class="c1">// func:command.atf_nrun_proc.atf_nrun.Wait</span>
<span class="linenos">3987</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_nrun_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_nrun_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3988</span><span class="c1">// Start + Wait</span>
<span class="linenos">3989</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">3990</span><span class="c1">// func:command.atf_nrun_proc.atf_nrun.Exec</span>
<span class="linenos">3991</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_nrun_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_nrun_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">3992</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">3993</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">3994</span><span class="c1">// func:command.atf_nrun_proc.atf_nrun.ExecX</span>
<span class="linenos">3995</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_nrun_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_nrun_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">3996</span><span class="c1">// Call execv()</span>
<span class="linenos">3997</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">3998</span><span class="c1">// func:command.atf_nrun_proc.atf_nrun.Execv</span>
<span class="linenos">3999</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_nrun_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_nrun_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4000</span><span class="c1">// func:command.atf_nrun_proc.atf_nrun.ToCmdline</span>
<span class="linenos">4001</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">atf_nrun_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_nrun_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4002</span><span class="c1">// Form array from the command line</span>
<span class="linenos">4003</span><span class="c1">// func:command.atf_nrun_proc.atf_nrun.ToArgv</span>
<span class="linenos">4004</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_nrun_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_nrun_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4005</span>
<span class="linenos">4006</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">4007</span><span class="c1">// func:command.atf_nrun_proc..Init</span>
<span class="linenos">4008</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_nrun_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_nrun_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4009</span><span class="c1">// func:command.atf_nrun_proc..Uninit</span>
<span class="linenos">4010</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_nrun_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_nrun_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4011</span>
<span class="linenos">4012</span><span class="c1">// --- command.atf_unit</span>
<span class="linenos">4013</span><span class="c1">// access: command.atf_unit_proc.atf_unit (Exec)</span>
<span class="linenos">4014</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_unit</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_unit</span>
<span class="linenos">4015</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">unittest</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;%&quot;  Sql Regx of atfdb::Unittest</span>
<span class="linenos">4016</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">nofork</span><span class="p">;</span><span class="w">            </span><span class="c1">//   false  Do not fork for destructive tests</span>
<span class="linenos">4017</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">arg</span><span class="p">;</span><span class="w">               </span><span class="c1">//   &quot;&quot;  Argument to pass to tool</span>
<span class="linenos">4018</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">data_dir</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;data&quot;  Data directory</span>
<span class="linenos">4019</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">mdbg</span><span class="p">;</span><span class="w">              </span><span class="c1">//   0  Break at testcase in debugger</span>
<span class="linenos">4020</span><span class="w">    </span><span class="kt">double</span><span class="w">           </span><span class="n">perf_secs</span><span class="p">;</span><span class="w">         </span><span class="c1">//   1.0  # Of seconds to run perf tests for</span>
<span class="linenos">4021</span><span class="w">    </span><span class="n">u32</span><span class="w">              </span><span class="n">pertest_timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   900  Max runtime of any individual unit test</span>
<span class="linenos">4022</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">report</span><span class="p">;</span><span class="w">            </span><span class="c1">//   true  Print final report</span>
<span class="linenos">4023</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">capture</span><span class="p">;</span><span class="w">           </span><span class="c1">//   false  Re-capture test results</span>
<span class="linenos">4024</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">check_untracked</span><span class="p">;</span><span class="w">   </span><span class="c1">//   true  Check for untracked file before allowing test to run</span>
<span class="linenos">4025</span><span class="w">    </span><span class="n">atf_unit</span><span class="p">();</span>
<span class="linenos">4026</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">4027</span><span class="w">    </span><span class="c1">// reftype Regx of command.atf_unit.unittest prohibits copy</span>
<span class="linenos">4028</span><span class="w">    </span><span class="n">atf_unit</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_unit</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">4029</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_unit</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">4030</span><span class="p">};</span>
<span class="linenos">4031</span>
<span class="linenos">4032</span><span class="c1">// Print back to string</span>
<span class="linenos">4033</span><span class="c1">// func:command.atf_unit.unittest.Print</span>
<span class="linenos">4034</span><span class="kt">void</span><span class="w">                 </span><span class="nf">unittest_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_unit</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4035</span><span class="c1">// Read Regx from string</span>
<span class="linenos">4036</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">4037</span><span class="c1">// func:command.atf_unit.unittest.ReadStrptrMaybe</span>
<span class="linenos">4038</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">unittest_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_unit</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4039</span>
<span class="linenos">4040</span><span class="c1">// func:command.atf_unit..ReadFieldMaybe</span>
<span class="linenos">4041</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_unit_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_unit</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4042</span><span class="c1">// Read fields of command::atf_unit from attributes of ascii tuple TUPLE</span>
<span class="linenos">4043</span><span class="c1">// func:command.atf_unit..ReadTupleMaybe</span>
<span class="linenos">4044</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_unit_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_unit</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4045</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">4046</span><span class="c1">// func:command.atf_unit..Init</span>
<span class="linenos">4047</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_unit_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_unit</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4048</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">4049</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">4050</span><span class="c1">// func:command.atf_unit..ToCmdline</span>
<span class="linenos">4051</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">atf_unit_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_unit</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4052</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">4053</span><span class="c1">// cfmt:command.atf_unit.Argv  printfmt:Auto</span>
<span class="linenos">4054</span><span class="c1">// func:command.atf_unit..PrintArgv</span>
<span class="linenos">4055</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_unit_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_unit</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4056</span><span class="c1">// func:command.atf_unit..GetAnon</span>
<span class="linenos">4057</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">atf_unit_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_unit</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4058</span><span class="c1">// Used with command lines</span>
<span class="linenos">4059</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">4060</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">4061</span><span class="c1">// func:command.atf_unit..NArgs</span>
<span class="linenos">4062</span><span class="n">i32</span><span class="w">                  </span><span class="nf">atf_unit_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4063</span>
<span class="linenos">4064</span><span class="c1">// --- command.atf_unit_proc</span>
<span class="linenos">4065</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_unit_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_unit_proc: Subprocess: Unit tests (see unittest table)</span>
<span class="linenos">4066</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/atf_unit&quot;  path for executable</span>
<span class="linenos">4067</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">atf_unit</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">4068</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">4069</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">4070</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">4071</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">               </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">4072</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">4073</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">4074</span><span class="w">    </span><span class="n">atf_unit_proc</span><span class="p">();</span>
<span class="linenos">4075</span><span class="w">    </span><span class="o">~</span><span class="n">atf_unit_proc</span><span class="p">();</span>
<span class="linenos">4076</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">4077</span><span class="w">    </span><span class="c1">// reftype Exec of command.atf_unit_proc.atf_unit prohibits copy</span>
<span class="linenos">4078</span><span class="w">    </span><span class="c1">// value field command.atf_unit_proc.cmd is not copiable</span>
<span class="linenos">4079</span><span class="w">    </span><span class="n">atf_unit_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_unit_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">4080</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_unit_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">4081</span><span class="p">};</span>
<span class="linenos">4082</span>
<span class="linenos">4083</span><span class="c1">// Start subprocess</span>
<span class="linenos">4084</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">4085</span><span class="c1">// func:command.atf_unit_proc.atf_unit.Start</span>
<span class="linenos">4086</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_unit_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_unit_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4087</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">4088</span><span class="c1">// func:command.atf_unit_proc.atf_unit.StartRead</span>
<span class="linenos">4089</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">atf_unit_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_unit_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4090</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">4091</span><span class="c1">// func:command.atf_unit_proc.atf_unit.Kill</span>
<span class="linenos">4092</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_unit_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_unit_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4093</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">4094</span><span class="c1">// func:command.atf_unit_proc.atf_unit.Wait</span>
<span class="linenos">4095</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_unit_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_unit_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4096</span><span class="c1">// Start + Wait</span>
<span class="linenos">4097</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">4098</span><span class="c1">// func:command.atf_unit_proc.atf_unit.Exec</span>
<span class="linenos">4099</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_unit_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_unit_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4100</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">4101</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">4102</span><span class="c1">// func:command.atf_unit_proc.atf_unit.ExecX</span>
<span class="linenos">4103</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_unit_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_unit_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4104</span><span class="c1">// Call execv()</span>
<span class="linenos">4105</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">4106</span><span class="c1">// func:command.atf_unit_proc.atf_unit.Execv</span>
<span class="linenos">4107</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_unit_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_unit_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4108</span><span class="c1">// func:command.atf_unit_proc.atf_unit.ToCmdline</span>
<span class="linenos">4109</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">atf_unit_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_unit_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4110</span><span class="c1">// Form array from the command line</span>
<span class="linenos">4111</span><span class="c1">// func:command.atf_unit_proc.atf_unit.ToArgv</span>
<span class="linenos">4112</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_unit_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_unit_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4113</span>
<span class="linenos">4114</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">4115</span><span class="c1">// func:command.atf_unit_proc..Init</span>
<span class="linenos">4116</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_unit_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_unit_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4117</span><span class="c1">// func:command.atf_unit_proc..Uninit</span>
<span class="linenos">4118</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_unit_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_unit_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4119</span>
<span class="linenos">4120</span><span class="c1">// --- command.atf_wcli</span>
<span class="linenos">4121</span><span class="c1">// access: command.atf_wcli_proc.atf_wcli (Exec)</span>
<span class="linenos">4122</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_wcli</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_wcli</span>
<span class="linenos">4123</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">capture</span><span class="p">;</span><span class="w">                    </span><span class="c1">//   false  Capture test command output into gverbtout</span>
<span class="linenos">4124</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">     </span><span class="n">wtblacttst</span><span class="p">;</span><span class="w">                 </span><span class="c1">//   &quot;&quot;  Sql Regx of wclidb::Wtblacttst</span>
<span class="linenos">4125</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">in</span><span class="p">;</span><span class="w">                         </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">4126</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">   </span><span class="n">wiki_envnode</span><span class="p">;</span><span class="w">               </span><span class="c1">//   &quot;dev.wiki-qa1-nyc0&quot;  wiki envnode to do the tests</span>
<span class="linenos">4127</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">wiki_kill</span><span class="p">;</span><span class="w">                  </span><span class="c1">//   false  initialize wiki for tests from scratch</span>
<span class="linenos">4128</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">wiki_start</span><span class="p">;</span><span class="w">                 </span><span class="c1">//   false  initialize wiki for tests from scratch</span>
<span class="linenos">4129</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">wiki_update</span><span class="p">;</span><span class="w">                </span><span class="c1">//   false  set wiki site, server, image etc... - see atf_wcli -wiki_update_help</span>
<span class="linenos">4130</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">wiki_update_help</span><span class="p">;</span><span class="w">           </span><span class="c1">//   false  describes the settings for wiki_update_fields</span>
<span class="linenos">4131</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">     </span><span class="n">wiki_update_fields_elems</span><span class="p">;</span><span class="w">   </span><span class="c1">// pointer to elements</span>
<span class="linenos">4132</span><span class="w">    </span><span class="n">u32</span><span class="w">                </span><span class="n">wiki_update_fields_n</span><span class="p">;</span><span class="w">       </span><span class="c1">// number of elements in array</span>
<span class="linenos">4133</span><span class="w">    </span><span class="n">u32</span><span class="w">                </span><span class="n">wiki_update_fields_max</span><span class="p">;</span><span class="w">     </span><span class="c1">// max. capacity of array before realloc</span>
<span class="linenos">4134</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">wiki_clean_start</span><span class="p">;</span><span class="w">           </span><span class="c1">//   false  initialize wiki for tests from scratch and set all params - calls atf_wcli...</span>
<span class="linenos">4135</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">authdir_dflt</span><span class="p">;</span><span class="w">               </span><span class="c1">//   false  set wiki bot for the wcli default dir</span>
<span class="linenos">4136</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">dry_run</span><span class="p">;</span><span class="w">                    </span><span class="c1">//   false  Print actions, do not perform</span>
<span class="linenos">4137</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">   </span><span class="n">wikisite</span><span class="p">;</span><span class="w">                   </span><span class="c1">//   &quot;Openacr&quot;  Operate on this wikisite</span>
<span class="linenos">4138</span><span class="w">    </span><span class="n">atf_wcli</span><span class="p">();</span>
<span class="linenos">4139</span><span class="w">    </span><span class="o">~</span><span class="n">atf_wcli</span><span class="p">();</span>
<span class="linenos">4140</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">4141</span><span class="w">    </span><span class="c1">// reftype Regx of command.atf_wcli.wtblacttst prohibits copy</span>
<span class="linenos">4142</span><span class="w">    </span><span class="c1">// reftype Tary of command.atf_wcli.wiki_update_fields prohibits copy</span>
<span class="linenos">4143</span><span class="w">    </span><span class="n">atf_wcli</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">4144</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">4145</span><span class="p">};</span>
<span class="linenos">4146</span>
<span class="linenos">4147</span><span class="c1">// Print back to string</span>
<span class="linenos">4148</span><span class="c1">// func:command.atf_wcli.wtblacttst.Print</span>
<span class="linenos">4149</span><span class="kt">void</span><span class="w">                 </span><span class="nf">wtblacttst_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4150</span><span class="c1">// Read Regx from string</span>
<span class="linenos">4151</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">4152</span><span class="c1">// func:command.atf_wcli.wtblacttst.ReadStrptrMaybe</span>
<span class="linenos">4153</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">wtblacttst_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4154</span>
<span class="linenos">4155</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">4156</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">4157</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">4158</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.Addary</span>
<span class="linenos">4159</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">wiki_update_fields_Addary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4160</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">4161</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">4162</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.Alloc</span>
<span class="linenos">4163</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">wiki_update_fields_Alloc</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4164</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">4165</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">4166</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.AllocAt</span>
<span class="linenos">4167</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">wiki_update_fields_AllocAt</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4168</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">4169</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.AllocN</span>
<span class="linenos">4170</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">wiki_update_fields_AllocN</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4171</span><span class="c1">// Return true if index is empty</span>
<span class="linenos">4172</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.EmptyQ</span>
<span class="linenos">4173</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">wiki_update_fields_EmptyQ</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4174</span><span class="c1">// Look up row by row id. Return NULL if out of range</span>
<span class="linenos">4175</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.Find</span>
<span class="linenos">4176</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">wiki_update_fields_Find</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4177</span><span class="c1">// Return array pointer by value</span>
<span class="linenos">4178</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.Getary</span>
<span class="linenos">4179</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">wiki_update_fields_Getary</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4180</span><span class="c1">// Return pointer to last element of array, or NULL if array is empty</span>
<span class="linenos">4181</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.Last</span>
<span class="linenos">4182</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">wiki_update_fields_Last</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">4183</span><span class="c1">// Return max. number of items in the array</span>
<span class="linenos">4184</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.Max</span>
<span class="linenos">4185</span><span class="n">i32</span><span class="w">                  </span><span class="nf">wiki_update_fields_Max</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4186</span><span class="c1">// Return number of items in the array</span>
<span class="linenos">4187</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.N</span>
<span class="linenos">4188</span><span class="n">i32</span><span class="w">                  </span><span class="nf">wiki_update_fields_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">4189</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">4190</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.Remove</span>
<span class="linenos">4191</span><span class="kt">void</span><span class="w">                 </span><span class="nf">wiki_update_fields_Remove</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4192</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.RemoveAll</span>
<span class="linenos">4193</span><span class="kt">void</span><span class="w">                 </span><span class="nf">wiki_update_fields_RemoveAll</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4194</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">4195</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.RemoveLast</span>
<span class="linenos">4196</span><span class="kt">void</span><span class="w">                 </span><span class="nf">wiki_update_fields_RemoveLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4197</span><span class="c1">// Make sure N *more* elements will fit in array. Process dies if out of memory</span>
<span class="linenos">4198</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.Reserve</span>
<span class="linenos">4199</span><span class="kt">void</span><span class="w">                 </span><span class="nf">wiki_update_fields_Reserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4200</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">4201</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.AbsReserve</span>
<span class="linenos">4202</span><span class="kt">void</span><span class="w">                 </span><span class="nf">wiki_update_fields_AbsReserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4203</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">4204</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.Setary</span>
<span class="linenos">4205</span><span class="kt">void</span><span class="w">                 </span><span class="nf">wiki_update_fields_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4206</span><span class="c1">// Copy specified array into wiki_update_fields, discarding previous contents.</span>
<span class="linenos">4207</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">4208</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.Setary2</span>
<span class="linenos">4209</span><span class="kt">void</span><span class="w">                 </span><span class="nf">wiki_update_fields_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4210</span><span class="c1">// &#39;quick&#39; Access row by row id. No bounds checking.</span>
<span class="linenos">4211</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.qFind</span>
<span class="linenos">4212</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">wiki_update_fields_qFind</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4213</span><span class="c1">// Return reference to last element of array. No bounds checking</span>
<span class="linenos">4214</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.qLast</span>
<span class="linenos">4215</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">wiki_update_fields_qLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4216</span><span class="c1">// Return row id of specified element</span>
<span class="linenos">4217</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.rowid_Get</span>
<span class="linenos">4218</span><span class="n">u64</span><span class="w">                  </span><span class="nf">wiki_update_fields_rowid_Get</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4219</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">4220</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.AllocNVal</span>
<span class="linenos">4221</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">wiki_update_fields_AllocNVal</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4222</span><span class="c1">// A single element is read from input string and appended to the array.</span>
<span class="linenos">4223</span><span class="c1">// If the string contains an error, the array is untouched.</span>
<span class="linenos">4224</span><span class="c1">// Function returns success value.</span>
<span class="linenos">4225</span><span class="c1">// func:command.atf_wcli.wiki_update_fields.ReadStrptrMaybe</span>
<span class="linenos">4226</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">wiki_update_fields_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4227</span>
<span class="linenos">4228</span><span class="c1">// proceed to next item</span>
<span class="linenos">4229</span><span class="c1">// func:command.atf_wcli.wiki_update_fields_curs.Next</span>
<span class="linenos">4230</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_wcli_wiki_update_fields_curs_Next</span><span class="p">(</span><span class="n">atf_wcli_wiki_update_fields_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4231</span><span class="c1">// func:command.atf_wcli.wiki_update_fields_curs.Reset</span>
<span class="linenos">4232</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_wcli_wiki_update_fields_curs_Reset</span><span class="p">(</span><span class="n">atf_wcli_wiki_update_fields_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4233</span><span class="c1">// cursor points to valid item</span>
<span class="linenos">4234</span><span class="c1">// func:command.atf_wcli.wiki_update_fields_curs.ValidQ</span>
<span class="linenos">4235</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_wcli_wiki_update_fields_curs_ValidQ</span><span class="p">(</span><span class="n">atf_wcli_wiki_update_fields_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4236</span><span class="c1">// item access</span>
<span class="linenos">4237</span><span class="c1">// func:command.atf_wcli.wiki_update_fields_curs.Access</span>
<span class="linenos">4238</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">atf_wcli_wiki_update_fields_curs_Access</span><span class="p">(</span><span class="n">atf_wcli_wiki_update_fields_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4239</span><span class="c1">// func:command.atf_wcli..ReadFieldMaybe</span>
<span class="linenos">4240</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_wcli_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4241</span><span class="c1">// Read fields of command::atf_wcli from attributes of ascii tuple TUPLE</span>
<span class="linenos">4242</span><span class="c1">// func:command.atf_wcli..ReadTupleMaybe</span>
<span class="linenos">4243</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_wcli_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4244</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">4245</span><span class="c1">// func:command.atf_wcli..Init</span>
<span class="linenos">4246</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_wcli_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4247</span><span class="c1">// func:command.atf_wcli..Uninit</span>
<span class="linenos">4248</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_wcli_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4249</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">4250</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">4251</span><span class="c1">// func:command.atf_wcli..ToCmdline</span>
<span class="linenos">4252</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">atf_wcli_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4253</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">4254</span><span class="c1">// cfmt:command.atf_wcli.Argv  printfmt:Tuple</span>
<span class="linenos">4255</span><span class="c1">// func:command.atf_wcli..PrintArgv</span>
<span class="linenos">4256</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_wcli_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4257</span><span class="c1">// func:command.atf_wcli..GetAnon</span>
<span class="linenos">4258</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">atf_wcli_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4259</span><span class="c1">// Used with command lines</span>
<span class="linenos">4260</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">4261</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">4262</span><span class="c1">// func:command.atf_wcli..NArgs</span>
<span class="linenos">4263</span><span class="n">i32</span><span class="w">                  </span><span class="nf">atf_wcli_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4264</span>
<span class="linenos">4265</span><span class="c1">// --- command.atf_wcli_proc</span>
<span class="linenos">4266</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_wcli_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_wcli_proc: Subprocess: wiki management and test harness for wcli tool</span>
<span class="linenos">4267</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/atf_wcli&quot;  path for executable</span>
<span class="linenos">4268</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">4269</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">4270</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">4271</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">4272</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">               </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">4273</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">4274</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">4275</span><span class="w">    </span><span class="n">atf_wcli_proc</span><span class="p">();</span>
<span class="linenos">4276</span><span class="w">    </span><span class="o">~</span><span class="n">atf_wcli_proc</span><span class="p">();</span>
<span class="linenos">4277</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">4278</span><span class="w">    </span><span class="c1">// reftype Exec of command.atf_wcli_proc.atf_wcli prohibits copy</span>
<span class="linenos">4279</span><span class="w">    </span><span class="c1">// value field command.atf_wcli_proc.cmd is not copiable</span>
<span class="linenos">4280</span><span class="w">    </span><span class="n">atf_wcli_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_wcli_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">4281</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_wcli_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">4282</span><span class="p">};</span>
<span class="linenos">4283</span>
<span class="linenos">4284</span><span class="c1">// Start subprocess</span>
<span class="linenos">4285</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">4286</span><span class="c1">// func:command.atf_wcli_proc.atf_wcli.Start</span>
<span class="linenos">4287</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_wcli_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4288</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">4289</span><span class="c1">// func:command.atf_wcli_proc.atf_wcli.StartRead</span>
<span class="linenos">4290</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">atf_wcli_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4291</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">4292</span><span class="c1">// func:command.atf_wcli_proc.atf_wcli.Kill</span>
<span class="linenos">4293</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_wcli_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4294</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">4295</span><span class="c1">// func:command.atf_wcli_proc.atf_wcli.Wait</span>
<span class="linenos">4296</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_wcli_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4297</span><span class="c1">// Start + Wait</span>
<span class="linenos">4298</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">4299</span><span class="c1">// func:command.atf_wcli_proc.atf_wcli.Exec</span>
<span class="linenos">4300</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_wcli_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4301</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">4302</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">4303</span><span class="c1">// func:command.atf_wcli_proc.atf_wcli.ExecX</span>
<span class="linenos">4304</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_wcli_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4305</span><span class="c1">// Call execv()</span>
<span class="linenos">4306</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">4307</span><span class="c1">// func:command.atf_wcli_proc.atf_wcli.Execv</span>
<span class="linenos">4308</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_wcli_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4309</span><span class="c1">// func:command.atf_wcli_proc.atf_wcli.ToCmdline</span>
<span class="linenos">4310</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">atf_wcli_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4311</span><span class="c1">// Form array from the command line</span>
<span class="linenos">4312</span><span class="c1">// func:command.atf_wcli_proc.atf_wcli.ToArgv</span>
<span class="linenos">4313</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_wcli_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4314</span>
<span class="linenos">4315</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">4316</span><span class="c1">// func:command.atf_wcli_proc..Init</span>
<span class="linenos">4317</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_wcli_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4318</span><span class="c1">// func:command.atf_wcli_proc..Uninit</span>
<span class="linenos">4319</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_wcli_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4320</span>
<span class="linenos">4321</span><span class="c1">// --- command.atf_ws</span>
<span class="linenos">4322</span><span class="c1">// access: command.atf_ws_proc.atf_ws (Exec)</span>
<span class="linenos">4323</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_ws</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_ws</span>
<span class="linenos">4324</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">in</span><span class="p">;</span><span class="w">                </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">4325</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">randomize_ports</span><span class="p">;</span><span class="w">   </span><span class="c1">//   true  Randomize port numbers</span>
<span class="linenos">4326</span><span class="w">    </span><span class="n">atf_ws</span><span class="p">();</span>
<span class="linenos">4327</span><span class="p">};</span>
<span class="linenos">4328</span>
<span class="linenos">4329</span><span class="c1">// func:command.atf_ws..ReadFieldMaybe</span>
<span class="linenos">4330</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_ws_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ws</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4331</span><span class="c1">// Read fields of command::atf_ws from attributes of ascii tuple TUPLE</span>
<span class="linenos">4332</span><span class="c1">// func:command.atf_ws..ReadTupleMaybe</span>
<span class="linenos">4333</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">atf_ws_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ws</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4334</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">4335</span><span class="c1">// func:command.atf_ws..Init</span>
<span class="linenos">4336</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_ws_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ws</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4337</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">4338</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">4339</span><span class="c1">// func:command.atf_ws..ToCmdline</span>
<span class="linenos">4340</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">atf_ws_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ws</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4341</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">4342</span><span class="c1">// cfmt:command.atf_ws.Argv  printfmt:Tuple</span>
<span class="linenos">4343</span><span class="c1">// func:command.atf_ws..PrintArgv</span>
<span class="linenos">4344</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_ws_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ws</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4345</span><span class="c1">// Used with command lines</span>
<span class="linenos">4346</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">4347</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">4348</span><span class="c1">// func:command.atf_ws..NArgs</span>
<span class="linenos">4349</span><span class="n">i32</span><span class="w">                  </span><span class="nf">atf_ws_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4350</span>
<span class="linenos">4351</span><span class="c1">// --- command.atf_ws_proc</span>
<span class="linenos">4352</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_ws_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.atf_ws_proc: Subprocess: Component test driver for lib_ws</span>
<span class="linenos">4353</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/atf_ws&quot;  path for executable</span>
<span class="linenos">4354</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">atf_ws</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">4355</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">4356</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">4357</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">4358</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">             </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">4359</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">4360</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">4361</span><span class="w">    </span><span class="n">atf_ws_proc</span><span class="p">();</span>
<span class="linenos">4362</span><span class="w">    </span><span class="o">~</span><span class="n">atf_ws_proc</span><span class="p">();</span>
<span class="linenos">4363</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">4364</span><span class="w">    </span><span class="c1">// reftype Exec of command.atf_ws_proc.atf_ws prohibits copy</span>
<span class="linenos">4365</span><span class="w">    </span><span class="n">atf_ws_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_ws_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">4366</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">atf_ws_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">4367</span><span class="p">};</span>
<span class="linenos">4368</span>
<span class="linenos">4369</span><span class="c1">// Start subprocess</span>
<span class="linenos">4370</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">4371</span><span class="c1">// func:command.atf_ws_proc.atf_ws.Start</span>
<span class="linenos">4372</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_ws_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4373</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">4374</span><span class="c1">// func:command.atf_ws_proc.atf_ws.StartRead</span>
<span class="linenos">4375</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">atf_ws_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4376</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">4377</span><span class="c1">// func:command.atf_ws_proc.atf_ws.Kill</span>
<span class="linenos">4378</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_ws_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4379</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">4380</span><span class="c1">// func:command.atf_ws_proc.atf_ws.Wait</span>
<span class="linenos">4381</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_ws_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4382</span><span class="c1">// Start + Wait</span>
<span class="linenos">4383</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">4384</span><span class="c1">// func:command.atf_ws_proc.atf_ws.Exec</span>
<span class="linenos">4385</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_ws_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4386</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">4387</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">4388</span><span class="c1">// func:command.atf_ws_proc.atf_ws.ExecX</span>
<span class="linenos">4389</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_ws_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4390</span><span class="c1">// Call execv()</span>
<span class="linenos">4391</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">4392</span><span class="c1">// func:command.atf_ws_proc.atf_ws.Execv</span>
<span class="linenos">4393</span><span class="kt">int</span><span class="w">                  </span><span class="nf">atf_ws_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4394</span><span class="c1">// func:command.atf_ws_proc.atf_ws.ToCmdline</span>
<span class="linenos">4395</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">atf_ws_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4396</span><span class="c1">// Form array from the command line</span>
<span class="linenos">4397</span><span class="c1">// func:command.atf_ws_proc.atf_ws.ToArgv</span>
<span class="linenos">4398</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_ws_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4399</span>
<span class="linenos">4400</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">4401</span><span class="c1">// func:command.atf_ws_proc..Init</span>
<span class="linenos">4402</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_ws_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4403</span><span class="c1">// func:command.atf_ws_proc..Uninit</span>
<span class="linenos">4404</span><span class="kt">void</span><span class="w">                 </span><span class="nf">atf_ws_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">atf_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4405</span>
<span class="linenos">4406</span><span class="c1">// --- command.bash</span>
<span class="linenos">4407</span><span class="c1">// access: command.bash_proc.bash (Exec)</span>
<span class="linenos">4408</span><span class="k">struct</span><span class="w"> </span><span class="nc">bash</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.bash</span>
<span class="linenos">4409</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">c</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;&quot;  Shell command to execute</span>
<span class="linenos">4410</span><span class="w">    </span><span class="n">bash</span><span class="p">();</span>
<span class="linenos">4411</span><span class="p">};</span>
<span class="linenos">4412</span>
<span class="linenos">4413</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">4414</span><span class="c1">// func:command.bash..Init</span>
<span class="linenos">4415</span><span class="kt">void</span><span class="w">                 </span><span class="nf">bash_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4416</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">4417</span><span class="c1">// cfmt:command.bash.ArgvGnu  printfmt:Auto</span>
<span class="linenos">4418</span><span class="c1">// func:command.bash..PrintArgv</span>
<span class="linenos">4419</span><span class="kt">void</span><span class="w">                 </span><span class="nf">bash_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4420</span>
<span class="linenos">4421</span><span class="c1">// --- command.bash2html</span>
<span class="linenos">4422</span><span class="c1">// access: command.bash2html_proc.bash2html (Exec)</span>
<span class="linenos">4423</span><span class="k">struct</span><span class="w"> </span><span class="nc">bash2html</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.bash2html</span>
<span class="linenos">4424</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">in</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">4425</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">test</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  Produce Test Output</span>
<span class="linenos">4426</span><span class="w">    </span><span class="n">bash2html</span><span class="p">();</span>
<span class="linenos">4427</span><span class="p">};</span>
<span class="linenos">4428</span>
<span class="linenos">4429</span><span class="c1">// func:command.bash2html..ReadFieldMaybe</span>
<span class="linenos">4430</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">bash2html_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash2html</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4431</span><span class="c1">// Read fields of command::bash2html from attributes of ascii tuple TUPLE</span>
<span class="linenos">4432</span><span class="c1">// func:command.bash2html..ReadTupleMaybe</span>
<span class="linenos">4433</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">bash2html_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash2html</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4434</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">4435</span><span class="c1">// func:command.bash2html..Init</span>
<span class="linenos">4436</span><span class="kt">void</span><span class="w">                 </span><span class="nf">bash2html_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash2html</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4437</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">4438</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">4439</span><span class="c1">// func:command.bash2html..ToCmdline</span>
<span class="linenos">4440</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">bash2html_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash2html</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4441</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">4442</span><span class="c1">// cfmt:command.bash2html.Argv  printfmt:Tuple</span>
<span class="linenos">4443</span><span class="c1">// func:command.bash2html..PrintArgv</span>
<span class="linenos">4444</span><span class="kt">void</span><span class="w">                 </span><span class="nf">bash2html_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash2html</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4445</span><span class="c1">// Used with command lines</span>
<span class="linenos">4446</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">4447</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">4448</span><span class="c1">// func:command.bash2html..NArgs</span>
<span class="linenos">4449</span><span class="n">i32</span><span class="w">                  </span><span class="nf">bash2html_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4450</span>
<span class="linenos">4451</span><span class="c1">// --- command.bash2html_proc</span>
<span class="linenos">4452</span><span class="k">struct</span><span class="w"> </span><span class="nc">bash2html_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.bash2html_proc: Subprocess: Convert bash output and colours to html</span>
<span class="linenos">4453</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">        </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/bash2html&quot;  path for executable</span>
<span class="linenos">4454</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">bash2html</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">4455</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">        </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">4456</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">        </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">4457</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">        </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">4458</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">                </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">4459</span><span class="w">    </span><span class="n">i32</span><span class="w">                  </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">4460</span><span class="w">    </span><span class="n">i32</span><span class="w">                  </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">4461</span><span class="w">    </span><span class="n">bash2html_proc</span><span class="p">();</span>
<span class="linenos">4462</span><span class="w">    </span><span class="o">~</span><span class="n">bash2html_proc</span><span class="p">();</span>
<span class="linenos">4463</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">4464</span><span class="w">    </span><span class="c1">// reftype Exec of command.bash2html_proc.bash2html prohibits copy</span>
<span class="linenos">4465</span><span class="w">    </span><span class="n">bash2html_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">bash2html_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">4466</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">bash2html_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">4467</span><span class="p">};</span>
<span class="linenos">4468</span>
<span class="linenos">4469</span><span class="c1">// Start subprocess</span>
<span class="linenos">4470</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">4471</span><span class="c1">// func:command.bash2html_proc.bash2html.Start</span>
<span class="linenos">4472</span><span class="kt">int</span><span class="w">                  </span><span class="nf">bash2html_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash2html_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4473</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">4474</span><span class="c1">// func:command.bash2html_proc.bash2html.StartRead</span>
<span class="linenos">4475</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">bash2html_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash2html_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4476</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">4477</span><span class="c1">// func:command.bash2html_proc.bash2html.Kill</span>
<span class="linenos">4478</span><span class="kt">void</span><span class="w">                 </span><span class="nf">bash2html_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash2html_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4479</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">4480</span><span class="c1">// func:command.bash2html_proc.bash2html.Wait</span>
<span class="linenos">4481</span><span class="kt">void</span><span class="w">                 </span><span class="nf">bash2html_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash2html_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4482</span><span class="c1">// Start + Wait</span>
<span class="linenos">4483</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">4484</span><span class="c1">// func:command.bash2html_proc.bash2html.Exec</span>
<span class="linenos">4485</span><span class="kt">int</span><span class="w">                  </span><span class="nf">bash2html_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash2html_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4486</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">4487</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">4488</span><span class="c1">// func:command.bash2html_proc.bash2html.ExecX</span>
<span class="linenos">4489</span><span class="kt">void</span><span class="w">                 </span><span class="nf">bash2html_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash2html_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4490</span><span class="c1">// Call execv()</span>
<span class="linenos">4491</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">4492</span><span class="c1">// func:command.bash2html_proc.bash2html.Execv</span>
<span class="linenos">4493</span><span class="kt">int</span><span class="w">                  </span><span class="nf">bash2html_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash2html_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4494</span><span class="c1">// func:command.bash2html_proc.bash2html.ToCmdline</span>
<span class="linenos">4495</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">bash2html_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash2html_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4496</span><span class="c1">// Form array from the command line</span>
<span class="linenos">4497</span><span class="c1">// func:command.bash2html_proc.bash2html.ToArgv</span>
<span class="linenos">4498</span><span class="kt">void</span><span class="w">                 </span><span class="nf">bash2html_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash2html_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4499</span>
<span class="linenos">4500</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">4501</span><span class="c1">// func:command.bash2html_proc..Init</span>
<span class="linenos">4502</span><span class="kt">void</span><span class="w">                 </span><span class="nf">bash2html_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash2html_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4503</span><span class="c1">// func:command.bash2html_proc..Uninit</span>
<span class="linenos">4504</span><span class="kt">void</span><span class="w">                 </span><span class="nf">bash2html_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash2html_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4505</span>
<span class="linenos">4506</span><span class="c1">// --- command.bash_proc</span>
<span class="linenos">4507</span><span class="k">struct</span><span class="w"> </span><span class="nc">bash_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.bash_proc</span>
<span class="linenos">4508</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bash&quot;  path for executable</span>
<span class="linenos">4509</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">bash</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">4510</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">4511</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">4512</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">4513</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">           </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">4514</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">4515</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">4516</span><span class="w">    </span><span class="n">bash_proc</span><span class="p">();</span>
<span class="linenos">4517</span><span class="w">    </span><span class="o">~</span><span class="n">bash_proc</span><span class="p">();</span>
<span class="linenos">4518</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">4519</span><span class="w">    </span><span class="c1">// reftype Exec of command.bash_proc.bash prohibits copy</span>
<span class="linenos">4520</span><span class="w">    </span><span class="n">bash_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">bash_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">4521</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">bash_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">4522</span><span class="p">};</span>
<span class="linenos">4523</span>
<span class="linenos">4524</span><span class="c1">// Start subprocess</span>
<span class="linenos">4525</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">4526</span><span class="c1">// func:command.bash_proc.bash.Start</span>
<span class="linenos">4527</span><span class="kt">int</span><span class="w">                  </span><span class="nf">bash_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4528</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">4529</span><span class="c1">// func:command.bash_proc.bash.StartRead</span>
<span class="linenos">4530</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">bash_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4531</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">4532</span><span class="c1">// func:command.bash_proc.bash.Kill</span>
<span class="linenos">4533</span><span class="kt">void</span><span class="w">                 </span><span class="nf">bash_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4534</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">4535</span><span class="c1">// func:command.bash_proc.bash.Wait</span>
<span class="linenos">4536</span><span class="kt">void</span><span class="w">                 </span><span class="nf">bash_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4537</span><span class="c1">// Start + Wait</span>
<span class="linenos">4538</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">4539</span><span class="c1">// func:command.bash_proc.bash.Exec</span>
<span class="linenos">4540</span><span class="kt">int</span><span class="w">                  </span><span class="nf">bash_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4541</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">4542</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">4543</span><span class="c1">// func:command.bash_proc.bash.ExecX</span>
<span class="linenos">4544</span><span class="kt">void</span><span class="w">                 </span><span class="nf">bash_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4545</span><span class="c1">// Call execv()</span>
<span class="linenos">4546</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">4547</span><span class="c1">// func:command.bash_proc.bash.Execv</span>
<span class="linenos">4548</span><span class="kt">int</span><span class="w">                  </span><span class="nf">bash_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4549</span><span class="c1">// func:command.bash_proc.bash.ToCmdline</span>
<span class="linenos">4550</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">bash_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4551</span><span class="c1">// Form array from the command line</span>
<span class="linenos">4552</span><span class="c1">// func:command.bash_proc.bash.ToArgv</span>
<span class="linenos">4553</span><span class="kt">void</span><span class="w">                 </span><span class="nf">bash_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4554</span>
<span class="linenos">4555</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">4556</span><span class="c1">// func:command.bash_proc..Init</span>
<span class="linenos">4557</span><span class="kt">void</span><span class="w">                 </span><span class="nf">bash_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4558</span><span class="c1">// func:command.bash_proc..Uninit</span>
<span class="linenos">4559</span><span class="kt">void</span><span class="w">                 </span><span class="nf">bash_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">bash_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4560</span>
<span class="linenos">4561</span><span class="c1">// --- command.dcli</span>
<span class="linenos">4562</span><span class="c1">// access: command.dcli_proc.dcli (Exec)</span>
<span class="linenos">4563</span><span class="k">struct</span><span class="w"> </span><span class="nc">dcli</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.dcli</span>
<span class="linenos">4564</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">               </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">4565</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">cmd</span><span class="p">;</span><span class="w">              </span><span class="c1">//   &quot;&quot;  Execute command in docker</span>
<span class="linenos">4566</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">cmd_dctr</span><span class="p">;</span><span class="w">         </span><span class="c1">//   &quot;&quot;  Execute command in the container</span>
<span class="linenos">4567</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">config_ssh</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  form ~/.ssh/config.d/ for dhosts</span>
<span class="linenos">4568</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">config_ssh_vpn</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  form ~/.ssh/config.d/ for dhosts on vpn - uses local ip</span>
<span class="linenos">4569</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">clean_run</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false  execute &quot;docker run&quot; command with the new image. !!! destroys running image if any !!!</span>
<span class="linenos">4570</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">shell</span><span class="p">;</span><span class="w">            </span><span class="c1">//   false  execute &quot;docker exec -it $dctr /bin/bash&quot; command</span>
<span class="linenos">4571</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">inspect</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  execute &quot;docker inspect $dctr command</span>
<span class="linenos">4572</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">logs</span><span class="p">;</span><span class="w">             </span><span class="c1">//   false  execute &quot;docker logs $dctr&quot; command</span>
<span class="linenos">4573</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">generate_build</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  generate bash file docker/gen/$dctr.sh to use in -build</span>
<span class="linenos">4574</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">build</span><span class="p">;</span><span class="w">            </span><span class="c1">//   false  execute &quot;docker build&quot; command using docker/gen/$dctr.sh</span>
<span class="linenos">4575</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">dhost</span><span class="p">;</span><span class="w">            </span><span class="c1">//   &quot;&quot;  Sql Regx of dclidb::Dhost</span>
<span class="linenos">4576</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">dctr</span><span class="p">;</span><span class="w">             </span><span class="c1">//   &quot;&quot;  Sql Regx of dclidb::Dctr</span>
<span class="linenos">4577</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">dctrhost</span><span class="p">;</span><span class="w">         </span><span class="c1">//   &quot;&quot;  Sql Regx of dclidb::Dctrhost</span>
<span class="linenos">4578</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">t</span><span class="p">;</span><span class="w">                </span><span class="c1">//   false  pass TTY to ssh</span>
<span class="linenos">4579</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">q</span><span class="p">;</span><span class="w">                </span><span class="c1">//   false  quite mode - don&#39;t print reports</span>
<span class="linenos">4580</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">dry_run</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  Print actions, do not perform</span>
<span class="linenos">4581</span><span class="w">    </span><span class="n">dcli</span><span class="p">();</span>
<span class="linenos">4582</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">4583</span><span class="w">    </span><span class="c1">// reftype Regx of command.dcli.dhost prohibits copy</span>
<span class="linenos">4584</span><span class="w">    </span><span class="c1">// reftype Regx of command.dcli.dctr prohibits copy</span>
<span class="linenos">4585</span><span class="w">    </span><span class="c1">// reftype Regx of command.dcli.dctrhost prohibits copy</span>
<span class="linenos">4586</span><span class="w">    </span><span class="c1">// ... and several other reasons</span>
<span class="linenos">4587</span><span class="w">    </span><span class="n">dcli</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">dcli</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">4588</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">dcli</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">4589</span><span class="p">};</span>
<span class="linenos">4590</span>
<span class="linenos">4591</span><span class="c1">// Print back to string</span>
<span class="linenos">4592</span><span class="c1">// func:command.dcli.dhost.Print</span>
<span class="linenos">4593</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dhost_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4594</span><span class="c1">// Read Regx from string</span>
<span class="linenos">4595</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">4596</span><span class="c1">// func:command.dcli.dhost.ReadStrptrMaybe</span>
<span class="linenos">4597</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">dhost_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4598</span>
<span class="linenos">4599</span><span class="c1">// Print back to string</span>
<span class="linenos">4600</span><span class="c1">// func:command.dcli.dctr.Print</span>
<span class="linenos">4601</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dctr_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4602</span><span class="c1">// Read Regx from string</span>
<span class="linenos">4603</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">4604</span><span class="c1">// func:command.dcli.dctr.ReadStrptrMaybe</span>
<span class="linenos">4605</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">dctr_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4606</span>
<span class="linenos">4607</span><span class="c1">// Print back to string</span>
<span class="linenos">4608</span><span class="c1">// func:command.dcli.dctrhost.Print</span>
<span class="linenos">4609</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dctrhost_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4610</span><span class="c1">// Read Regx from string</span>
<span class="linenos">4611</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">4612</span><span class="c1">// func:command.dcli.dctrhost.ReadStrptrMaybe</span>
<span class="linenos">4613</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">dctrhost_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4614</span>
<span class="linenos">4615</span><span class="c1">// func:command.dcli..ReadFieldMaybe</span>
<span class="linenos">4616</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">dcli_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4617</span><span class="c1">// Read fields of command::dcli from attributes of ascii tuple TUPLE</span>
<span class="linenos">4618</span><span class="c1">// func:command.dcli..ReadTupleMaybe</span>
<span class="linenos">4619</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">dcli_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4620</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">4621</span><span class="c1">// func:command.dcli..Init</span>
<span class="linenos">4622</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dcli_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4623</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">4624</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">4625</span><span class="c1">// func:command.dcli..ToCmdline</span>
<span class="linenos">4626</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">dcli_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4627</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">4628</span><span class="c1">// cfmt:command.dcli.Argv  printfmt:Tuple</span>
<span class="linenos">4629</span><span class="c1">// func:command.dcli..PrintArgv</span>
<span class="linenos">4630</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dcli_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4631</span><span class="c1">// func:command.dcli..GetAnon</span>
<span class="linenos">4632</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">dcli_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4633</span><span class="c1">// Used with command lines</span>
<span class="linenos">4634</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">4635</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">4636</span><span class="c1">// func:command.dcli..NArgs</span>
<span class="linenos">4637</span><span class="n">i32</span><span class="w">                  </span><span class="nf">dcli_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4638</span>
<span class="linenos">4639</span><span class="c1">// --- command.dcli_ed</span>
<span class="linenos">4640</span><span class="c1">// access: command.dcli_ed_proc.dcli_ed (Exec)</span>
<span class="linenos">4641</span><span class="k">struct</span><span class="w"> </span><span class="nc">dcli_ed</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.dcli_ed</span>
<span class="linenos">4642</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">in</span><span class="p">;</span><span class="w">               </span><span class="c1">//   &quot;data&quot;  (config) Input directory or filename, - for stdin</span>
<span class="linenos">4643</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">script_dir</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;docker&quot;  (config) Override script dir</span>
<span class="linenos">4644</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">   </span><span class="n">target</span><span class="p">;</span><span class="w">           </span><span class="c1">//   &quot;&quot;  Target entity (guess: dctr, dhost, or dctrhost)</span>
<span class="linenos">4645</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">   </span><span class="n">dctr</span><span class="p">;</span><span class="w">             </span><span class="c1">//   &quot;&quot;  Exact dctr target (do not guess)</span>
<span class="linenos">4646</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">   </span><span class="n">dhost</span><span class="p">;</span><span class="w">            </span><span class="c1">//   &quot;&quot;  Exact dhost target (do not guess)</span>
<span class="linenos">4647</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">   </span><span class="n">dctrhost</span><span class="p">;</span><span class="w">         </span><span class="c1">//   &quot;&quot;  Exact dctrhost target (do not guess)</span>
<span class="linenos">4648</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">create</span><span class="p">;</span><span class="w">           </span><span class="c1">//   false  (command) Create new entity</span>
<span class="linenos">4649</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">   </span><span class="n">cloneto</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;&quot;  (command) Clone to new entity</span>
<span class="linenos">4650</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">   </span><span class="n">renameto</span><span class="p">;</span><span class="w">         </span><span class="c1">//   &quot;&quot;  (command) Rename or move entity</span>
<span class="linenos">4651</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">del</span><span class="p">;</span><span class="w">              </span><span class="c1">//   false  (command) Delete entity</span>
<span class="linenos">4652</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">purge</span><span class="p">;</span><span class="w">            </span><span class="c1">//   false  (command) Purge all orphaned entities, especially useful with -del</span>
<span class="linenos">4653</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">write</span><span class="p">;</span><span class="w">            </span><span class="c1">//   false  (flag) Commit changes to disk</span>
<span class="linenos">4654</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">force</span><span class="p">;</span><span class="w">            </span><span class="c1">//   false  (flag) Force operation</span>
<span class="linenos">4655</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">deep</span><span class="p">;</span><span class="w">             </span><span class="c1">//   false  (flag) Force scriptlet names to be in form docker_dir/dctr/dctr.*</span>
<span class="linenos">4656</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">sync</span><span class="p">;</span><span class="w">             </span><span class="c1">//   true  (flag) Sync with dcli - deploy or cease containers</span>
<span class="linenos">4657</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">keep_files</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  (flag) Do not delete or rename script files</span>
<span class="linenos">4658</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Comment</span><span class="w">      </span><span class="n">comment</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;&quot;  (-create) Add comment to created instance</span>
<span class="linenos">4659</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">dctr_from</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;ubuntu&quot;  (-create dctr) image name to start from</span>
<span class="linenos">4660</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">dhost_ip</span><span class="p">;</span><span class="w">         </span><span class="c1">//   &quot;&quot;  (-create dhost) dhost.ip</span>
<span class="linenos">4661</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">dhost_ext_ip</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;&quot;  (-create dhost) dhost.ext_ip</span>
<span class="linenos">4662</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">dhost_ext_port</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;3022&quot;  (-create dhost) dhost.ext_port</span>
<span class="linenos">4663</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">dhost_user</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;dcliusr&quot;  (-create dhost) dhost.user</span>
<span class="linenos">4664</span><span class="w">    </span><span class="n">dcli_ed</span><span class="p">();</span>
<span class="linenos">4665</span><span class="p">};</span>
<span class="linenos">4666</span>
<span class="linenos">4667</span><span class="c1">// func:command.dcli_ed..ReadFieldMaybe</span>
<span class="linenos">4668</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">dcli_ed_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_ed</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4669</span><span class="c1">// Read fields of command::dcli_ed from attributes of ascii tuple TUPLE</span>
<span class="linenos">4670</span><span class="c1">// func:command.dcli_ed..ReadTupleMaybe</span>
<span class="linenos">4671</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">dcli_ed_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_ed</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4672</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">4673</span><span class="c1">// func:command.dcli_ed..Init</span>
<span class="linenos">4674</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dcli_ed_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_ed</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4675</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">4676</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">4677</span><span class="c1">// func:command.dcli_ed..ToCmdline</span>
<span class="linenos">4678</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">dcli_ed_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_ed</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4679</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">4680</span><span class="c1">// cfmt:command.dcli_ed.Argv  printfmt:Tuple</span>
<span class="linenos">4681</span><span class="c1">// func:command.dcli_ed..PrintArgv</span>
<span class="linenos">4682</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dcli_ed_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_ed</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4683</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">4684</span><span class="c1">// cfmt:command.dcli_ed.String  printfmt:Tuple</span>
<span class="linenos">4685</span><span class="c1">// func:command.dcli_ed..Print</span>
<span class="linenos">4686</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dcli_ed_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_ed</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4687</span><span class="c1">// func:command.dcli_ed..GetAnon</span>
<span class="linenos">4688</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">dcli_ed_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_ed</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4689</span><span class="c1">// Used with command lines</span>
<span class="linenos">4690</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">4691</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">4692</span><span class="c1">// func:command.dcli_ed..NArgs</span>
<span class="linenos">4693</span><span class="n">i32</span><span class="w">                  </span><span class="nf">dcli_ed_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4694</span>
<span class="linenos">4695</span><span class="c1">// --- command.dcli_ed_proc</span>
<span class="linenos">4696</span><span class="k">struct</span><span class="w"> </span><span class="nc">dcli_ed_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.dcli_ed_proc: Subprocess: Docker Client Editor - generator of dcli commands</span>
<span class="linenos">4697</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/dcli_ed&quot;  path for executable</span>
<span class="linenos">4698</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">dcli_ed</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">4699</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">4700</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">4701</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">4702</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">              </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">4703</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">4704</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">4705</span><span class="w">    </span><span class="n">dcli_ed_proc</span><span class="p">();</span>
<span class="linenos">4706</span><span class="w">    </span><span class="o">~</span><span class="n">dcli_ed_proc</span><span class="p">();</span>
<span class="linenos">4707</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">4708</span><span class="w">    </span><span class="c1">// reftype Exec of command.dcli_ed_proc.dcli_ed prohibits copy</span>
<span class="linenos">4709</span><span class="w">    </span><span class="n">dcli_ed_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">dcli_ed_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">4710</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">dcli_ed_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">4711</span><span class="p">};</span>
<span class="linenos">4712</span>
<span class="linenos">4713</span><span class="c1">// Start subprocess</span>
<span class="linenos">4714</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">4715</span><span class="c1">// func:command.dcli_ed_proc.dcli_ed.Start</span>
<span class="linenos">4716</span><span class="kt">int</span><span class="w">                  </span><span class="nf">dcli_ed_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4717</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">4718</span><span class="c1">// func:command.dcli_ed_proc.dcli_ed.StartRead</span>
<span class="linenos">4719</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">dcli_ed_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4720</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">4721</span><span class="c1">// func:command.dcli_ed_proc.dcli_ed.Kill</span>
<span class="linenos">4722</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dcli_ed_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4723</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">4724</span><span class="c1">// func:command.dcli_ed_proc.dcli_ed.Wait</span>
<span class="linenos">4725</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dcli_ed_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4726</span><span class="c1">// Start + Wait</span>
<span class="linenos">4727</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">4728</span><span class="c1">// func:command.dcli_ed_proc.dcli_ed.Exec</span>
<span class="linenos">4729</span><span class="kt">int</span><span class="w">                  </span><span class="nf">dcli_ed_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4730</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">4731</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">4732</span><span class="c1">// func:command.dcli_ed_proc.dcli_ed.ExecX</span>
<span class="linenos">4733</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dcli_ed_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4734</span><span class="c1">// Call execv()</span>
<span class="linenos">4735</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">4736</span><span class="c1">// func:command.dcli_ed_proc.dcli_ed.Execv</span>
<span class="linenos">4737</span><span class="kt">int</span><span class="w">                  </span><span class="nf">dcli_ed_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4738</span><span class="c1">// func:command.dcli_ed_proc.dcli_ed.ToCmdline</span>
<span class="linenos">4739</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">dcli_ed_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4740</span><span class="c1">// Form array from the command line</span>
<span class="linenos">4741</span><span class="c1">// func:command.dcli_ed_proc.dcli_ed.ToArgv</span>
<span class="linenos">4742</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dcli_ed_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4743</span>
<span class="linenos">4744</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">4745</span><span class="c1">// func:command.dcli_ed_proc..Init</span>
<span class="linenos">4746</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dcli_ed_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4747</span><span class="c1">// func:command.dcli_ed_proc..Uninit</span>
<span class="linenos">4748</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dcli_ed_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_ed_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4749</span>
<span class="linenos">4750</span><span class="c1">// --- command.dcli_proc</span>
<span class="linenos">4751</span><span class="k">struct</span><span class="w"> </span><span class="nc">dcli_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.dcli_proc: Subprocess: command line tool for container operations</span>
<span class="linenos">4752</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/dcli&quot;  path for executable</span>
<span class="linenos">4753</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">dcli</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">4754</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">4755</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">4756</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">4757</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">           </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">4758</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">4759</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">4760</span><span class="w">    </span><span class="n">dcli_proc</span><span class="p">();</span>
<span class="linenos">4761</span><span class="w">    </span><span class="o">~</span><span class="n">dcli_proc</span><span class="p">();</span>
<span class="linenos">4762</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">4763</span><span class="w">    </span><span class="c1">// reftype Exec of command.dcli_proc.dcli prohibits copy</span>
<span class="linenos">4764</span><span class="w">    </span><span class="c1">// value field command.dcli_proc.cmd is not copiable</span>
<span class="linenos">4765</span><span class="w">    </span><span class="n">dcli_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">dcli_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">4766</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">dcli_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">4767</span><span class="p">};</span>
<span class="linenos">4768</span>
<span class="linenos">4769</span><span class="c1">// Start subprocess</span>
<span class="linenos">4770</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">4771</span><span class="c1">// func:command.dcli_proc.dcli.Start</span>
<span class="linenos">4772</span><span class="kt">int</span><span class="w">                  </span><span class="nf">dcli_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4773</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">4774</span><span class="c1">// func:command.dcli_proc.dcli.StartRead</span>
<span class="linenos">4775</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">dcli_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4776</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">4777</span><span class="c1">// func:command.dcli_proc.dcli.Kill</span>
<span class="linenos">4778</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dcli_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4779</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">4780</span><span class="c1">// func:command.dcli_proc.dcli.Wait</span>
<span class="linenos">4781</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dcli_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4782</span><span class="c1">// Start + Wait</span>
<span class="linenos">4783</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">4784</span><span class="c1">// func:command.dcli_proc.dcli.Exec</span>
<span class="linenos">4785</span><span class="kt">int</span><span class="w">                  </span><span class="nf">dcli_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4786</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">4787</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">4788</span><span class="c1">// func:command.dcli_proc.dcli.ExecX</span>
<span class="linenos">4789</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dcli_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4790</span><span class="c1">// Call execv()</span>
<span class="linenos">4791</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">4792</span><span class="c1">// func:command.dcli_proc.dcli.Execv</span>
<span class="linenos">4793</span><span class="kt">int</span><span class="w">                  </span><span class="nf">dcli_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4794</span><span class="c1">// func:command.dcli_proc.dcli.ToCmdline</span>
<span class="linenos">4795</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">dcli_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4796</span><span class="c1">// Form array from the command line</span>
<span class="linenos">4797</span><span class="c1">// func:command.dcli_proc.dcli.ToArgv</span>
<span class="linenos">4798</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dcli_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4799</span>
<span class="linenos">4800</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">4801</span><span class="c1">// func:command.dcli_proc..Init</span>
<span class="linenos">4802</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dcli_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4803</span><span class="c1">// func:command.dcli_proc..Uninit</span>
<span class="linenos">4804</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dcli_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">dcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4805</span>
<span class="linenos">4806</span><span class="c1">// --- command.fast</span>
<span class="linenos">4807</span><span class="c1">// access: command.fast_proc.fast (Exec)</span>
<span class="linenos">4808</span><span class="k">struct</span><span class="w"> </span><span class="nc">fast</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.fast</span>
<span class="linenos">4809</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">in</span><span class="p">;</span><span class="w">             </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">4810</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">genamc</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Generate AMC schema from XML file</span>
<span class="linenos">4811</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr16</span><span class="w">   </span><span class="n">ns</span><span class="p">;</span><span class="w">             </span><span class="c1">//   &quot;&quot;  AMC namespace to generate or convert messages</span>
<span class="linenos">4812</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">xml</span><span class="p">;</span><span class="w">            </span><span class="c1">//   &quot;&quot;  (-genamc) FAST template definition XML file</span>
<span class="linenos">4813</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">add_reset</span><span class="p">;</span><span class="w">      </span><span class="c1">//   true  (-genamc) Add SCP 1.1 template Reset/120</span>
<span class="linenos">4814</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">pretty</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  (-genamc) Indent output</span>
<span class="linenos">4815</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">write</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  (-genamc) Write output to disk</span>
<span class="linenos">4816</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">encode</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Encode</span>
<span class="linenos">4817</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">decode</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Decode</span>
<span class="linenos">4818</span><span class="w">    </span><span class="n">u8</span><span class="w">                 </span><span class="n">enc</span><span class="p">;</span><span class="w">            </span><span class="c1">//   0  Specify encoding of primitive type</span>
<span class="linenos">4819</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">nullable</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  The field is optional</span>
<span class="linenos">4820</span><span class="w">    </span><span class="n">u8</span><span class="w">                 </span><span class="n">ifmt</span><span class="p">;</span><span class="w">           </span><span class="c1">//   0  Read stdin in this format</span>
<span class="linenos">4821</span><span class="w">    </span><span class="n">u8</span><span class="w">                 </span><span class="n">ofmt</span><span class="p">;</span><span class="w">           </span><span class="c1">//   0  Write in this format</span>
<span class="linenos">4822</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">echo</span><span class="p">;</span><span class="w">           </span><span class="c1">//   false  Print input back to stdout</span>
<span class="linenos">4823</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">hex</span><span class="p">;</span><span class="w">            </span><span class="c1">//   false  Read/write hex FAST encoding</span>
<span class="linenos">4824</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr10</span><span class="w">   </span><span class="n">fix_bs</span><span class="p">;</span><span class="w">         </span><span class="c1">//   &quot;FIX.4.2&quot;  FIX BeginString</span>
<span class="linenos">4825</span><span class="w">    </span><span class="kt">char</span><span class="w">               </span><span class="n">fix_soh</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &#39;|&#39;  FIX tagvalue field delimiter character (SOH)</span>
<span class="linenos">4826</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">fix_nl</span><span class="p">;</span><span class="w">         </span><span class="c1">//   true  Add newline after FIX message</span>
<span class="linenos">4827</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">fast_msg_max</span><span class="p">;</span><span class="w">   </span><span class="c1">//   1024  Max size of FAST-encoded message</span>
<span class="linenos">4828</span><span class="w">    </span><span class="n">fast</span><span class="p">();</span>
<span class="linenos">4829</span><span class="p">};</span>
<span class="linenos">4830</span>
<span class="linenos">4831</span><span class="c1">// Get value of field as enum type</span>
<span class="linenos">4832</span><span class="c1">// func:command.fast.enc.GetEnum</span>
<span class="linenos">4833</span><span class="n">command_fast_enc_Enum</span><span class="w"> </span><span class="nf">enc_GetEnum</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4834</span><span class="c1">// Set value of field from enum type.</span>
<span class="linenos">4835</span><span class="c1">// func:command.fast.enc.SetEnum</span>
<span class="linenos">4836</span><span class="kt">void</span><span class="w">                 </span><span class="nf">enc_SetEnum</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command_fast_enc_Enum</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4837</span><span class="c1">// Convert numeric value of field to one of predefined string constants.</span>
<span class="linenos">4838</span><span class="c1">// If string is found, return a static C string. Otherwise, return NULL.</span>
<span class="linenos">4839</span><span class="c1">// func:command.fast.enc.ToCstr</span>
<span class="linenos">4840</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w">          </span><span class="nf">enc_ToCstr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4841</span><span class="c1">// Convert enc to a string. First, attempt conversion to a known string.</span>
<span class="linenos">4842</span><span class="c1">// If no string matches, print enc as a numeric value.</span>
<span class="linenos">4843</span><span class="c1">// func:command.fast.enc.Print</span>
<span class="linenos">4844</span><span class="kt">void</span><span class="w">                 </span><span class="nf">enc_Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4845</span><span class="c1">// Convert string to field.</span>
<span class="linenos">4846</span><span class="c1">// If the string is invalid, do not modify field and return false.</span>
<span class="linenos">4847</span><span class="c1">// In case of success, return true</span>
<span class="linenos">4848</span><span class="c1">// func:command.fast.enc.SetStrptrMaybe</span>
<span class="linenos">4849</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">enc_SetStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4850</span><span class="c1">// Convert string to field.</span>
<span class="linenos">4851</span><span class="c1">// If the string is invalid, set numeric value to DFLT</span>
<span class="linenos">4852</span><span class="c1">// func:command.fast.enc.SetStrptr</span>
<span class="linenos">4853</span><span class="kt">void</span><span class="w">                 </span><span class="nf">enc_SetStrptr</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">,</span><span class="w"> </span><span class="n">command_fast_enc_Enum</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4854</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">4855</span><span class="c1">// func:command.fast.enc.ReadStrptrMaybe</span>
<span class="linenos">4856</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">enc_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4857</span>
<span class="linenos">4858</span><span class="c1">// Get value of field as enum type</span>
<span class="linenos">4859</span><span class="c1">// func:command.fast.ifmt.GetEnum</span>
<span class="linenos">4860</span><span class="n">command_fast_ifmt_Enum</span><span class="w"> </span><span class="nf">ifmt_GetEnum</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4861</span><span class="c1">// Set value of field from enum type.</span>
<span class="linenos">4862</span><span class="c1">// func:command.fast.ifmt.SetEnum</span>
<span class="linenos">4863</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ifmt_SetEnum</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command_fast_ifmt_Enum</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4864</span><span class="c1">// Convert numeric value of field to one of predefined string constants.</span>
<span class="linenos">4865</span><span class="c1">// If string is found, return a static C string. Otherwise, return NULL.</span>
<span class="linenos">4866</span><span class="c1">// func:command.fast.ifmt.ToCstr</span>
<span class="linenos">4867</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w">          </span><span class="nf">ifmt_ToCstr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4868</span><span class="c1">// Convert ifmt to a string. First, attempt conversion to a known string.</span>
<span class="linenos">4869</span><span class="c1">// If no string matches, print ifmt as a numeric value.</span>
<span class="linenos">4870</span><span class="c1">// func:command.fast.ifmt.Print</span>
<span class="linenos">4871</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ifmt_Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4872</span><span class="c1">// Convert string to field.</span>
<span class="linenos">4873</span><span class="c1">// If the string is invalid, do not modify field and return false.</span>
<span class="linenos">4874</span><span class="c1">// In case of success, return true</span>
<span class="linenos">4875</span><span class="c1">// func:command.fast.ifmt.SetStrptrMaybe</span>
<span class="linenos">4876</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ifmt_SetStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4877</span><span class="c1">// Convert string to field.</span>
<span class="linenos">4878</span><span class="c1">// If the string is invalid, set numeric value to DFLT</span>
<span class="linenos">4879</span><span class="c1">// func:command.fast.ifmt.SetStrptr</span>
<span class="linenos">4880</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ifmt_SetStrptr</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">,</span><span class="w"> </span><span class="n">command_fast_ifmt_Enum</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4881</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">4882</span><span class="c1">// func:command.fast.ifmt.ReadStrptrMaybe</span>
<span class="linenos">4883</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ifmt_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4884</span>
<span class="linenos">4885</span><span class="c1">// Get value of field as enum type</span>
<span class="linenos">4886</span><span class="c1">// func:command.fast.ofmt.GetEnum</span>
<span class="linenos">4887</span><span class="n">command_fast_ofmt_Enum</span><span class="w"> </span><span class="nf">ofmt_GetEnum</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4888</span><span class="c1">// Set value of field from enum type.</span>
<span class="linenos">4889</span><span class="c1">// func:command.fast.ofmt.SetEnum</span>
<span class="linenos">4890</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ofmt_SetEnum</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command_fast_ofmt_Enum</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4891</span><span class="c1">// Convert numeric value of field to one of predefined string constants.</span>
<span class="linenos">4892</span><span class="c1">// If string is found, return a static C string. Otherwise, return NULL.</span>
<span class="linenos">4893</span><span class="c1">// func:command.fast.ofmt.ToCstr</span>
<span class="linenos">4894</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w">          </span><span class="nf">ofmt_ToCstr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4895</span><span class="c1">// Convert ofmt to a string. First, attempt conversion to a known string.</span>
<span class="linenos">4896</span><span class="c1">// If no string matches, print ofmt as a numeric value.</span>
<span class="linenos">4897</span><span class="c1">// func:command.fast.ofmt.Print</span>
<span class="linenos">4898</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ofmt_Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4899</span><span class="c1">// Convert string to field.</span>
<span class="linenos">4900</span><span class="c1">// If the string is invalid, do not modify field and return false.</span>
<span class="linenos">4901</span><span class="c1">// In case of success, return true</span>
<span class="linenos">4902</span><span class="c1">// func:command.fast.ofmt.SetStrptrMaybe</span>
<span class="linenos">4903</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ofmt_SetStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4904</span><span class="c1">// Convert string to field.</span>
<span class="linenos">4905</span><span class="c1">// If the string is invalid, set numeric value to DFLT</span>
<span class="linenos">4906</span><span class="c1">// func:command.fast.ofmt.SetStrptr</span>
<span class="linenos">4907</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ofmt_SetStrptr</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">,</span><span class="w"> </span><span class="n">command_fast_ofmt_Enum</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4908</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">4909</span><span class="c1">// func:command.fast.ofmt.ReadStrptrMaybe</span>
<span class="linenos">4910</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ofmt_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4911</span>
<span class="linenos">4912</span><span class="c1">// func:command.fast..ReadFieldMaybe</span>
<span class="linenos">4913</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">fast_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4914</span><span class="c1">// Read fields of command::fast from attributes of ascii tuple TUPLE</span>
<span class="linenos">4915</span><span class="c1">// func:command.fast..ReadTupleMaybe</span>
<span class="linenos">4916</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">fast_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4917</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">4918</span><span class="c1">// func:command.fast..Init</span>
<span class="linenos">4919</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fast_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4920</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">4921</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">4922</span><span class="c1">// func:command.fast..ToCmdline</span>
<span class="linenos">4923</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">fast_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4924</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">4925</span><span class="c1">// cfmt:command.fast.Argv  printfmt:Tuple</span>
<span class="linenos">4926</span><span class="c1">// func:command.fast..PrintArgv</span>
<span class="linenos">4927</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fast_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4928</span><span class="c1">// Used with command lines</span>
<span class="linenos">4929</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">4930</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">4931</span><span class="c1">// func:command.fast..NArgs</span>
<span class="linenos">4932</span><span class="n">i32</span><span class="w">                  </span><span class="nf">fast_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4933</span>
<span class="linenos">4934</span><span class="c1">// --- command.fast_proc</span>
<span class="linenos">4935</span><span class="k">struct</span><span class="w"> </span><span class="nc">fast_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.fast_proc: Subprocess: FAST utility</span>
<span class="linenos">4936</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/fast&quot;  path for executable</span>
<span class="linenos">4937</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">fast</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">4938</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">4939</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">4940</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">4941</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">           </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">4942</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">4943</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">4944</span><span class="w">    </span><span class="n">fast_proc</span><span class="p">();</span>
<span class="linenos">4945</span><span class="w">    </span><span class="o">~</span><span class="n">fast_proc</span><span class="p">();</span>
<span class="linenos">4946</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">4947</span><span class="w">    </span><span class="c1">// reftype Exec of command.fast_proc.fast prohibits copy</span>
<span class="linenos">4948</span><span class="w">    </span><span class="n">fast_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">fast_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">4949</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">fast_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">4950</span><span class="p">};</span>
<span class="linenos">4951</span>
<span class="linenos">4952</span><span class="c1">// Start subprocess</span>
<span class="linenos">4953</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">4954</span><span class="c1">// func:command.fast_proc.fast.Start</span>
<span class="linenos">4955</span><span class="kt">int</span><span class="w">                  </span><span class="nf">fast_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4956</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">4957</span><span class="c1">// func:command.fast_proc.fast.StartRead</span>
<span class="linenos">4958</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">fast_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4959</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">4960</span><span class="c1">// func:command.fast_proc.fast.Kill</span>
<span class="linenos">4961</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fast_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4962</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">4963</span><span class="c1">// func:command.fast_proc.fast.Wait</span>
<span class="linenos">4964</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fast_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4965</span><span class="c1">// Start + Wait</span>
<span class="linenos">4966</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">4967</span><span class="c1">// func:command.fast_proc.fast.Exec</span>
<span class="linenos">4968</span><span class="kt">int</span><span class="w">                  </span><span class="nf">fast_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4969</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">4970</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">4971</span><span class="c1">// func:command.fast_proc.fast.ExecX</span>
<span class="linenos">4972</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fast_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4973</span><span class="c1">// Call execv()</span>
<span class="linenos">4974</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">4975</span><span class="c1">// func:command.fast_proc.fast.Execv</span>
<span class="linenos">4976</span><span class="kt">int</span><span class="w">                  </span><span class="nf">fast_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4977</span><span class="c1">// func:command.fast_proc.fast.ToCmdline</span>
<span class="linenos">4978</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">fast_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4979</span><span class="c1">// Form array from the command line</span>
<span class="linenos">4980</span><span class="c1">// func:command.fast_proc.fast.ToArgv</span>
<span class="linenos">4981</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fast_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4982</span>
<span class="linenos">4983</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">4984</span><span class="c1">// func:command.fast_proc..Init</span>
<span class="linenos">4985</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fast_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">4986</span><span class="c1">// func:command.fast_proc..Uninit</span>
<span class="linenos">4987</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fast_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">fast_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">4988</span>
<span class="linenos">4989</span><span class="c1">// --- command.gcache</span>
<span class="linenos">4990</span><span class="c1">// access: command.gcache_proc.gcache (Exec)</span>
<span class="linenos">4991</span><span class="k">struct</span><span class="w"> </span><span class="nc">gcache</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.gcache</span>
<span class="linenos">4992</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">4993</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">   </span><span class="n">cmd_elems</span><span class="p">;</span><span class="w">   </span><span class="c1">// pointer to elements</span>
<span class="linenos">4994</span><span class="w">    </span><span class="n">u32</span><span class="w">              </span><span class="n">cmd_n</span><span class="p">;</span><span class="w">       </span><span class="c1">// number of elements in array</span>
<span class="linenos">4995</span><span class="w">    </span><span class="n">u32</span><span class="w">              </span><span class="n">cmd_max</span><span class="p">;</span><span class="w">     </span><span class="c1">// max. capacity of array before realloc</span>
<span class="linenos">4996</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">install</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Create gcache directory and enable gcache</span>
<span class="linenos">4997</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">stats</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  Show cache stats</span>
<span class="linenos">4998</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">enable</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  Create .gcache link to enable gcache use</span>
<span class="linenos">4999</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">disable</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Remove .gcache link to disable gcache</span>
<span class="linenos">5000</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">gc</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  Clean old files from .gcache</span>
<span class="linenos">5001</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">clean</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  Clean the entire cache</span>
<span class="linenos">5002</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">dir</span><span class="p">;</span><span class="w">         </span><span class="c1">//   &quot;/tmp/gcache&quot;  (With -install,-enable) cache directory</span>
<span class="linenos">5003</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">hitrate</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Report hit rate (specify start time with -after)</span>
<span class="linenos">5004</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w">     </span><span class="n">after</span><span class="p">;</span><span class="w">       </span><span class="c1">// Start time for reporting</span>
<span class="linenos">5005</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">report</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  Show end-of-run report</span>
<span class="linenos">5006</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">force</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  Force recompile and update cache</span>
<span class="linenos">5007</span><span class="w">    </span><span class="n">gcache</span><span class="p">();</span>
<span class="linenos">5008</span><span class="w">    </span><span class="o">~</span><span class="n">gcache</span><span class="p">();</span>
<span class="linenos">5009</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">5010</span><span class="w">    </span><span class="c1">// reftype Tary of command.gcache.cmd prohibits copy</span>
<span class="linenos">5011</span><span class="w">    </span><span class="n">gcache</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">gcache</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">5012</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">gcache</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">5013</span><span class="p">};</span>
<span class="linenos">5014</span>
<span class="linenos">5015</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">5016</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">5017</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">5018</span><span class="c1">// func:command.gcache.cmd.Addary</span>
<span class="linenos">5019</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">cmd_Addary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5020</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">5021</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">5022</span><span class="c1">// func:command.gcache.cmd.Alloc</span>
<span class="linenos">5023</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">cmd_Alloc</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5024</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">5025</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">5026</span><span class="c1">// func:command.gcache.cmd.AllocAt</span>
<span class="linenos">5027</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">cmd_AllocAt</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5028</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">5029</span><span class="c1">// func:command.gcache.cmd.AllocN</span>
<span class="linenos">5030</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">cmd_AllocN</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5031</span><span class="c1">// Return true if index is empty</span>
<span class="linenos">5032</span><span class="c1">// func:command.gcache.cmd.EmptyQ</span>
<span class="linenos">5033</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">cmd_EmptyQ</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5034</span><span class="c1">// Look up row by row id. Return NULL if out of range</span>
<span class="linenos">5035</span><span class="c1">// func:command.gcache.cmd.Find</span>
<span class="linenos">5036</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">cmd_Find</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5037</span><span class="c1">// Return array pointer by value</span>
<span class="linenos">5038</span><span class="c1">// func:command.gcache.cmd.Getary</span>
<span class="linenos">5039</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">cmd_Getary</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5040</span><span class="c1">// Return pointer to last element of array, or NULL if array is empty</span>
<span class="linenos">5041</span><span class="c1">// func:command.gcache.cmd.Last</span>
<span class="linenos">5042</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">cmd_Last</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">5043</span><span class="c1">// Return max. number of items in the array</span>
<span class="linenos">5044</span><span class="c1">// func:command.gcache.cmd.Max</span>
<span class="linenos">5045</span><span class="n">i32</span><span class="w">                  </span><span class="nf">cmd_Max</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5046</span><span class="c1">// Return number of items in the array</span>
<span class="linenos">5047</span><span class="c1">// func:command.gcache.cmd.N</span>
<span class="linenos">5048</span><span class="n">i32</span><span class="w">                  </span><span class="nf">cmd_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">5049</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">5050</span><span class="c1">// func:command.gcache.cmd.Remove</span>
<span class="linenos">5051</span><span class="kt">void</span><span class="w">                 </span><span class="nf">cmd_Remove</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5052</span><span class="c1">// func:command.gcache.cmd.RemoveAll</span>
<span class="linenos">5053</span><span class="kt">void</span><span class="w">                 </span><span class="nf">cmd_RemoveAll</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5054</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">5055</span><span class="c1">// func:command.gcache.cmd.RemoveLast</span>
<span class="linenos">5056</span><span class="kt">void</span><span class="w">                 </span><span class="nf">cmd_RemoveLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5057</span><span class="c1">// Make sure N *more* elements will fit in array. Process dies if out of memory</span>
<span class="linenos">5058</span><span class="c1">// func:command.gcache.cmd.Reserve</span>
<span class="linenos">5059</span><span class="kt">void</span><span class="w">                 </span><span class="nf">cmd_Reserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5060</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">5061</span><span class="c1">// func:command.gcache.cmd.AbsReserve</span>
<span class="linenos">5062</span><span class="kt">void</span><span class="w">                 </span><span class="nf">cmd_AbsReserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5063</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">5064</span><span class="c1">// func:command.gcache.cmd.Setary</span>
<span class="linenos">5065</span><span class="kt">void</span><span class="w">                 </span><span class="nf">cmd_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5066</span><span class="c1">// Copy specified array into cmd, discarding previous contents.</span>
<span class="linenos">5067</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">5068</span><span class="c1">// func:command.gcache.cmd.Setary2</span>
<span class="linenos">5069</span><span class="kt">void</span><span class="w">                 </span><span class="nf">cmd_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5070</span><span class="c1">// &#39;quick&#39; Access row by row id. No bounds checking.</span>
<span class="linenos">5071</span><span class="c1">// func:command.gcache.cmd.qFind</span>
<span class="linenos">5072</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">cmd_qFind</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5073</span><span class="c1">// Return reference to last element of array. No bounds checking</span>
<span class="linenos">5074</span><span class="c1">// func:command.gcache.cmd.qLast</span>
<span class="linenos">5075</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">cmd_qLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5076</span><span class="c1">// Return row id of specified element</span>
<span class="linenos">5077</span><span class="c1">// func:command.gcache.cmd.rowid_Get</span>
<span class="linenos">5078</span><span class="n">u64</span><span class="w">                  </span><span class="nf">cmd_rowid_Get</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5079</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">5080</span><span class="c1">// func:command.gcache.cmd.AllocNVal</span>
<span class="linenos">5081</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">cmd_AllocNVal</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5082</span><span class="c1">// A single element is read from input string and appended to the array.</span>
<span class="linenos">5083</span><span class="c1">// If the string contains an error, the array is untouched.</span>
<span class="linenos">5084</span><span class="c1">// Function returns success value.</span>
<span class="linenos">5085</span><span class="c1">// func:command.gcache.cmd.ReadStrptrMaybe</span>
<span class="linenos">5086</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">cmd_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5087</span>
<span class="linenos">5088</span><span class="c1">// proceed to next item</span>
<span class="linenos">5089</span><span class="c1">// func:command.gcache.cmd_curs.Next</span>
<span class="linenos">5090</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcache_cmd_curs_Next</span><span class="p">(</span><span class="n">gcache_cmd_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5091</span><span class="c1">// func:command.gcache.cmd_curs.Reset</span>
<span class="linenos">5092</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcache_cmd_curs_Reset</span><span class="p">(</span><span class="n">gcache_cmd_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5093</span><span class="c1">// cursor points to valid item</span>
<span class="linenos">5094</span><span class="c1">// func:command.gcache.cmd_curs.ValidQ</span>
<span class="linenos">5095</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">gcache_cmd_curs_ValidQ</span><span class="p">(</span><span class="n">gcache_cmd_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5096</span><span class="c1">// item access</span>
<span class="linenos">5097</span><span class="c1">// func:command.gcache.cmd_curs.Access</span>
<span class="linenos">5098</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">gcache_cmd_curs_Access</span><span class="p">(</span><span class="n">gcache_cmd_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5099</span><span class="c1">// func:command.gcache..ReadFieldMaybe</span>
<span class="linenos">5100</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">gcache_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5101</span><span class="c1">// Read fields of command::gcache from attributes of ascii tuple TUPLE</span>
<span class="linenos">5102</span><span class="c1">// func:command.gcache..ReadTupleMaybe</span>
<span class="linenos">5103</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">gcache_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5104</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">5105</span><span class="c1">// func:command.gcache..Init</span>
<span class="linenos">5106</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcache_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5107</span><span class="c1">// func:command.gcache..Uninit</span>
<span class="linenos">5108</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcache_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5109</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">5110</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">5111</span><span class="c1">// func:command.gcache..ToCmdline</span>
<span class="linenos">5112</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">gcache_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5113</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">5114</span><span class="c1">// cfmt:command.gcache.Argv  printfmt:Tuple</span>
<span class="linenos">5115</span><span class="c1">// func:command.gcache..PrintArgv</span>
<span class="linenos">5116</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcache_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5117</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">5118</span><span class="c1">// cfmt:command.gcache.String  printfmt:Tuple</span>
<span class="linenos">5119</span><span class="c1">// func:command.gcache..Print</span>
<span class="linenos">5120</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcache_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5121</span><span class="c1">// func:command.gcache..GetAnon</span>
<span class="linenos">5122</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">gcache_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5123</span><span class="c1">// Used with command lines</span>
<span class="linenos">5124</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">5125</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">5126</span><span class="c1">// func:command.gcache..NArgs</span>
<span class="linenos">5127</span><span class="n">i32</span><span class="w">                  </span><span class="nf">gcache_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5128</span>
<span class="linenos">5129</span><span class="c1">// --- command.gcache_proc</span>
<span class="linenos">5130</span><span class="k">struct</span><span class="w"> </span><span class="nc">gcache_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.gcache_proc: Subprocess: Compiler cache</span>
<span class="linenos">5131</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/gcache&quot;  path for executable</span>
<span class="linenos">5132</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">5133</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">5134</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">5135</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">5136</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">             </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">5137</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">5138</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">5139</span><span class="w">    </span><span class="n">gcache_proc</span><span class="p">();</span>
<span class="linenos">5140</span><span class="w">    </span><span class="o">~</span><span class="n">gcache_proc</span><span class="p">();</span>
<span class="linenos">5141</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">5142</span><span class="w">    </span><span class="c1">// reftype Exec of command.gcache_proc.gcache prohibits copy</span>
<span class="linenos">5143</span><span class="w">    </span><span class="c1">// value field command.gcache_proc.cmd is not copiable</span>
<span class="linenos">5144</span><span class="w">    </span><span class="n">gcache_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">gcache_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">5145</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">gcache_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">5146</span><span class="p">};</span>
<span class="linenos">5147</span>
<span class="linenos">5148</span><span class="c1">// Start subprocess</span>
<span class="linenos">5149</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">5150</span><span class="c1">// func:command.gcache_proc.gcache.Start</span>
<span class="linenos">5151</span><span class="kt">int</span><span class="w">                  </span><span class="nf">gcache_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5152</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">5153</span><span class="c1">// func:command.gcache_proc.gcache.StartRead</span>
<span class="linenos">5154</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">gcache_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5155</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">5156</span><span class="c1">// func:command.gcache_proc.gcache.Kill</span>
<span class="linenos">5157</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcache_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5158</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">5159</span><span class="c1">// func:command.gcache_proc.gcache.Wait</span>
<span class="linenos">5160</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcache_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5161</span><span class="c1">// Start + Wait</span>
<span class="linenos">5162</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">5163</span><span class="c1">// func:command.gcache_proc.gcache.Exec</span>
<span class="linenos">5164</span><span class="kt">int</span><span class="w">                  </span><span class="nf">gcache_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5165</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">5166</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">5167</span><span class="c1">// func:command.gcache_proc.gcache.ExecX</span>
<span class="linenos">5168</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcache_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5169</span><span class="c1">// Call execv()</span>
<span class="linenos">5170</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">5171</span><span class="c1">// func:command.gcache_proc.gcache.Execv</span>
<span class="linenos">5172</span><span class="kt">int</span><span class="w">                  </span><span class="nf">gcache_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5173</span><span class="c1">// func:command.gcache_proc.gcache.ToCmdline</span>
<span class="linenos">5174</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">gcache_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5175</span><span class="c1">// Form array from the command line</span>
<span class="linenos">5176</span><span class="c1">// func:command.gcache_proc.gcache.ToArgv</span>
<span class="linenos">5177</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcache_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5178</span>
<span class="linenos">5179</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">5180</span><span class="c1">// func:command.gcache_proc..Init</span>
<span class="linenos">5181</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcache_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5182</span><span class="c1">// func:command.gcache_proc..Uninit</span>
<span class="linenos">5183</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcache_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcache_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5184</span>
<span class="linenos">5185</span><span class="c1">// --- command.gcli</span>
<span class="linenos">5186</span><span class="c1">// access: command.gcli_proc.gcli (Exec)</span>
<span class="linenos">5187</span><span class="k">struct</span><span class="w"> </span><span class="nc">gcli</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.gcli</span>
<span class="linenos">5188</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">in</span><span class="p">;</span><span class="w">                         </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">5189</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr250</span><span class="w">   </span><span class="n">selector</span><span class="p">;</span><span class="w">                   </span><span class="c1">//   &quot;issue:%&quot;  table:key, where table is issue,repo,mr, etc. and key is a regex.</span>
<span class="linenos">5190</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">      </span><span class="n">fields_elems</span><span class="p">;</span><span class="w">               </span><span class="c1">// pointer to elements</span>
<span class="linenos">5191</span><span class="w">    </span><span class="n">u32</span><span class="w">                 </span><span class="n">fields_n</span><span class="p">;</span><span class="w">                   </span><span class="c1">// number of elements in array</span>
<span class="linenos">5192</span><span class="w">    </span><span class="n">u32</span><span class="w">                 </span><span class="n">fields_max</span><span class="p">;</span><span class="w">                 </span><span class="c1">// max. capacity of array before realloc</span>
<span class="linenos">5193</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">accept</span><span class="p">;</span><span class="w">                     </span><span class="c1">//   false  (action) accept a selected merge request</span>
<span class="linenos">5194</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">start</span><span class="p">;</span><span class="w">                      </span><span class="c1">//   false  (action) start working on a selected issue</span>
<span class="linenos">5195</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">list</span><span class="p">;</span><span class="w">                       </span><span class="c1">//   false  (action) show selected table</span>
<span class="linenos">5196</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">create</span><span class="p">;</span><span class="w">                     </span><span class="c1">//   false  (action) create a table record(s)</span>
<span class="linenos">5197</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">update</span><span class="p">;</span><span class="w">                     </span><span class="c1">//   false  (action) update fields of a selected issue or mergereq</span>
<span class="linenos">5198</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">approve</span><span class="p">;</span><span class="w">                    </span><span class="c1">//   false  (action) remove draft desiognation from mergereq</span>
<span class="linenos">5199</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">needs_work</span><span class="p">;</span><span class="w">                 </span><span class="c1">//   false  (action) reopen an issue or put a draft designation on mergereq</span>
<span class="linenos">5200</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">stop</span><span class="p">;</span><span class="w">                       </span><span class="c1">//   false  (action) closes an issue, or remove mr branch after review</span>
<span class="linenos">5201</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">t</span><span class="p">;</span><span class="w">                          </span><span class="c1">//   false  Tree view: expand issue description</span>
<span class="linenos">5202</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">e</span><span class="p">;</span><span class="w">                          </span><span class="c1">//   false  edit the input</span>
<span class="linenos">5203</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">authdir</span><span class="p">;</span><span class="w">                    </span><span class="c1">//   &quot;.ssim&quot;  (setup) Input directory for auth data</span>
<span class="linenos">5204</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">dry_run</span><span class="p">;</span><span class="w">                    </span><span class="c1">//   false  Print actions, do not perform</span>
<span class="linenos">5205</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">gitdir</span><span class="p">;</span><span class="w">                     </span><span class="c1">//   &quot;&quot;  (setup) Change directory of git repository</span>
<span class="linenos">5206</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">show_gitlab_system_notes</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  (misc) Show issue and mr notes created by gitlab</span>
<span class="linenos">5207</span><span class="w">    </span><span class="n">gcli</span><span class="p">();</span>
<span class="linenos">5208</span><span class="w">    </span><span class="o">~</span><span class="n">gcli</span><span class="p">();</span>
<span class="linenos">5209</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">5210</span><span class="w">    </span><span class="c1">// reftype Tary of command.gcli.fields prohibits copy</span>
<span class="linenos">5211</span><span class="w">    </span><span class="n">gcli</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">gcli</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">5212</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">gcli</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">5213</span><span class="p">};</span>
<span class="linenos">5214</span>
<span class="linenos">5215</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">5216</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">5217</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">5218</span><span class="c1">// func:command.gcli.fields.Addary</span>
<span class="linenos">5219</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fields_Addary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5220</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">5221</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">5222</span><span class="c1">// func:command.gcli.fields.Alloc</span>
<span class="linenos">5223</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">fields_Alloc</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5224</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">5225</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">5226</span><span class="c1">// func:command.gcli.fields.AllocAt</span>
<span class="linenos">5227</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">fields_AllocAt</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5228</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">5229</span><span class="c1">// func:command.gcli.fields.AllocN</span>
<span class="linenos">5230</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fields_AllocN</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5231</span><span class="c1">// Return true if index is empty</span>
<span class="linenos">5232</span><span class="c1">// func:command.gcli.fields.EmptyQ</span>
<span class="linenos">5233</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">fields_EmptyQ</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5234</span><span class="c1">// Look up row by row id. Return NULL if out of range</span>
<span class="linenos">5235</span><span class="c1">// func:command.gcli.fields.Find</span>
<span class="linenos">5236</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">fields_Find</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5237</span><span class="c1">// Return array pointer by value</span>
<span class="linenos">5238</span><span class="c1">// func:command.gcli.fields.Getary</span>
<span class="linenos">5239</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fields_Getary</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5240</span><span class="c1">// Return pointer to last element of array, or NULL if array is empty</span>
<span class="linenos">5241</span><span class="c1">// func:command.gcli.fields.Last</span>
<span class="linenos">5242</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">fields_Last</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">5243</span><span class="c1">// Return max. number of items in the array</span>
<span class="linenos">5244</span><span class="c1">// func:command.gcli.fields.Max</span>
<span class="linenos">5245</span><span class="n">i32</span><span class="w">                  </span><span class="nf">fields_Max</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5246</span><span class="c1">// Return number of items in the array</span>
<span class="linenos">5247</span><span class="c1">// func:command.gcli.fields.N</span>
<span class="linenos">5248</span><span class="n">i32</span><span class="w">                  </span><span class="nf">fields_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">5249</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">5250</span><span class="c1">// func:command.gcli.fields.Remove</span>
<span class="linenos">5251</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fields_Remove</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5252</span><span class="c1">// func:command.gcli.fields.RemoveAll</span>
<span class="linenos">5253</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fields_RemoveAll</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5254</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">5255</span><span class="c1">// func:command.gcli.fields.RemoveLast</span>
<span class="linenos">5256</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fields_RemoveLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5257</span><span class="c1">// Make sure N *more* elements will fit in array. Process dies if out of memory</span>
<span class="linenos">5258</span><span class="c1">// func:command.gcli.fields.Reserve</span>
<span class="linenos">5259</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fields_Reserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5260</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">5261</span><span class="c1">// func:command.gcli.fields.AbsReserve</span>
<span class="linenos">5262</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fields_AbsReserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5263</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">5264</span><span class="c1">// func:command.gcli.fields.Setary</span>
<span class="linenos">5265</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fields_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5266</span><span class="c1">// Copy specified array into fields, discarding previous contents.</span>
<span class="linenos">5267</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">5268</span><span class="c1">// func:command.gcli.fields.Setary2</span>
<span class="linenos">5269</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fields_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5270</span><span class="c1">// &#39;quick&#39; Access row by row id. No bounds checking.</span>
<span class="linenos">5271</span><span class="c1">// func:command.gcli.fields.qFind</span>
<span class="linenos">5272</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">fields_qFind</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5273</span><span class="c1">// Return reference to last element of array. No bounds checking</span>
<span class="linenos">5274</span><span class="c1">// func:command.gcli.fields.qLast</span>
<span class="linenos">5275</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">fields_qLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5276</span><span class="c1">// Return row id of specified element</span>
<span class="linenos">5277</span><span class="c1">// func:command.gcli.fields.rowid_Get</span>
<span class="linenos">5278</span><span class="n">u64</span><span class="w">                  </span><span class="nf">fields_rowid_Get</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5279</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">5280</span><span class="c1">// func:command.gcli.fields.AllocNVal</span>
<span class="linenos">5281</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fields_AllocNVal</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5282</span><span class="c1">// A single element is read from input string and appended to the array.</span>
<span class="linenos">5283</span><span class="c1">// If the string contains an error, the array is untouched.</span>
<span class="linenos">5284</span><span class="c1">// Function returns success value.</span>
<span class="linenos">5285</span><span class="c1">// func:command.gcli.fields.ReadStrptrMaybe</span>
<span class="linenos">5286</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">fields_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5287</span>
<span class="linenos">5288</span><span class="c1">// proceed to next item</span>
<span class="linenos">5289</span><span class="c1">// func:command.gcli.fields_curs.Next</span>
<span class="linenos">5290</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcli_fields_curs_Next</span><span class="p">(</span><span class="n">gcli_fields_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5291</span><span class="c1">// func:command.gcli.fields_curs.Reset</span>
<span class="linenos">5292</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcli_fields_curs_Reset</span><span class="p">(</span><span class="n">gcli_fields_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5293</span><span class="c1">// cursor points to valid item</span>
<span class="linenos">5294</span><span class="c1">// func:command.gcli.fields_curs.ValidQ</span>
<span class="linenos">5295</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">gcli_fields_curs_ValidQ</span><span class="p">(</span><span class="n">gcli_fields_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5296</span><span class="c1">// item access</span>
<span class="linenos">5297</span><span class="c1">// func:command.gcli.fields_curs.Access</span>
<span class="linenos">5298</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">gcli_fields_curs_Access</span><span class="p">(</span><span class="n">gcli_fields_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5299</span><span class="c1">// func:command.gcli..ReadFieldMaybe</span>
<span class="linenos">5300</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">gcli_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5301</span><span class="c1">// Read fields of command::gcli from attributes of ascii tuple TUPLE</span>
<span class="linenos">5302</span><span class="c1">// func:command.gcli..ReadTupleMaybe</span>
<span class="linenos">5303</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">gcli_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5304</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">5305</span><span class="c1">// func:command.gcli..Init</span>
<span class="linenos">5306</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcli_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5307</span><span class="c1">// func:command.gcli..Uninit</span>
<span class="linenos">5308</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcli_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5309</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">5310</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">5311</span><span class="c1">// func:command.gcli..ToCmdline</span>
<span class="linenos">5312</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">gcli_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5313</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">5314</span><span class="c1">// cfmt:command.gcli.Argv  printfmt:Tuple</span>
<span class="linenos">5315</span><span class="c1">// func:command.gcli..PrintArgv</span>
<span class="linenos">5316</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcli_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5317</span><span class="c1">// func:command.gcli..GetAnon</span>
<span class="linenos">5318</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">gcli_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5319</span><span class="c1">// Used with command lines</span>
<span class="linenos">5320</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">5321</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">5322</span><span class="c1">// func:command.gcli..NArgs</span>
<span class="linenos">5323</span><span class="n">i32</span><span class="w">                  </span><span class="nf">gcli_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5324</span>
<span class="linenos">5325</span><span class="c1">// --- command.gcli_proc</span>
<span class="linenos">5326</span><span class="k">struct</span><span class="w"> </span><span class="nc">gcli_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.gcli_proc: Subprocess: Gcli - gitlab/github command-line client</span>
<span class="linenos">5327</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/gcli&quot;  path for executable</span>
<span class="linenos">5328</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">gcli</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">5329</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">5330</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">5331</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">5332</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">           </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">5333</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">5334</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">5335</span><span class="w">    </span><span class="n">gcli_proc</span><span class="p">();</span>
<span class="linenos">5336</span><span class="w">    </span><span class="o">~</span><span class="n">gcli_proc</span><span class="p">();</span>
<span class="linenos">5337</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">5338</span><span class="w">    </span><span class="c1">// reftype Exec of command.gcli_proc.gcli prohibits copy</span>
<span class="linenos">5339</span><span class="w">    </span><span class="c1">// value field command.gcli_proc.cmd is not copiable</span>
<span class="linenos">5340</span><span class="w">    </span><span class="n">gcli_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">gcli_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">5341</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">gcli_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">5342</span><span class="p">};</span>
<span class="linenos">5343</span>
<span class="linenos">5344</span><span class="c1">// Start subprocess</span>
<span class="linenos">5345</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">5346</span><span class="c1">// func:command.gcli_proc.gcli.Start</span>
<span class="linenos">5347</span><span class="kt">int</span><span class="w">                  </span><span class="nf">gcli_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5348</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">5349</span><span class="c1">// func:command.gcli_proc.gcli.StartRead</span>
<span class="linenos">5350</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">gcli_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5351</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">5352</span><span class="c1">// func:command.gcli_proc.gcli.Kill</span>
<span class="linenos">5353</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcli_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5354</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">5355</span><span class="c1">// func:command.gcli_proc.gcli.Wait</span>
<span class="linenos">5356</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcli_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5357</span><span class="c1">// Start + Wait</span>
<span class="linenos">5358</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">5359</span><span class="c1">// func:command.gcli_proc.gcli.Exec</span>
<span class="linenos">5360</span><span class="kt">int</span><span class="w">                  </span><span class="nf">gcli_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5361</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">5362</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">5363</span><span class="c1">// func:command.gcli_proc.gcli.ExecX</span>
<span class="linenos">5364</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcli_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5365</span><span class="c1">// Call execv()</span>
<span class="linenos">5366</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">5367</span><span class="c1">// func:command.gcli_proc.gcli.Execv</span>
<span class="linenos">5368</span><span class="kt">int</span><span class="w">                  </span><span class="nf">gcli_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5369</span><span class="c1">// func:command.gcli_proc.gcli.ToCmdline</span>
<span class="linenos">5370</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">gcli_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5371</span><span class="c1">// Form array from the command line</span>
<span class="linenos">5372</span><span class="c1">// func:command.gcli_proc.gcli.ToArgv</span>
<span class="linenos">5373</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcli_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5374</span>
<span class="linenos">5375</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">5376</span><span class="c1">// func:command.gcli_proc..Init</span>
<span class="linenos">5377</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcli_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5378</span><span class="c1">// func:command.gcli_proc..Uninit</span>
<span class="linenos">5379</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gcli_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5380</span>
<span class="linenos">5381</span><span class="c1">// --- command.gmv</span>
<span class="linenos">5382</span><span class="c1">// access: command.gmv_proc.gmv (Exec)</span>
<span class="linenos">5383</span><span class="k">struct</span><span class="w"> </span><span class="nc">gmv</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.gmv</span>
<span class="linenos">5384</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">5385</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">gmvproj</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;wiki-algornd&quot;  Sql Regx of gmvdb::Gmvproj</span>
<span class="linenos">5386</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">move_out</span><span class="p">;</span><span class="w">    </span><span class="c1">//   false  move data from current project to target project</span>
<span class="linenos">5387</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">move_in</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  move data to current project from target project</span>
<span class="linenos">5388</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">commit</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  (with move_out) - commit moved data to target project</span>
<span class="linenos">5389</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">no_rebase</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  (with commit) - don&#39;t rebase - commit ONLY moved data</span>
<span class="linenos">5390</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">dry_run</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Print actions, do not perform</span>
<span class="linenos">5391</span><span class="w">    </span><span class="n">gmv</span><span class="p">();</span>
<span class="linenos">5392</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">5393</span><span class="w">    </span><span class="c1">// reftype Regx of command.gmv.gmvproj prohibits copy</span>
<span class="linenos">5394</span><span class="w">    </span><span class="n">gmv</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">gmv</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">5395</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">gmv</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">5396</span><span class="p">};</span>
<span class="linenos">5397</span>
<span class="linenos">5398</span><span class="c1">// Print back to string</span>
<span class="linenos">5399</span><span class="c1">// func:command.gmv.gmvproj.Print</span>
<span class="linenos">5400</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gmvproj_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gmv</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5401</span><span class="c1">// Read Regx from string</span>
<span class="linenos">5402</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">5403</span><span class="c1">// func:command.gmv.gmvproj.ReadStrptrMaybe</span>
<span class="linenos">5404</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">gmvproj_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gmv</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5405</span>
<span class="linenos">5406</span><span class="c1">// func:command.gmv..ReadFieldMaybe</span>
<span class="linenos">5407</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">gmv_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gmv</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5408</span><span class="c1">// Read fields of command::gmv from attributes of ascii tuple TUPLE</span>
<span class="linenos">5409</span><span class="c1">// func:command.gmv..ReadTupleMaybe</span>
<span class="linenos">5410</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">gmv_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gmv</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5411</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">5412</span><span class="c1">// func:command.gmv..Init</span>
<span class="linenos">5413</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gmv_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gmv</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5414</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">5415</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">5416</span><span class="c1">// func:command.gmv..ToCmdline</span>
<span class="linenos">5417</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">gmv_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gmv</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5418</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">5419</span><span class="c1">// cfmt:command.gmv.Argv  printfmt:Tuple</span>
<span class="linenos">5420</span><span class="c1">// func:command.gmv..PrintArgv</span>
<span class="linenos">5421</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gmv_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gmv</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5422</span><span class="c1">// Used with command lines</span>
<span class="linenos">5423</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">5424</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">5425</span><span class="c1">// func:command.gmv..NArgs</span>
<span class="linenos">5426</span><span class="n">i32</span><span class="w">                  </span><span class="nf">gmv_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5427</span>
<span class="linenos">5428</span><span class="c1">// --- command.gmv_proc</span>
<span class="linenos">5429</span><span class="k">struct</span><span class="w"> </span><span class="nc">gmv_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.gmv_proc: Subprocess: Utility to move parts of the project in or out to a different project</span>
<span class="linenos">5430</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/gmv&quot;  path for executable</span>
<span class="linenos">5431</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">gmv</span><span class="w">    </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">5432</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">5433</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">5434</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">5435</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">           </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">5436</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">5437</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">5438</span><span class="w">    </span><span class="n">gmv_proc</span><span class="p">();</span>
<span class="linenos">5439</span><span class="w">    </span><span class="o">~</span><span class="n">gmv_proc</span><span class="p">();</span>
<span class="linenos">5440</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">5441</span><span class="w">    </span><span class="c1">// reftype Exec of command.gmv_proc.gmv prohibits copy</span>
<span class="linenos">5442</span><span class="w">    </span><span class="c1">// value field command.gmv_proc.cmd is not copiable</span>
<span class="linenos">5443</span><span class="w">    </span><span class="n">gmv_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">gmv_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">5444</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">gmv_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">5445</span><span class="p">};</span>
<span class="linenos">5446</span>
<span class="linenos">5447</span><span class="c1">// Start subprocess</span>
<span class="linenos">5448</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">5449</span><span class="c1">// func:command.gmv_proc.gmv.Start</span>
<span class="linenos">5450</span><span class="kt">int</span><span class="w">                  </span><span class="nf">gmv_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gmv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5451</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">5452</span><span class="c1">// func:command.gmv_proc.gmv.StartRead</span>
<span class="linenos">5453</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">gmv_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gmv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5454</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">5455</span><span class="c1">// func:command.gmv_proc.gmv.Kill</span>
<span class="linenos">5456</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gmv_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gmv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5457</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">5458</span><span class="c1">// func:command.gmv_proc.gmv.Wait</span>
<span class="linenos">5459</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gmv_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gmv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5460</span><span class="c1">// Start + Wait</span>
<span class="linenos">5461</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">5462</span><span class="c1">// func:command.gmv_proc.gmv.Exec</span>
<span class="linenos">5463</span><span class="kt">int</span><span class="w">                  </span><span class="nf">gmv_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gmv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5464</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">5465</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">5466</span><span class="c1">// func:command.gmv_proc.gmv.ExecX</span>
<span class="linenos">5467</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gmv_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gmv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5468</span><span class="c1">// Call execv()</span>
<span class="linenos">5469</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">5470</span><span class="c1">// func:command.gmv_proc.gmv.Execv</span>
<span class="linenos">5471</span><span class="kt">int</span><span class="w">                  </span><span class="nf">gmv_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gmv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5472</span><span class="c1">// func:command.gmv_proc.gmv.ToCmdline</span>
<span class="linenos">5473</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">gmv_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gmv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5474</span><span class="c1">// Form array from the command line</span>
<span class="linenos">5475</span><span class="c1">// func:command.gmv_proc.gmv.ToArgv</span>
<span class="linenos">5476</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gmv_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gmv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5477</span>
<span class="linenos">5478</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">5479</span><span class="c1">// func:command.gmv_proc..Init</span>
<span class="linenos">5480</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gmv_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gmv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5481</span><span class="c1">// func:command.gmv_proc..Uninit</span>
<span class="linenos">5482</span><span class="kt">void</span><span class="w">                 </span><span class="nf">gmv_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">gmv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5483</span>
<span class="linenos">5484</span><span class="c1">// --- command.mdbg</span>
<span class="linenos">5485</span><span class="c1">// access: command.mdbg_proc.mdbg (Exec)</span>
<span class="linenos">5486</span><span class="k">struct</span><span class="w"> </span><span class="nc">mdbg</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.mdbg</span>
<span class="linenos">5487</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr16</span><span class="w">   </span><span class="n">target</span><span class="p">;</span><span class="w">         </span><span class="c1">// Executable name</span>
<span class="linenos">5488</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">in</span><span class="p">;</span><span class="w">             </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">5489</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">     </span><span class="n">args_elems</span><span class="p">;</span><span class="w">     </span><span class="c1">// pointer to elements</span>
<span class="linenos">5490</span><span class="w">    </span><span class="n">u32</span><span class="w">                </span><span class="n">args_n</span><span class="p">;</span><span class="w">         </span><span class="c1">// number of elements in array</span>
<span class="linenos">5491</span><span class="w">    </span><span class="n">u32</span><span class="w">                </span><span class="n">args_max</span><span class="p">;</span><span class="w">       </span><span class="c1">// max. capacity of array before realloc</span>
<span class="linenos">5492</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">   </span><span class="n">cfg</span><span class="p">;</span><span class="w">            </span><span class="c1">//   &quot;debug&quot;  Configuration to use</span>
<span class="linenos">5493</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">disas</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  Show disassembly (use F12)</span>
<span class="linenos">5494</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">attach</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Attach to a running process</span>
<span class="linenos">5495</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">     </span><span class="n">b_elems</span><span class="p">;</span><span class="w">        </span><span class="c1">// pointer to elements</span>
<span class="linenos">5496</span><span class="w">    </span><span class="n">u32</span><span class="w">                </span><span class="n">b_n</span><span class="p">;</span><span class="w">            </span><span class="c1">// number of elements in array</span>
<span class="linenos">5497</span><span class="w">    </span><span class="n">u32</span><span class="w">                </span><span class="n">b_max</span><span class="p">;</span><span class="w">          </span><span class="c1">// max. capacity of array before realloc</span>
<span class="linenos">5498</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">catchthrow</span><span class="p">;</span><span class="w">     </span><span class="c1">//   true  Stop on exceptions</span>
<span class="linenos">5499</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">tui</span><span class="p">;</span><span class="w">            </span><span class="c1">//   false  Use gdb -tui as the debugger</span>
<span class="linenos">5500</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">bcmd</span><span class="p">;</span><span class="w">           </span><span class="c1">//   &quot;&quot;  Evaluate command at breakpoint</span>
<span class="linenos">5501</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">emacs</span><span class="p">;</span><span class="w">          </span><span class="c1">//   true  Use emacs environment as the debugger</span>
<span class="linenos">5502</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">manywin</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false  Use gdb-many-windows emacs mode</span>
<span class="linenos">5503</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">follow_child</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false</span>
<span class="linenos">5504</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">py</span><span class="p">;</span><span class="w">             </span><span class="c1">//   false  Enable python scripting</span>
<span class="linenos">5505</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">dry_run</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false  Print commands but don&#39;t execute</span>
<span class="linenos">5506</span><span class="w">    </span><span class="n">mdbg</span><span class="p">();</span>
<span class="linenos">5507</span><span class="w">    </span><span class="o">~</span><span class="n">mdbg</span><span class="p">();</span>
<span class="linenos">5508</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">5509</span><span class="w">    </span><span class="c1">// reftype Tary of command.mdbg.args prohibits copy</span>
<span class="linenos">5510</span><span class="w">    </span><span class="c1">// reftype Tary of command.mdbg.b prohibits copy</span>
<span class="linenos">5511</span><span class="w">    </span><span class="n">mdbg</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mdbg</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">5512</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mdbg</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">5513</span><span class="p">};</span>
<span class="linenos">5514</span>
<span class="linenos">5515</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">5516</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">5517</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">5518</span><span class="c1">// func:command.mdbg.args.Addary</span>
<span class="linenos">5519</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">args_Addary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5520</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">5521</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">5522</span><span class="c1">// func:command.mdbg.args.Alloc</span>
<span class="linenos">5523</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">args_Alloc</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5524</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">5525</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">5526</span><span class="c1">// func:command.mdbg.args.AllocAt</span>
<span class="linenos">5527</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">args_AllocAt</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5528</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">5529</span><span class="c1">// func:command.mdbg.args.AllocN</span>
<span class="linenos">5530</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">args_AllocN</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5531</span><span class="c1">// Return true if index is empty</span>
<span class="linenos">5532</span><span class="c1">// func:command.mdbg.args.EmptyQ</span>
<span class="linenos">5533</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">args_EmptyQ</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5534</span><span class="c1">// Look up row by row id. Return NULL if out of range</span>
<span class="linenos">5535</span><span class="c1">// func:command.mdbg.args.Find</span>
<span class="linenos">5536</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">args_Find</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5537</span><span class="c1">// Return array pointer by value</span>
<span class="linenos">5538</span><span class="c1">// func:command.mdbg.args.Getary</span>
<span class="linenos">5539</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">args_Getary</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5540</span><span class="c1">// Return pointer to last element of array, or NULL if array is empty</span>
<span class="linenos">5541</span><span class="c1">// func:command.mdbg.args.Last</span>
<span class="linenos">5542</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">args_Last</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">5543</span><span class="c1">// Return max. number of items in the array</span>
<span class="linenos">5544</span><span class="c1">// func:command.mdbg.args.Max</span>
<span class="linenos">5545</span><span class="n">i32</span><span class="w">                  </span><span class="nf">args_Max</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5546</span><span class="c1">// Return number of items in the array</span>
<span class="linenos">5547</span><span class="c1">// func:command.mdbg.args.N</span>
<span class="linenos">5548</span><span class="n">i32</span><span class="w">                  </span><span class="nf">args_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">5549</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">5550</span><span class="c1">// func:command.mdbg.args.Remove</span>
<span class="linenos">5551</span><span class="kt">void</span><span class="w">                 </span><span class="nf">args_Remove</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5552</span><span class="c1">// func:command.mdbg.args.RemoveAll</span>
<span class="linenos">5553</span><span class="kt">void</span><span class="w">                 </span><span class="nf">args_RemoveAll</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5554</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">5555</span><span class="c1">// func:command.mdbg.args.RemoveLast</span>
<span class="linenos">5556</span><span class="kt">void</span><span class="w">                 </span><span class="nf">args_RemoveLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5557</span><span class="c1">// Make sure N *more* elements will fit in array. Process dies if out of memory</span>
<span class="linenos">5558</span><span class="c1">// func:command.mdbg.args.Reserve</span>
<span class="linenos">5559</span><span class="kt">void</span><span class="w">                 </span><span class="nf">args_Reserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5560</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">5561</span><span class="c1">// func:command.mdbg.args.AbsReserve</span>
<span class="linenos">5562</span><span class="kt">void</span><span class="w">                 </span><span class="nf">args_AbsReserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5563</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">5564</span><span class="c1">// func:command.mdbg.args.Setary</span>
<span class="linenos">5565</span><span class="kt">void</span><span class="w">                 </span><span class="nf">args_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5566</span><span class="c1">// Copy specified array into args, discarding previous contents.</span>
<span class="linenos">5567</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">5568</span><span class="c1">// func:command.mdbg.args.Setary2</span>
<span class="linenos">5569</span><span class="kt">void</span><span class="w">                 </span><span class="nf">args_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5570</span><span class="c1">// &#39;quick&#39; Access row by row id. No bounds checking.</span>
<span class="linenos">5571</span><span class="c1">// func:command.mdbg.args.qFind</span>
<span class="linenos">5572</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">args_qFind</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5573</span><span class="c1">// Return reference to last element of array. No bounds checking</span>
<span class="linenos">5574</span><span class="c1">// func:command.mdbg.args.qLast</span>
<span class="linenos">5575</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">args_qLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5576</span><span class="c1">// Return row id of specified element</span>
<span class="linenos">5577</span><span class="c1">// func:command.mdbg.args.rowid_Get</span>
<span class="linenos">5578</span><span class="n">u64</span><span class="w">                  </span><span class="nf">args_rowid_Get</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5579</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">5580</span><span class="c1">// func:command.mdbg.args.AllocNVal</span>
<span class="linenos">5581</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">args_AllocNVal</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5582</span><span class="c1">// A single element is read from input string and appended to the array.</span>
<span class="linenos">5583</span><span class="c1">// If the string contains an error, the array is untouched.</span>
<span class="linenos">5584</span><span class="c1">// Function returns success value.</span>
<span class="linenos">5585</span><span class="c1">// func:command.mdbg.args.ReadStrptrMaybe</span>
<span class="linenos">5586</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">args_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5587</span>
<span class="linenos">5588</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">5589</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">5590</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">5591</span><span class="c1">// func:command.mdbg.b.Addary</span>
<span class="linenos">5592</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">b_Addary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5593</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">5594</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">5595</span><span class="c1">// func:command.mdbg.b.Alloc</span>
<span class="linenos">5596</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">b_Alloc</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5597</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">5598</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">5599</span><span class="c1">// func:command.mdbg.b.AllocAt</span>
<span class="linenos">5600</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">b_AllocAt</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5601</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">5602</span><span class="c1">// func:command.mdbg.b.AllocN</span>
<span class="linenos">5603</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">b_AllocN</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5604</span><span class="c1">// Return true if index is empty</span>
<span class="linenos">5605</span><span class="c1">// func:command.mdbg.b.EmptyQ</span>
<span class="linenos">5606</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">b_EmptyQ</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5607</span><span class="c1">// Look up row by row id. Return NULL if out of range</span>
<span class="linenos">5608</span><span class="c1">// func:command.mdbg.b.Find</span>
<span class="linenos">5609</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">b_Find</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5610</span><span class="c1">// Return array pointer by value</span>
<span class="linenos">5611</span><span class="c1">// func:command.mdbg.b.Getary</span>
<span class="linenos">5612</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">b_Getary</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5613</span><span class="c1">// Return pointer to last element of array, or NULL if array is empty</span>
<span class="linenos">5614</span><span class="c1">// func:command.mdbg.b.Last</span>
<span class="linenos">5615</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">b_Last</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">5616</span><span class="c1">// Return max. number of items in the array</span>
<span class="linenos">5617</span><span class="c1">// func:command.mdbg.b.Max</span>
<span class="linenos">5618</span><span class="n">i32</span><span class="w">                  </span><span class="nf">b_Max</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5619</span><span class="c1">// Return number of items in the array</span>
<span class="linenos">5620</span><span class="c1">// func:command.mdbg.b.N</span>
<span class="linenos">5621</span><span class="n">i32</span><span class="w">                  </span><span class="nf">b_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">5622</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">5623</span><span class="c1">// func:command.mdbg.b.Remove</span>
<span class="linenos">5624</span><span class="kt">void</span><span class="w">                 </span><span class="nf">b_Remove</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5625</span><span class="c1">// func:command.mdbg.b.RemoveAll</span>
<span class="linenos">5626</span><span class="kt">void</span><span class="w">                 </span><span class="nf">b_RemoveAll</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5627</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">5628</span><span class="c1">// func:command.mdbg.b.RemoveLast</span>
<span class="linenos">5629</span><span class="kt">void</span><span class="w">                 </span><span class="nf">b_RemoveLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5630</span><span class="c1">// Make sure N *more* elements will fit in array. Process dies if out of memory</span>
<span class="linenos">5631</span><span class="c1">// func:command.mdbg.b.Reserve</span>
<span class="linenos">5632</span><span class="kt">void</span><span class="w">                 </span><span class="nf">b_Reserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5633</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">5634</span><span class="c1">// func:command.mdbg.b.AbsReserve</span>
<span class="linenos">5635</span><span class="kt">void</span><span class="w">                 </span><span class="nf">b_AbsReserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5636</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">5637</span><span class="c1">// func:command.mdbg.b.Setary</span>
<span class="linenos">5638</span><span class="kt">void</span><span class="w">                 </span><span class="nf">b_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5639</span><span class="c1">// Copy specified array into b, discarding previous contents.</span>
<span class="linenos">5640</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">5641</span><span class="c1">// func:command.mdbg.b.Setary2</span>
<span class="linenos">5642</span><span class="kt">void</span><span class="w">                 </span><span class="nf">b_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5643</span><span class="c1">// &#39;quick&#39; Access row by row id. No bounds checking.</span>
<span class="linenos">5644</span><span class="c1">// func:command.mdbg.b.qFind</span>
<span class="linenos">5645</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">b_qFind</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5646</span><span class="c1">// Return reference to last element of array. No bounds checking</span>
<span class="linenos">5647</span><span class="c1">// func:command.mdbg.b.qLast</span>
<span class="linenos">5648</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">b_qLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5649</span><span class="c1">// Return row id of specified element</span>
<span class="linenos">5650</span><span class="c1">// func:command.mdbg.b.rowid_Get</span>
<span class="linenos">5651</span><span class="n">u64</span><span class="w">                  </span><span class="nf">b_rowid_Get</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5652</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">5653</span><span class="c1">// func:command.mdbg.b.AllocNVal</span>
<span class="linenos">5654</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">b_AllocNVal</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5655</span><span class="c1">// A single element is read from input string and appended to the array.</span>
<span class="linenos">5656</span><span class="c1">// If the string contains an error, the array is untouched.</span>
<span class="linenos">5657</span><span class="c1">// Function returns success value.</span>
<span class="linenos">5658</span><span class="c1">// func:command.mdbg.b.ReadStrptrMaybe</span>
<span class="linenos">5659</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">b_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5660</span>
<span class="linenos">5661</span><span class="c1">// proceed to next item</span>
<span class="linenos">5662</span><span class="c1">// func:command.mdbg.args_curs.Next</span>
<span class="linenos">5663</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mdbg_args_curs_Next</span><span class="p">(</span><span class="n">mdbg_args_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5664</span><span class="c1">// func:command.mdbg.args_curs.Reset</span>
<span class="linenos">5665</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mdbg_args_curs_Reset</span><span class="p">(</span><span class="n">mdbg_args_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5666</span><span class="c1">// cursor points to valid item</span>
<span class="linenos">5667</span><span class="c1">// func:command.mdbg.args_curs.ValidQ</span>
<span class="linenos">5668</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">mdbg_args_curs_ValidQ</span><span class="p">(</span><span class="n">mdbg_args_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5669</span><span class="c1">// item access</span>
<span class="linenos">5670</span><span class="c1">// func:command.mdbg.args_curs.Access</span>
<span class="linenos">5671</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">mdbg_args_curs_Access</span><span class="p">(</span><span class="n">mdbg_args_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5672</span><span class="c1">// proceed to next item</span>
<span class="linenos">5673</span><span class="c1">// func:command.mdbg.b_curs.Next</span>
<span class="linenos">5674</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mdbg_b_curs_Next</span><span class="p">(</span><span class="n">mdbg_b_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5675</span><span class="c1">// func:command.mdbg.b_curs.Reset</span>
<span class="linenos">5676</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mdbg_b_curs_Reset</span><span class="p">(</span><span class="n">mdbg_b_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5677</span><span class="c1">// cursor points to valid item</span>
<span class="linenos">5678</span><span class="c1">// func:command.mdbg.b_curs.ValidQ</span>
<span class="linenos">5679</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">mdbg_b_curs_ValidQ</span><span class="p">(</span><span class="n">mdbg_b_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5680</span><span class="c1">// item access</span>
<span class="linenos">5681</span><span class="c1">// func:command.mdbg.b_curs.Access</span>
<span class="linenos">5682</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">mdbg_b_curs_Access</span><span class="p">(</span><span class="n">mdbg_b_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5683</span><span class="c1">// func:command.mdbg..ReadFieldMaybe</span>
<span class="linenos">5684</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">mdbg_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5685</span><span class="c1">// Read fields of command::mdbg from attributes of ascii tuple TUPLE</span>
<span class="linenos">5686</span><span class="c1">// func:command.mdbg..ReadTupleMaybe</span>
<span class="linenos">5687</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">mdbg_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5688</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">5689</span><span class="c1">// func:command.mdbg..Init</span>
<span class="linenos">5690</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mdbg_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5691</span><span class="c1">// func:command.mdbg..Uninit</span>
<span class="linenos">5692</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mdbg_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5693</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">5694</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">5695</span><span class="c1">// func:command.mdbg..ToCmdline</span>
<span class="linenos">5696</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">mdbg_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5697</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">5698</span><span class="c1">// cfmt:command.mdbg.Argv  printfmt:Auto</span>
<span class="linenos">5699</span><span class="c1">// func:command.mdbg..PrintArgv</span>
<span class="linenos">5700</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mdbg_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5701</span><span class="c1">// func:command.mdbg..GetAnon</span>
<span class="linenos">5702</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">mdbg_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5703</span><span class="c1">// Used with command lines</span>
<span class="linenos">5704</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">5705</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">5706</span><span class="c1">// func:command.mdbg..NArgs</span>
<span class="linenos">5707</span><span class="n">i32</span><span class="w">                  </span><span class="nf">mdbg_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5708</span>
<span class="linenos">5709</span><span class="c1">// --- command.mdbg_proc</span>
<span class="linenos">5710</span><span class="k">struct</span><span class="w"> </span><span class="nc">mdbg_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.mdbg_proc: Subprocess: Gdb front-end</span>
<span class="linenos">5711</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/mdbg&quot;  path for executable</span>
<span class="linenos">5712</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">mdbg</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">5713</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">5714</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">5715</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">5716</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">           </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">5717</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">5718</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">5719</span><span class="w">    </span><span class="n">mdbg_proc</span><span class="p">();</span>
<span class="linenos">5720</span><span class="w">    </span><span class="o">~</span><span class="n">mdbg_proc</span><span class="p">();</span>
<span class="linenos">5721</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">5722</span><span class="w">    </span><span class="c1">// reftype Exec of command.mdbg_proc.mdbg prohibits copy</span>
<span class="linenos">5723</span><span class="w">    </span><span class="c1">// value field command.mdbg_proc.cmd is not copiable</span>
<span class="linenos">5724</span><span class="w">    </span><span class="n">mdbg_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mdbg_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">5725</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mdbg_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">5726</span><span class="p">};</span>
<span class="linenos">5727</span>
<span class="linenos">5728</span><span class="c1">// Start subprocess</span>
<span class="linenos">5729</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">5730</span><span class="c1">// func:command.mdbg_proc.mdbg.Start</span>
<span class="linenos">5731</span><span class="kt">int</span><span class="w">                  </span><span class="nf">mdbg_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5732</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">5733</span><span class="c1">// func:command.mdbg_proc.mdbg.StartRead</span>
<span class="linenos">5734</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">mdbg_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5735</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">5736</span><span class="c1">// func:command.mdbg_proc.mdbg.Kill</span>
<span class="linenos">5737</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mdbg_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5738</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">5739</span><span class="c1">// func:command.mdbg_proc.mdbg.Wait</span>
<span class="linenos">5740</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mdbg_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5741</span><span class="c1">// Start + Wait</span>
<span class="linenos">5742</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">5743</span><span class="c1">// func:command.mdbg_proc.mdbg.Exec</span>
<span class="linenos">5744</span><span class="kt">int</span><span class="w">                  </span><span class="nf">mdbg_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5745</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">5746</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">5747</span><span class="c1">// func:command.mdbg_proc.mdbg.ExecX</span>
<span class="linenos">5748</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mdbg_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5749</span><span class="c1">// Call execv()</span>
<span class="linenos">5750</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">5751</span><span class="c1">// func:command.mdbg_proc.mdbg.Execv</span>
<span class="linenos">5752</span><span class="kt">int</span><span class="w">                  </span><span class="nf">mdbg_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5753</span><span class="c1">// func:command.mdbg_proc.mdbg.ToCmdline</span>
<span class="linenos">5754</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">mdbg_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5755</span><span class="c1">// Form array from the command line</span>
<span class="linenos">5756</span><span class="c1">// func:command.mdbg_proc.mdbg.ToArgv</span>
<span class="linenos">5757</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mdbg_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5758</span>
<span class="linenos">5759</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">5760</span><span class="c1">// func:command.mdbg_proc..Init</span>
<span class="linenos">5761</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mdbg_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5762</span><span class="c1">// func:command.mdbg_proc..Uninit</span>
<span class="linenos">5763</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mdbg_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mdbg_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5764</span>
<span class="linenos">5765</span><span class="c1">// --- command.mysql2ssim</span>
<span class="linenos">5766</span><span class="c1">// access: command.mysql2ssim_proc.mysql2ssim (Exec)</span>
<span class="linenos">5767</span><span class="k">struct</span><span class="w"> </span><span class="nc">mysql2ssim</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.mysql2ssim</span>
<span class="linenos">5768</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">writessimfile</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  Write to ssimfile directly</span>
<span class="linenos">5769</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">url</span><span class="p">;</span><span class="w">             </span><span class="c1">// user:pass@host/db or sock:///filename/db</span>
<span class="linenos">5770</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">tables</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;&quot;  comma-separated list of tables. Default is all tables</span>
<span class="linenos">5771</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">schema</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  Generate ssim type definition</span>
<span class="linenos">5772</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">in</span><span class="p">;</span><span class="w">              </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">5773</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">pretty</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  Format output for the screen</span>
<span class="linenos">5774</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">nologo</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  Don&#39;t show copyright notice</span>
<span class="linenos">5775</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">baddbok</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Don&#39;t claim if bad database</span>
<span class="linenos">5776</span><span class="w">    </span><span class="n">mysql2ssim</span><span class="p">();</span>
<span class="linenos">5777</span><span class="p">};</span>
<span class="linenos">5778</span>
<span class="linenos">5779</span><span class="c1">// func:command.mysql2ssim..ReadFieldMaybe</span>
<span class="linenos">5780</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">mysql2ssim_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mysql2ssim</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5781</span><span class="c1">// Read fields of command::mysql2ssim from attributes of ascii tuple TUPLE</span>
<span class="linenos">5782</span><span class="c1">// func:command.mysql2ssim..ReadTupleMaybe</span>
<span class="linenos">5783</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">mysql2ssim_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mysql2ssim</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5784</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">5785</span><span class="c1">// func:command.mysql2ssim..Init</span>
<span class="linenos">5786</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mysql2ssim_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mysql2ssim</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5787</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">5788</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">5789</span><span class="c1">// func:command.mysql2ssim..ToCmdline</span>
<span class="linenos">5790</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">mysql2ssim_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mysql2ssim</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5791</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">5792</span><span class="c1">// cfmt:command.mysql2ssim.Argv  printfmt:Auto</span>
<span class="linenos">5793</span><span class="c1">// func:command.mysql2ssim..PrintArgv</span>
<span class="linenos">5794</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mysql2ssim_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mysql2ssim</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5795</span><span class="c1">// func:command.mysql2ssim..GetAnon</span>
<span class="linenos">5796</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">mysql2ssim_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mysql2ssim</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5797</span><span class="c1">// Used with command lines</span>
<span class="linenos">5798</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">5799</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">5800</span><span class="c1">// func:command.mysql2ssim..NArgs</span>
<span class="linenos">5801</span><span class="n">i32</span><span class="w">                  </span><span class="nf">mysql2ssim_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5802</span>
<span class="linenos">5803</span><span class="c1">// --- command.mysql2ssim_proc</span>
<span class="linenos">5804</span><span class="k">struct</span><span class="w"> </span><span class="nc">mysql2ssim_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.mysql2ssim_proc: Subprocess: mysql -&gt; ssim conversion tool</span>
<span class="linenos">5805</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">         </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/mysql2ssim&quot;  path for executable</span>
<span class="linenos">5806</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">mysql2ssim</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">5807</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">         </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">5808</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">         </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">5809</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">         </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">5810</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">                 </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">5811</span><span class="w">    </span><span class="n">i32</span><span class="w">                   </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">5812</span><span class="w">    </span><span class="n">i32</span><span class="w">                   </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">5813</span><span class="w">    </span><span class="n">mysql2ssim_proc</span><span class="p">();</span>
<span class="linenos">5814</span><span class="w">    </span><span class="o">~</span><span class="n">mysql2ssim_proc</span><span class="p">();</span>
<span class="linenos">5815</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">5816</span><span class="w">    </span><span class="c1">// reftype Exec of command.mysql2ssim_proc.mysql2ssim prohibits copy</span>
<span class="linenos">5817</span><span class="w">    </span><span class="n">mysql2ssim_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mysql2ssim_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">5818</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">mysql2ssim_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">5819</span><span class="p">};</span>
<span class="linenos">5820</span>
<span class="linenos">5821</span><span class="c1">// Start subprocess</span>
<span class="linenos">5822</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">5823</span><span class="c1">// func:command.mysql2ssim_proc.mysql2ssim.Start</span>
<span class="linenos">5824</span><span class="kt">int</span><span class="w">                  </span><span class="nf">mysql2ssim_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mysql2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5825</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">5826</span><span class="c1">// func:command.mysql2ssim_proc.mysql2ssim.StartRead</span>
<span class="linenos">5827</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">mysql2ssim_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mysql2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5828</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">5829</span><span class="c1">// func:command.mysql2ssim_proc.mysql2ssim.Kill</span>
<span class="linenos">5830</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mysql2ssim_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mysql2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5831</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">5832</span><span class="c1">// func:command.mysql2ssim_proc.mysql2ssim.Wait</span>
<span class="linenos">5833</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mysql2ssim_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mysql2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5834</span><span class="c1">// Start + Wait</span>
<span class="linenos">5835</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">5836</span><span class="c1">// func:command.mysql2ssim_proc.mysql2ssim.Exec</span>
<span class="linenos">5837</span><span class="kt">int</span><span class="w">                  </span><span class="nf">mysql2ssim_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mysql2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5838</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">5839</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">5840</span><span class="c1">// func:command.mysql2ssim_proc.mysql2ssim.ExecX</span>
<span class="linenos">5841</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mysql2ssim_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mysql2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5842</span><span class="c1">// Call execv()</span>
<span class="linenos">5843</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">5844</span><span class="c1">// func:command.mysql2ssim_proc.mysql2ssim.Execv</span>
<span class="linenos">5845</span><span class="kt">int</span><span class="w">                  </span><span class="nf">mysql2ssim_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mysql2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5846</span><span class="c1">// func:command.mysql2ssim_proc.mysql2ssim.ToCmdline</span>
<span class="linenos">5847</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">mysql2ssim_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mysql2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5848</span><span class="c1">// Form array from the command line</span>
<span class="linenos">5849</span><span class="c1">// func:command.mysql2ssim_proc.mysql2ssim.ToArgv</span>
<span class="linenos">5850</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mysql2ssim_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mysql2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5851</span>
<span class="linenos">5852</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">5853</span><span class="c1">// func:command.mysql2ssim_proc..Init</span>
<span class="linenos">5854</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mysql2ssim_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mysql2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5855</span><span class="c1">// func:command.mysql2ssim_proc..Uninit</span>
<span class="linenos">5856</span><span class="kt">void</span><span class="w">                 </span><span class="nf">mysql2ssim_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">mysql2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5857</span>
<span class="linenos">5858</span><span class="c1">// --- command.orgfile</span>
<span class="linenos">5859</span><span class="c1">// access: command.orgfile_proc.orgfile (Exec)</span>
<span class="linenos">5860</span><span class="k">struct</span><span class="w"> </span><span class="nc">orgfile</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.orgfile</span>
<span class="linenos">5861</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">5862</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">move</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;&quot;  Read stdin, rename files based on pattern</span>
<span class="linenos">5863</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">dedup</span><span class="p">;</span><span class="w">    </span><span class="c1">//   &quot;&quot;  Sql Regx</span>
<span class="linenos">5864</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">commit</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  Apply changes</span>
<span class="linenos">5865</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">undo</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Read previous orgfile output, undoing movement</span>
<span class="linenos">5866</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">hash</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;sha1&quot;  Hash command to use for deduplication</span>
<span class="linenos">5867</span><span class="w">    </span><span class="n">orgfile</span><span class="p">();</span>
<span class="linenos">5868</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">5869</span><span class="w">    </span><span class="c1">// reftype Regx of command.orgfile.dedup prohibits copy</span>
<span class="linenos">5870</span><span class="w">    </span><span class="n">orgfile</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">orgfile</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">5871</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">orgfile</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">5872</span><span class="p">};</span>
<span class="linenos">5873</span>
<span class="linenos">5874</span><span class="c1">// Print back to string</span>
<span class="linenos">5875</span><span class="c1">// func:command.orgfile.dedup.Print</span>
<span class="linenos">5876</span><span class="kt">void</span><span class="w">                 </span><span class="nf">dedup_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">orgfile</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5877</span><span class="c1">// Read Regx from string</span>
<span class="linenos">5878</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">5879</span><span class="c1">// func:command.orgfile.dedup.ReadStrptrMaybe</span>
<span class="linenos">5880</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">dedup_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">orgfile</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5881</span>
<span class="linenos">5882</span><span class="c1">// func:command.orgfile..ReadFieldMaybe</span>
<span class="linenos">5883</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">orgfile_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">orgfile</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5884</span><span class="c1">// Read fields of command::orgfile from attributes of ascii tuple TUPLE</span>
<span class="linenos">5885</span><span class="c1">// func:command.orgfile..ReadTupleMaybe</span>
<span class="linenos">5886</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">orgfile_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">orgfile</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5887</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">5888</span><span class="c1">// func:command.orgfile..Init</span>
<span class="linenos">5889</span><span class="kt">void</span><span class="w">                 </span><span class="nf">orgfile_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">orgfile</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5890</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">5891</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">5892</span><span class="c1">// func:command.orgfile..ToCmdline</span>
<span class="linenos">5893</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">orgfile_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">orgfile</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5894</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">5895</span><span class="c1">// cfmt:command.orgfile.Argv  printfmt:Tuple</span>
<span class="linenos">5896</span><span class="c1">// func:command.orgfile..PrintArgv</span>
<span class="linenos">5897</span><span class="kt">void</span><span class="w">                 </span><span class="nf">orgfile_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">orgfile</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5898</span><span class="c1">// Used with command lines</span>
<span class="linenos">5899</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">5900</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">5901</span><span class="c1">// func:command.orgfile..NArgs</span>
<span class="linenos">5902</span><span class="n">i32</span><span class="w">                  </span><span class="nf">orgfile_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5903</span>
<span class="linenos">5904</span><span class="c1">// --- command.orgfile_proc</span>
<span class="linenos">5905</span><span class="k">struct</span><span class="w"> </span><span class="nc">orgfile_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.orgfile_proc: Subprocess: Organize and deduplicate files by timestamp and by contents</span>
<span class="linenos">5906</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/orgfile&quot;  path for executable</span>
<span class="linenos">5907</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">orgfile</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">5908</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">5909</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">5910</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">5911</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">              </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">5912</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">5913</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">5914</span><span class="w">    </span><span class="n">orgfile_proc</span><span class="p">();</span>
<span class="linenos">5915</span><span class="w">    </span><span class="o">~</span><span class="n">orgfile_proc</span><span class="p">();</span>
<span class="linenos">5916</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">5917</span><span class="w">    </span><span class="c1">// reftype Exec of command.orgfile_proc.orgfile prohibits copy</span>
<span class="linenos">5918</span><span class="w">    </span><span class="c1">// value field command.orgfile_proc.cmd is not copiable</span>
<span class="linenos">5919</span><span class="w">    </span><span class="n">orgfile_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">orgfile_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">5920</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">orgfile_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">5921</span><span class="p">};</span>
<span class="linenos">5922</span>
<span class="linenos">5923</span><span class="c1">// Start subprocess</span>
<span class="linenos">5924</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">5925</span><span class="c1">// func:command.orgfile_proc.orgfile.Start</span>
<span class="linenos">5926</span><span class="kt">int</span><span class="w">                  </span><span class="nf">orgfile_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">orgfile_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5927</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">5928</span><span class="c1">// func:command.orgfile_proc.orgfile.StartRead</span>
<span class="linenos">5929</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">orgfile_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">orgfile_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5930</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">5931</span><span class="c1">// func:command.orgfile_proc.orgfile.Kill</span>
<span class="linenos">5932</span><span class="kt">void</span><span class="w">                 </span><span class="nf">orgfile_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">orgfile_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5933</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">5934</span><span class="c1">// func:command.orgfile_proc.orgfile.Wait</span>
<span class="linenos">5935</span><span class="kt">void</span><span class="w">                 </span><span class="nf">orgfile_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">orgfile_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5936</span><span class="c1">// Start + Wait</span>
<span class="linenos">5937</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">5938</span><span class="c1">// func:command.orgfile_proc.orgfile.Exec</span>
<span class="linenos">5939</span><span class="kt">int</span><span class="w">                  </span><span class="nf">orgfile_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">orgfile_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5940</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">5941</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">5942</span><span class="c1">// func:command.orgfile_proc.orgfile.ExecX</span>
<span class="linenos">5943</span><span class="kt">void</span><span class="w">                 </span><span class="nf">orgfile_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">orgfile_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5944</span><span class="c1">// Call execv()</span>
<span class="linenos">5945</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">5946</span><span class="c1">// func:command.orgfile_proc.orgfile.Execv</span>
<span class="linenos">5947</span><span class="kt">int</span><span class="w">                  </span><span class="nf">orgfile_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">orgfile_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5948</span><span class="c1">// func:command.orgfile_proc.orgfile.ToCmdline</span>
<span class="linenos">5949</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">orgfile_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">orgfile_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5950</span><span class="c1">// Form array from the command line</span>
<span class="linenos">5951</span><span class="c1">// func:command.orgfile_proc.orgfile.ToArgv</span>
<span class="linenos">5952</span><span class="kt">void</span><span class="w">                 </span><span class="nf">orgfile_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">orgfile_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5953</span>
<span class="linenos">5954</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">5955</span><span class="c1">// func:command.orgfile_proc..Init</span>
<span class="linenos">5956</span><span class="kt">void</span><span class="w">                 </span><span class="nf">orgfile_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">orgfile_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">5957</span><span class="c1">// func:command.orgfile_proc..Uninit</span>
<span class="linenos">5958</span><span class="kt">void</span><span class="w">                 </span><span class="nf">orgfile_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">orgfile_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5959</span>
<span class="linenos">5960</span><span class="c1">// --- command.samp_regx</span>
<span class="linenos">5961</span><span class="c1">// access: command.samp_regx_proc.samp_regx (Exec)</span>
<span class="linenos">5962</span><span class="k">struct</span><span class="w"> </span><span class="nc">samp_regx</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.samp_regx</span>
<span class="linenos">5963</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">in</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">5964</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">expr</span><span class="p">;</span><span class="w">     </span><span class="c1">// Expression</span>
<span class="linenos">5965</span><span class="w">    </span><span class="n">u8</span><span class="w">              </span><span class="n">style</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  Regx style</span>
<span class="linenos">5966</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">match</span><span class="p">;</span><span class="w">    </span><span class="c1">//   false  Match a string</span>
<span class="linenos">5967</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">string</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;&quot;  String to match</span>
<span class="linenos">5968</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">show</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Show regx innards</span>
<span class="linenos">5969</span><span class="w">    </span><span class="n">samp_regx</span><span class="p">();</span>
<span class="linenos">5970</span><span class="p">};</span>
<span class="linenos">5971</span>
<span class="linenos">5972</span><span class="c1">// Get value of field as enum type</span>
<span class="linenos">5973</span><span class="c1">// func:command.samp_regx.style.GetEnum</span>
<span class="linenos">5974</span><span class="n">command_samp_regx_style_Enum</span><span class="w"> </span><span class="nf">style_GetEnum</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5975</span><span class="c1">// Set value of field from enum type.</span>
<span class="linenos">5976</span><span class="c1">// func:command.samp_regx.style.SetEnum</span>
<span class="linenos">5977</span><span class="kt">void</span><span class="w">                 </span><span class="nf">style_SetEnum</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command_samp_regx_style_Enum</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5978</span><span class="c1">// Convert numeric value of field to one of predefined string constants.</span>
<span class="linenos">5979</span><span class="c1">// If string is found, return a static C string. Otherwise, return NULL.</span>
<span class="linenos">5980</span><span class="c1">// func:command.samp_regx.style.ToCstr</span>
<span class="linenos">5981</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w">          </span><span class="nf">style_ToCstr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5982</span><span class="c1">// Convert style to a string. First, attempt conversion to a known string.</span>
<span class="linenos">5983</span><span class="c1">// If no string matches, print style as a numeric value.</span>
<span class="linenos">5984</span><span class="c1">// func:command.samp_regx.style.Print</span>
<span class="linenos">5985</span><span class="kt">void</span><span class="w">                 </span><span class="nf">style_Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5986</span><span class="c1">// Convert string to field.</span>
<span class="linenos">5987</span><span class="c1">// If the string is invalid, do not modify field and return false.</span>
<span class="linenos">5988</span><span class="c1">// In case of success, return true</span>
<span class="linenos">5989</span><span class="c1">// func:command.samp_regx.style.SetStrptrMaybe</span>
<span class="linenos">5990</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">style_SetStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5991</span><span class="c1">// Convert string to field.</span>
<span class="linenos">5992</span><span class="c1">// If the string is invalid, set numeric value to DFLT</span>
<span class="linenos">5993</span><span class="c1">// func:command.samp_regx.style.SetStrptr</span>
<span class="linenos">5994</span><span class="kt">void</span><span class="w">                 </span><span class="nf">style_SetStrptr</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">,</span><span class="w"> </span><span class="n">command_samp_regx_style_Enum</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5995</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">5996</span><span class="c1">// func:command.samp_regx.style.ReadStrptrMaybe</span>
<span class="linenos">5997</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">style_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">5998</span>
<span class="linenos">5999</span><span class="c1">// func:command.samp_regx..ReadFieldMaybe</span>
<span class="linenos">6000</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">samp_regx_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6001</span><span class="c1">// Read fields of command::samp_regx from attributes of ascii tuple TUPLE</span>
<span class="linenos">6002</span><span class="c1">// func:command.samp_regx..ReadTupleMaybe</span>
<span class="linenos">6003</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">samp_regx_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6004</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">6005</span><span class="c1">// func:command.samp_regx..Init</span>
<span class="linenos">6006</span><span class="kt">void</span><span class="w">                 </span><span class="nf">samp_regx_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6007</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">6008</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">6009</span><span class="c1">// func:command.samp_regx..ToCmdline</span>
<span class="linenos">6010</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">samp_regx_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6011</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">6012</span><span class="c1">// cfmt:command.samp_regx.Argv  printfmt:Tuple</span>
<span class="linenos">6013</span><span class="c1">// func:command.samp_regx..PrintArgv</span>
<span class="linenos">6014</span><span class="kt">void</span><span class="w">                 </span><span class="nf">samp_regx_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6015</span><span class="c1">// func:command.samp_regx..GetAnon</span>
<span class="linenos">6016</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">samp_regx_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6017</span><span class="c1">// Used with command lines</span>
<span class="linenos">6018</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">6019</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">6020</span><span class="c1">// func:command.samp_regx..NArgs</span>
<span class="linenos">6021</span><span class="n">i32</span><span class="w">                  </span><span class="nf">samp_regx_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6022</span>
<span class="linenos">6023</span><span class="c1">// --- command.samp_regx_proc</span>
<span class="linenos">6024</span><span class="k">struct</span><span class="w"> </span><span class="nc">samp_regx_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.samp_regx_proc: Subprocess: Test tool for regular expressions</span>
<span class="linenos">6025</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">        </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/samp_regx&quot;  path for executable</span>
<span class="linenos">6026</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">6027</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">        </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">6028</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">        </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">6029</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">        </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">6030</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">                </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">6031</span><span class="w">    </span><span class="n">i32</span><span class="w">                  </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">6032</span><span class="w">    </span><span class="n">i32</span><span class="w">                  </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">6033</span><span class="w">    </span><span class="n">samp_regx_proc</span><span class="p">();</span>
<span class="linenos">6034</span><span class="w">    </span><span class="o">~</span><span class="n">samp_regx_proc</span><span class="p">();</span>
<span class="linenos">6035</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">6036</span><span class="w">    </span><span class="c1">// reftype Exec of command.samp_regx_proc.samp_regx prohibits copy</span>
<span class="linenos">6037</span><span class="w">    </span><span class="n">samp_regx_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">samp_regx_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">6038</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">samp_regx_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">6039</span><span class="p">};</span>
<span class="linenos">6040</span>
<span class="linenos">6041</span><span class="c1">// Start subprocess</span>
<span class="linenos">6042</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">6043</span><span class="c1">// func:command.samp_regx_proc.samp_regx.Start</span>
<span class="linenos">6044</span><span class="kt">int</span><span class="w">                  </span><span class="nf">samp_regx_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6045</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">6046</span><span class="c1">// func:command.samp_regx_proc.samp_regx.StartRead</span>
<span class="linenos">6047</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">samp_regx_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6048</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">6049</span><span class="c1">// func:command.samp_regx_proc.samp_regx.Kill</span>
<span class="linenos">6050</span><span class="kt">void</span><span class="w">                 </span><span class="nf">samp_regx_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6051</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">6052</span><span class="c1">// func:command.samp_regx_proc.samp_regx.Wait</span>
<span class="linenos">6053</span><span class="kt">void</span><span class="w">                 </span><span class="nf">samp_regx_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6054</span><span class="c1">// Start + Wait</span>
<span class="linenos">6055</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">6056</span><span class="c1">// func:command.samp_regx_proc.samp_regx.Exec</span>
<span class="linenos">6057</span><span class="kt">int</span><span class="w">                  </span><span class="nf">samp_regx_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6058</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">6059</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">6060</span><span class="c1">// func:command.samp_regx_proc.samp_regx.ExecX</span>
<span class="linenos">6061</span><span class="kt">void</span><span class="w">                 </span><span class="nf">samp_regx_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6062</span><span class="c1">// Call execv()</span>
<span class="linenos">6063</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">6064</span><span class="c1">// func:command.samp_regx_proc.samp_regx.Execv</span>
<span class="linenos">6065</span><span class="kt">int</span><span class="w">                  </span><span class="nf">samp_regx_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6066</span><span class="c1">// func:command.samp_regx_proc.samp_regx.ToCmdline</span>
<span class="linenos">6067</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">samp_regx_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6068</span><span class="c1">// Form array from the command line</span>
<span class="linenos">6069</span><span class="c1">// func:command.samp_regx_proc.samp_regx.ToArgv</span>
<span class="linenos">6070</span><span class="kt">void</span><span class="w">                 </span><span class="nf">samp_regx_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6071</span>
<span class="linenos">6072</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">6073</span><span class="c1">// func:command.samp_regx_proc..Init</span>
<span class="linenos">6074</span><span class="kt">void</span><span class="w">                 </span><span class="nf">samp_regx_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6075</span><span class="c1">// func:command.samp_regx_proc..Uninit</span>
<span class="linenos">6076</span><span class="kt">void</span><span class="w">                 </span><span class="nf">samp_regx_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_regx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6077</span>
<span class="linenos">6078</span><span class="c1">// --- command.samp_ws</span>
<span class="linenos">6079</span><span class="c1">// access: command.samp_ws_proc.samp_ws (Exec)</span>
<span class="linenos">6080</span><span class="k">struct</span><span class="w"> </span><span class="nc">samp_ws</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.samp_ws</span>
<span class="linenos">6081</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">in</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">6082</span><span class="w">    </span><span class="n">samp_ws</span><span class="p">();</span>
<span class="linenos">6083</span><span class="p">};</span>
<span class="linenos">6084</span>
<span class="linenos">6085</span><span class="c1">// func:command.samp_ws..ReadFieldMaybe</span>
<span class="linenos">6086</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">samp_ws_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_ws</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6087</span><span class="c1">// Read fields of command::samp_ws from attributes of ascii tuple TUPLE</span>
<span class="linenos">6088</span><span class="c1">// func:command.samp_ws..ReadTupleMaybe</span>
<span class="linenos">6089</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">samp_ws_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_ws</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6090</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">6091</span><span class="c1">// func:command.samp_ws..Init</span>
<span class="linenos">6092</span><span class="kt">void</span><span class="w">                 </span><span class="nf">samp_ws_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_ws</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6093</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">6094</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">6095</span><span class="c1">// func:command.samp_ws..ToCmdline</span>
<span class="linenos">6096</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">samp_ws_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_ws</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6097</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">6098</span><span class="c1">// cfmt:command.samp_ws.Argv  printfmt:Tuple</span>
<span class="linenos">6099</span><span class="c1">// func:command.samp_ws..PrintArgv</span>
<span class="linenos">6100</span><span class="kt">void</span><span class="w">                 </span><span class="nf">samp_ws_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_ws</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6101</span><span class="c1">// Used with command lines</span>
<span class="linenos">6102</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">6103</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">6104</span><span class="c1">// func:command.samp_ws..NArgs</span>
<span class="linenos">6105</span><span class="n">i32</span><span class="w">                  </span><span class="nf">samp_ws_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6106</span>
<span class="linenos">6107</span><span class="c1">// --- command.samp_ws_proc</span>
<span class="linenos">6108</span><span class="k">struct</span><span class="w"> </span><span class="nc">samp_ws_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.samp_ws_proc: Subprocess: WebSocket sample</span>
<span class="linenos">6109</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/samp_ws&quot;  path for executable</span>
<span class="linenos">6110</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">samp_ws</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">6111</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">6112</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">6113</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">6114</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">              </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">6115</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">6116</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">6117</span><span class="w">    </span><span class="n">samp_ws_proc</span><span class="p">();</span>
<span class="linenos">6118</span><span class="w">    </span><span class="o">~</span><span class="n">samp_ws_proc</span><span class="p">();</span>
<span class="linenos">6119</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">6120</span><span class="w">    </span><span class="c1">// reftype Exec of command.samp_ws_proc.samp_ws prohibits copy</span>
<span class="linenos">6121</span><span class="w">    </span><span class="n">samp_ws_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">samp_ws_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">6122</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">samp_ws_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">6123</span><span class="p">};</span>
<span class="linenos">6124</span>
<span class="linenos">6125</span><span class="c1">// Start subprocess</span>
<span class="linenos">6126</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">6127</span><span class="c1">// func:command.samp_ws_proc.samp_ws.Start</span>
<span class="linenos">6128</span><span class="kt">int</span><span class="w">                  </span><span class="nf">samp_ws_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6129</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">6130</span><span class="c1">// func:command.samp_ws_proc.samp_ws.StartRead</span>
<span class="linenos">6131</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">samp_ws_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6132</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">6133</span><span class="c1">// func:command.samp_ws_proc.samp_ws.Kill</span>
<span class="linenos">6134</span><span class="kt">void</span><span class="w">                 </span><span class="nf">samp_ws_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6135</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">6136</span><span class="c1">// func:command.samp_ws_proc.samp_ws.Wait</span>
<span class="linenos">6137</span><span class="kt">void</span><span class="w">                 </span><span class="nf">samp_ws_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6138</span><span class="c1">// Start + Wait</span>
<span class="linenos">6139</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">6140</span><span class="c1">// func:command.samp_ws_proc.samp_ws.Exec</span>
<span class="linenos">6141</span><span class="kt">int</span><span class="w">                  </span><span class="nf">samp_ws_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6142</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">6143</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">6144</span><span class="c1">// func:command.samp_ws_proc.samp_ws.ExecX</span>
<span class="linenos">6145</span><span class="kt">void</span><span class="w">                 </span><span class="nf">samp_ws_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6146</span><span class="c1">// Call execv()</span>
<span class="linenos">6147</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">6148</span><span class="c1">// func:command.samp_ws_proc.samp_ws.Execv</span>
<span class="linenos">6149</span><span class="kt">int</span><span class="w">                  </span><span class="nf">samp_ws_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6150</span><span class="c1">// func:command.samp_ws_proc.samp_ws.ToCmdline</span>
<span class="linenos">6151</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">samp_ws_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6152</span><span class="c1">// Form array from the command line</span>
<span class="linenos">6153</span><span class="c1">// func:command.samp_ws_proc.samp_ws.ToArgv</span>
<span class="linenos">6154</span><span class="kt">void</span><span class="w">                 </span><span class="nf">samp_ws_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6155</span>
<span class="linenos">6156</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">6157</span><span class="c1">// func:command.samp_ws_proc..Init</span>
<span class="linenos">6158</span><span class="kt">void</span><span class="w">                 </span><span class="nf">samp_ws_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6159</span><span class="c1">// func:command.samp_ws_proc..Uninit</span>
<span class="linenos">6160</span><span class="kt">void</span><span class="w">                 </span><span class="nf">samp_ws_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">samp_ws_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6161</span>
<span class="linenos">6162</span><span class="c1">// --- command.sandbox</span>
<span class="linenos">6163</span><span class="c1">// access: command.sandbox_proc.sandbox (Exec)</span>
<span class="linenos">6164</span><span class="k">struct</span><span class="w"> </span><span class="nc">sandbox</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.sandbox</span>
<span class="linenos">6165</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">            </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">6166</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">name</span><span class="p">;</span><span class="w">          </span><span class="c1">// Sql Regx of dev::Sandbox</span>
<span class="linenos">6167</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">create</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false  Create new sandbox and register in dev.sandbox</span>
<span class="linenos">6168</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">list</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  List existing sandboxes</span>
<span class="linenos">6169</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">reset</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Reset sandbox to match current directory</span>
<span class="linenos">6170</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">clean</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Remove sandbox contents to save space</span>
<span class="linenos">6171</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">shell</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Open interactive shell inside sandbox</span>
<span class="linenos">6172</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">del</span><span class="p">;</span><span class="w">           </span><span class="c1">//   false  Permanently delete sandbox</span>
<span class="linenos">6173</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">gc</span><span class="p">;</span><span class="w">            </span><span class="c1">//   false  Run git gc in target dir</span>
<span class="linenos">6174</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">   </span><span class="n">cmd_elems</span><span class="p">;</span><span class="w">     </span><span class="c1">// pointer to elements</span>
<span class="linenos">6175</span><span class="w">    </span><span class="n">u32</span><span class="w">              </span><span class="n">cmd_n</span><span class="p">;</span><span class="w">         </span><span class="c1">// number of elements in array</span>
<span class="linenos">6176</span><span class="w">    </span><span class="n">u32</span><span class="w">              </span><span class="n">cmd_max</span><span class="p">;</span><span class="w">       </span><span class="c1">// max. capacity of array before realloc</span>
<span class="linenos">6177</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">diff</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  Show diff after running command</span>
<span class="linenos">6178</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">   </span><span class="n">files_elems</span><span class="p">;</span><span class="w">   </span><span class="c1">// pointer to elements</span>
<span class="linenos">6179</span><span class="w">    </span><span class="n">u32</span><span class="w">              </span><span class="n">files_n</span><span class="p">;</span><span class="w">       </span><span class="c1">// number of elements in array</span>
<span class="linenos">6180</span><span class="w">    </span><span class="n">u32</span><span class="w">              </span><span class="n">files_max</span><span class="p">;</span><span class="w">     </span><span class="c1">// max. capacity of array before realloc</span>
<span class="linenos">6181</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">refs</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;HEAD&quot;  Refs to fetch into sandbox</span>
<span class="linenos">6182</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">q</span><span class="p">;</span><span class="w">             </span><span class="c1">//   false  Quiet mode</span>
<span class="linenos">6183</span><span class="w">    </span><span class="n">sandbox</span><span class="p">();</span>
<span class="linenos">6184</span><span class="w">    </span><span class="o">~</span><span class="n">sandbox</span><span class="p">();</span>
<span class="linenos">6185</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">6186</span><span class="w">    </span><span class="c1">// reftype Regx of command.sandbox.name prohibits copy</span>
<span class="linenos">6187</span><span class="w">    </span><span class="c1">// reftype Tary of command.sandbox.cmd prohibits copy</span>
<span class="linenos">6188</span><span class="w">    </span><span class="c1">// reftype Tary of command.sandbox.files prohibits copy</span>
<span class="linenos">6189</span><span class="w">    </span><span class="c1">// ... and several other reasons</span>
<span class="linenos">6190</span><span class="w">    </span><span class="n">sandbox</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">sandbox</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">6191</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">sandbox</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">6192</span><span class="p">};</span>
<span class="linenos">6193</span>
<span class="linenos">6194</span><span class="c1">// Print back to string</span>
<span class="linenos">6195</span><span class="c1">// func:command.sandbox.name.Print</span>
<span class="linenos">6196</span><span class="kt">void</span><span class="w">                 </span><span class="nf">name_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6197</span><span class="c1">// Read Regx from string</span>
<span class="linenos">6198</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">6199</span><span class="c1">// func:command.sandbox.name.ReadStrptrMaybe</span>
<span class="linenos">6200</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">name_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6201</span>
<span class="linenos">6202</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">6203</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">6204</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">6205</span><span class="c1">// func:command.sandbox.cmd.Addary</span>
<span class="linenos">6206</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">cmd_Addary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6207</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">6208</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">6209</span><span class="c1">// func:command.sandbox.cmd.Alloc</span>
<span class="linenos">6210</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">cmd_Alloc</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6211</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">6212</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">6213</span><span class="c1">// func:command.sandbox.cmd.AllocAt</span>
<span class="linenos">6214</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">cmd_AllocAt</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6215</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">6216</span><span class="c1">// func:command.sandbox.cmd.AllocN</span>
<span class="linenos">6217</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">cmd_AllocN</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6218</span><span class="c1">// Return true if index is empty</span>
<span class="linenos">6219</span><span class="c1">// func:command.sandbox.cmd.EmptyQ</span>
<span class="linenos">6220</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">cmd_EmptyQ</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6221</span><span class="c1">// Look up row by row id. Return NULL if out of range</span>
<span class="linenos">6222</span><span class="c1">// func:command.sandbox.cmd.Find</span>
<span class="linenos">6223</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">cmd_Find</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6224</span><span class="c1">// Return array pointer by value</span>
<span class="linenos">6225</span><span class="c1">// func:command.sandbox.cmd.Getary</span>
<span class="linenos">6226</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">cmd_Getary</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6227</span><span class="c1">// Return pointer to last element of array, or NULL if array is empty</span>
<span class="linenos">6228</span><span class="c1">// func:command.sandbox.cmd.Last</span>
<span class="linenos">6229</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">cmd_Last</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">6230</span><span class="c1">// Return max. number of items in the array</span>
<span class="linenos">6231</span><span class="c1">// func:command.sandbox.cmd.Max</span>
<span class="linenos">6232</span><span class="n">i32</span><span class="w">                  </span><span class="nf">cmd_Max</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6233</span><span class="c1">// Return number of items in the array</span>
<span class="linenos">6234</span><span class="c1">// func:command.sandbox.cmd.N</span>
<span class="linenos">6235</span><span class="n">i32</span><span class="w">                  </span><span class="nf">cmd_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">6236</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">6237</span><span class="c1">// func:command.sandbox.cmd.Remove</span>
<span class="linenos">6238</span><span class="kt">void</span><span class="w">                 </span><span class="nf">cmd_Remove</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6239</span><span class="c1">// func:command.sandbox.cmd.RemoveAll</span>
<span class="linenos">6240</span><span class="kt">void</span><span class="w">                 </span><span class="nf">cmd_RemoveAll</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6241</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">6242</span><span class="c1">// func:command.sandbox.cmd.RemoveLast</span>
<span class="linenos">6243</span><span class="kt">void</span><span class="w">                 </span><span class="nf">cmd_RemoveLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6244</span><span class="c1">// Make sure N *more* elements will fit in array. Process dies if out of memory</span>
<span class="linenos">6245</span><span class="c1">// func:command.sandbox.cmd.Reserve</span>
<span class="linenos">6246</span><span class="kt">void</span><span class="w">                 </span><span class="nf">cmd_Reserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6247</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">6248</span><span class="c1">// func:command.sandbox.cmd.AbsReserve</span>
<span class="linenos">6249</span><span class="kt">void</span><span class="w">                 </span><span class="nf">cmd_AbsReserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6250</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">6251</span><span class="c1">// func:command.sandbox.cmd.Setary</span>
<span class="linenos">6252</span><span class="kt">void</span><span class="w">                 </span><span class="nf">cmd_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6253</span><span class="c1">// Copy specified array into cmd, discarding previous contents.</span>
<span class="linenos">6254</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">6255</span><span class="c1">// func:command.sandbox.cmd.Setary2</span>
<span class="linenos">6256</span><span class="kt">void</span><span class="w">                 </span><span class="nf">cmd_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6257</span><span class="c1">// &#39;quick&#39; Access row by row id. No bounds checking.</span>
<span class="linenos">6258</span><span class="c1">// func:command.sandbox.cmd.qFind</span>
<span class="linenos">6259</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">cmd_qFind</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6260</span><span class="c1">// Return reference to last element of array. No bounds checking</span>
<span class="linenos">6261</span><span class="c1">// func:command.sandbox.cmd.qLast</span>
<span class="linenos">6262</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">cmd_qLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6263</span><span class="c1">// Return row id of specified element</span>
<span class="linenos">6264</span><span class="c1">// func:command.sandbox.cmd.rowid_Get</span>
<span class="linenos">6265</span><span class="n">u64</span><span class="w">                  </span><span class="nf">cmd_rowid_Get</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6266</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">6267</span><span class="c1">// func:command.sandbox.cmd.AllocNVal</span>
<span class="linenos">6268</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">cmd_AllocNVal</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6269</span><span class="c1">// A single element is read from input string and appended to the array.</span>
<span class="linenos">6270</span><span class="c1">// If the string contains an error, the array is untouched.</span>
<span class="linenos">6271</span><span class="c1">// Function returns success value.</span>
<span class="linenos">6272</span><span class="c1">// func:command.sandbox.cmd.ReadStrptrMaybe</span>
<span class="linenos">6273</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">cmd_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6274</span>
<span class="linenos">6275</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">6276</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">6277</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">6278</span><span class="c1">// func:command.sandbox.files.Addary</span>
<span class="linenos">6279</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">files_Addary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6280</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">6281</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">6282</span><span class="c1">// func:command.sandbox.files.Alloc</span>
<span class="linenos">6283</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">files_Alloc</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6284</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">6285</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">6286</span><span class="c1">// func:command.sandbox.files.AllocAt</span>
<span class="linenos">6287</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">files_AllocAt</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6288</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">6289</span><span class="c1">// func:command.sandbox.files.AllocN</span>
<span class="linenos">6290</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">files_AllocN</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6291</span><span class="c1">// Return true if index is empty</span>
<span class="linenos">6292</span><span class="c1">// func:command.sandbox.files.EmptyQ</span>
<span class="linenos">6293</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">files_EmptyQ</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6294</span><span class="c1">// Look up row by row id. Return NULL if out of range</span>
<span class="linenos">6295</span><span class="c1">// func:command.sandbox.files.Find</span>
<span class="linenos">6296</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">files_Find</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6297</span><span class="c1">// Return array pointer by value</span>
<span class="linenos">6298</span><span class="c1">// func:command.sandbox.files.Getary</span>
<span class="linenos">6299</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">files_Getary</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6300</span><span class="c1">// Return pointer to last element of array, or NULL if array is empty</span>
<span class="linenos">6301</span><span class="c1">// func:command.sandbox.files.Last</span>
<span class="linenos">6302</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">files_Last</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">6303</span><span class="c1">// Return max. number of items in the array</span>
<span class="linenos">6304</span><span class="c1">// func:command.sandbox.files.Max</span>
<span class="linenos">6305</span><span class="n">i32</span><span class="w">                  </span><span class="nf">files_Max</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6306</span><span class="c1">// Return number of items in the array</span>
<span class="linenos">6307</span><span class="c1">// func:command.sandbox.files.N</span>
<span class="linenos">6308</span><span class="n">i32</span><span class="w">                  </span><span class="nf">files_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">6309</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">6310</span><span class="c1">// func:command.sandbox.files.Remove</span>
<span class="linenos">6311</span><span class="kt">void</span><span class="w">                 </span><span class="nf">files_Remove</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6312</span><span class="c1">// func:command.sandbox.files.RemoveAll</span>
<span class="linenos">6313</span><span class="kt">void</span><span class="w">                 </span><span class="nf">files_RemoveAll</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6314</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">6315</span><span class="c1">// func:command.sandbox.files.RemoveLast</span>
<span class="linenos">6316</span><span class="kt">void</span><span class="w">                 </span><span class="nf">files_RemoveLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6317</span><span class="c1">// Make sure N *more* elements will fit in array. Process dies if out of memory</span>
<span class="linenos">6318</span><span class="c1">// func:command.sandbox.files.Reserve</span>
<span class="linenos">6319</span><span class="kt">void</span><span class="w">                 </span><span class="nf">files_Reserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6320</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">6321</span><span class="c1">// func:command.sandbox.files.AbsReserve</span>
<span class="linenos">6322</span><span class="kt">void</span><span class="w">                 </span><span class="nf">files_AbsReserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6323</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">6324</span><span class="c1">// func:command.sandbox.files.Setary</span>
<span class="linenos">6325</span><span class="kt">void</span><span class="w">                 </span><span class="nf">files_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6326</span><span class="c1">// Copy specified array into files, discarding previous contents.</span>
<span class="linenos">6327</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">6328</span><span class="c1">// func:command.sandbox.files.Setary2</span>
<span class="linenos">6329</span><span class="kt">void</span><span class="w">                 </span><span class="nf">files_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6330</span><span class="c1">// &#39;quick&#39; Access row by row id. No bounds checking.</span>
<span class="linenos">6331</span><span class="c1">// func:command.sandbox.files.qFind</span>
<span class="linenos">6332</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">files_qFind</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6333</span><span class="c1">// Return reference to last element of array. No bounds checking</span>
<span class="linenos">6334</span><span class="c1">// func:command.sandbox.files.qLast</span>
<span class="linenos">6335</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">files_qLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6336</span><span class="c1">// Return row id of specified element</span>
<span class="linenos">6337</span><span class="c1">// func:command.sandbox.files.rowid_Get</span>
<span class="linenos">6338</span><span class="n">u64</span><span class="w">                  </span><span class="nf">files_rowid_Get</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6339</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">6340</span><span class="c1">// func:command.sandbox.files.AllocNVal</span>
<span class="linenos">6341</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">files_AllocNVal</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6342</span><span class="c1">// A single element is read from input string and appended to the array.</span>
<span class="linenos">6343</span><span class="c1">// If the string contains an error, the array is untouched.</span>
<span class="linenos">6344</span><span class="c1">// Function returns success value.</span>
<span class="linenos">6345</span><span class="c1">// func:command.sandbox.files.ReadStrptrMaybe</span>
<span class="linenos">6346</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">files_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6347</span>
<span class="linenos">6348</span><span class="c1">// proceed to next item</span>
<span class="linenos">6349</span><span class="c1">// func:command.sandbox.cmd_curs.Next</span>
<span class="linenos">6350</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sandbox_cmd_curs_Next</span><span class="p">(</span><span class="n">sandbox_cmd_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6351</span><span class="c1">// func:command.sandbox.cmd_curs.Reset</span>
<span class="linenos">6352</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sandbox_cmd_curs_Reset</span><span class="p">(</span><span class="n">sandbox_cmd_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6353</span><span class="c1">// cursor points to valid item</span>
<span class="linenos">6354</span><span class="c1">// func:command.sandbox.cmd_curs.ValidQ</span>
<span class="linenos">6355</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">sandbox_cmd_curs_ValidQ</span><span class="p">(</span><span class="n">sandbox_cmd_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6356</span><span class="c1">// item access</span>
<span class="linenos">6357</span><span class="c1">// func:command.sandbox.cmd_curs.Access</span>
<span class="linenos">6358</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">sandbox_cmd_curs_Access</span><span class="p">(</span><span class="n">sandbox_cmd_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6359</span><span class="c1">// proceed to next item</span>
<span class="linenos">6360</span><span class="c1">// func:command.sandbox.files_curs.Next</span>
<span class="linenos">6361</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sandbox_files_curs_Next</span><span class="p">(</span><span class="n">sandbox_files_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6362</span><span class="c1">// func:command.sandbox.files_curs.Reset</span>
<span class="linenos">6363</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sandbox_files_curs_Reset</span><span class="p">(</span><span class="n">sandbox_files_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6364</span><span class="c1">// cursor points to valid item</span>
<span class="linenos">6365</span><span class="c1">// func:command.sandbox.files_curs.ValidQ</span>
<span class="linenos">6366</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">sandbox_files_curs_ValidQ</span><span class="p">(</span><span class="n">sandbox_files_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6367</span><span class="c1">// item access</span>
<span class="linenos">6368</span><span class="c1">// func:command.sandbox.files_curs.Access</span>
<span class="linenos">6369</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">sandbox_files_curs_Access</span><span class="p">(</span><span class="n">sandbox_files_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6370</span><span class="c1">// func:command.sandbox..ReadFieldMaybe</span>
<span class="linenos">6371</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">sandbox_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6372</span><span class="c1">// Read fields of command::sandbox from attributes of ascii tuple TUPLE</span>
<span class="linenos">6373</span><span class="c1">// func:command.sandbox..ReadTupleMaybe</span>
<span class="linenos">6374</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">sandbox_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6375</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">6376</span><span class="c1">// func:command.sandbox..Init</span>
<span class="linenos">6377</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sandbox_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6378</span><span class="c1">// func:command.sandbox..Uninit</span>
<span class="linenos">6379</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sandbox_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6380</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">6381</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">6382</span><span class="c1">// func:command.sandbox..ToCmdline</span>
<span class="linenos">6383</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">sandbox_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6384</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">6385</span><span class="c1">// cfmt:command.sandbox.Argv  printfmt:Tuple</span>
<span class="linenos">6386</span><span class="c1">// func:command.sandbox..PrintArgv</span>
<span class="linenos">6387</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sandbox_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6388</span><span class="c1">// func:command.sandbox..GetAnon</span>
<span class="linenos">6389</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">sandbox_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6390</span><span class="c1">// Used with command lines</span>
<span class="linenos">6391</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">6392</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">6393</span><span class="c1">// func:command.sandbox..NArgs</span>
<span class="linenos">6394</span><span class="n">i32</span><span class="w">                  </span><span class="nf">sandbox_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6395</span>
<span class="linenos">6396</span><span class="c1">// --- command.sandbox_proc</span>
<span class="linenos">6397</span><span class="k">struct</span><span class="w"> </span><span class="nc">sandbox_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.sandbox_proc: Subprocess: Sandbox - sandbox management tool</span>
<span class="linenos">6398</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/sandbox&quot;  path for executable</span>
<span class="linenos">6399</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">sandbox</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">6400</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">6401</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">6402</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">6403</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">              </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">6404</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">6405</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">6406</span><span class="w">    </span><span class="n">sandbox_proc</span><span class="p">();</span>
<span class="linenos">6407</span><span class="w">    </span><span class="o">~</span><span class="n">sandbox_proc</span><span class="p">();</span>
<span class="linenos">6408</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">6409</span><span class="w">    </span><span class="c1">// reftype Exec of command.sandbox_proc.sandbox prohibits copy</span>
<span class="linenos">6410</span><span class="w">    </span><span class="c1">// value field command.sandbox_proc.cmd is not copiable</span>
<span class="linenos">6411</span><span class="w">    </span><span class="n">sandbox_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">sandbox_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">6412</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">sandbox_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">6413</span><span class="p">};</span>
<span class="linenos">6414</span>
<span class="linenos">6415</span><span class="c1">// Start subprocess</span>
<span class="linenos">6416</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">6417</span><span class="c1">// func:command.sandbox_proc.sandbox.Start</span>
<span class="linenos">6418</span><span class="kt">int</span><span class="w">                  </span><span class="nf">sandbox_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6419</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">6420</span><span class="c1">// func:command.sandbox_proc.sandbox.StartRead</span>
<span class="linenos">6421</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">sandbox_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6422</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">6423</span><span class="c1">// func:command.sandbox_proc.sandbox.Kill</span>
<span class="linenos">6424</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sandbox_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6425</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">6426</span><span class="c1">// func:command.sandbox_proc.sandbox.Wait</span>
<span class="linenos">6427</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sandbox_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6428</span><span class="c1">// Start + Wait</span>
<span class="linenos">6429</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">6430</span><span class="c1">// func:command.sandbox_proc.sandbox.Exec</span>
<span class="linenos">6431</span><span class="kt">int</span><span class="w">                  </span><span class="nf">sandbox_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6432</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">6433</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">6434</span><span class="c1">// func:command.sandbox_proc.sandbox.ExecX</span>
<span class="linenos">6435</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sandbox_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6436</span><span class="c1">// Call execv()</span>
<span class="linenos">6437</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">6438</span><span class="c1">// func:command.sandbox_proc.sandbox.Execv</span>
<span class="linenos">6439</span><span class="kt">int</span><span class="w">                  </span><span class="nf">sandbox_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6440</span><span class="c1">// func:command.sandbox_proc.sandbox.ToCmdline</span>
<span class="linenos">6441</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">sandbox_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6442</span><span class="c1">// Form array from the command line</span>
<span class="linenos">6443</span><span class="c1">// func:command.sandbox_proc.sandbox.ToArgv</span>
<span class="linenos">6444</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sandbox_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6445</span>
<span class="linenos">6446</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">6447</span><span class="c1">// func:command.sandbox_proc..Init</span>
<span class="linenos">6448</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sandbox_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6449</span><span class="c1">// func:command.sandbox_proc..Uninit</span>
<span class="linenos">6450</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sandbox_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sandbox_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6451</span>
<span class="linenos">6452</span><span class="c1">// --- command.spnx</span>
<span class="linenos">6453</span><span class="c1">// access: command.spnx_proc.spnx (Exec)</span>
<span class="linenos">6454</span><span class="k">struct</span><span class="w"> </span><span class="nc">spnx</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.spnx</span>
<span class="linenos">6455</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">in</span><span class="p">;</span><span class="w">                      </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">6456</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">   </span><span class="n">site</span><span class="p">;</span><span class="w">                    </span><span class="c1">//   &quot;OpenacrDoc&quot;  Website to generate</span>
<span class="linenos">6457</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">build</span><span class="p">;</span><span class="w">                   </span><span class="c1">//   false  Run sphinx with builder action, the result is in &lt;workdir&gt;/site/build/&lt;builder&gt; directory</span>
<span class="linenos">6458</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">   </span><span class="n">builder</span><span class="p">;</span><span class="w">                 </span><span class="c1">//   &quot;html&quot;  (with -build) Use sphix builder</span>
<span class="linenos">6459</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">build_fail_on_warning</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  fail if build produces a warning</span>
<span class="linenos">6460</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">build_quiet</span><span class="p">;</span><span class="w">             </span><span class="c1">//   false  don&#39;t print build messages</span>
<span class="linenos">6461</span><span class="w">    </span><span class="n">u32</span><span class="w">                </span><span class="n">jobs</span><span class="p">;</span><span class="w">                    </span><span class="c1">//   0  (with -build) Use these many threads with builder, 0 is sysconf(_SC_NPROCESSORS_ONLN)</span>
<span class="linenos">6462</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">preserve_footer</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  Extract footer from serve_dctrhost website - this way not all pages change on build</span>
<span class="linenos">6463</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">clean</span><span class="p">;</span><span class="w">                   </span><span class="c1">//   false  Clean &lt;workdir&gt;/site directory</span>
<span class="linenos">6464</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">serve</span><span class="p">;</span><span class="w">                   </span><span class="c1">//   false  Deploy &lt;workdir&gt;/site/build/html website to serve_dctrhost. If serve_dctrhost is empty, website is on http://user-&lt;user&gt;.vovaco.com:3081</span>
<span class="linenos">6465</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">   </span><span class="n">serve_dctrhost</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;&quot;  (with -serve) Deploy generated website to this host. If empty it is $HOSTNAME</span>
<span class="linenos">6466</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">serve_pages</span><span class="p">;</span><span class="w">             </span><span class="c1">//   false  Deploy generated website to github pages</span>
<span class="linenos">6467</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">serve_verify</span><span class="p">;</span><span class="w">            </span><span class="c1">//   false  (with -serve_dctrhost) check if the footer on serve_dctrhost matches the commit from which it is generated</span>
<span class="linenos">6468</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">workdir</span><span class="p">;</span><span class="w">                 </span><span class="c1">//   &quot;temp/&quot;  Working directory for Sphinx</span>
<span class="linenos">6469</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">dry_run</span><span class="p">;</span><span class="w">                 </span><span class="c1">//   false  Print actions, do not perform</span>
<span class="linenos">6470</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">opts_numbered</span><span class="p">;</span><span class="w">           </span><span class="c1">//   false  Make the tocs numbered</span>
<span class="linenos">6471</span><span class="w">    </span><span class="n">spnx</span><span class="p">();</span>
<span class="linenos">6472</span><span class="p">};</span>
<span class="linenos">6473</span>
<span class="linenos">6474</span><span class="c1">// func:command.spnx..ReadFieldMaybe</span>
<span class="linenos">6475</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">spnx_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">spnx</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6476</span><span class="c1">// Read fields of command::spnx from attributes of ascii tuple TUPLE</span>
<span class="linenos">6477</span><span class="c1">// func:command.spnx..ReadTupleMaybe</span>
<span class="linenos">6478</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">spnx_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">spnx</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6479</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">6480</span><span class="c1">// func:command.spnx..Init</span>
<span class="linenos">6481</span><span class="kt">void</span><span class="w">                 </span><span class="nf">spnx_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">spnx</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6482</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">6483</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">6484</span><span class="c1">// func:command.spnx..ToCmdline</span>
<span class="linenos">6485</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">spnx_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">spnx</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6486</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">6487</span><span class="c1">// cfmt:command.spnx.Argv  printfmt:Tuple</span>
<span class="linenos">6488</span><span class="c1">// func:command.spnx..PrintArgv</span>
<span class="linenos">6489</span><span class="kt">void</span><span class="w">                 </span><span class="nf">spnx_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">spnx</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6490</span><span class="c1">// Used with command lines</span>
<span class="linenos">6491</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">6492</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">6493</span><span class="c1">// func:command.spnx..NArgs</span>
<span class="linenos">6494</span><span class="n">i32</span><span class="w">                  </span><span class="nf">spnx_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6495</span>
<span class="linenos">6496</span><span class="c1">// --- command.spnx_proc</span>
<span class="linenos">6497</span><span class="k">struct</span><span class="w"> </span><span class="nc">spnx_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.spnx_proc: Subprocess: website generator based on sphinx</span>
<span class="linenos">6498</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/spnx&quot;  path for executable</span>
<span class="linenos">6499</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">spnx</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">6500</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">6501</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">6502</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">6503</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">           </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">6504</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">6505</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">6506</span><span class="w">    </span><span class="n">spnx_proc</span><span class="p">();</span>
<span class="linenos">6507</span><span class="w">    </span><span class="o">~</span><span class="n">spnx_proc</span><span class="p">();</span>
<span class="linenos">6508</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">6509</span><span class="w">    </span><span class="c1">// reftype Exec of command.spnx_proc.spnx prohibits copy</span>
<span class="linenos">6510</span><span class="w">    </span><span class="n">spnx_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">spnx_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">6511</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">spnx_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">6512</span><span class="p">};</span>
<span class="linenos">6513</span>
<span class="linenos">6514</span><span class="c1">// Start subprocess</span>
<span class="linenos">6515</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">6516</span><span class="c1">// func:command.spnx_proc.spnx.Start</span>
<span class="linenos">6517</span><span class="kt">int</span><span class="w">                  </span><span class="nf">spnx_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">spnx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6518</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">6519</span><span class="c1">// func:command.spnx_proc.spnx.StartRead</span>
<span class="linenos">6520</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">spnx_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">spnx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6521</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">6522</span><span class="c1">// func:command.spnx_proc.spnx.Kill</span>
<span class="linenos">6523</span><span class="kt">void</span><span class="w">                 </span><span class="nf">spnx_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">spnx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6524</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">6525</span><span class="c1">// func:command.spnx_proc.spnx.Wait</span>
<span class="linenos">6526</span><span class="kt">void</span><span class="w">                 </span><span class="nf">spnx_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">spnx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6527</span><span class="c1">// Start + Wait</span>
<span class="linenos">6528</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">6529</span><span class="c1">// func:command.spnx_proc.spnx.Exec</span>
<span class="linenos">6530</span><span class="kt">int</span><span class="w">                  </span><span class="nf">spnx_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">spnx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6531</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">6532</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">6533</span><span class="c1">// func:command.spnx_proc.spnx.ExecX</span>
<span class="linenos">6534</span><span class="kt">void</span><span class="w">                 </span><span class="nf">spnx_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">spnx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6535</span><span class="c1">// Call execv()</span>
<span class="linenos">6536</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">6537</span><span class="c1">// func:command.spnx_proc.spnx.Execv</span>
<span class="linenos">6538</span><span class="kt">int</span><span class="w">                  </span><span class="nf">spnx_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">spnx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6539</span><span class="c1">// func:command.spnx_proc.spnx.ToCmdline</span>
<span class="linenos">6540</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">spnx_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">spnx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6541</span><span class="c1">// Form array from the command line</span>
<span class="linenos">6542</span><span class="c1">// func:command.spnx_proc.spnx.ToArgv</span>
<span class="linenos">6543</span><span class="kt">void</span><span class="w">                 </span><span class="nf">spnx_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">spnx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6544</span>
<span class="linenos">6545</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">6546</span><span class="c1">// func:command.spnx_proc..Init</span>
<span class="linenos">6547</span><span class="kt">void</span><span class="w">                 </span><span class="nf">spnx_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">spnx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6548</span><span class="c1">// func:command.spnx_proc..Uninit</span>
<span class="linenos">6549</span><span class="kt">void</span><span class="w">                 </span><span class="nf">spnx_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">spnx_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6550</span>
<span class="linenos">6551</span><span class="c1">// --- command.src_func</span>
<span class="linenos">6552</span><span class="c1">// access: command.src_func_proc.src_func (Exec)</span>
<span class="linenos">6553</span><span class="k">struct</span><span class="w"> </span><span class="nc">src_func</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.src_func</span>
<span class="linenos">6554</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">in</span><span class="p">;</span><span class="w">            </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">6555</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">      </span><span class="n">target</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;%&quot;  Sql Regx of dev::Target</span>
<span class="linenos">6556</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">      </span><span class="n">name</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;%&quot;  Sql Regx</span>
<span class="linenos">6557</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">      </span><span class="n">body</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;%&quot;  Sql Regx</span>
<span class="linenos">6558</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">      </span><span class="n">targsrc</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;&quot;  Sql Regx of dev::Targsrc</span>
<span class="linenos">6559</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">      </span><span class="n">func</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;%&quot;  Sql Regx</span>
<span class="linenos">6560</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">      </span><span class="n">comment</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;%&quot;  Sql Regx</span>
<span class="linenos">6561</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr200</span><span class="w">   </span><span class="n">nextfile</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;&quot;  Print name of next srcfile in targsrc list</span>
<span class="linenos">6562</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">other</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  (with -nextfile), name of previous file</span>
<span class="linenos">6563</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">updateproto</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  Update prototypes in headers</span>
<span class="linenos">6564</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">listfunc</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  Show functions in target</span>
<span class="linenos">6565</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">iffy</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  Select functions that may contain errors</span>
<span class="linenos">6566</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">proto</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  (with -listfunc) List prototypes only</span>
<span class="linenos">6567</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">gen</span><span class="p">;</span><span class="w">           </span><span class="c1">//   false  (with -listfunc) Visit generated files</span>
<span class="linenos">6568</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">showloc</span><span class="p">;</span><span class="w">       </span><span class="c1">//   true  (with -listfunc) Show file location</span>
<span class="linenos">6569</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">showstatic</span><span class="p">;</span><span class="w">    </span><span class="c1">//   true  (with -listfunc) Show static functions</span>
<span class="linenos">6570</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">showsortkey</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  (with -listfunc) Display function sortkey</span>
<span class="linenos">6571</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">sortname</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  (with -listfunc) Sort functions by name</span>
<span class="linenos">6572</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">e</span><span class="p">;</span><span class="w">             </span><span class="c1">//   false  (with -listfunc) Edit found functions</span>
<span class="linenos">6573</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">baddecl</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  Report and fail on bad declarations</span>
<span class="linenos">6574</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">report</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false</span>
<span class="linenos">6575</span><span class="w">    </span><span class="n">src_func</span><span class="p">();</span>
<span class="linenos">6576</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">6577</span><span class="w">    </span><span class="c1">// reftype Regx of command.src_func.target prohibits copy</span>
<span class="linenos">6578</span><span class="w">    </span><span class="c1">// reftype Regx of command.src_func.name prohibits copy</span>
<span class="linenos">6579</span><span class="w">    </span><span class="c1">// reftype Regx of command.src_func.body prohibits copy</span>
<span class="linenos">6580</span><span class="w">    </span><span class="c1">// ... and several other reasons</span>
<span class="linenos">6581</span><span class="w">    </span><span class="n">src_func</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">src_func</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">6582</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">src_func</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">6583</span><span class="p">};</span>
<span class="linenos">6584</span>
<span class="linenos">6585</span><span class="c1">// Print back to string</span>
<span class="linenos">6586</span><span class="c1">// func:command.src_func.target.Print</span>
<span class="linenos">6587</span><span class="kt">void</span><span class="w">                 </span><span class="nf">target_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6588</span><span class="c1">// Read Regx from string</span>
<span class="linenos">6589</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">6590</span><span class="c1">// func:command.src_func.target.ReadStrptrMaybe</span>
<span class="linenos">6591</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">target_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6592</span>
<span class="linenos">6593</span><span class="c1">// Print back to string</span>
<span class="linenos">6594</span><span class="c1">// func:command.src_func.name.Print</span>
<span class="linenos">6595</span><span class="kt">void</span><span class="w">                 </span><span class="nf">name_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6596</span><span class="c1">// Read Regx from string</span>
<span class="linenos">6597</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">6598</span><span class="c1">// func:command.src_func.name.ReadStrptrMaybe</span>
<span class="linenos">6599</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">name_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6600</span>
<span class="linenos">6601</span><span class="c1">// Print back to string</span>
<span class="linenos">6602</span><span class="c1">// func:command.src_func.body.Print</span>
<span class="linenos">6603</span><span class="kt">void</span><span class="w">                 </span><span class="nf">body_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6604</span><span class="c1">// Read Regx from string</span>
<span class="linenos">6605</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">6606</span><span class="c1">// func:command.src_func.body.ReadStrptrMaybe</span>
<span class="linenos">6607</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">body_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6608</span>
<span class="linenos">6609</span><span class="c1">// Print back to string</span>
<span class="linenos">6610</span><span class="c1">// func:command.src_func.targsrc.Print</span>
<span class="linenos">6611</span><span class="kt">void</span><span class="w">                 </span><span class="nf">targsrc_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6612</span><span class="c1">// Read Regx from string</span>
<span class="linenos">6613</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">6614</span><span class="c1">// func:command.src_func.targsrc.ReadStrptrMaybe</span>
<span class="linenos">6615</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">targsrc_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6616</span>
<span class="linenos">6617</span><span class="c1">// Print back to string</span>
<span class="linenos">6618</span><span class="c1">// func:command.src_func.func.Print</span>
<span class="linenos">6619</span><span class="kt">void</span><span class="w">                 </span><span class="nf">func_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6620</span><span class="c1">// Read Regx from string</span>
<span class="linenos">6621</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">6622</span><span class="c1">// func:command.src_func.func.ReadStrptrMaybe</span>
<span class="linenos">6623</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">func_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6624</span>
<span class="linenos">6625</span><span class="c1">// Print back to string</span>
<span class="linenos">6626</span><span class="c1">// func:command.src_func.comment.Print</span>
<span class="linenos">6627</span><span class="kt">void</span><span class="w">                 </span><span class="nf">comment_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6628</span><span class="c1">// Read Regx from string</span>
<span class="linenos">6629</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">6630</span><span class="c1">// func:command.src_func.comment.ReadStrptrMaybe</span>
<span class="linenos">6631</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">comment_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6632</span>
<span class="linenos">6633</span><span class="c1">// func:command.src_func..ReadFieldMaybe</span>
<span class="linenos">6634</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">src_func_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6635</span><span class="c1">// Read fields of command::src_func from attributes of ascii tuple TUPLE</span>
<span class="linenos">6636</span><span class="c1">// func:command.src_func..ReadTupleMaybe</span>
<span class="linenos">6637</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">src_func_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6638</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">6639</span><span class="c1">// func:command.src_func..Init</span>
<span class="linenos">6640</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_func_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6641</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">6642</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">6643</span><span class="c1">// func:command.src_func..ToCmdline</span>
<span class="linenos">6644</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">src_func_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6645</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">6646</span><span class="c1">// cfmt:command.src_func.Argv  printfmt:Tuple</span>
<span class="linenos">6647</span><span class="c1">// func:command.src_func..PrintArgv</span>
<span class="linenos">6648</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_func_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6649</span><span class="c1">// func:command.src_func..GetAnon</span>
<span class="linenos">6650</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">src_func_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6651</span><span class="c1">// Used with command lines</span>
<span class="linenos">6652</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">6653</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">6654</span><span class="c1">// func:command.src_func..NArgs</span>
<span class="linenos">6655</span><span class="n">i32</span><span class="w">                  </span><span class="nf">src_func_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6656</span>
<span class="linenos">6657</span><span class="c1">// --- command.src_func_proc</span>
<span class="linenos">6658</span><span class="k">struct</span><span class="w"> </span><span class="nc">src_func_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.src_func_proc: Subprocess: Access / edit functions</span>
<span class="linenos">6659</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/src_func&quot;  path for executable</span>
<span class="linenos">6660</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">src_func</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">6661</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">6662</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">6663</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">6664</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">               </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">6665</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">6666</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">6667</span><span class="w">    </span><span class="n">src_func_proc</span><span class="p">();</span>
<span class="linenos">6668</span><span class="w">    </span><span class="o">~</span><span class="n">src_func_proc</span><span class="p">();</span>
<span class="linenos">6669</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">6670</span><span class="w">    </span><span class="c1">// reftype Exec of command.src_func_proc.src_func prohibits copy</span>
<span class="linenos">6671</span><span class="w">    </span><span class="c1">// value field command.src_func_proc.cmd is not copiable</span>
<span class="linenos">6672</span><span class="w">    </span><span class="n">src_func_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">src_func_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">6673</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">src_func_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">6674</span><span class="p">};</span>
<span class="linenos">6675</span>
<span class="linenos">6676</span><span class="c1">// Start subprocess</span>
<span class="linenos">6677</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">6678</span><span class="c1">// func:command.src_func_proc.src_func.Start</span>
<span class="linenos">6679</span><span class="kt">int</span><span class="w">                  </span><span class="nf">src_func_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6680</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">6681</span><span class="c1">// func:command.src_func_proc.src_func.StartRead</span>
<span class="linenos">6682</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">src_func_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6683</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">6684</span><span class="c1">// func:command.src_func_proc.src_func.Kill</span>
<span class="linenos">6685</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_func_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6686</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">6687</span><span class="c1">// func:command.src_func_proc.src_func.Wait</span>
<span class="linenos">6688</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_func_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6689</span><span class="c1">// Start + Wait</span>
<span class="linenos">6690</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">6691</span><span class="c1">// func:command.src_func_proc.src_func.Exec</span>
<span class="linenos">6692</span><span class="kt">int</span><span class="w">                  </span><span class="nf">src_func_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6693</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">6694</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">6695</span><span class="c1">// func:command.src_func_proc.src_func.ExecX</span>
<span class="linenos">6696</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_func_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6697</span><span class="c1">// Call execv()</span>
<span class="linenos">6698</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">6699</span><span class="c1">// func:command.src_func_proc.src_func.Execv</span>
<span class="linenos">6700</span><span class="kt">int</span><span class="w">                  </span><span class="nf">src_func_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6701</span><span class="c1">// func:command.src_func_proc.src_func.ToCmdline</span>
<span class="linenos">6702</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">src_func_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6703</span><span class="c1">// Form array from the command line</span>
<span class="linenos">6704</span><span class="c1">// func:command.src_func_proc.src_func.ToArgv</span>
<span class="linenos">6705</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_func_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6706</span>
<span class="linenos">6707</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">6708</span><span class="c1">// func:command.src_func_proc..Init</span>
<span class="linenos">6709</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_func_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6710</span><span class="c1">// func:command.src_func_proc..Uninit</span>
<span class="linenos">6711</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_func_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_func_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6712</span>
<span class="linenos">6713</span><span class="c1">// --- command.src_hdr</span>
<span class="linenos">6714</span><span class="c1">// access: command.src_hdr_proc.src_hdr (Exec)</span>
<span class="linenos">6715</span><span class="k">struct</span><span class="w"> </span><span class="nc">src_hdr</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.src_hdr</span>
<span class="linenos">6716</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">                 </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">6717</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">targsrc</span><span class="p">;</span><span class="w">            </span><span class="c1">//   &quot;&quot;  Sql Regx of dev::Targsrc</span>
<span class="linenos">6718</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">write</span><span class="p">;</span><span class="w">              </span><span class="c1">//   false  Update files in-place</span>
<span class="linenos">6719</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">indent</span><span class="p">;</span><span class="w">             </span><span class="c1">//   false  Indent source files</span>
<span class="linenos">6720</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">update_copyright</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  Update copyright year for current company</span>
<span class="linenos">6721</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">scriptfile</span><span class="p">;</span><span class="w">         </span><span class="c1">//   &quot;&quot;  Sql Regx of dev::Scriptfile</span>
<span class="linenos">6722</span><span class="w">    </span><span class="n">src_hdr</span><span class="p">();</span>
<span class="linenos">6723</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">6724</span><span class="w">    </span><span class="c1">// reftype Regx of command.src_hdr.targsrc prohibits copy</span>
<span class="linenos">6725</span><span class="w">    </span><span class="c1">// reftype Regx of command.src_hdr.scriptfile prohibits copy</span>
<span class="linenos">6726</span><span class="w">    </span><span class="n">src_hdr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">src_hdr</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">6727</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">src_hdr</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">6728</span><span class="p">};</span>
<span class="linenos">6729</span>
<span class="linenos">6730</span><span class="c1">// Print back to string</span>
<span class="linenos">6731</span><span class="c1">// func:command.src_hdr.targsrc.Print</span>
<span class="linenos">6732</span><span class="kt">void</span><span class="w">                 </span><span class="nf">targsrc_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6733</span><span class="c1">// Read Regx from string</span>
<span class="linenos">6734</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">6735</span><span class="c1">// func:command.src_hdr.targsrc.ReadStrptrMaybe</span>
<span class="linenos">6736</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">targsrc_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6737</span>
<span class="linenos">6738</span><span class="c1">// Print back to string</span>
<span class="linenos">6739</span><span class="c1">// func:command.src_hdr.scriptfile.Print</span>
<span class="linenos">6740</span><span class="kt">void</span><span class="w">                 </span><span class="nf">scriptfile_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6741</span><span class="c1">// Read Regx from string</span>
<span class="linenos">6742</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">6743</span><span class="c1">// func:command.src_hdr.scriptfile.ReadStrptrMaybe</span>
<span class="linenos">6744</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">scriptfile_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6745</span>
<span class="linenos">6746</span><span class="c1">// func:command.src_hdr..ReadFieldMaybe</span>
<span class="linenos">6747</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">src_hdr_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6748</span><span class="c1">// Read fields of command::src_hdr from attributes of ascii tuple TUPLE</span>
<span class="linenos">6749</span><span class="c1">// func:command.src_hdr..ReadTupleMaybe</span>
<span class="linenos">6750</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">src_hdr_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6751</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">6752</span><span class="c1">// func:command.src_hdr..Init</span>
<span class="linenos">6753</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_hdr_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6754</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">6755</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">6756</span><span class="c1">// func:command.src_hdr..ToCmdline</span>
<span class="linenos">6757</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">src_hdr_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6758</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">6759</span><span class="c1">// cfmt:command.src_hdr.Argv  printfmt:Tuple</span>
<span class="linenos">6760</span><span class="c1">// func:command.src_hdr..PrintArgv</span>
<span class="linenos">6761</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_hdr_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6762</span><span class="c1">// Used with command lines</span>
<span class="linenos">6763</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">6764</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">6765</span><span class="c1">// func:command.src_hdr..NArgs</span>
<span class="linenos">6766</span><span class="n">i32</span><span class="w">                  </span><span class="nf">src_hdr_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6767</span>
<span class="linenos">6768</span><span class="c1">// --- command.src_hdr_proc</span>
<span class="linenos">6769</span><span class="k">struct</span><span class="w"> </span><span class="nc">src_hdr_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.src_hdr_proc: Subprocess: Manage source copyright+license header in source files and scripts</span>
<span class="linenos">6770</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/src_hdr&quot;  path for executable</span>
<span class="linenos">6771</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">6772</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">6773</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">6774</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">6775</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">              </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">6776</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">6777</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">6778</span><span class="w">    </span><span class="n">src_hdr_proc</span><span class="p">();</span>
<span class="linenos">6779</span><span class="w">    </span><span class="o">~</span><span class="n">src_hdr_proc</span><span class="p">();</span>
<span class="linenos">6780</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">6781</span><span class="w">    </span><span class="c1">// reftype Exec of command.src_hdr_proc.src_hdr prohibits copy</span>
<span class="linenos">6782</span><span class="w">    </span><span class="c1">// value field command.src_hdr_proc.cmd is not copiable</span>
<span class="linenos">6783</span><span class="w">    </span><span class="n">src_hdr_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">src_hdr_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">6784</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">src_hdr_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">6785</span><span class="p">};</span>
<span class="linenos">6786</span>
<span class="linenos">6787</span><span class="c1">// Start subprocess</span>
<span class="linenos">6788</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">6789</span><span class="c1">// func:command.src_hdr_proc.src_hdr.Start</span>
<span class="linenos">6790</span><span class="kt">int</span><span class="w">                  </span><span class="nf">src_hdr_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6791</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">6792</span><span class="c1">// func:command.src_hdr_proc.src_hdr.StartRead</span>
<span class="linenos">6793</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">src_hdr_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6794</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">6795</span><span class="c1">// func:command.src_hdr_proc.src_hdr.Kill</span>
<span class="linenos">6796</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_hdr_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6797</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">6798</span><span class="c1">// func:command.src_hdr_proc.src_hdr.Wait</span>
<span class="linenos">6799</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_hdr_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6800</span><span class="c1">// Start + Wait</span>
<span class="linenos">6801</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">6802</span><span class="c1">// func:command.src_hdr_proc.src_hdr.Exec</span>
<span class="linenos">6803</span><span class="kt">int</span><span class="w">                  </span><span class="nf">src_hdr_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6804</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">6805</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">6806</span><span class="c1">// func:command.src_hdr_proc.src_hdr.ExecX</span>
<span class="linenos">6807</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_hdr_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6808</span><span class="c1">// Call execv()</span>
<span class="linenos">6809</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">6810</span><span class="c1">// func:command.src_hdr_proc.src_hdr.Execv</span>
<span class="linenos">6811</span><span class="kt">int</span><span class="w">                  </span><span class="nf">src_hdr_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6812</span><span class="c1">// func:command.src_hdr_proc.src_hdr.ToCmdline</span>
<span class="linenos">6813</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">src_hdr_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6814</span><span class="c1">// Form array from the command line</span>
<span class="linenos">6815</span><span class="c1">// func:command.src_hdr_proc.src_hdr.ToArgv</span>
<span class="linenos">6816</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_hdr_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6817</span>
<span class="linenos">6818</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">6819</span><span class="c1">// func:command.src_hdr_proc..Init</span>
<span class="linenos">6820</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_hdr_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6821</span><span class="c1">// func:command.src_hdr_proc..Uninit</span>
<span class="linenos">6822</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_hdr_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_hdr_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6823</span>
<span class="linenos">6824</span><span class="c1">// --- command.src_lim</span>
<span class="linenos">6825</span><span class="c1">// access: command.src_lim_proc.src_lim (Exec)</span>
<span class="linenos">6826</span><span class="k">struct</span><span class="w"> </span><span class="nc">src_lim</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.src_lim</span>
<span class="linenos">6827</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">6828</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">linelim</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Check various file limits (line length, function length, etc)</span>
<span class="linenos">6829</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">srcfile</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;%&quot;  Sql Regx of dev::Gitfile</span>
<span class="linenos">6830</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">strayfile</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  Check for unregistered source files</span>
<span class="linenos">6831</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">capture</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Generate new dev.linelim records</span>
<span class="linenos">6832</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">write</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  Update ssim database (with -capture)</span>
<span class="linenos">6833</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">badchar</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Check for bad chars in source files</span>
<span class="linenos">6834</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">badline</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;&quot;  Sql Regx of dev::Badline</span>
<span class="linenos">6835</span><span class="w">    </span><span class="n">src_lim</span><span class="p">();</span>
<span class="linenos">6836</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">6837</span><span class="w">    </span><span class="c1">// reftype Regx of command.src_lim.srcfile prohibits copy</span>
<span class="linenos">6838</span><span class="w">    </span><span class="c1">// reftype Regx of command.src_lim.badline prohibits copy</span>
<span class="linenos">6839</span><span class="w">    </span><span class="n">src_lim</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">src_lim</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">6840</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">src_lim</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">6841</span><span class="p">};</span>
<span class="linenos">6842</span>
<span class="linenos">6843</span><span class="c1">// Print back to string</span>
<span class="linenos">6844</span><span class="c1">// func:command.src_lim.srcfile.Print</span>
<span class="linenos">6845</span><span class="kt">void</span><span class="w">                 </span><span class="nf">srcfile_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_lim</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6846</span><span class="c1">// Read Regx from string</span>
<span class="linenos">6847</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">6848</span><span class="c1">// func:command.src_lim.srcfile.ReadStrptrMaybe</span>
<span class="linenos">6849</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">srcfile_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_lim</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6850</span>
<span class="linenos">6851</span><span class="c1">// Print back to string</span>
<span class="linenos">6852</span><span class="c1">// func:command.src_lim.badline.Print</span>
<span class="linenos">6853</span><span class="kt">void</span><span class="w">                 </span><span class="nf">badline_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_lim</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6854</span><span class="c1">// Read Regx from string</span>
<span class="linenos">6855</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">6856</span><span class="c1">// func:command.src_lim.badline.ReadStrptrMaybe</span>
<span class="linenos">6857</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">badline_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_lim</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6858</span>
<span class="linenos">6859</span><span class="c1">// func:command.src_lim..ReadFieldMaybe</span>
<span class="linenos">6860</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">src_lim_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_lim</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6861</span><span class="c1">// Read fields of command::src_lim from attributes of ascii tuple TUPLE</span>
<span class="linenos">6862</span><span class="c1">// func:command.src_lim..ReadTupleMaybe</span>
<span class="linenos">6863</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">src_lim_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_lim</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6864</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">6865</span><span class="c1">// func:command.src_lim..Init</span>
<span class="linenos">6866</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_lim_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_lim</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6867</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">6868</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">6869</span><span class="c1">// func:command.src_lim..ToCmdline</span>
<span class="linenos">6870</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">src_lim_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_lim</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6871</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">6872</span><span class="c1">// cfmt:command.src_lim.Argv  printfmt:Tuple</span>
<span class="linenos">6873</span><span class="c1">// func:command.src_lim..PrintArgv</span>
<span class="linenos">6874</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_lim_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_lim</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6875</span><span class="c1">// Used with command lines</span>
<span class="linenos">6876</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">6877</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">6878</span><span class="c1">// func:command.src_lim..NArgs</span>
<span class="linenos">6879</span><span class="n">i32</span><span class="w">                  </span><span class="nf">src_lim_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6880</span>
<span class="linenos">6881</span><span class="c1">// --- command.src_lim_proc</span>
<span class="linenos">6882</span><span class="k">struct</span><span class="w"> </span><span class="nc">src_lim_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.src_lim_proc: Subprocess: Enforce line length, function length, and indentation limits</span>
<span class="linenos">6883</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/src_lim&quot;  path for executable</span>
<span class="linenos">6884</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">src_lim</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">6885</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">6886</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">6887</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">6888</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">              </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">6889</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">6890</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">6891</span><span class="w">    </span><span class="n">src_lim_proc</span><span class="p">();</span>
<span class="linenos">6892</span><span class="w">    </span><span class="o">~</span><span class="n">src_lim_proc</span><span class="p">();</span>
<span class="linenos">6893</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">6894</span><span class="w">    </span><span class="c1">// reftype Exec of command.src_lim_proc.src_lim prohibits copy</span>
<span class="linenos">6895</span><span class="w">    </span><span class="c1">// value field command.src_lim_proc.cmd is not copiable</span>
<span class="linenos">6896</span><span class="w">    </span><span class="n">src_lim_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">src_lim_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">6897</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">src_lim_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">6898</span><span class="p">};</span>
<span class="linenos">6899</span>
<span class="linenos">6900</span><span class="c1">// Start subprocess</span>
<span class="linenos">6901</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">6902</span><span class="c1">// func:command.src_lim_proc.src_lim.Start</span>
<span class="linenos">6903</span><span class="kt">int</span><span class="w">                  </span><span class="nf">src_lim_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_lim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6904</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">6905</span><span class="c1">// func:command.src_lim_proc.src_lim.StartRead</span>
<span class="linenos">6906</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">src_lim_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_lim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6907</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">6908</span><span class="c1">// func:command.src_lim_proc.src_lim.Kill</span>
<span class="linenos">6909</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_lim_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_lim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6910</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">6911</span><span class="c1">// func:command.src_lim_proc.src_lim.Wait</span>
<span class="linenos">6912</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_lim_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_lim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6913</span><span class="c1">// Start + Wait</span>
<span class="linenos">6914</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">6915</span><span class="c1">// func:command.src_lim_proc.src_lim.Exec</span>
<span class="linenos">6916</span><span class="kt">int</span><span class="w">                  </span><span class="nf">src_lim_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_lim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6917</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">6918</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">6919</span><span class="c1">// func:command.src_lim_proc.src_lim.ExecX</span>
<span class="linenos">6920</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_lim_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_lim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6921</span><span class="c1">// Call execv()</span>
<span class="linenos">6922</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">6923</span><span class="c1">// func:command.src_lim_proc.src_lim.Execv</span>
<span class="linenos">6924</span><span class="kt">int</span><span class="w">                  </span><span class="nf">src_lim_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_lim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6925</span><span class="c1">// func:command.src_lim_proc.src_lim.ToCmdline</span>
<span class="linenos">6926</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">src_lim_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_lim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6927</span><span class="c1">// Form array from the command line</span>
<span class="linenos">6928</span><span class="c1">// func:command.src_lim_proc.src_lim.ToArgv</span>
<span class="linenos">6929</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_lim_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_lim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6930</span>
<span class="linenos">6931</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">6932</span><span class="c1">// func:command.src_lim_proc..Init</span>
<span class="linenos">6933</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_lim_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_lim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6934</span><span class="c1">// func:command.src_lim_proc..Uninit</span>
<span class="linenos">6935</span><span class="kt">void</span><span class="w">                 </span><span class="nf">src_lim_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">src_lim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6936</span>
<span class="linenos">6937</span><span class="c1">// --- command.ssim2csv</span>
<span class="linenos">6938</span><span class="c1">// access: command.ssim2csv_proc.ssim2csv (Exec)</span>
<span class="linenos">6939</span><span class="k">struct</span><span class="w"> </span><span class="nc">ssim2csv</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.ssim2csv</span>
<span class="linenos">6940</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">expand</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;&quot;</span>
<span class="linenos">6941</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">ignoreQuote</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false</span>
<span class="linenos">6942</span><span class="w">    </span><span class="n">ssim2csv</span><span class="p">();</span>
<span class="linenos">6943</span><span class="p">};</span>
<span class="linenos">6944</span>
<span class="linenos">6945</span><span class="c1">// func:command.ssim2csv..ReadFieldMaybe</span>
<span class="linenos">6946</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ssim2csv_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2csv</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6947</span><span class="c1">// Read fields of command::ssim2csv from attributes of ascii tuple TUPLE</span>
<span class="linenos">6948</span><span class="c1">// func:command.ssim2csv..ReadTupleMaybe</span>
<span class="linenos">6949</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ssim2csv_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2csv</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6950</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">6951</span><span class="c1">// func:command.ssim2csv..Init</span>
<span class="linenos">6952</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssim2csv_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2csv</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6953</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">6954</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">6955</span><span class="c1">// func:command.ssim2csv..ToCmdline</span>
<span class="linenos">6956</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">ssim2csv_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2csv</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6957</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">6958</span><span class="c1">// cfmt:command.ssim2csv.Argv  printfmt:Auto</span>
<span class="linenos">6959</span><span class="c1">// func:command.ssim2csv..PrintArgv</span>
<span class="linenos">6960</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssim2csv_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2csv</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6961</span><span class="c1">// Used with command lines</span>
<span class="linenos">6962</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">6963</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">6964</span><span class="c1">// func:command.ssim2csv..NArgs</span>
<span class="linenos">6965</span><span class="n">i32</span><span class="w">                  </span><span class="nf">ssim2csv_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6966</span>
<span class="linenos">6967</span><span class="c1">// --- command.ssim2csv_proc</span>
<span class="linenos">6968</span><span class="k">struct</span><span class="w"> </span><span class="nc">ssim2csv_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.ssim2csv_proc: Subprocess: Ssim -&gt; csv conversion tool</span>
<span class="linenos">6969</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/ssim2csv&quot;  path for executable</span>
<span class="linenos">6970</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">ssim2csv</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">6971</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">6972</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">6973</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">6974</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">               </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">6975</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">6976</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">6977</span><span class="w">    </span><span class="n">ssim2csv_proc</span><span class="p">();</span>
<span class="linenos">6978</span><span class="w">    </span><span class="o">~</span><span class="n">ssim2csv_proc</span><span class="p">();</span>
<span class="linenos">6979</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">6980</span><span class="w">    </span><span class="c1">// reftype Exec of command.ssim2csv_proc.ssim2csv prohibits copy</span>
<span class="linenos">6981</span><span class="w">    </span><span class="n">ssim2csv_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ssim2csv_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">6982</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ssim2csv_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">6983</span><span class="p">};</span>
<span class="linenos">6984</span>
<span class="linenos">6985</span><span class="c1">// Start subprocess</span>
<span class="linenos">6986</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">6987</span><span class="c1">// func:command.ssim2csv_proc.ssim2csv.Start</span>
<span class="linenos">6988</span><span class="kt">int</span><span class="w">                  </span><span class="nf">ssim2csv_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2csv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6989</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">6990</span><span class="c1">// func:command.ssim2csv_proc.ssim2csv.StartRead</span>
<span class="linenos">6991</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">ssim2csv_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2csv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6992</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">6993</span><span class="c1">// func:command.ssim2csv_proc.ssim2csv.Kill</span>
<span class="linenos">6994</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssim2csv_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2csv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">6995</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">6996</span><span class="c1">// func:command.ssim2csv_proc.ssim2csv.Wait</span>
<span class="linenos">6997</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssim2csv_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2csv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">6998</span><span class="c1">// Start + Wait</span>
<span class="linenos">6999</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">7000</span><span class="c1">// func:command.ssim2csv_proc.ssim2csv.Exec</span>
<span class="linenos">7001</span><span class="kt">int</span><span class="w">                  </span><span class="nf">ssim2csv_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2csv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7002</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">7003</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">7004</span><span class="c1">// func:command.ssim2csv_proc.ssim2csv.ExecX</span>
<span class="linenos">7005</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssim2csv_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2csv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7006</span><span class="c1">// Call execv()</span>
<span class="linenos">7007</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">7008</span><span class="c1">// func:command.ssim2csv_proc.ssim2csv.Execv</span>
<span class="linenos">7009</span><span class="kt">int</span><span class="w">                  </span><span class="nf">ssim2csv_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2csv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7010</span><span class="c1">// func:command.ssim2csv_proc.ssim2csv.ToCmdline</span>
<span class="linenos">7011</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">ssim2csv_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2csv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7012</span><span class="c1">// Form array from the command line</span>
<span class="linenos">7013</span><span class="c1">// func:command.ssim2csv_proc.ssim2csv.ToArgv</span>
<span class="linenos">7014</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssim2csv_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2csv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7015</span>
<span class="linenos">7016</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">7017</span><span class="c1">// func:command.ssim2csv_proc..Init</span>
<span class="linenos">7018</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssim2csv_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2csv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7019</span><span class="c1">// func:command.ssim2csv_proc..Uninit</span>
<span class="linenos">7020</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssim2csv_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2csv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7021</span>
<span class="linenos">7022</span><span class="c1">// --- command.ssim2mysql</span>
<span class="linenos">7023</span><span class="c1">// access: command.ssim2mysql_proc.ssim2mysql (Exec)</span>
<span class="linenos">7024</span><span class="k">struct</span><span class="w"> </span><span class="nc">ssim2mysql</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.ssim2mysql</span>
<span class="linenos">7025</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">url</span><span class="p">;</span><span class="w">         </span><span class="c1">//   &quot;&quot;  URL of mysql server. user:pass@hostb or sock://filename; Empty -&gt; stdout</span>
<span class="linenos">7026</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">data_dir</span><span class="p">;</span><span class="w">    </span><span class="c1">//   &quot;data&quot;  Load dmmeta info from this directory</span>
<span class="linenos">7027</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">maxpacket</span><span class="p">;</span><span class="w">   </span><span class="c1">//   100000  Max Mysql packet size</span>
<span class="linenos">7028</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">replace</span><span class="p">;</span><span class="w">     </span><span class="c1">//   true  use REPLACE INTO instead of INSERT INTO</span>
<span class="linenos">7029</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">trunc</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  Truncate target table</span>
<span class="linenos">7030</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">dry_run</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Print SQL commands to the stdout</span>
<span class="linenos">7031</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">fldfunc</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  create columns for fldfuncs</span>
<span class="linenos">7032</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">in</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;-&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">7033</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">db</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;&quot;  Optional database name</span>
<span class="linenos">7034</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">createdb</span><span class="p">;</span><span class="w">    </span><span class="c1">//   false  Emit CREATE DATABASE code for namespace specified with &lt;db&gt;</span>
<span class="linenos">7035</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">fkey</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false  Enable foreign key constraints (uses InnoDB storage engine)</span>
<span class="linenos">7036</span><span class="w">    </span><span class="n">ssim2mysql</span><span class="p">();</span>
<span class="linenos">7037</span><span class="p">};</span>
<span class="linenos">7038</span>
<span class="linenos">7039</span><span class="c1">// func:command.ssim2mysql..ReadFieldMaybe</span>
<span class="linenos">7040</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ssim2mysql_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2mysql</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7041</span><span class="c1">// Read fields of command::ssim2mysql from attributes of ascii tuple TUPLE</span>
<span class="linenos">7042</span><span class="c1">// func:command.ssim2mysql..ReadTupleMaybe</span>
<span class="linenos">7043</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ssim2mysql_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2mysql</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7044</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">7045</span><span class="c1">// func:command.ssim2mysql..Init</span>
<span class="linenos">7046</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssim2mysql_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2mysql</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7047</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">7048</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">7049</span><span class="c1">// func:command.ssim2mysql..ToCmdline</span>
<span class="linenos">7050</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">ssim2mysql_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2mysql</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7051</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">7052</span><span class="c1">// cfmt:command.ssim2mysql.Argv  printfmt:Auto</span>
<span class="linenos">7053</span><span class="c1">// func:command.ssim2mysql..PrintArgv</span>
<span class="linenos">7054</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssim2mysql_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2mysql</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7055</span><span class="c1">// Used with command lines</span>
<span class="linenos">7056</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">7057</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">7058</span><span class="c1">// func:command.ssim2mysql..NArgs</span>
<span class="linenos">7059</span><span class="n">i32</span><span class="w">                  </span><span class="nf">ssim2mysql_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7060</span>
<span class="linenos">7061</span><span class="c1">// --- command.ssim2mysql_proc</span>
<span class="linenos">7062</span><span class="k">struct</span><span class="w"> </span><span class="nc">ssim2mysql_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.ssim2mysql_proc: Subprocess: Ssim -&gt; mysql</span>
<span class="linenos">7063</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">         </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/ssim2mysql&quot;  path for executable</span>
<span class="linenos">7064</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">ssim2mysql</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">7065</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">         </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">7066</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">         </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">7067</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">         </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">7068</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">                 </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">7069</span><span class="w">    </span><span class="n">i32</span><span class="w">                   </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">7070</span><span class="w">    </span><span class="n">i32</span><span class="w">                   </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">7071</span><span class="w">    </span><span class="n">ssim2mysql_proc</span><span class="p">();</span>
<span class="linenos">7072</span><span class="w">    </span><span class="o">~</span><span class="n">ssim2mysql_proc</span><span class="p">();</span>
<span class="linenos">7073</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">7074</span><span class="w">    </span><span class="c1">// reftype Exec of command.ssim2mysql_proc.ssim2mysql prohibits copy</span>
<span class="linenos">7075</span><span class="w">    </span><span class="n">ssim2mysql_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ssim2mysql_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">7076</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ssim2mysql_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">7077</span><span class="p">};</span>
<span class="linenos">7078</span>
<span class="linenos">7079</span><span class="c1">// Start subprocess</span>
<span class="linenos">7080</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">7081</span><span class="c1">// func:command.ssim2mysql_proc.ssim2mysql.Start</span>
<span class="linenos">7082</span><span class="kt">int</span><span class="w">                  </span><span class="nf">ssim2mysql_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2mysql_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7083</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">7084</span><span class="c1">// func:command.ssim2mysql_proc.ssim2mysql.StartRead</span>
<span class="linenos">7085</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">ssim2mysql_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2mysql_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7086</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">7087</span><span class="c1">// func:command.ssim2mysql_proc.ssim2mysql.Kill</span>
<span class="linenos">7088</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssim2mysql_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2mysql_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7089</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">7090</span><span class="c1">// func:command.ssim2mysql_proc.ssim2mysql.Wait</span>
<span class="linenos">7091</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssim2mysql_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2mysql_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7092</span><span class="c1">// Start + Wait</span>
<span class="linenos">7093</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">7094</span><span class="c1">// func:command.ssim2mysql_proc.ssim2mysql.Exec</span>
<span class="linenos">7095</span><span class="kt">int</span><span class="w">                  </span><span class="nf">ssim2mysql_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2mysql_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7096</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">7097</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">7098</span><span class="c1">// func:command.ssim2mysql_proc.ssim2mysql.ExecX</span>
<span class="linenos">7099</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssim2mysql_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2mysql_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7100</span><span class="c1">// Call execv()</span>
<span class="linenos">7101</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">7102</span><span class="c1">// func:command.ssim2mysql_proc.ssim2mysql.Execv</span>
<span class="linenos">7103</span><span class="kt">int</span><span class="w">                  </span><span class="nf">ssim2mysql_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2mysql_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7104</span><span class="c1">// func:command.ssim2mysql_proc.ssim2mysql.ToCmdline</span>
<span class="linenos">7105</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">ssim2mysql_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2mysql_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7106</span><span class="c1">// Form array from the command line</span>
<span class="linenos">7107</span><span class="c1">// func:command.ssim2mysql_proc.ssim2mysql.ToArgv</span>
<span class="linenos">7108</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssim2mysql_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2mysql_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7109</span>
<span class="linenos">7110</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">7111</span><span class="c1">// func:command.ssim2mysql_proc..Init</span>
<span class="linenos">7112</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssim2mysql_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2mysql_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7113</span><span class="c1">// func:command.ssim2mysql_proc..Uninit</span>
<span class="linenos">7114</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssim2mysql_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssim2mysql_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7115</span>
<span class="linenos">7116</span><span class="c1">// --- command.ssimfilt</span>
<span class="linenos">7117</span><span class="c1">// access: command.ssimfilt_proc.ssimfilt (Exec)</span>
<span class="linenos">7118</span><span class="k">struct</span><span class="w"> </span><span class="nc">ssimfilt</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.ssimfilt</span>
<span class="linenos">7119</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">            </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">7120</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">typetag</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;%&quot;  Sql Regx</span>
<span class="linenos">7121</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">   </span><span class="n">match_elems</span><span class="p">;</span><span class="w">   </span><span class="c1">// pointer to elements</span>
<span class="linenos">7122</span><span class="w">    </span><span class="n">u32</span><span class="w">              </span><span class="n">match_n</span><span class="p">;</span><span class="w">       </span><span class="c1">// number of elements in array</span>
<span class="linenos">7123</span><span class="w">    </span><span class="n">u32</span><span class="w">              </span><span class="n">match_max</span><span class="p">;</span><span class="w">     </span><span class="c1">// max. capacity of array before realloc</span>
<span class="linenos">7124</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">   </span><span class="n">field_elems</span><span class="p">;</span><span class="w">   </span><span class="c1">// pointer to elements</span>
<span class="linenos">7125</span><span class="w">    </span><span class="n">u32</span><span class="w">              </span><span class="n">field_n</span><span class="p">;</span><span class="w">       </span><span class="c1">// number of elements in array</span>
<span class="linenos">7126</span><span class="w">    </span><span class="n">u32</span><span class="w">              </span><span class="n">field_max</span><span class="p">;</span><span class="w">     </span><span class="c1">// max. capacity of array before realloc</span>
<span class="linenos">7127</span><span class="w">    </span><span class="n">u8</span><span class="w">               </span><span class="n">format</span><span class="p">;</span><span class="w">        </span><span class="c1">//   0  Output format for selected tuples</span>
<span class="linenos">7128</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">t</span><span class="p">;</span><span class="w">             </span><span class="c1">//   false  Alias for -format:table</span>
<span class="linenos">7129</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">cmd</span><span class="p">;</span><span class="w">           </span><span class="c1">//   &quot;&quot;  Command to output</span>
<span class="linenos">7130</span><span class="w">    </span><span class="n">ssimfilt</span><span class="p">();</span>
<span class="linenos">7131</span><span class="w">    </span><span class="o">~</span><span class="n">ssimfilt</span><span class="p">();</span>
<span class="linenos">7132</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">7133</span><span class="w">    </span><span class="c1">// reftype Regx of command.ssimfilt.typetag prohibits copy</span>
<span class="linenos">7134</span><span class="w">    </span><span class="c1">// reftype Tary of command.ssimfilt.match prohibits copy</span>
<span class="linenos">7135</span><span class="w">    </span><span class="c1">// reftype Tary of command.ssimfilt.field prohibits copy</span>
<span class="linenos">7136</span><span class="w">    </span><span class="c1">// ... and several other reasons</span>
<span class="linenos">7137</span><span class="w">    </span><span class="n">ssimfilt</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">7138</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">7139</span><span class="p">};</span>
<span class="linenos">7140</span>
<span class="linenos">7141</span><span class="c1">// Print back to string</span>
<span class="linenos">7142</span><span class="c1">// func:command.ssimfilt.typetag.Print</span>
<span class="linenos">7143</span><span class="kt">void</span><span class="w">                 </span><span class="nf">typetag_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7144</span><span class="c1">// Read Regx from string</span>
<span class="linenos">7145</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">7146</span><span class="c1">// func:command.ssimfilt.typetag.ReadStrptrMaybe</span>
<span class="linenos">7147</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">typetag_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7148</span>
<span class="linenos">7149</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">7150</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">7151</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">7152</span><span class="c1">// func:command.ssimfilt.match.Addary</span>
<span class="linenos">7153</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">match_Addary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7154</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">7155</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">7156</span><span class="c1">// func:command.ssimfilt.match.Alloc</span>
<span class="linenos">7157</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">match_Alloc</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7158</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">7159</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">7160</span><span class="c1">// func:command.ssimfilt.match.AllocAt</span>
<span class="linenos">7161</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">match_AllocAt</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7162</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">7163</span><span class="c1">// func:command.ssimfilt.match.AllocN</span>
<span class="linenos">7164</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">match_AllocN</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7165</span><span class="c1">// Return true if index is empty</span>
<span class="linenos">7166</span><span class="c1">// func:command.ssimfilt.match.EmptyQ</span>
<span class="linenos">7167</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">match_EmptyQ</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7168</span><span class="c1">// Look up row by row id. Return NULL if out of range</span>
<span class="linenos">7169</span><span class="c1">// func:command.ssimfilt.match.Find</span>
<span class="linenos">7170</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">match_Find</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7171</span><span class="c1">// Return array pointer by value</span>
<span class="linenos">7172</span><span class="c1">// func:command.ssimfilt.match.Getary</span>
<span class="linenos">7173</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">match_Getary</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7174</span><span class="c1">// Return pointer to last element of array, or NULL if array is empty</span>
<span class="linenos">7175</span><span class="c1">// func:command.ssimfilt.match.Last</span>
<span class="linenos">7176</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">match_Last</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">7177</span><span class="c1">// Return max. number of items in the array</span>
<span class="linenos">7178</span><span class="c1">// func:command.ssimfilt.match.Max</span>
<span class="linenos">7179</span><span class="n">i32</span><span class="w">                  </span><span class="nf">match_Max</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7180</span><span class="c1">// Return number of items in the array</span>
<span class="linenos">7181</span><span class="c1">// func:command.ssimfilt.match.N</span>
<span class="linenos">7182</span><span class="n">i32</span><span class="w">                  </span><span class="nf">match_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">7183</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">7184</span><span class="c1">// func:command.ssimfilt.match.Remove</span>
<span class="linenos">7185</span><span class="kt">void</span><span class="w">                 </span><span class="nf">match_Remove</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7186</span><span class="c1">// func:command.ssimfilt.match.RemoveAll</span>
<span class="linenos">7187</span><span class="kt">void</span><span class="w">                 </span><span class="nf">match_RemoveAll</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7188</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">7189</span><span class="c1">// func:command.ssimfilt.match.RemoveLast</span>
<span class="linenos">7190</span><span class="kt">void</span><span class="w">                 </span><span class="nf">match_RemoveLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7191</span><span class="c1">// Make sure N *more* elements will fit in array. Process dies if out of memory</span>
<span class="linenos">7192</span><span class="c1">// func:command.ssimfilt.match.Reserve</span>
<span class="linenos">7193</span><span class="kt">void</span><span class="w">                 </span><span class="nf">match_Reserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7194</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">7195</span><span class="c1">// func:command.ssimfilt.match.AbsReserve</span>
<span class="linenos">7196</span><span class="kt">void</span><span class="w">                 </span><span class="nf">match_AbsReserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7197</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">7198</span><span class="c1">// func:command.ssimfilt.match.Setary</span>
<span class="linenos">7199</span><span class="kt">void</span><span class="w">                 </span><span class="nf">match_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7200</span><span class="c1">// Copy specified array into match, discarding previous contents.</span>
<span class="linenos">7201</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">7202</span><span class="c1">// func:command.ssimfilt.match.Setary2</span>
<span class="linenos">7203</span><span class="kt">void</span><span class="w">                 </span><span class="nf">match_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7204</span><span class="c1">// &#39;quick&#39; Access row by row id. No bounds checking.</span>
<span class="linenos">7205</span><span class="c1">// func:command.ssimfilt.match.qFind</span>
<span class="linenos">7206</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">match_qFind</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7207</span><span class="c1">// Return reference to last element of array. No bounds checking</span>
<span class="linenos">7208</span><span class="c1">// func:command.ssimfilt.match.qLast</span>
<span class="linenos">7209</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">match_qLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7210</span><span class="c1">// Return row id of specified element</span>
<span class="linenos">7211</span><span class="c1">// func:command.ssimfilt.match.rowid_Get</span>
<span class="linenos">7212</span><span class="n">u64</span><span class="w">                  </span><span class="nf">match_rowid_Get</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7213</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">7214</span><span class="c1">// func:command.ssimfilt.match.AllocNVal</span>
<span class="linenos">7215</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">match_AllocNVal</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7216</span><span class="c1">// A single element is read from input string and appended to the array.</span>
<span class="linenos">7217</span><span class="c1">// If the string contains an error, the array is untouched.</span>
<span class="linenos">7218</span><span class="c1">// Function returns success value.</span>
<span class="linenos">7219</span><span class="c1">// func:command.ssimfilt.match.ReadStrptrMaybe</span>
<span class="linenos">7220</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">match_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7221</span>
<span class="linenos">7222</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">7223</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">7224</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">7225</span><span class="c1">// func:command.ssimfilt.field.Addary</span>
<span class="linenos">7226</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">field_Addary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7227</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">7228</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">7229</span><span class="c1">// func:command.ssimfilt.field.Alloc</span>
<span class="linenos">7230</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">field_Alloc</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7231</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">7232</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">7233</span><span class="c1">// func:command.ssimfilt.field.AllocAt</span>
<span class="linenos">7234</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">field_AllocAt</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7235</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">7236</span><span class="c1">// func:command.ssimfilt.field.AllocN</span>
<span class="linenos">7237</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">field_AllocN</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7238</span><span class="c1">// Return true if index is empty</span>
<span class="linenos">7239</span><span class="c1">// func:command.ssimfilt.field.EmptyQ</span>
<span class="linenos">7240</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">field_EmptyQ</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7241</span><span class="c1">// Look up row by row id. Return NULL if out of range</span>
<span class="linenos">7242</span><span class="c1">// func:command.ssimfilt.field.Find</span>
<span class="linenos">7243</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">field_Find</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7244</span><span class="c1">// Return array pointer by value</span>
<span class="linenos">7245</span><span class="c1">// func:command.ssimfilt.field.Getary</span>
<span class="linenos">7246</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">field_Getary</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7247</span><span class="c1">// Return pointer to last element of array, or NULL if array is empty</span>
<span class="linenos">7248</span><span class="c1">// func:command.ssimfilt.field.Last</span>
<span class="linenos">7249</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">field_Last</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">7250</span><span class="c1">// Return max. number of items in the array</span>
<span class="linenos">7251</span><span class="c1">// func:command.ssimfilt.field.Max</span>
<span class="linenos">7252</span><span class="n">i32</span><span class="w">                  </span><span class="nf">field_Max</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7253</span><span class="c1">// Return number of items in the array</span>
<span class="linenos">7254</span><span class="c1">// func:command.ssimfilt.field.N</span>
<span class="linenos">7255</span><span class="n">i32</span><span class="w">                  </span><span class="nf">field_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">7256</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">7257</span><span class="c1">// func:command.ssimfilt.field.Remove</span>
<span class="linenos">7258</span><span class="kt">void</span><span class="w">                 </span><span class="nf">field_Remove</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7259</span><span class="c1">// func:command.ssimfilt.field.RemoveAll</span>
<span class="linenos">7260</span><span class="kt">void</span><span class="w">                 </span><span class="nf">field_RemoveAll</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7261</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">7262</span><span class="c1">// func:command.ssimfilt.field.RemoveLast</span>
<span class="linenos">7263</span><span class="kt">void</span><span class="w">                 </span><span class="nf">field_RemoveLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7264</span><span class="c1">// Make sure N *more* elements will fit in array. Process dies if out of memory</span>
<span class="linenos">7265</span><span class="c1">// func:command.ssimfilt.field.Reserve</span>
<span class="linenos">7266</span><span class="kt">void</span><span class="w">                 </span><span class="nf">field_Reserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7267</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">7268</span><span class="c1">// func:command.ssimfilt.field.AbsReserve</span>
<span class="linenos">7269</span><span class="kt">void</span><span class="w">                 </span><span class="nf">field_AbsReserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7270</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">7271</span><span class="c1">// func:command.ssimfilt.field.Setary</span>
<span class="linenos">7272</span><span class="kt">void</span><span class="w">                 </span><span class="nf">field_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7273</span><span class="c1">// Copy specified array into field, discarding previous contents.</span>
<span class="linenos">7274</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">7275</span><span class="c1">// func:command.ssimfilt.field.Setary2</span>
<span class="linenos">7276</span><span class="kt">void</span><span class="w">                 </span><span class="nf">field_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7277</span><span class="c1">// &#39;quick&#39; Access row by row id. No bounds checking.</span>
<span class="linenos">7278</span><span class="c1">// func:command.ssimfilt.field.qFind</span>
<span class="linenos">7279</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">field_qFind</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7280</span><span class="c1">// Return reference to last element of array. No bounds checking</span>
<span class="linenos">7281</span><span class="c1">// func:command.ssimfilt.field.qLast</span>
<span class="linenos">7282</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">field_qLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7283</span><span class="c1">// Return row id of specified element</span>
<span class="linenos">7284</span><span class="c1">// func:command.ssimfilt.field.rowid_Get</span>
<span class="linenos">7285</span><span class="n">u64</span><span class="w">                  </span><span class="nf">field_rowid_Get</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7286</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">7287</span><span class="c1">// func:command.ssimfilt.field.AllocNVal</span>
<span class="linenos">7288</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">field_AllocNVal</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7289</span><span class="c1">// A single element is read from input string and appended to the array.</span>
<span class="linenos">7290</span><span class="c1">// If the string contains an error, the array is untouched.</span>
<span class="linenos">7291</span><span class="c1">// Function returns success value.</span>
<span class="linenos">7292</span><span class="c1">// func:command.ssimfilt.field.ReadStrptrMaybe</span>
<span class="linenos">7293</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">field_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7294</span>
<span class="linenos">7295</span><span class="c1">// Get value of field as enum type</span>
<span class="linenos">7296</span><span class="c1">// func:command.ssimfilt.format.GetEnum</span>
<span class="linenos">7297</span><span class="n">command_ssimfilt_format_Enum</span><span class="w"> </span><span class="nf">format_GetEnum</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7298</span><span class="c1">// Set value of field from enum type.</span>
<span class="linenos">7299</span><span class="c1">// func:command.ssimfilt.format.SetEnum</span>
<span class="linenos">7300</span><span class="kt">void</span><span class="w">                 </span><span class="nf">format_SetEnum</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command_ssimfilt_format_Enum</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7301</span><span class="c1">// Convert numeric value of field to one of predefined string constants.</span>
<span class="linenos">7302</span><span class="c1">// If string is found, return a static C string. Otherwise, return NULL.</span>
<span class="linenos">7303</span><span class="c1">// func:command.ssimfilt.format.ToCstr</span>
<span class="linenos">7304</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w">          </span><span class="nf">format_ToCstr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7305</span><span class="c1">// Convert format to a string. First, attempt conversion to a known string.</span>
<span class="linenos">7306</span><span class="c1">// If no string matches, print format as a numeric value.</span>
<span class="linenos">7307</span><span class="c1">// func:command.ssimfilt.format.Print</span>
<span class="linenos">7308</span><span class="kt">void</span><span class="w">                 </span><span class="nf">format_Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7309</span><span class="c1">// Convert string to field.</span>
<span class="linenos">7310</span><span class="c1">// If the string is invalid, do not modify field and return false.</span>
<span class="linenos">7311</span><span class="c1">// In case of success, return true</span>
<span class="linenos">7312</span><span class="c1">// func:command.ssimfilt.format.SetStrptrMaybe</span>
<span class="linenos">7313</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">format_SetStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7314</span><span class="c1">// Convert string to field.</span>
<span class="linenos">7315</span><span class="c1">// If the string is invalid, set numeric value to DFLT</span>
<span class="linenos">7316</span><span class="c1">// func:command.ssimfilt.format.SetStrptr</span>
<span class="linenos">7317</span><span class="kt">void</span><span class="w">                 </span><span class="nf">format_SetStrptr</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">,</span><span class="w"> </span><span class="n">command_ssimfilt_format_Enum</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7318</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">7319</span><span class="c1">// func:command.ssimfilt.format.ReadStrptrMaybe</span>
<span class="linenos">7320</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">format_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7321</span>
<span class="linenos">7322</span><span class="c1">// proceed to next item</span>
<span class="linenos">7323</span><span class="c1">// func:command.ssimfilt.match_curs.Next</span>
<span class="linenos">7324</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssimfilt_match_curs_Next</span><span class="p">(</span><span class="n">ssimfilt_match_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7325</span><span class="c1">// func:command.ssimfilt.match_curs.Reset</span>
<span class="linenos">7326</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssimfilt_match_curs_Reset</span><span class="p">(</span><span class="n">ssimfilt_match_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7327</span><span class="c1">// cursor points to valid item</span>
<span class="linenos">7328</span><span class="c1">// func:command.ssimfilt.match_curs.ValidQ</span>
<span class="linenos">7329</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ssimfilt_match_curs_ValidQ</span><span class="p">(</span><span class="n">ssimfilt_match_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7330</span><span class="c1">// item access</span>
<span class="linenos">7331</span><span class="c1">// func:command.ssimfilt.match_curs.Access</span>
<span class="linenos">7332</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">ssimfilt_match_curs_Access</span><span class="p">(</span><span class="n">ssimfilt_match_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7333</span><span class="c1">// proceed to next item</span>
<span class="linenos">7334</span><span class="c1">// func:command.ssimfilt.field_curs.Next</span>
<span class="linenos">7335</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssimfilt_field_curs_Next</span><span class="p">(</span><span class="n">ssimfilt_field_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7336</span><span class="c1">// func:command.ssimfilt.field_curs.Reset</span>
<span class="linenos">7337</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssimfilt_field_curs_Reset</span><span class="p">(</span><span class="n">ssimfilt_field_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7338</span><span class="c1">// cursor points to valid item</span>
<span class="linenos">7339</span><span class="c1">// func:command.ssimfilt.field_curs.ValidQ</span>
<span class="linenos">7340</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ssimfilt_field_curs_ValidQ</span><span class="p">(</span><span class="n">ssimfilt_field_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7341</span><span class="c1">// item access</span>
<span class="linenos">7342</span><span class="c1">// func:command.ssimfilt.field_curs.Access</span>
<span class="linenos">7343</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">ssimfilt_field_curs_Access</span><span class="p">(</span><span class="n">ssimfilt_field_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7344</span><span class="c1">// func:command.ssimfilt..ReadFieldMaybe</span>
<span class="linenos">7345</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ssimfilt_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7346</span><span class="c1">// Read fields of command::ssimfilt from attributes of ascii tuple TUPLE</span>
<span class="linenos">7347</span><span class="c1">// func:command.ssimfilt..ReadTupleMaybe</span>
<span class="linenos">7348</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ssimfilt_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7349</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">7350</span><span class="c1">// func:command.ssimfilt..Init</span>
<span class="linenos">7351</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssimfilt_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7352</span><span class="c1">// func:command.ssimfilt..Uninit</span>
<span class="linenos">7353</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssimfilt_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7354</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">7355</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">7356</span><span class="c1">// func:command.ssimfilt..ToCmdline</span>
<span class="linenos">7357</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">ssimfilt_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7358</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">7359</span><span class="c1">// cfmt:command.ssimfilt.Argv  printfmt:Tuple</span>
<span class="linenos">7360</span><span class="c1">// func:command.ssimfilt..PrintArgv</span>
<span class="linenos">7361</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssimfilt_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7362</span><span class="c1">// func:command.ssimfilt..GetAnon</span>
<span class="linenos">7363</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">ssimfilt_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7364</span><span class="c1">// Used with command lines</span>
<span class="linenos">7365</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">7366</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">7367</span><span class="c1">// func:command.ssimfilt..NArgs</span>
<span class="linenos">7368</span><span class="n">i32</span><span class="w">                  </span><span class="nf">ssimfilt_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7369</span>
<span class="linenos">7370</span><span class="c1">// --- command.ssimfilt_proc</span>
<span class="linenos">7371</span><span class="k">struct</span><span class="w"> </span><span class="nc">ssimfilt_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.ssimfilt_proc: Subprocess: Tuple utility</span>
<span class="linenos">7372</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/ssimfilt&quot;  path for executable</span>
<span class="linenos">7373</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">7374</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">7375</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">7376</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">7377</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">               </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">7378</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">7379</span><span class="w">    </span><span class="n">i32</span><span class="w">                 </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">7380</span><span class="w">    </span><span class="n">ssimfilt_proc</span><span class="p">();</span>
<span class="linenos">7381</span><span class="w">    </span><span class="o">~</span><span class="n">ssimfilt_proc</span><span class="p">();</span>
<span class="linenos">7382</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">7383</span><span class="w">    </span><span class="c1">// reftype Exec of command.ssimfilt_proc.ssimfilt prohibits copy</span>
<span class="linenos">7384</span><span class="w">    </span><span class="c1">// value field command.ssimfilt_proc.cmd is not copiable</span>
<span class="linenos">7385</span><span class="w">    </span><span class="n">ssimfilt_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ssimfilt_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">7386</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ssimfilt_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">7387</span><span class="p">};</span>
<span class="linenos">7388</span>
<span class="linenos">7389</span><span class="c1">// Start subprocess</span>
<span class="linenos">7390</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">7391</span><span class="c1">// func:command.ssimfilt_proc.ssimfilt.Start</span>
<span class="linenos">7392</span><span class="kt">int</span><span class="w">                  </span><span class="nf">ssimfilt_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7393</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">7394</span><span class="c1">// func:command.ssimfilt_proc.ssimfilt.StartRead</span>
<span class="linenos">7395</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">ssimfilt_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7396</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">7397</span><span class="c1">// func:command.ssimfilt_proc.ssimfilt.Kill</span>
<span class="linenos">7398</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssimfilt_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7399</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">7400</span><span class="c1">// func:command.ssimfilt_proc.ssimfilt.Wait</span>
<span class="linenos">7401</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssimfilt_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7402</span><span class="c1">// Start + Wait</span>
<span class="linenos">7403</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">7404</span><span class="c1">// func:command.ssimfilt_proc.ssimfilt.Exec</span>
<span class="linenos">7405</span><span class="kt">int</span><span class="w">                  </span><span class="nf">ssimfilt_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7406</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">7407</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">7408</span><span class="c1">// func:command.ssimfilt_proc.ssimfilt.ExecX</span>
<span class="linenos">7409</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssimfilt_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7410</span><span class="c1">// Call execv()</span>
<span class="linenos">7411</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">7412</span><span class="c1">// func:command.ssimfilt_proc.ssimfilt.Execv</span>
<span class="linenos">7413</span><span class="kt">int</span><span class="w">                  </span><span class="nf">ssimfilt_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7414</span><span class="c1">// func:command.ssimfilt_proc.ssimfilt.ToCmdline</span>
<span class="linenos">7415</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">ssimfilt_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7416</span><span class="c1">// Form array from the command line</span>
<span class="linenos">7417</span><span class="c1">// func:command.ssimfilt_proc.ssimfilt.ToArgv</span>
<span class="linenos">7418</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssimfilt_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7419</span>
<span class="linenos">7420</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">7421</span><span class="c1">// func:command.ssimfilt_proc..Init</span>
<span class="linenos">7422</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssimfilt_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7423</span><span class="c1">// func:command.ssimfilt_proc..Uninit</span>
<span class="linenos">7424</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ssimfilt_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ssimfilt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7425</span>
<span class="linenos">7426</span><span class="c1">// --- command.strconv</span>
<span class="linenos">7427</span><span class="c1">// access: command.strconv_proc.strconv (Exec)</span>
<span class="linenos">7428</span><span class="k">struct</span><span class="w"> </span><span class="nc">strconv</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.strconv</span>
<span class="linenos">7429</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">str</span><span class="p">;</span><span class="w">            </span><span class="c1">// String parameter</span>
<span class="linenos">7430</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">tocamelcase</span><span class="p">;</span><span class="w">    </span><span class="c1">//   false  Convert string to camel case</span>
<span class="linenos">7431</span><span class="w">    </span><span class="kt">bool</span><span class="w">                </span><span class="n">tolowerunder</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  Convert string to lower-under</span>
<span class="linenos">7432</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">       </span><span class="n">in</span><span class="p">;</span><span class="w">             </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">7433</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr100</span><span class="w">   </span><span class="n">pathcomp</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;&quot;  Extract path component from string</span>
<span class="linenos">7434</span><span class="w">    </span><span class="n">strconv</span><span class="p">();</span>
<span class="linenos">7435</span><span class="p">};</span>
<span class="linenos">7436</span>
<span class="linenos">7437</span><span class="c1">// func:command.strconv..ReadFieldMaybe</span>
<span class="linenos">7438</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">strconv_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">strconv</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7439</span><span class="c1">// Read fields of command::strconv from attributes of ascii tuple TUPLE</span>
<span class="linenos">7440</span><span class="c1">// func:command.strconv..ReadTupleMaybe</span>
<span class="linenos">7441</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">strconv_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">strconv</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7442</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">7443</span><span class="c1">// func:command.strconv..Init</span>
<span class="linenos">7444</span><span class="kt">void</span><span class="w">                 </span><span class="nf">strconv_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">strconv</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7445</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">7446</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">7447</span><span class="c1">// func:command.strconv..ToCmdline</span>
<span class="linenos">7448</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">strconv_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">strconv</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7449</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">7450</span><span class="c1">// cfmt:command.strconv.Argv  printfmt:Tuple</span>
<span class="linenos">7451</span><span class="c1">// func:command.strconv..PrintArgv</span>
<span class="linenos">7452</span><span class="kt">void</span><span class="w">                 </span><span class="nf">strconv_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">strconv</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7453</span><span class="c1">// func:command.strconv..GetAnon</span>
<span class="linenos">7454</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">strconv_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">strconv</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7455</span><span class="c1">// Used with command lines</span>
<span class="linenos">7456</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">7457</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">7458</span><span class="c1">// func:command.strconv..NArgs</span>
<span class="linenos">7459</span><span class="n">i32</span><span class="w">                  </span><span class="nf">strconv_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7460</span>
<span class="linenos">7461</span><span class="c1">// --- command.strconv_proc</span>
<span class="linenos">7462</span><span class="k">struct</span><span class="w"> </span><span class="nc">strconv_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.strconv_proc: Subprocess: A simple string utility</span>
<span class="linenos">7463</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/strconv&quot;  path for executable</span>
<span class="linenos">7464</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">strconv</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">7465</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">7466</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">7467</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">7468</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">              </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">7469</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">7470</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">7471</span><span class="w">    </span><span class="n">strconv_proc</span><span class="p">();</span>
<span class="linenos">7472</span><span class="w">    </span><span class="o">~</span><span class="n">strconv_proc</span><span class="p">();</span>
<span class="linenos">7473</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">7474</span><span class="w">    </span><span class="c1">// reftype Exec of command.strconv_proc.strconv prohibits copy</span>
<span class="linenos">7475</span><span class="w">    </span><span class="n">strconv_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strconv_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">7476</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strconv_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">7477</span><span class="p">};</span>
<span class="linenos">7478</span>
<span class="linenos">7479</span><span class="c1">// Start subprocess</span>
<span class="linenos">7480</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">7481</span><span class="c1">// func:command.strconv_proc.strconv.Start</span>
<span class="linenos">7482</span><span class="kt">int</span><span class="w">                  </span><span class="nf">strconv_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">strconv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7483</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">7484</span><span class="c1">// func:command.strconv_proc.strconv.StartRead</span>
<span class="linenos">7485</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">strconv_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">strconv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7486</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">7487</span><span class="c1">// func:command.strconv_proc.strconv.Kill</span>
<span class="linenos">7488</span><span class="kt">void</span><span class="w">                 </span><span class="nf">strconv_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">strconv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7489</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">7490</span><span class="c1">// func:command.strconv_proc.strconv.Wait</span>
<span class="linenos">7491</span><span class="kt">void</span><span class="w">                 </span><span class="nf">strconv_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">strconv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7492</span><span class="c1">// Start + Wait</span>
<span class="linenos">7493</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">7494</span><span class="c1">// func:command.strconv_proc.strconv.Exec</span>
<span class="linenos">7495</span><span class="kt">int</span><span class="w">                  </span><span class="nf">strconv_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">strconv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7496</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">7497</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">7498</span><span class="c1">// func:command.strconv_proc.strconv.ExecX</span>
<span class="linenos">7499</span><span class="kt">void</span><span class="w">                 </span><span class="nf">strconv_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">strconv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7500</span><span class="c1">// Call execv()</span>
<span class="linenos">7501</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">7502</span><span class="c1">// func:command.strconv_proc.strconv.Execv</span>
<span class="linenos">7503</span><span class="kt">int</span><span class="w">                  </span><span class="nf">strconv_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">strconv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7504</span><span class="c1">// func:command.strconv_proc.strconv.ToCmdline</span>
<span class="linenos">7505</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">strconv_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">strconv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7506</span><span class="c1">// Form array from the command line</span>
<span class="linenos">7507</span><span class="c1">// func:command.strconv_proc.strconv.ToArgv</span>
<span class="linenos">7508</span><span class="kt">void</span><span class="w">                 </span><span class="nf">strconv_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">strconv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7509</span>
<span class="linenos">7510</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">7511</span><span class="c1">// func:command.strconv_proc..Init</span>
<span class="linenos">7512</span><span class="kt">void</span><span class="w">                 </span><span class="nf">strconv_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">strconv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7513</span><span class="c1">// func:command.strconv_proc..Uninit</span>
<span class="linenos">7514</span><span class="kt">void</span><span class="w">                 </span><span class="nf">strconv_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">strconv_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7515</span>
<span class="linenos">7516</span><span class="c1">// --- command.sv2ssim</span>
<span class="linenos">7517</span><span class="c1">// access: command.sv2ssim_proc.sv2ssim (Exec)</span>
<span class="linenos">7518</span><span class="k">struct</span><span class="w"> </span><span class="nc">sv2ssim</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.sv2ssim</span>
<span class="linenos">7519</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">              </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">7520</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">fname</span><span class="p">;</span><span class="w">           </span><span class="c1">// Input file, use - for stdin</span>
<span class="linenos">7521</span><span class="w">    </span><span class="kt">char</span><span class="w">             </span><span class="n">separator</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &#39;,&#39;  Input field separator</span>
<span class="linenos">7522</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">outseparator</span><span class="p">;</span><span class="w">    </span><span class="c1">//   &quot;&quot;  Output separator. Default: ssim</span>
<span class="linenos">7523</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">header</span><span class="p">;</span><span class="w">          </span><span class="c1">//   true  File has header line</span>
<span class="linenos">7524</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">ctype</span><span class="p">;</span><span class="w">           </span><span class="c1">//   &quot;&quot;  Type tag for output tuples</span>
<span class="linenos">7525</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">ssimfile</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;&quot;  (with -schema) Create ssimfile definition</span>
<span class="linenos">7526</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">schema</span><span class="p">;</span><span class="w">          </span><span class="c1">//   false  (output)Generate schema from input file</span>
<span class="linenos">7527</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">field</span><span class="p">;</span><span class="w">           </span><span class="c1">//   &quot;%&quot;  Sql Regx</span>
<span class="linenos">7528</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">data</span><span class="p">;</span><span class="w">            </span><span class="c1">//   false  (output) Convert input file to ssim tuples</span>
<span class="linenos">7529</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">report</span><span class="p">;</span><span class="w">          </span><span class="c1">//   true  Print final report</span>
<span class="linenos">7530</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">prefer_signed</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  Prefer signed types when given a choice</span>
<span class="linenos">7531</span><span class="w">    </span><span class="n">sv2ssim</span><span class="p">();</span>
<span class="linenos">7532</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">7533</span><span class="w">    </span><span class="c1">// reftype Regx of command.sv2ssim.field prohibits copy</span>
<span class="linenos">7534</span><span class="w">    </span><span class="n">sv2ssim</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">sv2ssim</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">7535</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">sv2ssim</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">7536</span><span class="p">};</span>
<span class="linenos">7537</span>
<span class="linenos">7538</span><span class="c1">// Print back to string</span>
<span class="linenos">7539</span><span class="c1">// func:command.sv2ssim.field.Print</span>
<span class="linenos">7540</span><span class="kt">void</span><span class="w">                 </span><span class="nf">field_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sv2ssim</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7541</span><span class="c1">// Read Regx from string</span>
<span class="linenos">7542</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">7543</span><span class="c1">// func:command.sv2ssim.field.ReadStrptrMaybe</span>
<span class="linenos">7544</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">field_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sv2ssim</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7545</span>
<span class="linenos">7546</span><span class="c1">// func:command.sv2ssim..ReadFieldMaybe</span>
<span class="linenos">7547</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">sv2ssim_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sv2ssim</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7548</span><span class="c1">// Read fields of command::sv2ssim from attributes of ascii tuple TUPLE</span>
<span class="linenos">7549</span><span class="c1">// func:command.sv2ssim..ReadTupleMaybe</span>
<span class="linenos">7550</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">sv2ssim_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sv2ssim</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7551</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">7552</span><span class="c1">// func:command.sv2ssim..Init</span>
<span class="linenos">7553</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sv2ssim_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sv2ssim</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7554</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">7555</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">7556</span><span class="c1">// func:command.sv2ssim..ToCmdline</span>
<span class="linenos">7557</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">sv2ssim_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sv2ssim</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7558</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">7559</span><span class="c1">// cfmt:command.sv2ssim.Argv  printfmt:Tuple</span>
<span class="linenos">7560</span><span class="c1">// func:command.sv2ssim..PrintArgv</span>
<span class="linenos">7561</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sv2ssim_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sv2ssim</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7562</span><span class="c1">// func:command.sv2ssim..GetAnon</span>
<span class="linenos">7563</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">sv2ssim_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sv2ssim</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7564</span><span class="c1">// Used with command lines</span>
<span class="linenos">7565</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">7566</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">7567</span><span class="c1">// func:command.sv2ssim..NArgs</span>
<span class="linenos">7568</span><span class="n">i32</span><span class="w">                  </span><span class="nf">sv2ssim_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7569</span>
<span class="linenos">7570</span><span class="c1">// --- command.sv2ssim_proc</span>
<span class="linenos">7571</span><span class="k">struct</span><span class="w"> </span><span class="nc">sv2ssim_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.sv2ssim_proc: Subprocess: sv2ssim - Separated Value file processor</span>
<span class="linenos">7572</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/sv2ssim&quot;  path for executable</span>
<span class="linenos">7573</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">sv2ssim</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">7574</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">7575</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">7576</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">7577</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">              </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">7578</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">7579</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">7580</span><span class="w">    </span><span class="n">sv2ssim_proc</span><span class="p">();</span>
<span class="linenos">7581</span><span class="w">    </span><span class="o">~</span><span class="n">sv2ssim_proc</span><span class="p">();</span>
<span class="linenos">7582</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">7583</span><span class="w">    </span><span class="c1">// reftype Exec of command.sv2ssim_proc.sv2ssim prohibits copy</span>
<span class="linenos">7584</span><span class="w">    </span><span class="c1">// value field command.sv2ssim_proc.cmd is not copiable</span>
<span class="linenos">7585</span><span class="w">    </span><span class="n">sv2ssim_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">sv2ssim_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">7586</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">sv2ssim_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">7587</span><span class="p">};</span>
<span class="linenos">7588</span>
<span class="linenos">7589</span><span class="c1">// Start subprocess</span>
<span class="linenos">7590</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">7591</span><span class="c1">// func:command.sv2ssim_proc.sv2ssim.Start</span>
<span class="linenos">7592</span><span class="kt">int</span><span class="w">                  </span><span class="nf">sv2ssim_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sv2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7593</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">7594</span><span class="c1">// func:command.sv2ssim_proc.sv2ssim.StartRead</span>
<span class="linenos">7595</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">sv2ssim_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sv2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7596</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">7597</span><span class="c1">// func:command.sv2ssim_proc.sv2ssim.Kill</span>
<span class="linenos">7598</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sv2ssim_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sv2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7599</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">7600</span><span class="c1">// func:command.sv2ssim_proc.sv2ssim.Wait</span>
<span class="linenos">7601</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sv2ssim_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sv2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7602</span><span class="c1">// Start + Wait</span>
<span class="linenos">7603</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">7604</span><span class="c1">// func:command.sv2ssim_proc.sv2ssim.Exec</span>
<span class="linenos">7605</span><span class="kt">int</span><span class="w">                  </span><span class="nf">sv2ssim_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sv2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7606</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">7607</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">7608</span><span class="c1">// func:command.sv2ssim_proc.sv2ssim.ExecX</span>
<span class="linenos">7609</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sv2ssim_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sv2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7610</span><span class="c1">// Call execv()</span>
<span class="linenos">7611</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">7612</span><span class="c1">// func:command.sv2ssim_proc.sv2ssim.Execv</span>
<span class="linenos">7613</span><span class="kt">int</span><span class="w">                  </span><span class="nf">sv2ssim_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sv2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7614</span><span class="c1">// func:command.sv2ssim_proc.sv2ssim.ToCmdline</span>
<span class="linenos">7615</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">sv2ssim_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sv2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7616</span><span class="c1">// Form array from the command line</span>
<span class="linenos">7617</span><span class="c1">// func:command.sv2ssim_proc.sv2ssim.ToArgv</span>
<span class="linenos">7618</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sv2ssim_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sv2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7619</span>
<span class="linenos">7620</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">7621</span><span class="c1">// func:command.sv2ssim_proc..Init</span>
<span class="linenos">7622</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sv2ssim_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sv2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7623</span><span class="c1">// func:command.sv2ssim_proc..Uninit</span>
<span class="linenos">7624</span><span class="kt">void</span><span class="w">                 </span><span class="nf">sv2ssim_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">sv2ssim_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7625</span>
<span class="linenos">7626</span><span class="c1">// --- command.ttrack</span>
<span class="linenos">7627</span><span class="c1">// access: command.ttrack_proc.ttrack (Exec)</span>
<span class="linenos">7628</span><span class="k">struct</span><span class="w"> </span><span class="nc">ttrack</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.ttrack</span>
<span class="linenos">7629</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">in</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">7630</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">begin</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Start tracking work</span>
<span class="linenos">7631</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">end</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  End tracking work</span>
<span class="linenos">7632</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">stay</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  Stay in foreground while work is performed</span>
<span class="linenos">7633</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">logfile</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;~/.ssim/ttrack.ssim&quot;  File where work is logged</span>
<span class="linenos">7634</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">report</span><span class="p">;</span><span class="w">    </span><span class="c1">//   true  Produce report</span>
<span class="linenos">7635</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w">    </span><span class="n">from</span><span class="p">;</span><span class="w">      </span><span class="c1">// Produce report from this time</span>
<span class="linenos">7636</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w">    </span><span class="n">to</span><span class="p">;</span><span class="w">        </span><span class="c1">// Produce report to this time</span>
<span class="linenos">7637</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">e</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  open log file in editor</span>
<span class="linenos">7638</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">comment</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;&quot;  Optional comment to describe work</span>
<span class="linenos">7639</span><span class="w">    </span><span class="n">ttrack</span><span class="p">();</span>
<span class="linenos">7640</span><span class="p">};</span>
<span class="linenos">7641</span>
<span class="linenos">7642</span><span class="c1">// func:command.ttrack..ReadFieldMaybe</span>
<span class="linenos">7643</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ttrack_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ttrack</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7644</span><span class="c1">// Read fields of command::ttrack from attributes of ascii tuple TUPLE</span>
<span class="linenos">7645</span><span class="c1">// func:command.ttrack..ReadTupleMaybe</span>
<span class="linenos">7646</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">ttrack_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ttrack</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7647</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">7648</span><span class="c1">// func:command.ttrack..Init</span>
<span class="linenos">7649</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ttrack_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ttrack</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7650</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">7651</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">7652</span><span class="c1">// func:command.ttrack..ToCmdline</span>
<span class="linenos">7653</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">ttrack_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ttrack</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7654</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">7655</span><span class="c1">// cfmt:command.ttrack.Argv  printfmt:Tuple</span>
<span class="linenos">7656</span><span class="c1">// func:command.ttrack..PrintArgv</span>
<span class="linenos">7657</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ttrack_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ttrack</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7658</span><span class="c1">// Used with command lines</span>
<span class="linenos">7659</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">7660</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">7661</span><span class="c1">// func:command.ttrack..NArgs</span>
<span class="linenos">7662</span><span class="n">i32</span><span class="w">                  </span><span class="nf">ttrack_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7663</span>
<span class="linenos">7664</span><span class="c1">// --- command.ttrack_proc</span>
<span class="linenos">7665</span><span class="k">struct</span><span class="w"> </span><span class="nc">ttrack_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.ttrack_proc: Subprocess: Tool for keeping track of work time</span>
<span class="linenos">7666</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/ttrack&quot;  path for executable</span>
<span class="linenos">7667</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">ttrack</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">7668</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">7669</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">7670</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">7671</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">             </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">7672</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">7673</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">7674</span><span class="w">    </span><span class="n">ttrack_proc</span><span class="p">();</span>
<span class="linenos">7675</span><span class="w">    </span><span class="o">~</span><span class="n">ttrack_proc</span><span class="p">();</span>
<span class="linenos">7676</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">7677</span><span class="w">    </span><span class="c1">// reftype Exec of command.ttrack_proc.ttrack prohibits copy</span>
<span class="linenos">7678</span><span class="w">    </span><span class="n">ttrack_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ttrack_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">7679</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ttrack_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">7680</span><span class="p">};</span>
<span class="linenos">7681</span>
<span class="linenos">7682</span><span class="c1">// Start subprocess</span>
<span class="linenos">7683</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">7684</span><span class="c1">// func:command.ttrack_proc.ttrack.Start</span>
<span class="linenos">7685</span><span class="kt">int</span><span class="w">                  </span><span class="nf">ttrack_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ttrack_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7686</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">7687</span><span class="c1">// func:command.ttrack_proc.ttrack.StartRead</span>
<span class="linenos">7688</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">ttrack_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ttrack_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7689</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">7690</span><span class="c1">// func:command.ttrack_proc.ttrack.Kill</span>
<span class="linenos">7691</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ttrack_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ttrack_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7692</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">7693</span><span class="c1">// func:command.ttrack_proc.ttrack.Wait</span>
<span class="linenos">7694</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ttrack_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ttrack_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7695</span><span class="c1">// Start + Wait</span>
<span class="linenos">7696</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">7697</span><span class="c1">// func:command.ttrack_proc.ttrack.Exec</span>
<span class="linenos">7698</span><span class="kt">int</span><span class="w">                  </span><span class="nf">ttrack_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ttrack_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7699</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">7700</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">7701</span><span class="c1">// func:command.ttrack_proc.ttrack.ExecX</span>
<span class="linenos">7702</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ttrack_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ttrack_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7703</span><span class="c1">// Call execv()</span>
<span class="linenos">7704</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">7705</span><span class="c1">// func:command.ttrack_proc.ttrack.Execv</span>
<span class="linenos">7706</span><span class="kt">int</span><span class="w">                  </span><span class="nf">ttrack_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ttrack_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7707</span><span class="c1">// func:command.ttrack_proc.ttrack.ToCmdline</span>
<span class="linenos">7708</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">ttrack_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ttrack_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7709</span><span class="c1">// Form array from the command line</span>
<span class="linenos">7710</span><span class="c1">// func:command.ttrack_proc.ttrack.ToArgv</span>
<span class="linenos">7711</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ttrack_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ttrack_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7712</span>
<span class="linenos">7713</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">7714</span><span class="c1">// func:command.ttrack_proc..Init</span>
<span class="linenos">7715</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ttrack_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ttrack_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7716</span><span class="c1">// func:command.ttrack_proc..Uninit</span>
<span class="linenos">7717</span><span class="kt">void</span><span class="w">                 </span><span class="nf">ttrack_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">ttrack_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7718</span>
<span class="linenos">7719</span><span class="c1">// --- command.wcli</span>
<span class="linenos">7720</span><span class="c1">// access: command.wcli_proc.wcli (Exec)</span>
<span class="linenos">7721</span><span class="k">struct</span><span class="w"> </span><span class="nc">wcli</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.wcli</span>
<span class="linenos">7722</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">   </span><span class="n">selector</span><span class="p">;</span><span class="w">            </span><span class="c1">//   &quot;issue:%&quot;  table:key, where table is page.wiki,file,user etc. and key is a regex.</span>
<span class="linenos">7723</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">     </span><span class="n">fields_elems</span><span class="p">;</span><span class="w">        </span><span class="c1">// pointer to elements</span>
<span class="linenos">7724</span><span class="w">    </span><span class="n">u32</span><span class="w">                </span><span class="n">fields_n</span><span class="p">;</span><span class="w">            </span><span class="c1">// number of elements in array</span>
<span class="linenos">7725</span><span class="w">    </span><span class="n">u32</span><span class="w">                </span><span class="n">fields_max</span><span class="p">;</span><span class="w">          </span><span class="c1">// max. capacity of array before realloc</span>
<span class="linenos">7726</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">list</span><span class="p">;</span><span class="w">                </span><span class="c1">//   false  (action) show selected table</span>
<span class="linenos">7727</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">create</span><span class="p">;</span><span class="w">              </span><span class="c1">//   false  (action) create a page or a page section</span>
<span class="linenos">7728</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">update</span><span class="p">;</span><span class="w">              </span><span class="c1">//   false  (action) update a page or a page section</span>
<span class="linenos">7729</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">download</span><span class="p">;</span><span class="w">            </span><span class="c1">//   false  (action) download selected pages and images to pagedir</span>
<span class="linenos">7730</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">upload</span><span class="p">;</span><span class="w">              </span><span class="c1">//   false  (action) upload selected page and images from pagedir</span>
<span class="linenos">7731</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">remove</span><span class="p">;</span><span class="w">              </span><span class="c1">//   false  (action) delete selected pages</span>
<span class="linenos">7732</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">t</span><span class="p">;</span><span class="w">                   </span><span class="c1">//   false  Tree view: expand issue description</span>
<span class="linenos">7733</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">e</span><span class="p">;</span><span class="w">                   </span><span class="c1">//   false  edit the input</span>
<span class="linenos">7734</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">ignore_saved_edit</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  edit the input as if there was no saved file before</span>
<span class="linenos">7735</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">exclude_subpages</span><span class="p">;</span><span class="w">    </span><span class="c1">//   false  exclude all page names containing /</span>
<span class="linenos">7736</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">authdir</span><span class="p">;</span><span class="w">             </span><span class="c1">//   &quot;.ssim&quot;  (setup) Input directory for auth data</span>
<span class="linenos">7737</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">pagedir</span><span class="p">;</span><span class="w">             </span><span class="c1">//   &quot;temp/wcli/download&quot;  (action) Directory to download/upload pages and images</span>
<span class="linenos">7738</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">in</span><span class="p">;</span><span class="w">                  </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">7739</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">dry_run</span><span class="p">;</span><span class="w">             </span><span class="c1">//   false  Print actions, do not perform</span>
<span class="linenos">7740</span><span class="w">    </span><span class="n">wcli</span><span class="p">();</span>
<span class="linenos">7741</span><span class="w">    </span><span class="o">~</span><span class="n">wcli</span><span class="p">();</span>
<span class="linenos">7742</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">7743</span><span class="w">    </span><span class="c1">// reftype Tary of command.wcli.fields prohibits copy</span>
<span class="linenos">7744</span><span class="w">    </span><span class="n">wcli</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">wcli</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">7745</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">wcli</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">7746</span><span class="p">};</span>
<span class="linenos">7747</span>
<span class="linenos">7748</span><span class="c1">// Reserve space (this may move memory). Insert N element at the end.</span>
<span class="linenos">7749</span><span class="c1">// Return aryptr to newly inserted block.</span>
<span class="linenos">7750</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), exit program with fatal error.</span>
<span class="linenos">7751</span><span class="c1">// func:command.wcli.fields.Addary</span>
<span class="linenos">7752</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fields_Addary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7753</span><span class="c1">// Reserve space. Insert element at the end</span>
<span class="linenos">7754</span><span class="c1">// The new element is initialized to a default value</span>
<span class="linenos">7755</span><span class="c1">// func:command.wcli.fields.Alloc</span>
<span class="linenos">7756</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">fields_Alloc</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7757</span><span class="c1">// Reserve space for new element, reallocating the array if necessary</span>
<span class="linenos">7758</span><span class="c1">// Insert new element at specified index. Index must be in range or a fatal error occurs.</span>
<span class="linenos">7759</span><span class="c1">// func:command.wcli.fields.AllocAt</span>
<span class="linenos">7760</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">fields_AllocAt</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">at</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7761</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">7762</span><span class="c1">// func:command.wcli.fields.AllocN</span>
<span class="linenos">7763</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fields_AllocN</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7764</span><span class="c1">// Return true if index is empty</span>
<span class="linenos">7765</span><span class="c1">// func:command.wcli.fields.EmptyQ</span>
<span class="linenos">7766</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">fields_EmptyQ</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7767</span><span class="c1">// Look up row by row id. Return NULL if out of range</span>
<span class="linenos">7768</span><span class="c1">// func:command.wcli.fields.Find</span>
<span class="linenos">7769</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">fields_Find</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7770</span><span class="c1">// Return array pointer by value</span>
<span class="linenos">7771</span><span class="c1">// func:command.wcli.fields.Getary</span>
<span class="linenos">7772</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fields_Getary</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7773</span><span class="c1">// Return pointer to last element of array, or NULL if array is empty</span>
<span class="linenos">7774</span><span class="c1">// func:command.wcli.fields.Last</span>
<span class="linenos">7775</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w">       </span><span class="nf">fields_Last</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">7776</span><span class="c1">// Return max. number of items in the array</span>
<span class="linenos">7777</span><span class="c1">// func:command.wcli.fields.Max</span>
<span class="linenos">7778</span><span class="n">i32</span><span class="w">                  </span><span class="nf">fields_Max</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7779</span><span class="c1">// Return number of items in the array</span>
<span class="linenos">7780</span><span class="c1">// func:command.wcli.fields.N</span>
<span class="linenos">7781</span><span class="n">i32</span><span class="w">                  </span><span class="nf">fields_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">__warn_unused_result__</span><span class="p">,</span><span class="w"> </span><span class="n">nothrow</span><span class="p">,</span><span class="w"> </span><span class="n">pure</span><span class="p">));</span>
<span class="linenos">7782</span><span class="c1">// Remove item by index. If index outside of range, do nothing.</span>
<span class="linenos">7783</span><span class="c1">// func:command.wcli.fields.Remove</span>
<span class="linenos">7784</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fields_Remove</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7785</span><span class="c1">// func:command.wcli.fields.RemoveAll</span>
<span class="linenos">7786</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fields_RemoveAll</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7787</span><span class="c1">// Delete last element of array. Do nothing if array is empty.</span>
<span class="linenos">7788</span><span class="c1">// func:command.wcli.fields.RemoveLast</span>
<span class="linenos">7789</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fields_RemoveLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7790</span><span class="c1">// Make sure N *more* elements will fit in array. Process dies if out of memory</span>
<span class="linenos">7791</span><span class="c1">// func:command.wcli.fields.Reserve</span>
<span class="linenos">7792</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fields_Reserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7793</span><span class="c1">// Make sure N elements fit in array. Process dies if out of memory</span>
<span class="linenos">7794</span><span class="c1">// func:command.wcli.fields.AbsReserve</span>
<span class="linenos">7795</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fields_AbsReserve</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7796</span><span class="c1">// Copy contents of RHS to PARENT.</span>
<span class="linenos">7797</span><span class="c1">// func:command.wcli.fields.Setary</span>
<span class="linenos">7798</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fields_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7799</span><span class="c1">// Copy specified array into fields, discarding previous contents.</span>
<span class="linenos">7800</span><span class="c1">// If the RHS argument aliases the array (refers to the same memory), throw exception.</span>
<span class="linenos">7801</span><span class="c1">// func:command.wcli.fields.Setary2</span>
<span class="linenos">7802</span><span class="kt">void</span><span class="w">                 </span><span class="nf">fields_Setary</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7803</span><span class="c1">// &#39;quick&#39; Access row by row id. No bounds checking.</span>
<span class="linenos">7804</span><span class="c1">// func:command.wcli.fields.qFind</span>
<span class="linenos">7805</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">fields_qFind</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7806</span><span class="c1">// Return reference to last element of array. No bounds checking</span>
<span class="linenos">7807</span><span class="c1">// func:command.wcli.fields.qLast</span>
<span class="linenos">7808</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">fields_qLast</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7809</span><span class="c1">// Return row id of specified element</span>
<span class="linenos">7810</span><span class="c1">// func:command.wcli.fields.rowid_Get</span>
<span class="linenos">7811</span><span class="n">u64</span><span class="w">                  </span><span class="nf">fields_rowid_Get</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7812</span><span class="c1">// Reserve space. Insert N elements at the end of the array, return pointer to array</span>
<span class="linenos">7813</span><span class="c1">// func:command.wcli.fields.AllocNVal</span>
<span class="linenos">7814</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fields_AllocNVal</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7815</span><span class="c1">// A single element is read from input string and appended to the array.</span>
<span class="linenos">7816</span><span class="c1">// If the string contains an error, the array is untouched.</span>
<span class="linenos">7817</span><span class="c1">// Function returns success value.</span>
<span class="linenos">7818</span><span class="c1">// func:command.wcli.fields.ReadStrptrMaybe</span>
<span class="linenos">7819</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">fields_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7820</span>
<span class="linenos">7821</span><span class="c1">// proceed to next item</span>
<span class="linenos">7822</span><span class="c1">// func:command.wcli.fields_curs.Next</span>
<span class="linenos">7823</span><span class="kt">void</span><span class="w">                 </span><span class="nf">wcli_fields_curs_Next</span><span class="p">(</span><span class="n">wcli_fields_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7824</span><span class="c1">// func:command.wcli.fields_curs.Reset</span>
<span class="linenos">7825</span><span class="kt">void</span><span class="w">                 </span><span class="nf">wcli_fields_curs_Reset</span><span class="p">(</span><span class="n">wcli_fields_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7826</span><span class="c1">// cursor points to valid item</span>
<span class="linenos">7827</span><span class="c1">// func:command.wcli.fields_curs.ValidQ</span>
<span class="linenos">7828</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">wcli_fields_curs_ValidQ</span><span class="p">(</span><span class="n">wcli_fields_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7829</span><span class="c1">// item access</span>
<span class="linenos">7830</span><span class="c1">// func:command.wcli.fields_curs.Access</span>
<span class="linenos">7831</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w">       </span><span class="nf">wcli_fields_curs_Access</span><span class="p">(</span><span class="n">wcli_fields_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7832</span><span class="c1">// func:command.wcli..ReadFieldMaybe</span>
<span class="linenos">7833</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">wcli_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7834</span><span class="c1">// Read fields of command::wcli from attributes of ascii tuple TUPLE</span>
<span class="linenos">7835</span><span class="c1">// func:command.wcli..ReadTupleMaybe</span>
<span class="linenos">7836</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">wcli_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7837</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">7838</span><span class="c1">// func:command.wcli..Init</span>
<span class="linenos">7839</span><span class="kt">void</span><span class="w">                 </span><span class="nf">wcli_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7840</span><span class="c1">// func:command.wcli..Uninit</span>
<span class="linenos">7841</span><span class="kt">void</span><span class="w">                 </span><span class="nf">wcli_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7842</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">7843</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">7844</span><span class="c1">// func:command.wcli..ToCmdline</span>
<span class="linenos">7845</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">wcli_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7846</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">7847</span><span class="c1">// cfmt:command.wcli.Argv  printfmt:Tuple</span>
<span class="linenos">7848</span><span class="c1">// func:command.wcli..PrintArgv</span>
<span class="linenos">7849</span><span class="kt">void</span><span class="w">                 </span><span class="nf">wcli_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7850</span><span class="c1">// func:command.wcli..GetAnon</span>
<span class="linenos">7851</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">wcli_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7852</span><span class="c1">// Used with command lines</span>
<span class="linenos">7853</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">7854</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">7855</span><span class="c1">// func:command.wcli..NArgs</span>
<span class="linenos">7856</span><span class="n">i32</span><span class="w">                  </span><span class="nf">wcli_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7857</span>
<span class="linenos">7858</span><span class="c1">// --- command.wcli_proc</span>
<span class="linenos">7859</span><span class="k">struct</span><span class="w"> </span><span class="nc">wcli_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.wcli_proc: Subprocess: wiki cli to operate on wikis via API</span>
<span class="linenos">7860</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/wcli&quot;  path for executable</span>
<span class="linenos">7861</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">wcli</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">7862</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">7863</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">7864</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">7865</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">           </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">7866</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">7867</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">7868</span><span class="w">    </span><span class="n">wcli_proc</span><span class="p">();</span>
<span class="linenos">7869</span><span class="w">    </span><span class="o">~</span><span class="n">wcli_proc</span><span class="p">();</span>
<span class="linenos">7870</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">7871</span><span class="w">    </span><span class="c1">// reftype Exec of command.wcli_proc.wcli prohibits copy</span>
<span class="linenos">7872</span><span class="w">    </span><span class="c1">// value field command.wcli_proc.cmd is not copiable</span>
<span class="linenos">7873</span><span class="w">    </span><span class="n">wcli_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">wcli_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">7874</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">wcli_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">7875</span><span class="p">};</span>
<span class="linenos">7876</span>
<span class="linenos">7877</span><span class="c1">// Start subprocess</span>
<span class="linenos">7878</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">7879</span><span class="c1">// func:command.wcli_proc.wcli.Start</span>
<span class="linenos">7880</span><span class="kt">int</span><span class="w">                  </span><span class="nf">wcli_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7881</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">7882</span><span class="c1">// func:command.wcli_proc.wcli.StartRead</span>
<span class="linenos">7883</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">wcli_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7884</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">7885</span><span class="c1">// func:command.wcli_proc.wcli.Kill</span>
<span class="linenos">7886</span><span class="kt">void</span><span class="w">                 </span><span class="nf">wcli_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7887</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">7888</span><span class="c1">// func:command.wcli_proc.wcli.Wait</span>
<span class="linenos">7889</span><span class="kt">void</span><span class="w">                 </span><span class="nf">wcli_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7890</span><span class="c1">// Start + Wait</span>
<span class="linenos">7891</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">7892</span><span class="c1">// func:command.wcli_proc.wcli.Exec</span>
<span class="linenos">7893</span><span class="kt">int</span><span class="w">                  </span><span class="nf">wcli_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7894</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">7895</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">7896</span><span class="c1">// func:command.wcli_proc.wcli.ExecX</span>
<span class="linenos">7897</span><span class="kt">void</span><span class="w">                 </span><span class="nf">wcli_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7898</span><span class="c1">// Call execv()</span>
<span class="linenos">7899</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">7900</span><span class="c1">// func:command.wcli_proc.wcli.Execv</span>
<span class="linenos">7901</span><span class="kt">int</span><span class="w">                  </span><span class="nf">wcli_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7902</span><span class="c1">// func:command.wcli_proc.wcli.ToCmdline</span>
<span class="linenos">7903</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">wcli_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7904</span><span class="c1">// Form array from the command line</span>
<span class="linenos">7905</span><span class="c1">// func:command.wcli_proc.wcli.ToArgv</span>
<span class="linenos">7906</span><span class="kt">void</span><span class="w">                 </span><span class="nf">wcli_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7907</span>
<span class="linenos">7908</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">7909</span><span class="c1">// func:command.wcli_proc..Init</span>
<span class="linenos">7910</span><span class="kt">void</span><span class="w">                 </span><span class="nf">wcli_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7911</span><span class="c1">// func:command.wcli_proc..Uninit</span>
<span class="linenos">7912</span><span class="kt">void</span><span class="w">                 </span><span class="nf">wcli_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">wcli_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7913</span>
<span class="linenos">7914</span><span class="c1">// --- command.x2admin</span>
<span class="linenos">7915</span><span class="c1">// access: command.x2admin_proc.x2admin (Exec)</span>
<span class="linenos">7916</span><span class="k">struct</span><span class="w"> </span><span class="nc">x2admin</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.x2admin</span>
<span class="linenos">7917</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">in</span><span class="p">;</span><span class="w">         </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">7918</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">envnode</span><span class="p">;</span><span class="w">    </span><span class="c1">//   &quot;%&quot;  Sql Regx of x2db::Envnode</span>
<span class="linenos">7919</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">   </span><span class="n">admsvc</span><span class="p">;</span><span class="w">     </span><span class="c1">//   &quot;%&quot;  Sql Regx of x2db::Admsvc</span>
<span class="linenos">7920</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">generate</span><span class="p">;</span><span class="w">   </span><span class="c1">//   false  Generate x2admin scripts for selected services and nodes</span>
<span class="linenos">7921</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">update</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Call admsvc functions to update the settings</span>
<span class="linenos">7922</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">verify</span><span class="p">;</span><span class="w">     </span><span class="c1">//   false  Call admsvc functions to verify the settings</span>
<span class="linenos">7923</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">show</span><span class="p">;</span><span class="w">       </span><span class="c1">//   false  Call admsvc functions to show the settings</span>
<span class="linenos">7924</span><span class="w">    </span><span class="kt">bool</span><span class="w">             </span><span class="n">dry_run</span><span class="p">;</span><span class="w">    </span><span class="c1">//   false  Print actions, do not perform</span>
<span class="linenos">7925</span><span class="w">    </span><span class="n">x2admin</span><span class="p">();</span>
<span class="linenos">7926</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">7927</span><span class="w">    </span><span class="c1">// reftype Regx of command.x2admin.envnode prohibits copy</span>
<span class="linenos">7928</span><span class="w">    </span><span class="c1">// reftype Regx of command.x2admin.admsvc prohibits copy</span>
<span class="linenos">7929</span><span class="w">    </span><span class="n">x2admin</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2admin</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">7930</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2admin</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">7931</span><span class="p">};</span>
<span class="linenos">7932</span>
<span class="linenos">7933</span><span class="c1">// Print back to string</span>
<span class="linenos">7934</span><span class="c1">// func:command.x2admin.envnode.Print</span>
<span class="linenos">7935</span><span class="kt">void</span><span class="w">                 </span><span class="nf">envnode_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2admin</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7936</span><span class="c1">// Read Regx from string</span>
<span class="linenos">7937</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">7938</span><span class="c1">// func:command.x2admin.envnode.ReadStrptrMaybe</span>
<span class="linenos">7939</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">envnode_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2admin</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7940</span>
<span class="linenos">7941</span><span class="c1">// Print back to string</span>
<span class="linenos">7942</span><span class="c1">// func:command.x2admin.admsvc.Print</span>
<span class="linenos">7943</span><span class="kt">void</span><span class="w">                 </span><span class="nf">admsvc_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2admin</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7944</span><span class="c1">// Read Regx from string</span>
<span class="linenos">7945</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">7946</span><span class="c1">// func:command.x2admin.admsvc.ReadStrptrMaybe</span>
<span class="linenos">7947</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">admsvc_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2admin</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7948</span>
<span class="linenos">7949</span><span class="c1">// func:command.x2admin..ReadFieldMaybe</span>
<span class="linenos">7950</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">x2admin_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2admin</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7951</span><span class="c1">// Read fields of command::x2admin from attributes of ascii tuple TUPLE</span>
<span class="linenos">7952</span><span class="c1">// func:command.x2admin..ReadTupleMaybe</span>
<span class="linenos">7953</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">x2admin_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2admin</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7954</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">7955</span><span class="c1">// func:command.x2admin..Init</span>
<span class="linenos">7956</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2admin_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2admin</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">7957</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">7958</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">7959</span><span class="c1">// func:command.x2admin..ToCmdline</span>
<span class="linenos">7960</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">x2admin_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2admin</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7961</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">7962</span><span class="c1">// cfmt:command.x2admin.Argv  printfmt:Tuple</span>
<span class="linenos">7963</span><span class="c1">// func:command.x2admin..PrintArgv</span>
<span class="linenos">7964</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2admin_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2admin</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7965</span><span class="c1">// Used with command lines</span>
<span class="linenos">7966</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">7967</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">7968</span><span class="c1">// func:command.x2admin..NArgs</span>
<span class="linenos">7969</span><span class="n">i32</span><span class="w">                  </span><span class="nf">x2admin_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7970</span>
<span class="linenos">7971</span><span class="c1">// --- command.x2admin_proc</span>
<span class="linenos">7972</span><span class="k">struct</span><span class="w"> </span><span class="nc">x2admin_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.x2admin_proc: Subprocess: utility to generate admsvc control for containers etc...</span>
<span class="linenos">7973</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/x2admin&quot;  path for executable</span>
<span class="linenos">7974</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">x2admin</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">7975</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">7976</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">7977</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">7978</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">              </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">7979</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">7980</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">7981</span><span class="w">    </span><span class="n">x2admin_proc</span><span class="p">();</span>
<span class="linenos">7982</span><span class="w">    </span><span class="o">~</span><span class="n">x2admin_proc</span><span class="p">();</span>
<span class="linenos">7983</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">7984</span><span class="w">    </span><span class="c1">// reftype Exec of command.x2admin_proc.x2admin prohibits copy</span>
<span class="linenos">7985</span><span class="w">    </span><span class="c1">// value field command.x2admin_proc.cmd is not copiable</span>
<span class="linenos">7986</span><span class="w">    </span><span class="n">x2admin_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2admin_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">7987</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2admin_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">7988</span><span class="p">};</span>
<span class="linenos">7989</span>
<span class="linenos">7990</span><span class="c1">// Start subprocess</span>
<span class="linenos">7991</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">7992</span><span class="c1">// func:command.x2admin_proc.x2admin.Start</span>
<span class="linenos">7993</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2admin_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2admin_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7994</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">7995</span><span class="c1">// func:command.x2admin_proc.x2admin.StartRead</span>
<span class="linenos">7996</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">x2admin_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2admin_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">7997</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">7998</span><span class="c1">// func:command.x2admin_proc.x2admin.Kill</span>
<span class="linenos">7999</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2admin_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2admin_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8000</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">8001</span><span class="c1">// func:command.x2admin_proc.x2admin.Wait</span>
<span class="linenos">8002</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2admin_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2admin_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8003</span><span class="c1">// Start + Wait</span>
<span class="linenos">8004</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">8005</span><span class="c1">// func:command.x2admin_proc.x2admin.Exec</span>
<span class="linenos">8006</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2admin_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2admin_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8007</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">8008</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">8009</span><span class="c1">// func:command.x2admin_proc.x2admin.ExecX</span>
<span class="linenos">8010</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2admin_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2admin_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8011</span><span class="c1">// Call execv()</span>
<span class="linenos">8012</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">8013</span><span class="c1">// func:command.x2admin_proc.x2admin.Execv</span>
<span class="linenos">8014</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2admin_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2admin_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8015</span><span class="c1">// func:command.x2admin_proc.x2admin.ToCmdline</span>
<span class="linenos">8016</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">x2admin_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2admin_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8017</span><span class="c1">// Form array from the command line</span>
<span class="linenos">8018</span><span class="c1">// func:command.x2admin_proc.x2admin.ToArgv</span>
<span class="linenos">8019</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2admin_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2admin_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8020</span>
<span class="linenos">8021</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">8022</span><span class="c1">// func:command.x2admin_proc..Init</span>
<span class="linenos">8023</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2admin_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2admin_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8024</span><span class="c1">// func:command.x2admin_proc..Uninit</span>
<span class="linenos">8025</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2admin_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2admin_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8026</span>
<span class="linenos">8027</span><span class="c1">// --- command.x2cmt</span>
<span class="linenos">8028</span><span class="c1">// access: command.x2cmt_proc.x2cmt (Exec)</span>
<span class="linenos">8029</span><span class="k">struct</span><span class="w"> </span><span class="nc">x2cmt</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.x2cmt</span>
<span class="linenos">8030</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">in</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">8031</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">prefix</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;&quot;  Prefix for all stream files</span>
<span class="linenos">8032</span><span class="w">    </span><span class="n">x2cmt</span><span class="p">();</span>
<span class="linenos">8033</span><span class="p">};</span>
<span class="linenos">8034</span>
<span class="linenos">8035</span><span class="c1">// func:command.x2cmt..ReadFieldMaybe</span>
<span class="linenos">8036</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">x2cmt_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2cmt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8037</span><span class="c1">// Read fields of command::x2cmt from attributes of ascii tuple TUPLE</span>
<span class="linenos">8038</span><span class="c1">// func:command.x2cmt..ReadTupleMaybe</span>
<span class="linenos">8039</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">x2cmt_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2cmt</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8040</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">8041</span><span class="c1">// func:command.x2cmt..Init</span>
<span class="linenos">8042</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2cmt_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2cmt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8043</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">8044</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">8045</span><span class="c1">// func:command.x2cmt..ToCmdline</span>
<span class="linenos">8046</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">x2cmt_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2cmt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8047</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">8048</span><span class="c1">// cfmt:command.x2cmt.Argv  printfmt:Tuple</span>
<span class="linenos">8049</span><span class="c1">// func:command.x2cmt..PrintArgv</span>
<span class="linenos">8050</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2cmt_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2cmt</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8051</span><span class="c1">// Used with command lines</span>
<span class="linenos">8052</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">8053</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">8054</span><span class="c1">// func:command.x2cmt..NArgs</span>
<span class="linenos">8055</span><span class="n">i32</span><span class="w">                  </span><span class="nf">x2cmt_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8056</span>
<span class="linenos">8057</span><span class="c1">// --- command.x2cmt_proc</span>
<span class="linenos">8058</span><span class="k">struct</span><span class="w"> </span><span class="nc">x2cmt_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.x2cmt_proc: Subprocess: X2 - Commit</span>
<span class="linenos">8059</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/x2cmt&quot;  path for executable</span>
<span class="linenos">8060</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">x2cmt</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">8061</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">8062</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">8063</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">8064</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">            </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">8065</span><span class="w">    </span><span class="n">i32</span><span class="w">              </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">8066</span><span class="w">    </span><span class="n">i32</span><span class="w">              </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">8067</span><span class="w">    </span><span class="n">x2cmt_proc</span><span class="p">();</span>
<span class="linenos">8068</span><span class="w">    </span><span class="o">~</span><span class="n">x2cmt_proc</span><span class="p">();</span>
<span class="linenos">8069</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">8070</span><span class="w">    </span><span class="c1">// reftype Exec of command.x2cmt_proc.x2cmt prohibits copy</span>
<span class="linenos">8071</span><span class="w">    </span><span class="n">x2cmt_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2cmt_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">8072</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2cmt_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">8073</span><span class="p">};</span>
<span class="linenos">8074</span>
<span class="linenos">8075</span><span class="c1">// Start subprocess</span>
<span class="linenos">8076</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">8077</span><span class="c1">// func:command.x2cmt_proc.x2cmt.Start</span>
<span class="linenos">8078</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2cmt_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2cmt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8079</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">8080</span><span class="c1">// func:command.x2cmt_proc.x2cmt.StartRead</span>
<span class="linenos">8081</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">x2cmt_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2cmt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8082</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">8083</span><span class="c1">// func:command.x2cmt_proc.x2cmt.Kill</span>
<span class="linenos">8084</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2cmt_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2cmt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8085</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">8086</span><span class="c1">// func:command.x2cmt_proc.x2cmt.Wait</span>
<span class="linenos">8087</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2cmt_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2cmt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8088</span><span class="c1">// Start + Wait</span>
<span class="linenos">8089</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">8090</span><span class="c1">// func:command.x2cmt_proc.x2cmt.Exec</span>
<span class="linenos">8091</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2cmt_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2cmt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8092</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">8093</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">8094</span><span class="c1">// func:command.x2cmt_proc.x2cmt.ExecX</span>
<span class="linenos">8095</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2cmt_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2cmt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8096</span><span class="c1">// Call execv()</span>
<span class="linenos">8097</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">8098</span><span class="c1">// func:command.x2cmt_proc.x2cmt.Execv</span>
<span class="linenos">8099</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2cmt_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2cmt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8100</span><span class="c1">// func:command.x2cmt_proc.x2cmt.ToCmdline</span>
<span class="linenos">8101</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">x2cmt_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2cmt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8102</span><span class="c1">// Form array from the command line</span>
<span class="linenos">8103</span><span class="c1">// func:command.x2cmt_proc.x2cmt.ToArgv</span>
<span class="linenos">8104</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2cmt_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2cmt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8105</span>
<span class="linenos">8106</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">8107</span><span class="c1">// func:command.x2cmt_proc..Init</span>
<span class="linenos">8108</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2cmt_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2cmt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8109</span><span class="c1">// func:command.x2cmt_proc..Uninit</span>
<span class="linenos">8110</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2cmt_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2cmt_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8111</span>
<span class="linenos">8112</span><span class="c1">// --- command.x2gf</span>
<span class="linenos">8113</span><span class="c1">// access: command.x2gf_proc.x2gf (Exec)</span>
<span class="linenos">8114</span><span class="k">struct</span><span class="w"> </span><span class="nc">x2gf</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.x2gf</span>
<span class="linenos">8115</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">in</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">8116</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">prefix</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;&quot;  Prefix for all stream files</span>
<span class="linenos">8117</span><span class="w">    </span><span class="n">x2gf</span><span class="p">();</span>
<span class="linenos">8118</span><span class="p">};</span>
<span class="linenos">8119</span>
<span class="linenos">8120</span><span class="c1">// func:command.x2gf..ReadFieldMaybe</span>
<span class="linenos">8121</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">x2gf_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gf</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8122</span><span class="c1">// Read fields of command::x2gf from attributes of ascii tuple TUPLE</span>
<span class="linenos">8123</span><span class="c1">// func:command.x2gf..ReadTupleMaybe</span>
<span class="linenos">8124</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">x2gf_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gf</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8125</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">8126</span><span class="c1">// func:command.x2gf..Init</span>
<span class="linenos">8127</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2gf_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gf</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8128</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">8129</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">8130</span><span class="c1">// func:command.x2gf..ToCmdline</span>
<span class="linenos">8131</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">x2gf_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gf</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8132</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">8133</span><span class="c1">// cfmt:command.x2gf.Argv  printfmt:Tuple</span>
<span class="linenos">8134</span><span class="c1">// func:command.x2gf..PrintArgv</span>
<span class="linenos">8135</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2gf_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gf</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8136</span><span class="c1">// Used with command lines</span>
<span class="linenos">8137</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">8138</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">8139</span><span class="c1">// func:command.x2gf..NArgs</span>
<span class="linenos">8140</span><span class="n">i32</span><span class="w">                  </span><span class="nf">x2gf_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8141</span>
<span class="linenos">8142</span><span class="c1">// --- command.x2gf_proc</span>
<span class="linenos">8143</span><span class="k">struct</span><span class="w"> </span><span class="nc">x2gf_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.x2gf_proc: Subprocess: X2 - Gapfill</span>
<span class="linenos">8144</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/x2gf&quot;  path for executable</span>
<span class="linenos">8145</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">x2gf</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">8146</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">8147</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">8148</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">8149</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">           </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">8150</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">8151</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">8152</span><span class="w">    </span><span class="n">x2gf_proc</span><span class="p">();</span>
<span class="linenos">8153</span><span class="w">    </span><span class="o">~</span><span class="n">x2gf_proc</span><span class="p">();</span>
<span class="linenos">8154</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">8155</span><span class="w">    </span><span class="c1">// reftype Exec of command.x2gf_proc.x2gf prohibits copy</span>
<span class="linenos">8156</span><span class="w">    </span><span class="n">x2gf_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2gf_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">8157</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2gf_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">8158</span><span class="p">};</span>
<span class="linenos">8159</span>
<span class="linenos">8160</span><span class="c1">// Start subprocess</span>
<span class="linenos">8161</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">8162</span><span class="c1">// func:command.x2gf_proc.x2gf.Start</span>
<span class="linenos">8163</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2gf_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gf_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8164</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">8165</span><span class="c1">// func:command.x2gf_proc.x2gf.StartRead</span>
<span class="linenos">8166</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">x2gf_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gf_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8167</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">8168</span><span class="c1">// func:command.x2gf_proc.x2gf.Kill</span>
<span class="linenos">8169</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2gf_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gf_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8170</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">8171</span><span class="c1">// func:command.x2gf_proc.x2gf.Wait</span>
<span class="linenos">8172</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2gf_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gf_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8173</span><span class="c1">// Start + Wait</span>
<span class="linenos">8174</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">8175</span><span class="c1">// func:command.x2gf_proc.x2gf.Exec</span>
<span class="linenos">8176</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2gf_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gf_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8177</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">8178</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">8179</span><span class="c1">// func:command.x2gf_proc.x2gf.ExecX</span>
<span class="linenos">8180</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2gf_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gf_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8181</span><span class="c1">// Call execv()</span>
<span class="linenos">8182</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">8183</span><span class="c1">// func:command.x2gf_proc.x2gf.Execv</span>
<span class="linenos">8184</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2gf_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gf_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8185</span><span class="c1">// func:command.x2gf_proc.x2gf.ToCmdline</span>
<span class="linenos">8186</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">x2gf_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gf_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8187</span><span class="c1">// Form array from the command line</span>
<span class="linenos">8188</span><span class="c1">// func:command.x2gf_proc.x2gf.ToArgv</span>
<span class="linenos">8189</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2gf_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gf_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8190</span>
<span class="linenos">8191</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">8192</span><span class="c1">// func:command.x2gf_proc..Init</span>
<span class="linenos">8193</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2gf_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gf_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8194</span><span class="c1">// func:command.x2gf_proc..Uninit</span>
<span class="linenos">8195</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2gf_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gf_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8196</span>
<span class="linenos">8197</span><span class="c1">// --- command.x2gw</span>
<span class="linenos">8198</span><span class="c1">// access: command.x2gw_proc.x2gw (Exec)</span>
<span class="linenos">8199</span><span class="k">struct</span><span class="w"> </span><span class="nc">x2gw</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.x2gw</span>
<span class="linenos">8200</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">in</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">8201</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">prefix</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;&quot;  Prefix for all stream files</span>
<span class="linenos">8202</span><span class="w">    </span><span class="n">x2gw</span><span class="p">();</span>
<span class="linenos">8203</span><span class="p">};</span>
<span class="linenos">8204</span>
<span class="linenos">8205</span><span class="c1">// func:command.x2gw..ReadFieldMaybe</span>
<span class="linenos">8206</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">x2gw_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gw</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8207</span><span class="c1">// Read fields of command::x2gw from attributes of ascii tuple TUPLE</span>
<span class="linenos">8208</span><span class="c1">// func:command.x2gw..ReadTupleMaybe</span>
<span class="linenos">8209</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">x2gw_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gw</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8210</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">8211</span><span class="c1">// func:command.x2gw..Init</span>
<span class="linenos">8212</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2gw_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gw</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8213</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">8214</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">8215</span><span class="c1">// func:command.x2gw..ToCmdline</span>
<span class="linenos">8216</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">x2gw_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gw</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8217</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">8218</span><span class="c1">// cfmt:command.x2gw.Argv  printfmt:Tuple</span>
<span class="linenos">8219</span><span class="c1">// func:command.x2gw..PrintArgv</span>
<span class="linenos">8220</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2gw_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gw</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8221</span><span class="c1">// Used with command lines</span>
<span class="linenos">8222</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">8223</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">8224</span><span class="c1">// func:command.x2gw..NArgs</span>
<span class="linenos">8225</span><span class="n">i32</span><span class="w">                  </span><span class="nf">x2gw_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8226</span>
<span class="linenos">8227</span><span class="c1">// --- command.x2gw_proc</span>
<span class="linenos">8228</span><span class="k">struct</span><span class="w"> </span><span class="nc">x2gw_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.x2gw_proc: Subprocess: X2 - Gateway</span>
<span class="linenos">8229</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/x2gw&quot;  path for executable</span>
<span class="linenos">8230</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">x2gw</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">8231</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">8232</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">8233</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">8234</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">           </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">8235</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">8236</span><span class="w">    </span><span class="n">i32</span><span class="w">             </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">8237</span><span class="w">    </span><span class="n">x2gw_proc</span><span class="p">();</span>
<span class="linenos">8238</span><span class="w">    </span><span class="o">~</span><span class="n">x2gw_proc</span><span class="p">();</span>
<span class="linenos">8239</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">8240</span><span class="w">    </span><span class="c1">// reftype Exec of command.x2gw_proc.x2gw prohibits copy</span>
<span class="linenos">8241</span><span class="w">    </span><span class="n">x2gw_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2gw_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">8242</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2gw_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">8243</span><span class="p">};</span>
<span class="linenos">8244</span>
<span class="linenos">8245</span><span class="c1">// Start subprocess</span>
<span class="linenos">8246</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">8247</span><span class="c1">// func:command.x2gw_proc.x2gw.Start</span>
<span class="linenos">8248</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2gw_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gw_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8249</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">8250</span><span class="c1">// func:command.x2gw_proc.x2gw.StartRead</span>
<span class="linenos">8251</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">x2gw_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gw_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8252</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">8253</span><span class="c1">// func:command.x2gw_proc.x2gw.Kill</span>
<span class="linenos">8254</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2gw_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gw_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8255</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">8256</span><span class="c1">// func:command.x2gw_proc.x2gw.Wait</span>
<span class="linenos">8257</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2gw_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gw_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8258</span><span class="c1">// Start + Wait</span>
<span class="linenos">8259</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">8260</span><span class="c1">// func:command.x2gw_proc.x2gw.Exec</span>
<span class="linenos">8261</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2gw_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gw_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8262</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">8263</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">8264</span><span class="c1">// func:command.x2gw_proc.x2gw.ExecX</span>
<span class="linenos">8265</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2gw_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gw_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8266</span><span class="c1">// Call execv()</span>
<span class="linenos">8267</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">8268</span><span class="c1">// func:command.x2gw_proc.x2gw.Execv</span>
<span class="linenos">8269</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2gw_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gw_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8270</span><span class="c1">// func:command.x2gw_proc.x2gw.ToCmdline</span>
<span class="linenos">8271</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">x2gw_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gw_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8272</span><span class="c1">// Form array from the command line</span>
<span class="linenos">8273</span><span class="c1">// func:command.x2gw_proc.x2gw.ToArgv</span>
<span class="linenos">8274</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2gw_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gw_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8275</span>
<span class="linenos">8276</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">8277</span><span class="c1">// func:command.x2gw_proc..Init</span>
<span class="linenos">8278</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2gw_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gw_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8279</span><span class="c1">// func:command.x2gw_proc..Uninit</span>
<span class="linenos">8280</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2gw_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2gw_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8281</span>
<span class="linenos">8282</span><span class="c1">// --- command.x2mon</span>
<span class="linenos">8283</span><span class="c1">// access: command.x2mon_proc.x2mon (Exec)</span>
<span class="linenos">8284</span><span class="k">struct</span><span class="w"> </span><span class="nc">x2mon</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.x2mon</span>
<span class="linenos">8285</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">in</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">8286</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">prefix</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;&quot;  Prefix for all stream files</span>
<span class="linenos">8287</span><span class="w">    </span><span class="n">x2mon</span><span class="p">();</span>
<span class="linenos">8288</span><span class="p">};</span>
<span class="linenos">8289</span>
<span class="linenos">8290</span><span class="c1">// func:command.x2mon..ReadFieldMaybe</span>
<span class="linenos">8291</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">x2mon_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2mon</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8292</span><span class="c1">// Read fields of command::x2mon from attributes of ascii tuple TUPLE</span>
<span class="linenos">8293</span><span class="c1">// func:command.x2mon..ReadTupleMaybe</span>
<span class="linenos">8294</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">x2mon_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2mon</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8295</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">8296</span><span class="c1">// func:command.x2mon..Init</span>
<span class="linenos">8297</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2mon_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2mon</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8298</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">8299</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">8300</span><span class="c1">// func:command.x2mon..ToCmdline</span>
<span class="linenos">8301</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">x2mon_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2mon</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8302</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">8303</span><span class="c1">// cfmt:command.x2mon.Argv  printfmt:Tuple</span>
<span class="linenos">8304</span><span class="c1">// func:command.x2mon..PrintArgv</span>
<span class="linenos">8305</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2mon_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2mon</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8306</span><span class="c1">// Used with command lines</span>
<span class="linenos">8307</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">8308</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">8309</span><span class="c1">// func:command.x2mon..NArgs</span>
<span class="linenos">8310</span><span class="n">i32</span><span class="w">                  </span><span class="nf">x2mon_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8311</span>
<span class="linenos">8312</span><span class="c1">// --- command.x2mon_proc</span>
<span class="linenos">8313</span><span class="k">struct</span><span class="w"> </span><span class="nc">x2mon_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.x2mon_proc: Subprocess: X2 - Monitor</span>
<span class="linenos">8314</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/x2mon&quot;  path for executable</span>
<span class="linenos">8315</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">x2mon</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">8316</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">8317</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">8318</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">8319</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">            </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">8320</span><span class="w">    </span><span class="n">i32</span><span class="w">              </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">8321</span><span class="w">    </span><span class="n">i32</span><span class="w">              </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">8322</span><span class="w">    </span><span class="n">x2mon_proc</span><span class="p">();</span>
<span class="linenos">8323</span><span class="w">    </span><span class="o">~</span><span class="n">x2mon_proc</span><span class="p">();</span>
<span class="linenos">8324</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">8325</span><span class="w">    </span><span class="c1">// reftype Exec of command.x2mon_proc.x2mon prohibits copy</span>
<span class="linenos">8326</span><span class="w">    </span><span class="n">x2mon_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2mon_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">8327</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2mon_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">8328</span><span class="p">};</span>
<span class="linenos">8329</span>
<span class="linenos">8330</span><span class="c1">// Start subprocess</span>
<span class="linenos">8331</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">8332</span><span class="c1">// func:command.x2mon_proc.x2mon.Start</span>
<span class="linenos">8333</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2mon_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2mon_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8334</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">8335</span><span class="c1">// func:command.x2mon_proc.x2mon.StartRead</span>
<span class="linenos">8336</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">x2mon_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2mon_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8337</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">8338</span><span class="c1">// func:command.x2mon_proc.x2mon.Kill</span>
<span class="linenos">8339</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2mon_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2mon_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8340</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">8341</span><span class="c1">// func:command.x2mon_proc.x2mon.Wait</span>
<span class="linenos">8342</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2mon_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2mon_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8343</span><span class="c1">// Start + Wait</span>
<span class="linenos">8344</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">8345</span><span class="c1">// func:command.x2mon_proc.x2mon.Exec</span>
<span class="linenos">8346</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2mon_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2mon_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8347</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">8348</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">8349</span><span class="c1">// func:command.x2mon_proc.x2mon.ExecX</span>
<span class="linenos">8350</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2mon_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2mon_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8351</span><span class="c1">// Call execv()</span>
<span class="linenos">8352</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">8353</span><span class="c1">// func:command.x2mon_proc.x2mon.Execv</span>
<span class="linenos">8354</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2mon_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2mon_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8355</span><span class="c1">// func:command.x2mon_proc.x2mon.ToCmdline</span>
<span class="linenos">8356</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">x2mon_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2mon_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8357</span><span class="c1">// Form array from the command line</span>
<span class="linenos">8358</span><span class="c1">// func:command.x2mon_proc.x2mon.ToArgv</span>
<span class="linenos">8359</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2mon_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2mon_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8360</span>
<span class="linenos">8361</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">8362</span><span class="c1">// func:command.x2mon_proc..Init</span>
<span class="linenos">8363</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2mon_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2mon_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8364</span><span class="c1">// func:command.x2mon_proc..Uninit</span>
<span class="linenos">8365</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2mon_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2mon_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8366</span>
<span class="linenos">8367</span><span class="c1">// --- command.x2node</span>
<span class="linenos">8368</span><span class="c1">// access: command.x2node_proc.x2node (Exec)</span>
<span class="linenos">8369</span><span class="k">struct</span><span class="w"> </span><span class="nc">x2node</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.x2node</span>
<span class="linenos">8370</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">in</span><span class="p">;</span><span class="w">           </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">8371</span><span class="w">    </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w">     </span><span class="n">envnode</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;&quot;  Sql Regx of x2db::Envnode</span>
<span class="linenos">8372</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">root</span><span class="p">;</span><span class="w">         </span><span class="c1">//   false  execute commands as root, if set with -rsync, it copies target to /tmp first, and from /tmp to destination</span>
<span class="linenos">8373</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">Smallstr50</span><span class="w">   </span><span class="n">user</span><span class="p">;</span><span class="w">         </span><span class="c1">//   &quot;&quot;  User for ssh connection, if different from default</span>
<span class="linenos">8374</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">shell</span><span class="p">;</span><span class="w">        </span><span class="c1">//   false  pass TTY to ssh</span>
<span class="linenos">8375</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">rsync_put</span><span class="p">;</span><span class="w">    </span><span class="c1">//   false  rsync -local to -remote files/dirs</span>
<span class="linenos">8376</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">rsync_get</span><span class="p">;</span><span class="w">    </span><span class="c1">//   false  rsync -remote to -local files/dirs</span>
<span class="linenos">8377</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">rsync_opts</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;-ai&quot;  (with -rsync) rsync options</span>
<span class="linenos">8378</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">local</span><span class="p">;</span><span class="w">        </span><span class="c1">//   &quot;&quot;  (with -rsync) local target for rsync</span>
<span class="linenos">8379</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">remote</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;&quot;  (with -rsync) remote target for rsync</span>
<span class="linenos">8380</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">dry_run</span><span class="p">;</span><span class="w">      </span><span class="c1">//   false  Print actions, do not perform</span>
<span class="linenos">8381</span><span class="w">    </span><span class="n">u32</span><span class="w">                </span><span class="n">maxtime</span><span class="p">;</span><span class="w">      </span><span class="c1">//   0  commands timeout in seconds</span>
<span class="linenos">8382</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">cmd</span><span class="p">;</span><span class="w">          </span><span class="c1">//   &quot;&quot;  Execute command at the ssh</span>
<span class="linenos">8383</span><span class="w">    </span><span class="kt">bool</span><span class="w">               </span><span class="n">q</span><span class="p">;</span><span class="w">            </span><span class="c1">//   false  quite mode - don&#39;t print reports</span>
<span class="linenos">8384</span><span class="w">    </span><span class="n">x2node</span><span class="p">();</span>
<span class="linenos">8385</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">8386</span><span class="w">    </span><span class="c1">// reftype Regx of command.x2node.envnode prohibits copy</span>
<span class="linenos">8387</span><span class="w">    </span><span class="n">x2node</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2node</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">8388</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2node</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">8389</span><span class="p">};</span>
<span class="linenos">8390</span>
<span class="linenos">8391</span><span class="c1">// Print back to string</span>
<span class="linenos">8392</span><span class="c1">// func:command.x2node.envnode.Print</span>
<span class="linenos">8393</span><span class="kt">void</span><span class="w">                 </span><span class="nf">envnode_Print</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2node</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8394</span><span class="c1">// Read Regx from string</span>
<span class="linenos">8395</span><span class="c1">// Convert string to field. Return success value</span>
<span class="linenos">8396</span><span class="c1">// func:command.x2node.envnode.ReadStrptrMaybe</span>
<span class="linenos">8397</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">envnode_ReadStrptrMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2node</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8398</span>
<span class="linenos">8399</span><span class="c1">// func:command.x2node..ReadFieldMaybe</span>
<span class="linenos">8400</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">x2node_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2node</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8401</span><span class="c1">// Read fields of command::x2node from attributes of ascii tuple TUPLE</span>
<span class="linenos">8402</span><span class="c1">// func:command.x2node..ReadTupleMaybe</span>
<span class="linenos">8403</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">x2node_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2node</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8404</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">8405</span><span class="c1">// func:command.x2node..Init</span>
<span class="linenos">8406</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2node_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2node</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8407</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">8408</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">8409</span><span class="c1">// func:command.x2node..ToCmdline</span>
<span class="linenos">8410</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">x2node_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2node</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8411</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">8412</span><span class="c1">// cfmt:command.x2node.Argv  printfmt:Tuple</span>
<span class="linenos">8413</span><span class="c1">// func:command.x2node..PrintArgv</span>
<span class="linenos">8414</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2node_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2node</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8415</span><span class="c1">// func:command.x2node..GetAnon</span>
<span class="linenos">8416</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w">         </span><span class="nf">x2node_GetAnon</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2node</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8417</span><span class="c1">// Used with command lines</span>
<span class="linenos">8418</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">8419</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">8420</span><span class="c1">// func:command.x2node..NArgs</span>
<span class="linenos">8421</span><span class="n">i32</span><span class="w">                  </span><span class="nf">x2node_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8422</span>
<span class="linenos">8423</span><span class="c1">// --- command.x2node_proc</span>
<span class="linenos">8424</span><span class="k">struct</span><span class="w"> </span><span class="nc">x2node_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.x2node_proc: Subprocess: ssh tool to access varios aops nodes</span>
<span class="linenos">8425</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/x2node&quot;  path for executable</span>
<span class="linenos">8426</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">x2node</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">8427</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">8428</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">8429</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">8430</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">             </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">8431</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">8432</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">8433</span><span class="w">    </span><span class="n">x2node_proc</span><span class="p">();</span>
<span class="linenos">8434</span><span class="w">    </span><span class="o">~</span><span class="n">x2node_proc</span><span class="p">();</span>
<span class="linenos">8435</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">8436</span><span class="w">    </span><span class="c1">// reftype Exec of command.x2node_proc.x2node prohibits copy</span>
<span class="linenos">8437</span><span class="w">    </span><span class="c1">// value field command.x2node_proc.cmd is not copiable</span>
<span class="linenos">8438</span><span class="w">    </span><span class="n">x2node_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2node_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">8439</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2node_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">8440</span><span class="p">};</span>
<span class="linenos">8441</span>
<span class="linenos">8442</span><span class="c1">// Start subprocess</span>
<span class="linenos">8443</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">8444</span><span class="c1">// func:command.x2node_proc.x2node.Start</span>
<span class="linenos">8445</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2node_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2node_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8446</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">8447</span><span class="c1">// func:command.x2node_proc.x2node.StartRead</span>
<span class="linenos">8448</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">x2node_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2node_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8449</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">8450</span><span class="c1">// func:command.x2node_proc.x2node.Kill</span>
<span class="linenos">8451</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2node_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2node_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8452</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">8453</span><span class="c1">// func:command.x2node_proc.x2node.Wait</span>
<span class="linenos">8454</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2node_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2node_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8455</span><span class="c1">// Start + Wait</span>
<span class="linenos">8456</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">8457</span><span class="c1">// func:command.x2node_proc.x2node.Exec</span>
<span class="linenos">8458</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2node_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2node_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8459</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">8460</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">8461</span><span class="c1">// func:command.x2node_proc.x2node.ExecX</span>
<span class="linenos">8462</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2node_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2node_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8463</span><span class="c1">// Call execv()</span>
<span class="linenos">8464</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">8465</span><span class="c1">// func:command.x2node_proc.x2node.Execv</span>
<span class="linenos">8466</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2node_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2node_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8467</span><span class="c1">// func:command.x2node_proc.x2node.ToCmdline</span>
<span class="linenos">8468</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">x2node_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2node_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8469</span><span class="c1">// Form array from the command line</span>
<span class="linenos">8470</span><span class="c1">// func:command.x2node_proc.x2node.ToArgv</span>
<span class="linenos">8471</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2node_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2node_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8472</span>
<span class="linenos">8473</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">8474</span><span class="c1">// func:command.x2node_proc..Init</span>
<span class="linenos">8475</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2node_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2node_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8476</span><span class="c1">// func:command.x2node_proc..Uninit</span>
<span class="linenos">8477</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2node_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2node_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8478</span>
<span class="linenos">8479</span><span class="c1">// --- command.x2read</span>
<span class="linenos">8480</span><span class="c1">// access: command.x2read_proc.x2read (Exec)</span>
<span class="linenos">8481</span><span class="k">struct</span><span class="w"> </span><span class="nc">x2read</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.x2read</span>
<span class="linenos">8482</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">in</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">8483</span><span class="w">    </span><span class="n">ietf</span><span class="o">::</span><span class="n">Ipport</span><span class="w">    </span><span class="n">gw</span><span class="p">;</span><span class="w">   </span><span class="c1">//</span>
<span class="linenos">8484</span><span class="w">    </span><span class="n">x2read</span><span class="p">();</span>
<span class="linenos">8485</span><span class="p">};</span>
<span class="linenos">8486</span>
<span class="linenos">8487</span><span class="c1">// func:command.x2read..ReadFieldMaybe</span>
<span class="linenos">8488</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">x2read_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2read</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8489</span><span class="c1">// Read fields of command::x2read from attributes of ascii tuple TUPLE</span>
<span class="linenos">8490</span><span class="c1">// func:command.x2read..ReadTupleMaybe</span>
<span class="linenos">8491</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">x2read_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2read</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8492</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">8493</span><span class="c1">// func:command.x2read..Init</span>
<span class="linenos">8494</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2read_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2read</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8495</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">8496</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">8497</span><span class="c1">// func:command.x2read..ToCmdline</span>
<span class="linenos">8498</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">x2read_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2read</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8499</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">8500</span><span class="c1">// cfmt:command.x2read.Argv  printfmt:Tuple</span>
<span class="linenos">8501</span><span class="c1">// func:command.x2read..PrintArgv</span>
<span class="linenos">8502</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2read_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2read</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8503</span><span class="c1">// Used with command lines</span>
<span class="linenos">8504</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">8505</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">8506</span><span class="c1">// func:command.x2read..NArgs</span>
<span class="linenos">8507</span><span class="n">i32</span><span class="w">                  </span><span class="nf">x2read_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8508</span>
<span class="linenos">8509</span><span class="c1">// --- command.x2read_proc</span>
<span class="linenos">8510</span><span class="k">struct</span><span class="w"> </span><span class="nc">x2read_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.x2read_proc: Subprocess: X2 - Read client</span>
<span class="linenos">8511</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/x2read&quot;  path for executable</span>
<span class="linenos">8512</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">x2read</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">8513</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">8514</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">8515</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">     </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">8516</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">             </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">8517</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">8518</span><span class="w">    </span><span class="n">i32</span><span class="w">               </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">8519</span><span class="w">    </span><span class="n">x2read_proc</span><span class="p">();</span>
<span class="linenos">8520</span><span class="w">    </span><span class="o">~</span><span class="n">x2read_proc</span><span class="p">();</span>
<span class="linenos">8521</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">8522</span><span class="w">    </span><span class="c1">// reftype Exec of command.x2read_proc.x2read prohibits copy</span>
<span class="linenos">8523</span><span class="w">    </span><span class="n">x2read_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2read_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">8524</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2read_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">8525</span><span class="p">};</span>
<span class="linenos">8526</span>
<span class="linenos">8527</span><span class="c1">// Start subprocess</span>
<span class="linenos">8528</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">8529</span><span class="c1">// func:command.x2read_proc.x2read.Start</span>
<span class="linenos">8530</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2read_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2read_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8531</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">8532</span><span class="c1">// func:command.x2read_proc.x2read.StartRead</span>
<span class="linenos">8533</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">x2read_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2read_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8534</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">8535</span><span class="c1">// func:command.x2read_proc.x2read.Kill</span>
<span class="linenos">8536</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2read_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2read_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8537</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">8538</span><span class="c1">// func:command.x2read_proc.x2read.Wait</span>
<span class="linenos">8539</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2read_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2read_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8540</span><span class="c1">// Start + Wait</span>
<span class="linenos">8541</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">8542</span><span class="c1">// func:command.x2read_proc.x2read.Exec</span>
<span class="linenos">8543</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2read_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2read_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8544</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">8545</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">8546</span><span class="c1">// func:command.x2read_proc.x2read.ExecX</span>
<span class="linenos">8547</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2read_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2read_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8548</span><span class="c1">// Call execv()</span>
<span class="linenos">8549</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">8550</span><span class="c1">// func:command.x2read_proc.x2read.Execv</span>
<span class="linenos">8551</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2read_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2read_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8552</span><span class="c1">// func:command.x2read_proc.x2read.ToCmdline</span>
<span class="linenos">8553</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">x2read_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2read_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8554</span><span class="c1">// Form array from the command line</span>
<span class="linenos">8555</span><span class="c1">// func:command.x2read_proc.x2read.ToArgv</span>
<span class="linenos">8556</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2read_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2read_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8557</span>
<span class="linenos">8558</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">8559</span><span class="c1">// func:command.x2read_proc..Init</span>
<span class="linenos">8560</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2read_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2read_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8561</span><span class="c1">// func:command.x2read_proc..Uninit</span>
<span class="linenos">8562</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2read_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2read_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8563</span>
<span class="linenos">8564</span><span class="c1">// --- command.x2sup</span>
<span class="linenos">8565</span><span class="c1">// access: command.x2sup_proc.x2sup (Exec)</span>
<span class="linenos">8566</span><span class="k">struct</span><span class="w"> </span><span class="nc">x2sup</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.x2sup</span>
<span class="linenos">8567</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">in</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">8568</span><span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">i</span><span class="p">;</span><span class="w">    </span><span class="c1">//   false  Interactive (stdin/stdout) mode</span>
<span class="linenos">8569</span><span class="w">    </span><span class="n">x2sup</span><span class="p">();</span>
<span class="linenos">8570</span><span class="p">};</span>
<span class="linenos">8571</span>
<span class="linenos">8572</span><span class="c1">// func:command.x2sup..ReadFieldMaybe</span>
<span class="linenos">8573</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">x2sup_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2sup</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8574</span><span class="c1">// Read fields of command::x2sup from attributes of ascii tuple TUPLE</span>
<span class="linenos">8575</span><span class="c1">// func:command.x2sup..ReadTupleMaybe</span>
<span class="linenos">8576</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">x2sup_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2sup</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8577</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">8578</span><span class="c1">// func:command.x2sup..Init</span>
<span class="linenos">8579</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2sup_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2sup</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8580</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">8581</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">8582</span><span class="c1">// func:command.x2sup..ToCmdline</span>
<span class="linenos">8583</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">x2sup_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2sup</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8584</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">8585</span><span class="c1">// cfmt:command.x2sup.Argv  printfmt:Tuple</span>
<span class="linenos">8586</span><span class="c1">// func:command.x2sup..PrintArgv</span>
<span class="linenos">8587</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2sup_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2sup</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8588</span><span class="c1">// Used with command lines</span>
<span class="linenos">8589</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">8590</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">8591</span><span class="c1">// func:command.x2sup..NArgs</span>
<span class="linenos">8592</span><span class="n">i32</span><span class="w">                  </span><span class="nf">x2sup_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8593</span>
<span class="linenos">8594</span><span class="c1">// --- command.x2sup_proc</span>
<span class="linenos">8595</span><span class="k">struct</span><span class="w"> </span><span class="nc">x2sup_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.x2sup_proc: Subprocess: X2 - Supervisor</span>
<span class="linenos">8596</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/x2sup&quot;  path for executable</span>
<span class="linenos">8597</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">x2sup</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">8598</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">8599</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">8600</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">8601</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">            </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">8602</span><span class="w">    </span><span class="n">i32</span><span class="w">              </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">8603</span><span class="w">    </span><span class="n">i32</span><span class="w">              </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">8604</span><span class="w">    </span><span class="n">x2sup_proc</span><span class="p">();</span>
<span class="linenos">8605</span><span class="w">    </span><span class="o">~</span><span class="n">x2sup_proc</span><span class="p">();</span>
<span class="linenos">8606</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">8607</span><span class="w">    </span><span class="c1">// reftype Exec of command.x2sup_proc.x2sup prohibits copy</span>
<span class="linenos">8608</span><span class="w">    </span><span class="n">x2sup_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2sup_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">8609</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2sup_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">8610</span><span class="p">};</span>
<span class="linenos">8611</span>
<span class="linenos">8612</span><span class="c1">// Start subprocess</span>
<span class="linenos">8613</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">8614</span><span class="c1">// func:command.x2sup_proc.x2sup.Start</span>
<span class="linenos">8615</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2sup_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2sup_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8616</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">8617</span><span class="c1">// func:command.x2sup_proc.x2sup.StartRead</span>
<span class="linenos">8618</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">x2sup_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2sup_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8619</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">8620</span><span class="c1">// func:command.x2sup_proc.x2sup.Kill</span>
<span class="linenos">8621</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2sup_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2sup_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8622</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">8623</span><span class="c1">// func:command.x2sup_proc.x2sup.Wait</span>
<span class="linenos">8624</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2sup_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2sup_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8625</span><span class="c1">// Start + Wait</span>
<span class="linenos">8626</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">8627</span><span class="c1">// func:command.x2sup_proc.x2sup.Exec</span>
<span class="linenos">8628</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2sup_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2sup_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8629</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">8630</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">8631</span><span class="c1">// func:command.x2sup_proc.x2sup.ExecX</span>
<span class="linenos">8632</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2sup_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2sup_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8633</span><span class="c1">// Call execv()</span>
<span class="linenos">8634</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">8635</span><span class="c1">// func:command.x2sup_proc.x2sup.Execv</span>
<span class="linenos">8636</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2sup_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2sup_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8637</span><span class="c1">// func:command.x2sup_proc.x2sup.ToCmdline</span>
<span class="linenos">8638</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">x2sup_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2sup_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8639</span><span class="c1">// Form array from the command line</span>
<span class="linenos">8640</span><span class="c1">// func:command.x2sup_proc.x2sup.ToArgv</span>
<span class="linenos">8641</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2sup_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2sup_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8642</span>
<span class="linenos">8643</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">8644</span><span class="c1">// func:command.x2sup_proc..Init</span>
<span class="linenos">8645</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2sup_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2sup_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8646</span><span class="c1">// func:command.x2sup_proc..Uninit</span>
<span class="linenos">8647</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2sup_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2sup_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8648</span>
<span class="linenos">8649</span><span class="c1">// --- command.x2txn</span>
<span class="linenos">8650</span><span class="c1">// access: command.x2txn_proc.x2txn (Exec)</span>
<span class="linenos">8651</span><span class="k">struct</span><span class="w"> </span><span class="nc">x2txn</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.x2txn</span>
<span class="linenos">8652</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">in</span><span class="p">;</span><span class="w">       </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">8653</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">prefix</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;&quot;  Prefix for all stream files</span>
<span class="linenos">8654</span><span class="w">    </span><span class="n">x2txn</span><span class="p">();</span>
<span class="linenos">8655</span><span class="p">};</span>
<span class="linenos">8656</span>
<span class="linenos">8657</span><span class="c1">// func:command.x2txn..ReadFieldMaybe</span>
<span class="linenos">8658</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">x2txn_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2txn</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8659</span><span class="c1">// Read fields of command::x2txn from attributes of ascii tuple TUPLE</span>
<span class="linenos">8660</span><span class="c1">// func:command.x2txn..ReadTupleMaybe</span>
<span class="linenos">8661</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">x2txn_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2txn</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8662</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">8663</span><span class="c1">// func:command.x2txn..Init</span>
<span class="linenos">8664</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2txn_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2txn</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8665</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">8666</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">8667</span><span class="c1">// func:command.x2txn..ToCmdline</span>
<span class="linenos">8668</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">x2txn_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2txn</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8669</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">8670</span><span class="c1">// cfmt:command.x2txn.Argv  printfmt:Tuple</span>
<span class="linenos">8671</span><span class="c1">// func:command.x2txn..PrintArgv</span>
<span class="linenos">8672</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2txn_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2txn</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8673</span><span class="c1">// Used with command lines</span>
<span class="linenos">8674</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">8675</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">8676</span><span class="c1">// func:command.x2txn..NArgs</span>
<span class="linenos">8677</span><span class="n">i32</span><span class="w">                  </span><span class="nf">x2txn_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8678</span>
<span class="linenos">8679</span><span class="c1">// --- command.x2txn_proc</span>
<span class="linenos">8680</span><span class="k">struct</span><span class="w"> </span><span class="nc">x2txn_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.x2txn_proc: Subprocess: X2 - Transaction</span>
<span class="linenos">8681</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/x2txn&quot;  path for executable</span>
<span class="linenos">8682</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">x2txn</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">8683</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">8684</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">8685</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">    </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">8686</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">            </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">8687</span><span class="w">    </span><span class="n">i32</span><span class="w">              </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">8688</span><span class="w">    </span><span class="n">i32</span><span class="w">              </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">8689</span><span class="w">    </span><span class="n">x2txn_proc</span><span class="p">();</span>
<span class="linenos">8690</span><span class="w">    </span><span class="o">~</span><span class="n">x2txn_proc</span><span class="p">();</span>
<span class="linenos">8691</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">8692</span><span class="w">    </span><span class="c1">// reftype Exec of command.x2txn_proc.x2txn prohibits copy</span>
<span class="linenos">8693</span><span class="w">    </span><span class="n">x2txn_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2txn_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">8694</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2txn_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">8695</span><span class="p">};</span>
<span class="linenos">8696</span>
<span class="linenos">8697</span><span class="c1">// Start subprocess</span>
<span class="linenos">8698</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">8699</span><span class="c1">// func:command.x2txn_proc.x2txn.Start</span>
<span class="linenos">8700</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2txn_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2txn_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8701</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">8702</span><span class="c1">// func:command.x2txn_proc.x2txn.StartRead</span>
<span class="linenos">8703</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">x2txn_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2txn_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8704</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">8705</span><span class="c1">// func:command.x2txn_proc.x2txn.Kill</span>
<span class="linenos">8706</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2txn_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2txn_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8707</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">8708</span><span class="c1">// func:command.x2txn_proc.x2txn.Wait</span>
<span class="linenos">8709</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2txn_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2txn_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8710</span><span class="c1">// Start + Wait</span>
<span class="linenos">8711</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">8712</span><span class="c1">// func:command.x2txn_proc.x2txn.Exec</span>
<span class="linenos">8713</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2txn_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2txn_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8714</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">8715</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">8716</span><span class="c1">// func:command.x2txn_proc.x2txn.ExecX</span>
<span class="linenos">8717</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2txn_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2txn_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8718</span><span class="c1">// Call execv()</span>
<span class="linenos">8719</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">8720</span><span class="c1">// func:command.x2txn_proc.x2txn.Execv</span>
<span class="linenos">8721</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2txn_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2txn_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8722</span><span class="c1">// func:command.x2txn_proc.x2txn.ToCmdline</span>
<span class="linenos">8723</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">x2txn_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2txn_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8724</span><span class="c1">// Form array from the command line</span>
<span class="linenos">8725</span><span class="c1">// func:command.x2txn_proc.x2txn.ToArgv</span>
<span class="linenos">8726</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2txn_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2txn_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8727</span>
<span class="linenos">8728</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">8729</span><span class="c1">// func:command.x2txn_proc..Init</span>
<span class="linenos">8730</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2txn_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2txn_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8731</span><span class="c1">// func:command.x2txn_proc..Uninit</span>
<span class="linenos">8732</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2txn_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2txn_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8733</span>
<span class="linenos">8734</span><span class="c1">// --- command.x2write</span>
<span class="linenos">8735</span><span class="c1">// access: command.x2write_proc.x2write (Exec)</span>
<span class="linenos">8736</span><span class="k">struct</span><span class="w"> </span><span class="nc">x2write</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.x2write</span>
<span class="linenos">8737</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">   </span><span class="n">in</span><span class="p">;</span><span class="w">   </span><span class="c1">//   &quot;data&quot;  Input directory or filename, - for stdin</span>
<span class="linenos">8738</span><span class="w">    </span><span class="n">ietf</span><span class="o">::</span><span class="n">Ipport</span><span class="w">    </span><span class="n">gw</span><span class="p">;</span><span class="w">   </span><span class="c1">//</span>
<span class="linenos">8739</span><span class="w">    </span><span class="n">x2write</span><span class="p">();</span>
<span class="linenos">8740</span><span class="p">};</span>
<span class="linenos">8741</span>
<span class="linenos">8742</span><span class="c1">// func:command.x2write..ReadFieldMaybe</span>
<span class="linenos">8743</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">x2write_ReadFieldMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2write</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">strval</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8744</span><span class="c1">// Read fields of command::x2write from attributes of ascii tuple TUPLE</span>
<span class="linenos">8745</span><span class="c1">// func:command.x2write..ReadTupleMaybe</span>
<span class="linenos">8746</span><span class="kt">bool</span><span class="w">                 </span><span class="nf">x2write_ReadTupleMaybe</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2write</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8747</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">8748</span><span class="c1">// func:command.x2write..Init</span>
<span class="linenos">8749</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2write_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2write</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8750</span><span class="c1">// Convenience function that returns a full command line</span>
<span class="linenos">8751</span><span class="c1">// Assume command is in a directory called bin</span>
<span class="linenos">8752</span><span class="c1">// func:command.x2write..ToCmdline</span>
<span class="linenos">8753</span><span class="n">tempstr</span><span class="w">              </span><span class="nf">x2write_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2write</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8754</span><span class="c1">// print string representation of ROW to string STR</span>
<span class="linenos">8755</span><span class="c1">// cfmt:command.x2write.Argv  printfmt:Tuple</span>
<span class="linenos">8756</span><span class="c1">// func:command.x2write..PrintArgv</span>
<span class="linenos">8757</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2write_PrintArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2write</span><span class="o">&amp;</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8758</span><span class="c1">// Used with command lines</span>
<span class="linenos">8759</span><span class="c1">// Return # of command-line arguments that must follow this argument</span>
<span class="linenos">8760</span><span class="c1">// If FIELD is invalid, return -1</span>
<span class="linenos">8761</span><span class="c1">// func:command.x2write..NArgs</span>
<span class="linenos">8762</span><span class="n">i32</span><span class="w">                  </span><span class="nf">x2write_NArgs</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out_dflt</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">out_anon</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8763</span>
<span class="linenos">8764</span><span class="c1">// --- command.x2write_proc</span>
<span class="linenos">8765</span><span class="k">struct</span><span class="w"> </span><span class="nc">x2write_proc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// command.x2write_proc: Subprocess: X2 - Write client</span>
<span class="linenos">8766</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">path</span><span class="p">;</span><span class="w">      </span><span class="c1">//   &quot;bin/x2write&quot;  path for executable</span>
<span class="linenos">8767</span><span class="w">    </span><span class="n">command</span><span class="o">::</span><span class="n">x2write</span><span class="w">   </span><span class="n">cmd</span><span class="p">;</span><span class="w">       </span><span class="c1">// command line for child process</span>
<span class="linenos">8768</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdin</span><span class="p">;</span><span class="w">    </span><span class="c1">// redirect for stdin</span>
<span class="linenos">8769</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstdout</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stdout</span>
<span class="linenos">8770</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w">      </span><span class="n">fstderr</span><span class="p">;</span><span class="w">   </span><span class="c1">// redirect for stderr</span>
<span class="linenos">8771</span><span class="w">    </span><span class="kt">pid_t</span><span class="w">              </span><span class="n">pid</span><span class="p">;</span><span class="w">       </span><span class="c1">//   0  pid of running child process</span>
<span class="linenos">8772</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">timeout</span><span class="p">;</span><span class="w">   </span><span class="c1">//   0  optional timeout for child process</span>
<span class="linenos">8773</span><span class="w">    </span><span class="n">i32</span><span class="w">                </span><span class="n">status</span><span class="p">;</span><span class="w">    </span><span class="c1">//   0  last exit status of child process</span>
<span class="linenos">8774</span><span class="w">    </span><span class="n">x2write_proc</span><span class="p">();</span>
<span class="linenos">8775</span><span class="w">    </span><span class="o">~</span><span class="n">x2write_proc</span><span class="p">();</span>
<span class="linenos">8776</span><span class="k">private</span><span class="o">:</span>
<span class="linenos">8777</span><span class="w">    </span><span class="c1">// reftype Exec of command.x2write_proc.x2write prohibits copy</span>
<span class="linenos">8778</span><span class="w">    </span><span class="n">x2write_proc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2write_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow copy constructor */</span><span class="p">}</span>
<span class="linenos">8779</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">x2write_proc</span><span class="o">&amp;</span><span class="p">){</span><span class="w"> </span><span class="cm">/*disallow direct assignment */</span><span class="p">}</span>
<span class="linenos">8780</span><span class="p">};</span>
<span class="linenos">8781</span>
<span class="linenos">8782</span><span class="c1">// Start subprocess</span>
<span class="linenos">8783</span><span class="c1">// If subprocess already running, do nothing. Otherwise, start it</span>
<span class="linenos">8784</span><span class="c1">// func:command.x2write_proc.x2write.Start</span>
<span class="linenos">8785</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2write_Start</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2write_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8786</span><span class="c1">// Start subprocess &amp; Read output</span>
<span class="linenos">8787</span><span class="c1">// func:command.x2write_proc.x2write.StartRead</span>
<span class="linenos">8788</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w">         </span><span class="nf">x2write_StartRead</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2write_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8789</span><span class="c1">// Kill subprocess and wait</span>
<span class="linenos">8790</span><span class="c1">// func:command.x2write_proc.x2write.Kill</span>
<span class="linenos">8791</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2write_Kill</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2write_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8792</span><span class="c1">// Wait for subprocess to return</span>
<span class="linenos">8793</span><span class="c1">// func:command.x2write_proc.x2write.Wait</span>
<span class="linenos">8794</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2write_Wait</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2write_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8795</span><span class="c1">// Start + Wait</span>
<span class="linenos">8796</span><span class="c1">// Execute subprocess and return exit code</span>
<span class="linenos">8797</span><span class="c1">// func:command.x2write_proc.x2write.Exec</span>
<span class="linenos">8798</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2write_Exec</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2write_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8799</span><span class="c1">// Start + Wait, throw exception on error</span>
<span class="linenos">8800</span><span class="c1">// Execute subprocess; throw human-readable exception on error</span>
<span class="linenos">8801</span><span class="c1">// func:command.x2write_proc.x2write.ExecX</span>
<span class="linenos">8802</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2write_ExecX</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2write_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8803</span><span class="c1">// Call execv()</span>
<span class="linenos">8804</span><span class="c1">// Call execv with specified parameters</span>
<span class="linenos">8805</span><span class="c1">// func:command.x2write_proc.x2write.Execv</span>
<span class="linenos">8806</span><span class="kt">int</span><span class="w">                  </span><span class="nf">x2write_Execv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2write_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8807</span><span class="c1">// func:command.x2write_proc.x2write.ToCmdline</span>
<span class="linenos">8808</span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="w">        </span><span class="nf">x2write_ToCmdline</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2write_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8809</span><span class="c1">// Form array from the command line</span>
<span class="linenos">8810</span><span class="c1">// func:command.x2write_proc.x2write.ToArgv</span>
<span class="linenos">8811</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2write_ToArgv</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2write_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringAry</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8812</span>
<span class="linenos">8813</span><span class="c1">// Set all fields to initial values.</span>
<span class="linenos">8814</span><span class="c1">// func:command.x2write_proc..Init</span>
<span class="linenos">8815</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2write_proc_Init</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2write_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">);</span>
<span class="linenos">8816</span><span class="c1">// func:command.x2write_proc..Uninit</span>
<span class="linenos">8817</span><span class="kt">void</span><span class="w">                 </span><span class="nf">x2write_proc_Uninit</span><span class="p">(</span><span class="n">command</span><span class="o">::</span><span class="n">x2write_proc</span><span class="o">&amp;</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">nothrow</span><span class="p">));</span>
<span class="linenos">8818</span><span class="p">}</span><span class="w"> </span><span class="c1">// gen:ns_print_struct</span>
<span class="linenos">8819</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// gen:ns_curstext</span>
<span class="linenos">8820</span>
<span class="linenos">8821</span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_where_curs</span><span class="w"> </span><span class="p">{</span><span class="c1">// cursor</span>
<span class="linenos">8822</span><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="n">ChildType</span><span class="p">;</span>
<span class="linenos">8823</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w"> </span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">8824</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">8825</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<span class="linenos">8826</span><span class="w">    </span><span class="n">acr_where_curs</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">elems</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="n">n_elems</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos">8827</span><span class="p">};</span>
<span class="linenos">8828</span>
<span class="linenos">8829</span>
<span class="linenos">8830</span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_field_curs</span><span class="w"> </span><span class="p">{</span><span class="c1">// cursor</span>
<span class="linenos">8831</span><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="n">ChildType</span><span class="p">;</span>
<span class="linenos">8832</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w"> </span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">8833</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">8834</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<span class="linenos">8835</span><span class="w">    </span><span class="n">acr_field_curs</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">elems</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="n">n_elems</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos">8836</span><span class="p">};</span>
<span class="linenos">8837</span>
<span class="linenos">8838</span>
<span class="linenos">8839</span><span class="k">struct</span><span class="w"> </span><span class="nc">acr_dm_arg_curs</span><span class="w"> </span><span class="p">{</span><span class="c1">// cursor</span>
<span class="linenos">8840</span><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="n">ChildType</span><span class="p">;</span>
<span class="linenos">8841</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w"> </span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">8842</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">8843</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<span class="linenos">8844</span><span class="w">    </span><span class="n">acr_dm_arg_curs</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">elems</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="n">n_elems</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos">8845</span><span class="p">};</span>
<span class="linenos">8846</span>
<span class="linenos">8847</span>
<span class="linenos">8848</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_cmdline_mstr_curs</span><span class="w"> </span><span class="p">{</span><span class="c1">// cursor</span>
<span class="linenos">8849</span><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="n">ChildType</span><span class="p">;</span>
<span class="linenos">8850</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w"> </span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">8851</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">8852</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<span class="linenos">8853</span><span class="w">    </span><span class="n">atf_cmdline_mstr_curs</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">elems</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="n">n_elems</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos">8854</span><span class="p">};</span>
<span class="linenos">8855</span>
<span class="linenos">8856</span>
<span class="linenos">8857</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_cmdline_mnum_curs</span><span class="w"> </span><span class="p">{</span><span class="c1">// cursor</span>
<span class="linenos">8858</span><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">ChildType</span><span class="p">;</span>
<span class="linenos">8859</span><span class="w">    </span><span class="n">i32</span><span class="o">*</span><span class="w"> </span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">8860</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">8861</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<span class="linenos">8862</span><span class="w">    </span><span class="n">atf_cmdline_mnum_curs</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">elems</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="n">n_elems</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos">8863</span><span class="p">};</span>
<span class="linenos">8864</span>
<span class="linenos">8865</span>
<span class="linenos">8866</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_cmdline_mdbl_curs</span><span class="w"> </span><span class="p">{</span><span class="c1">// cursor</span>
<span class="linenos">8867</span><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">ChildType</span><span class="p">;</span>
<span class="linenos">8868</span><span class="w">    </span><span class="kt">double</span><span class="o">*</span><span class="w"> </span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">8869</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">8870</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<span class="linenos">8871</span><span class="w">    </span><span class="n">atf_cmdline_mdbl_curs</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">elems</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="n">n_elems</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos">8872</span><span class="p">};</span>
<span class="linenos">8873</span>
<span class="linenos">8874</span>
<span class="linenos">8875</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_cmdline_amnum_curs</span><span class="w"> </span><span class="p">{</span><span class="c1">// cursor</span>
<span class="linenos">8876</span><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">ChildType</span><span class="p">;</span>
<span class="linenos">8877</span><span class="w">    </span><span class="n">i32</span><span class="o">*</span><span class="w"> </span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">8878</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">8879</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<span class="linenos">8880</span><span class="w">    </span><span class="n">atf_cmdline_amnum_curs</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">elems</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="n">n_elems</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos">8881</span><span class="p">};</span>
<span class="linenos">8882</span>
<span class="linenos">8883</span>
<span class="linenos">8884</span><span class="k">struct</span><span class="w"> </span><span class="nc">atf_wcli_wiki_update_fields_curs</span><span class="w"> </span><span class="p">{</span><span class="c1">// cursor</span>
<span class="linenos">8885</span><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="n">ChildType</span><span class="p">;</span>
<span class="linenos">8886</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w"> </span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">8887</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">8888</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<span class="linenos">8889</span><span class="w">    </span><span class="n">atf_wcli_wiki_update_fields_curs</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">elems</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="n">n_elems</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos">8890</span><span class="p">};</span>
<span class="linenos">8891</span>
<span class="linenos">8892</span>
<span class="linenos">8893</span><span class="k">struct</span><span class="w"> </span><span class="nc">gcache_cmd_curs</span><span class="w"> </span><span class="p">{</span><span class="c1">// cursor</span>
<span class="linenos">8894</span><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="n">ChildType</span><span class="p">;</span>
<span class="linenos">8895</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w"> </span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">8896</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">8897</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<span class="linenos">8898</span><span class="w">    </span><span class="n">gcache_cmd_curs</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">elems</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="n">n_elems</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos">8899</span><span class="p">};</span>
<span class="linenos">8900</span>
<span class="linenos">8901</span>
<span class="linenos">8902</span><span class="k">struct</span><span class="w"> </span><span class="nc">gcli_fields_curs</span><span class="w"> </span><span class="p">{</span><span class="c1">// cursor</span>
<span class="linenos">8903</span><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="n">ChildType</span><span class="p">;</span>
<span class="linenos">8904</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w"> </span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">8905</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">8906</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<span class="linenos">8907</span><span class="w">    </span><span class="n">gcli_fields_curs</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">elems</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="n">n_elems</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos">8908</span><span class="p">};</span>
<span class="linenos">8909</span>
<span class="linenos">8910</span>
<span class="linenos">8911</span><span class="k">struct</span><span class="w"> </span><span class="nc">mdbg_args_curs</span><span class="w"> </span><span class="p">{</span><span class="c1">// cursor</span>
<span class="linenos">8912</span><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="n">ChildType</span><span class="p">;</span>
<span class="linenos">8913</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w"> </span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">8914</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">8915</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<span class="linenos">8916</span><span class="w">    </span><span class="n">mdbg_args_curs</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">elems</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="n">n_elems</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos">8917</span><span class="p">};</span>
<span class="linenos">8918</span>
<span class="linenos">8919</span>
<span class="linenos">8920</span><span class="k">struct</span><span class="w"> </span><span class="nc">mdbg_b_curs</span><span class="w"> </span><span class="p">{</span><span class="c1">// cursor</span>
<span class="linenos">8921</span><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="n">ChildType</span><span class="p">;</span>
<span class="linenos">8922</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w"> </span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">8923</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">8924</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<span class="linenos">8925</span><span class="w">    </span><span class="n">mdbg_b_curs</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">elems</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="n">n_elems</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos">8926</span><span class="p">};</span>
<span class="linenos">8927</span>
<span class="linenos">8928</span>
<span class="linenos">8929</span><span class="k">struct</span><span class="w"> </span><span class="nc">sandbox_cmd_curs</span><span class="w"> </span><span class="p">{</span><span class="c1">// cursor</span>
<span class="linenos">8930</span><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="n">ChildType</span><span class="p">;</span>
<span class="linenos">8931</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w"> </span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">8932</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">8933</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<span class="linenos">8934</span><span class="w">    </span><span class="n">sandbox_cmd_curs</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">elems</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="n">n_elems</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos">8935</span><span class="p">};</span>
<span class="linenos">8936</span>
<span class="linenos">8937</span>
<span class="linenos">8938</span><span class="k">struct</span><span class="w"> </span><span class="nc">sandbox_files_curs</span><span class="w"> </span><span class="p">{</span><span class="c1">// cursor</span>
<span class="linenos">8939</span><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="n">ChildType</span><span class="p">;</span>
<span class="linenos">8940</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w"> </span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">8941</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">8942</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<span class="linenos">8943</span><span class="w">    </span><span class="n">sandbox_files_curs</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">elems</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="n">n_elems</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos">8944</span><span class="p">};</span>
<span class="linenos">8945</span>
<span class="linenos">8946</span>
<span class="linenos">8947</span><span class="k">struct</span><span class="w"> </span><span class="nc">ssimfilt_match_curs</span><span class="w"> </span><span class="p">{</span><span class="c1">// cursor</span>
<span class="linenos">8948</span><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="n">ChildType</span><span class="p">;</span>
<span class="linenos">8949</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w"> </span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">8950</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">8951</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<span class="linenos">8952</span><span class="w">    </span><span class="n">ssimfilt_match_curs</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">elems</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="n">n_elems</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos">8953</span><span class="p">};</span>
<span class="linenos">8954</span>
<span class="linenos">8955</span>
<span class="linenos">8956</span><span class="k">struct</span><span class="w"> </span><span class="nc">ssimfilt_field_curs</span><span class="w"> </span><span class="p">{</span><span class="c1">// cursor</span>
<span class="linenos">8957</span><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="n">ChildType</span><span class="p">;</span>
<span class="linenos">8958</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w"> </span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">8959</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">8960</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<span class="linenos">8961</span><span class="w">    </span><span class="n">ssimfilt_field_curs</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">elems</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="n">n_elems</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos">8962</span><span class="p">};</span>
<span class="linenos">8963</span>
<span class="linenos">8964</span>
<span class="linenos">8965</span><span class="k">struct</span><span class="w"> </span><span class="nc">wcli_fields_curs</span><span class="w"> </span><span class="p">{</span><span class="c1">// cursor</span>
<span class="linenos">8966</span><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="n">ChildType</span><span class="p">;</span>
<span class="linenos">8967</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">*</span><span class="w"> </span><span class="n">elems</span><span class="p">;</span>
<span class="linenos">8968</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n_elems</span><span class="p">;</span>
<span class="linenos">8969</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<span class="linenos">8970</span><span class="w">    </span><span class="n">wcli_fields_curs</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">elems</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="n">n_elems</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos">8971</span><span class="p">};</span>
<span class="linenos">8972</span>
<span class="linenos">8973</span><span class="p">}</span><span class="w"> </span><span class="c1">// gen:ns_curstext</span>
<span class="linenos">8974</span><span class="k">namespace</span><span class="w"> </span><span class="nn">command</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// gen:ns_func</span>
<span class="linenos">8975</span><span class="c1">// func:command...StaticCheck</span>
<span class="linenos">8976</span><span class="kt">void</span><span class="w">                 </span><span class="nf">StaticCheck</span><span class="p">();</span>
<span class="linenos">8977</span><span class="p">}</span><span class="w"> </span><span class="c1">// gen:ns_func</span>
<span class="linenos">8978</span><span class="c1">// gen:ns_operators</span>
<span class="linenos">8979</span><span class="k">namespace</span><span class="w"> </span><span class="nn">algo</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">8980</span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="k">operator</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">FieldId</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="p">);</span><span class="c1">// cfmt:command.FieldId.String</span>
<span class="linenos">8981</span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="k">operator</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">acr_compl</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="p">);</span><span class="c1">// cfmt:command.acr_compl.String</span>
<span class="linenos">8982</span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="k">operator</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">dcli_ed</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="p">);</span><span class="c1">// cfmt:command.dcli_ed.String</span>
<span class="linenos">8983</span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="k">operator</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">command</span><span class="o">::</span><span class="n">gcache</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="p">);</span><span class="c1">// cfmt:command.gcache.String</span>
<span class="linenos">8984</span><span class="p">}</span>
</pre></div>
</div>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, AlgoRND
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on Apr 25, 2024</div>
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="algornd/arnd.313/-/commit/f8df17b9ffe2ee281b418863917c6ef10eaf02fa" aria-label="gitlab"><p style="font-family: Courier, monospace; font-size:12px; "> commit:2024-04-25.f8df17b9 </p></a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/scripts/furo.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    </body>
</html>