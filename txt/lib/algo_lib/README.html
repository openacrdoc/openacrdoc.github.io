<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="lib_amcdb - Library used by amc" href="../lib_amcdb/README.html" /><link rel="prev" title="Libraries" href="../README.html" />

    <!-- Generated with Sphinx 6.2.1 and Furo 2024.01.29 -->
        <title>algo_lib - Support library for all executables - Openacr Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?digest=369552022d0b975c8e74270ce6eabe0fb7978f24" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --sidebar-item-spacing-horizontal: 1.0rem;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --sidebar-item-spacing-horizontal: 1.0rem;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --sidebar-item-spacing-horizontal: 1.0rem;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">Openacr Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  
  <span class="sidebar-brand-text">Openacr Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../intro/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../start/setup.html">Setup And Installation</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../fun/README.html">Fundamentals</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Fundamentals</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../fun/cpp/README.html">C++ integration</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of C++ integration</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../fun/cpp/coding-style.html">Coding Style</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../fun/cpp/fun_06.html">C++ target</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../fun/cpp/intro.html">AMC Intro</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../fun/ssim/README.html">Ssimfiles for Information Management</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Ssimfiles for Information Management</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../fun/ssim/fun_01.html"><strong>ssim</strong> tuples and <strong>ssimfiles</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../fun/ssim/fun_02.html"><strong>ssim</strong> tuples and SQL Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../fun/ssim/fun_03.html"><strong>fldfunc fields</strong> in <strong>ssim</strong> tuples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../fun/ssim/fun_04.html"><strong>ssimfile</strong> cross-references</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../fun/ssim/fun_05.html">Information Management Insights</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../recipe/README.html">Recipes</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Recipes</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../recipe/cpp/README.html">C++</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of C++</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../recipe/cpp/recipe_04.html">How to create C++ <strong>target</strong></a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../recipe/ssim/README.html">Ssimfiles</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Ssimfiles</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../recipe/ssim/recipe_01.html">How to define a new ssimfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../recipe/ssim/recipe_02.html">How to edit an existing ssimfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../recipe/ssim/recipe_03.html">How to display an existing ssimfile</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../tut/README.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tut/tut1.html">Tutorial 1: Parts And Projects Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tut/tut2.html">Tutorial 2: Parts And Projects in SQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tut/tut3.html">Tutorial 3: Scheduling And Main Loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tut/tut4.html">Tutorial 4: Command Lines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tut/tut5.html">Tutorial 5: Running multiple subprocesses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tut/tut6.html">Iohook &amp; Fbuf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tut/tut7.html">Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tut/tut8.html">tut8 - ACR live tutorial</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../ssimdb/README.html">Ssim Databases</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Ssim Databases</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ssimdb/amcdb/README.html">amcdb - Algo Model Compiler support tables</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of amcdb - Algo Model Compiler support tables</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/amcdb/bltin.html">amcdb.bltin - Specify properties of a C built-in type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/amcdb/curstype.html">amcdb.curstype - Cursor type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/amcdb/gen.html">amcdb.gen -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/amcdb/regxtype.html">amcdb.regxtype -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/amcdb/tclass.html">amcdb.tclass - AMC template class</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/amcdb/tcurs.html">amcdb.tcurs - Cursor template</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/amcdb/tfunc.html">amcdb.tfunc - AMC template function</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ssimdb/amsdb/README.html">amsdb - AMS configuration (ssim database)</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of amsdb - AMS configuration (ssim database)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/amsdb/proctype.html">amsdb.proctype -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/amsdb/streamtype.html">amsdb.streamtype -</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ssimdb/atfdb/README.html">atfdb - Support tables for testing</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of atfdb - Support tables for testing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/atfdb/amctest.html">atfdb.amctest -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/atfdb/cijob.html">atfdb.cijob -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/atfdb/cipackage.html">atfdb.cipackage -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/atfdb/citest.html">atfdb.citest -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/atfdb/comptest.html">atfdb.comptest -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/atfdb/fuzzstrat.html">atfdb.fuzzstrat -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/atfdb/msgdir.html">atfdb.msgdir -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/atfdb/targs.html">atfdb.targs -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/atfdb/test_gsymbol_char.html">atfdb.test_gsymbol_char -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/atfdb/test_gsymbol_pkey.html">atfdb.test_gsymbol_pkey -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/atfdb/test_gsymbol_strptr.html">atfdb.test_gsymbol_strptr -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/atfdb/tfilt.html">atfdb.tfilt -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/atfdb/tmsg.html">atfdb.tmsg -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/atfdb/unittest.html">atfdb.unittest -</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ssimdb/dclidb/README.html">dclidb - docker db</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of dclidb - docker db</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dclidb/dclicmd.html">dclidb.dclicmd -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dclidb/dclicmdsel.html">dclidb.dclicmdsel -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dclidb/dclicmdstep.html">dclidb.dclicmdstep -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dclidb/dclisel.html">dclidb.dclisel -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dclidb/dctr.html">dclidb.dctr - Container</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dclidb/dctrhost.html">dclidb.dctrhost - Container/host</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dclidb/dctrua.html">dclidb.dctrua - User attribute</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dclidb/dhost.html">dclidb.dhost - Host</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dclidb/duascript.html">dclidb.duascript - Script type (step in preparation of container)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dclidb/duascriptstep.html">dclidb.duascriptstep - Script step ordering</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ssimdb/dev/README.html">dev - Tables supporting compilation of programs</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of dev - Tables supporting compilation of programs</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/arch.html">dev.arch - System architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/badline.html">dev.badline - Regex of a dubious source code line</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/builddir.html">dev.builddir - Directory where object files/executables go. Determines compile/link options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/cfg.html">dev.cfg - Compiler configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/compiler.html">dev.compiler - One of the known compilers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/copyright.html">dev.copyright - Copyrighting entity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/covfile.html">dev.covfile -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/covline.html">dev.covline -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/covtarget.html">dev.covtarget -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/edaction.html">dev.edaction - acr_ed editing action (only one can exist at a time)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/edacttype.html">dev.edacttype - acr_ed editing action type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/gitfile.html">dev.gitfile - File managed by git</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/gitinfo.html">dev.gitinfo -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/hilite.html">dev.hilite - Mapping of perl regx-&gt;hilite pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/htmlentity.html">dev.htmlentity - Known HTML entity strings &amp; codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/include.html">dev.include - A site where one file includes another</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/license.html">dev.license - Source code license</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/linelim.html">dev.linelim -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/mdsection.html">dev.mdsection - Template for updating a markdown file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/msgfile.html">dev.msgfile - File in repo containing messages that should be normalized during CI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/noindent.html">dev.noindent - Indicates that a file should not be automatically indented</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/opt_type.html">dev.opt_type - Type of option (used in tool_opt)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/package.html">dev.package - OpenACR package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/pkgdep.html">dev.pkgdep - OpenACR Package dependency</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/pkgkey.html">dev.pkgkey - Keys belonging to the OpenACR package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/readme.html">dev.readme - File containing documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/readmecat.html">dev.readmecat - sorted categories of txt/ *.md files presented in dev.readme</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/sandbox.html">dev.sandbox - Registered sandbox</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/sbpath.html">dev.sbpath - Extra files to copy into the sandbox</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/scriptfile.html">dev.scriptfile - Known script file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/srcfile.html">dev.srcfile - Source file or header (key is pathname)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/syscmd.html">dev.syscmd - System command to execute</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/syscmddep.html">dev.syscmddep - Dependency between two commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/syslib.html">dev.syslib - Registered system library</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/targdep.html">dev.targdep - Dependency between targets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/target.html">dev.target - Build target</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/targsrc.html">dev.targsrc - List of sources for target</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/targsyslib.html">dev.targsyslib - Use of system library by target</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/tgtcov.html">dev.tgtcov - Captured line coverate information by target</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/timefmt.html">dev.timefmt - Time formats supported by orgfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/tool_opt.html">dev.tool_opt - Compiler/linker options to use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/uname.html">dev.uname - List of known unames</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dev/unstablefld.html">dev.unstablefld - Fields that should be stripped from component test output because they contain timestamps etc.</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ssimdb/dmmeta/README.html">dmmeta - Tables holding metadata (data model meta)</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of dmmeta - Tables holding metadata (data model meta)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/anonfld.html">dmmeta.anonfld - Omit field name where possible (command line, enums, constants)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/argvtype.html">dmmeta.argvtype - Customize parsing of command lines (rarely used)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/basepool.html">dmmeta.basepool - Specify pool to be used for allocating elements of a type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/bitfld.html">dmmeta.bitfld - Specify offset/width of a bitfield within another field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/cafter.html">dmmeta.cafter - Control amc processing order for unrelated types (used in rare situations)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/cascdel.html">dmmeta.cascdel - Request cascading delete of referenced rows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/ccmp.html">dmmeta.ccmp - Generate hash function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/cdflt.html">dmmeta.cdflt - Specify default value for single-value types that lack fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/cextern.html">dmmeta.cextern - Externally defined ctype (a struct from system header, or from a c++ library)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/cfast.html">dmmeta.cfast - FAST properties for ctype</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/cfmt.html">dmmeta.cfmt - Specify options for printing/reading ctypes into multiple formats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/cget.html">dmmeta.cget - Generate state functions for these ctypes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/charset.html">dmmeta.charset - Generate functions to determine if a character is a member of a set</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/chash.html">dmmeta.chash - Generate hash function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/cppfunc.html">dmmeta.cppfunc - Value of field provided by this expression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/cppkeyword.html">dmmeta.cppkeyword - Built-in C++ keyword</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/cpptype.html">dmmeta.cpptype - Specify whether a ctype can be passed by value, and other c++ options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/csize.html">dmmeta.csize - Specify size/alignment for built-in C++ types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/cstr.html">dmmeta.cstr - Specify that type behaves like a string</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html">dmmeta.ctype - Struct</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/ctypelen.html">dmmeta.ctypelen - Size of Ctype</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/dispatch.html">dmmeta.dispatch - Generate code for a multi-way branch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/dispatch_msg.html">dmmeta.dispatch_msg - Add message to a dispatch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/dispctx.html">dmmeta.dispctx - Use context with dispatch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/dispfilter.html">dmmeta.dispfilter - Generate filter function on dispatch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/dispsig.html">dmmeta.dispsig - Cryptographic signature of all dispatches</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/dispsigcheck.html">dmmeta.dispsigcheck - Check signature of input data against executable’s version</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/disptrace.html">dmmeta.disptrace - Generate trace fields (cycles, counts) for all dispatch branches</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/falias.html">dmmeta.falias - Alias field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fastenc.html">dmmeta.fastenc -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fastinstr.html">dmmeta.fastinstr -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fastop.html">dmmeta.fastop -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fbase.html">dmmeta.fbase - Customize imported Base fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fbigend.html">dmmeta.fbigend - Annotate field as having big-endian storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fbitset.html">dmmeta.fbitset - Generate bitset functions over integer field or array</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fbuf.html">dmmeta.fbuf - Buffer for reading/writing messages, works with Iohook</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fbufdir.html">dmmeta.fbufdir - Buffer direction (in,out)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fbuftype.html">dmmeta.fbuftype - Buffer type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fcast.html">dmmeta.fcast - Generate implicit conversion from field to c++ expression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fcleanup.html">dmmeta.fcleanup - Request user-implemented function to be called at Uninit time for a field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fcmap.html">dmmeta.fcmap - Bidirectional mapping between fconst values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fcmdline.html">dmmeta.fcmdline - Annotate field that holds process command line</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fcmp.html">dmmeta.fcmp - Request versionsort or case-insensitive sort for field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fcompact.html">dmmeta.fcompact - Request compaction upon removal from index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fconst.html">dmmeta.fconst - Specify enum value (integer + string constant) for a field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fcurs.html">dmmeta.fcurs - Request generation of custom cursor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fdec.html">dmmeta.fdec - Specify that field has an implied # of decimal places and specify formatting options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fdelay.html">dmmeta.fdelay - Control elapsed time between execution of a step</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/ffast.html">dmmeta.ffast - FAST properties for field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fflag.html">dmmeta.fflag - Options for command-line flags</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/field.html">dmmeta.field - Specify field of a struct</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/findrem.html">dmmeta.findrem - Request generation of FindRemove function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/finput.html">dmmeta.finput - Describe input table of a program</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fldoffset.html">dmmeta.fldoffset - Assert field offset - will result in compile-time error if violated</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/floadtuples.html">dmmeta.floadtuples - Request that process automatically load any input tables on startup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fnoremove.html">dmmeta.fnoremove - Omit any functions for removing elements from table; Table is append-only</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/foutput.html">dmmeta.foutput - Generate function to save index/table back to disk</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fprefix.html">dmmeta.fprefix - Mapping between field prefix and Reftype</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fregx.html">dmmeta.fregx - Specify options for command-line regx field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fsort.html">dmmeta.fsort - Generate custom sort function for array field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fstep.html">dmmeta.fstep - Generate a main loop step to be executed whenever a field is non-empty</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/ftrace.html">dmmeta.ftrace - Generate cycle/step counting fields for a step</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/ftuple.html">dmmeta.ftuple -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/func.html">dmmeta.func -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/funique.html">dmmeta.funique - This field must be unique in the table. Not needed for primary key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fuserinit.html">dmmeta.fuserinit - Add user-defined initialization function for field (see fcleanup)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/fwddecl.html">dmmeta.fwddecl - Request forward declaration of a field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/gconst.html">dmmeta.gconst - Import ssim table columns as fconst for a field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/gstatic.html">dmmeta.gstatic - Load entries for this table at startup time</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/gsymbol.html">dmmeta.gsymbol - Create C++ symbols from entries in ssim table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/hashtype.html">dmmeta.hashtype - Hash function type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/hook.html">dmmeta.hook - Required on Hook fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/inlary.html">dmmeta.inlary - Generate inline array of fixed or variable length (all entries fit within parent struct)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/lenfld.html">dmmeta.lenfld - Specify which gives length of varlen portion in bytes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/listtype.html">dmmeta.listtype - Specify structure of linked list based on field prefix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/llist.html">dmmeta.llist - Options for Llist field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/logcat.html">dmmeta.logcat - Log category</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/main.html">dmmeta.main - Generate Main function for namespace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/msgtype.html">dmmeta.msgtype - Specify message type for each eligible message, controls dispatch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/nocascdel.html">dmmeta.nocascdel - Remove cascade delete for this index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/nossimfile.html">dmmeta.nossimfile - Indicates that ssimfile does not exist for this ssimdb ctype</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/noxref.html">dmmeta.noxref - Explicitly specify that no x-ref exists between tables (don’t use unless forced)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/ns.html">dmmeta.ns - Namespace (for in-memory database, protocol, etc)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/nscpp.html">dmmeta.nscpp - Generate C++ code for this namespace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/nsdb.html">dmmeta.nsdb - Annotate ssimdb namespaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/nsfast.html">dmmeta.nsfast - Whether namespace is FAST</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/nsinclude.html">dmmeta.nsinclude - Explicitly specify a C++ include file for namespace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/nsjs.html">dmmeta.nsjs - Generate JavaScript code for this namespace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/nsproto.html">dmmeta.nsproto - Annotate protocol namespace (collection of types, no state)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/nstype.html">dmmeta.nstype - Namespace type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/nsversion.html">dmmeta.nsversion - Namespace version</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/nsx.html">dmmeta.nsx - Control code-generation and exception handling options for process/library</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/numstr.html">dmmeta.numstr - Add functions to read numbers out of a string field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/pack.html">dmmeta.pack - Request byte-packing of structure fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/pmaskfld.html">dmmeta.pmaskfld - Specify which field holds presence mask bits (one for each field in struct)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/pmaskfld_member.html">dmmeta.pmaskfld_member - Explicit field-to-pmask association</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/pnew.html">dmmeta.pnew - Generate custom constructor (placement new), for use with binary protocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/pnewtype.html">dmmeta.pnewtype - Type of fbuf</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/printfmt.html">dmmeta.printfmt - Print format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/ptrary.html">dmmeta.ptrary - Required for fields with reftype:Ptrary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html">dmmeta.reftype - Field type constructor (e.g. reference type)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/rowid.html">dmmeta.rowid - Initialize field to row id of element</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/smallstr.html">dmmeta.smallstr - Generated fixed-length padded or length-delimited string field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/sortfld.html">dmmeta.sortfld - Specify what field an index (Bheap,Atree) is sorted on</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/sorttype.html">dmmeta.sorttype - Sort type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/sqltype.html">dmmeta.sqltype - Mapping of ctype -&gt; SQL expression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/ssimfile.html">dmmeta.ssimfile - File with ssim tuples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/ssimreq.html">dmmeta.ssimreq - Extended constraints for ssim records</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/ssimsort.html">dmmeta.ssimsort - Define sort order for ssimfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/ssimvolatile.html">dmmeta.ssimvolatile - Types based on ssim files marked this way cannot be cross-referenced</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/steptype.html">dmmeta.steptype - Type of scheduler step</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/strfmt.html">dmmeta.strfmt - Cfmt conversion type (misnomer, not necessarily a string)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/strtype.html">dmmeta.strtype - Type of small string</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/substr.html">dmmeta.substr - Specify that the field value is computed from a substring of another field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/svtype.html">dmmeta.svtype - Table for determining ctype from separated value file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/tary.html">dmmeta.tary - Indirect linear dynamically alocated array (used for strings, arrays of data, etc)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/thash.html">dmmeta.thash - Hash index, required for fields with reftype Thash</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/tracefld.html">dmmeta.tracefld - Trace fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/tracerec.html">dmmeta.tracerec - Trace record</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/typefld.html">dmmeta.typefld - Specifies which field of a message carries the type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/usertracefld.html">dmmeta.usertracefld - Add custom user trace fields to process’s trace struct</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/dmmeta/xref.html">dmmeta.xref - Specify how to cross-reference (i.e. project, or group-by) one record with another</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ssimdb/fmdb/README.html">fmdb - Fault management tables (ssim database)</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of fmdb - Fault management tables (ssim database)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/fmdb/alarm.html">fmdb.alarm -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/fmdb/alm_code.html">fmdb.alm_code -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/fmdb/alm_objtype.html">fmdb.alm_objtype - Alarm resource type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/fmdb/alm_source.html">fmdb.alm_source - Subsystem where alarm has been detected</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ssimdb/gclidb/README.html">gclidb - gcli db</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of gclidb - gcli db</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/gact.html">gclidb.gact - Action that may be performed on a table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/gatv.html">gclidb.gatv -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/gclicmd.html">gclidb.gclicmd -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/gclicmdf2j.html">gclidb.gclicmdf2j - Mapping of internal fields to JSON fields for gitlab/github</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/gclicmdt.html">gclidb.gclicmdt - Internal test</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/gclienv.html">gclidb.gclienv -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/gclienvsub.html">gclidb.gclienvsub -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/gclisub.html">gclidb.gclisub -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/gfld.html">gclidb.gfld - Gitlab/github field name</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/githost.html">gclidb.githost -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/gmethod.html">gclidb.gmethod - HTTP method list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/grepo.html">gclidb.grepo - Repo table (acr grepo -in ~/.ssim)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/grepogitport.html">gclidb.grepogitport - Default ports for repositories</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/grepossh.html">gclidb.grepossh - Ssh key table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/gstate.html">gclidb.gstate - Issue/MR state list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/gstatet.html">gclidb.gstatet - Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/gtbl.html">gclidb.gtbl - Supported gcli tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/gtblact.html">gclidb.gtblact -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/gtblactfld.html">gclidb.gtblactfld - List of available for each table &amp; action combination</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/gtblacttst.html">gclidb.gtblacttst -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/gtblacttstout.html">gclidb.gtblacttstout -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/gtype.html">gclidb.gtype - Platform type (ghp=github; glpat=gitlab)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/gtypeh.html">gclidb.gtypeh - HTTP heaaderes for user with platform</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/gtypeprefix.html">gclidb.gtypeprefix - Token prefix mapping to platform</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/issue.html">gclidb.issue - Gitlab project issue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/issuenote.html">gclidb.issuenote - Issue note</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/issuepipeline.html">gclidb.issuepipeline - Issue pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/label.html">gclidb.label - List of labels for gitlab/github</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/milestone.html">gclidb.milestone - Gclidb project milestone</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/mr.html">gclidb.mr - Gitlab project mr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/mrjob.html">gclidb.mrjob - Mr job</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/mrnote.html">gclidb.mrnote - Issue note</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/project.html">gclidb.project - Gitlab project mr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gclidb/user.html">gclidb.user -</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ssimdb/gmvdb/README.html">gmvdb - gmv db</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of gmvdb - gmv db</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gmvdb/gmvproj.html">gmvdb.gmvproj -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gmvdb/gmvscript.html">gmvdb.gmvscript - action type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/gmvdb/gmvua.html">gmvdb.gmvua - User attribute</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ssimdb/spnxdb/README.html">spnxdb - Sphinx-based Websites build tool DB</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of spnxdb - Sphinx-based Websites build tool DB</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/spnxdb/build.html">spnxdb.build - list of actions supported by sphinx-build</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/spnxdb/pkgapt.html">spnxdb.pkgapt - required packages to be installed by apt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/spnxdb/pkgpip.html">spnxdb.pkgpip - required packages to be installed by pip</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/spnxdb/site.html">spnxdb.site - list of sites supported by bin/spnx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/spnxdb/siteattr.html">spnxdb.siteattr - list of attributes and values by the site</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/spnxdb/srcext.html">spnxdb.srcext - source extensions read as md by sphinx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/spnxdb/theme.html">spnxdb.theme -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/spnxdb/userattr.html">spnxdb.userattr - list of possible attributes referred by spnxdb.siteattr</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ssimdb/wclidb/README.html">wclidb - wiki db</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of wclidb - wiki db</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/atfwclicmd.html">wclidb.atfwclicmd - management commands for atf_wcli</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/atfwclicmdfld.html">wclidb.atfwclicmdfld - arguments taken by management commands for atf_wcli</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/curlarg.html">wclidb.curlarg - an internal list of curl arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/ftype.html">wclidb.ftype - wiki file ftype types used by wcli to copy files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/page.html">wclidb.page - a form for wcli page operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/pagesec.html">wclidb.pagesec - a from for wcli page sections operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/pagetitle.html">wclidb.pagetitle - a form for wcli page reporting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wact.html">wclidb.wact - wcli actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wcliapi.html">wclidb.wcliapi - api tokens for wcli</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wclicmd.html">wclidb.wclicmd - wcli api commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wclicmdapi.html">wclidb.wclicmdapi - wcli api commands with arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wclicmdf2j.html">wclidb.wclicmdf2j - Mapping of internal fields to JSON fields for gitlab/github</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wfld.html">wclidb.wfld - Wiki field name</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wikiext.html">wclidb.wikiext - wiki allowed file extensions, dynamic read</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wikigroup.html">wclidb.wikigroup - wiki default user groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wikins.html">wclidb.wikins - wiki namespaces, dynamic read</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wikisite.html">wclidb.wikisite - wiki site types supported by wcli - the main wcli key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wikisitesub.html">wclidb.wikisitesub - atf_wcli args substitution table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wikisub.html">wclidb.wikisub - atf_wcli substitutions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wikitoken.html">wclidb.wikitoken - wcli medaiwiki auth token types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wikitokenapi.html">wclidb.wikitokenapi - wcli tie-in of a token to an api action</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wikiuser.html">wclidb.wikiuser -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wikiuseruser.html">wclidb.wikiuseruser -</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wlogin.html">wclidb.wlogin - a form for wcli login operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wtbl.html">wclidb.wtbl - scope for wcli actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wtblact.html">wclidb.wtblact - a wcli tie-in of table and action</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wtblactfld.html">wclidb.wtblactfld - List of available for each table &amp; action combination</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wtblacttst.html">wclidb.wtblacttst - atf_wcli wcli regression testcases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wtblacttstout.html">wclidb.wtblacttstout - atf_wcli wcli regression results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wclidb/wwiki.html">wclidb.wwiki - user/auth tokens holding structure</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ssimdb/wsdb/README.html">wsdb - WebSocket db</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of wsdb - WebSocket db</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/wsdb/status.html">wsdb.status -</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ssimdb/x2db/README.html">x2db - operational info for algornd</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of x2db - operational info for algornd</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/x2db/admact.html">x2db.admact - x2admin actions for startup scripts generation and use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/x2db/admsvc.html">x2db.admsvc - x2admin scope for services like user, host, ssh applied to envnodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/x2db/admsvcact.html">x2db.admsvcact - x2admin coupling for the scope and the actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/x2db/dctrport.html">x2db.dctrport - tie-in docker ports with uids for containers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/x2db/env.html">x2db.env - x2 environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/x2db/envctr.html">x2db.envctr - envnode to container tie-in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/x2db/envhost.html">x2db.envhost - envnode to hosts tie-in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/x2db/envktypeuser.html">x2db.envktypeuser - environment to “ssh key type” to a user and its public key tie in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/x2db/envnode.html">x2db.envnode - environment to node tie in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/x2db/envnodeacct.html">x2db.envnodeacct - envnode to its users accounts tie in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/x2db/envnodeacctuser.html">x2db.envnodeacctuser - envnode accounts to users tie in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/x2db/envnodecname.html">x2db.envnodecname - envnode to cname tie in - cname used in /etc/hosts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/x2db/ktype.html">x2db.ktype - “ssh key types” list for different purposes/env</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/x2db/node.html">x2db.node - node name</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/x2db/nodektype.html">x2db.nodektype - A node to “ssh key type” assignment list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/x2db/uid.html">x2db.uid - x2 user linux uid list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ssimdb/x2db/user.html">x2db.user - x2 users list</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../protocol/README.html">Protocols</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of Protocols</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../protocol/algo/README.html">algo - Basic types and functions</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of algo - Basic types and functions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/Attr.html">txt/protocol/algo/Attr.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/Bool.html">txt/protocol/algo/Bool.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/Charset.html">txt/protocol/algo/Charset.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/Comment.html">txt/protocol/algo/Comment.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/CppExpr.html">txt/protocol/algo/CppExpr.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/DateCache.html">txt/protocol/algo/DateCache.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/Decimal.html">txt/protocol/algo/Decimal.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/DirEntry.html">txt/protocol/algo/DirEntry.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/Errcode.html">txt/protocol/algo/Errcode.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/Errns.html">txt/protocol/algo/Errns.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/Fildes.html">txt/protocol/algo/Fildes.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/FileFlags.html">txt/protocol/algo/FileFlags.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/IOEvtFlags.html">txt/protocol/algo/IOEvtFlags.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/IPoint.html">txt/protocol/algo/IPoint.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/Imtable.html">txt/protocol/algo/Imtable.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/Ipmask.html">txt/protocol/algo/Ipmask.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/LineBuf.html">txt/protocol/algo/LineBuf.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/Md5Digest.html">txt/protocol/algo/Md5Digest.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/Month.html">txt/protocol/algo/Month.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/NumParseFlags.html">txt/protocol/algo/NumParseFlags.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/PrlogFcn.html">txt/protocol/algo/PrlogFcn.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/SchedTime.html">txt/protocol/algo/SchedTime.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/SeqType.html">txt/protocol/algo/SeqType.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/Sha1sig.html">txt/protocol/algo/Sha1sig.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/TFNNtTestAlert.html">txt/protocol/algo/TFNNtTestAlert.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/TermStyle.html">txt/protocol/algo/TermStyle.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/TextJust.html">txt/protocol/algo/TextJust.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/TstampCache.html">txt/protocol/algo/TstampCache.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/Tuple.html">txt/protocol/algo/Tuple.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/URL.html">txt/protocol/algo/URL.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/UnDiff.html">txt/protocol/algo/UnDiff.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/UnTime.html">txt/protocol/algo/UnTime.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/UnixDiff.html">txt/protocol/algo/UnixDiff.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/UnixTime.html">txt/protocol/algo/UnixTime.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/cstring.html">txt/protocol/algo/cstring.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/memptr.html">txt/protocol/algo/memptr.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/algo/strptr.html">txt/protocol/algo/strptr.md</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../protocol/ams/README.html">ams - Algo Messaging System protocol</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of ams - Algo Messaging System protocol</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/AlarmSyncMsg.html">txt/protocol/ams/AlarmSyncMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/DfltStream.html">txt/protocol/ams/DfltStream.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/DumpStreamTableMsg.html">txt/protocol/ams/DumpStreamTableMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/ExpectMsg.html">txt/protocol/ams/ExpectMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/HeartbeatMsg.html">txt/protocol/ams/HeartbeatMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/InputLineMsg.html">txt/protocol/ams/InputLineMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/LogMsg.html">txt/protocol/ams/LogMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/Member.html">txt/protocol/ams/Member.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/MsgBlock.html">txt/protocol/ams/MsgBlock.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/MsgHeader.html">txt/protocol/ams/MsgHeader.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/OpenMsg.html">txt/protocol/ams/OpenMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/PrlogMsg.html">txt/protocol/ams/PrlogMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/ProcAddMsg.html">txt/protocol/ams/ProcAddMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/ProcId.html">txt/protocol/ams/ProcId.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/ProcRemoveMsg.html">txt/protocol/ams/ProcRemoveMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/ProcType.html">txt/protocol/ams/ProcType.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/Seqmsg.html">txt/protocol/ams/Seqmsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/SeqmsgId.html">txt/protocol/ams/SeqmsgId.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/SeqmsgTrace.html">txt/protocol/ams/SeqmsgTrace.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/StreamFlags.html">txt/protocol/ams/StreamFlags.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/StreamHbMsg.html">txt/protocol/ams/StreamHbMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/StreamId.html">txt/protocol/ams/StreamId.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/StreamPos.html">txt/protocol/ams/StreamPos.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/StreamType.html">txt/protocol/ams/StreamType.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/TerminateMsg.html">txt/protocol/ams/TerminateMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/Trace2Msg.html">txt/protocol/ams/Trace2Msg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/TraceInfo2Msg.html">txt/protocol/ams/TraceInfo2Msg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/TraceInfoMsg.html">txt/protocol/ams/TraceInfoMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/TraceMsg.html">txt/protocol/ams/TraceMsg.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../protocol/ams/UdpFrame.html">txt/protocol/ams/UdpFrame.md</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../protocol/atf/README.html">atf - Algo Testing Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../protocol/command/README.html">command - Command line descriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../protocol/emdi12/README.html">emdi12 -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../protocol/fasttest/README.html">fasttest -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../protocol/fm/README.html">fm - Fault management types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../protocol/ietf/README.html">ietf - Some IETF structs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../protocol/js/README.html">js - Reserved for JavaScript builtin types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../protocol/report/README.html">report - Command reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../protocol/ws/README.html">ws - WebSocket binary protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../protocol/x2/README.html">x2 - X2 protocol</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../README.html">Libraries</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of Libraries</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">algo_lib - Support library for all executables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_amcdb/README.html">lib_amcdb - Library used by amc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_ams/README.html">lib_ams - Library for AMS middleware, supporting file format &amp; messaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_ams/README.html#ams-library">AMS Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_ams/README.html#list-of-ams-messages">List of AMS Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_ams/README.html#in-memory-stream-format-flow-control">In-memory stream format; Flow control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_ctype/README.html">lib_ctype - Helpful library for reading/writing ctypes as text tuples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_exec/README.html">lib_exec - Build and run a dag of subprocesses with N parallel jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_fast/README.html">lib_fast - FAST prococol support library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_finprot/README.html">lib_finprot - Library of financial protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_fm/README.html">lib_fm - Library for dynamic alarm management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_git/README.html">lib_git - Helpful git wrappers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_iconv/README.html">lib_iconv - Iconv wrapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_json/README.html">lib_json - Full json support library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_mysql/README.html">lib_mysql - Mysql adaptor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_prot/README.html">lib_prot - Library covering all protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_sql/README.html">lib_sql - SQL formatting functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_ws/README.html">lib_ws - WebSocket library</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../exe/README.html">Executables</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of Executables</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../exe/abt/README.html">abt - Algo Build Tool - build &amp; link C++ targets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/abt_md/README.html">abt_md - Tool to generate markdown documentation</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../exe/acr/README.html">acr - Algo Cross-Reference - ssimfile database &amp; update tool</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of acr - Algo Cross-Reference - ssimfile database &amp; update tool</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../exe/acr/relnotes.html">ACR release notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/acr_compl/README.html">acr_compl - ACR shell auto-complete for all targets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/acr_dm/README.html">acr_dm - ACR Diff/Merge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/acr_ed/README.html">acr_ed - Script generator for common dev tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/acr_in/README.html">acr_in - ACR Input - compute set of ssimfiles or tuples used by a specific target</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/acr_my/README.html">acr_my - ACR &lt;-&gt; MariaDB adaptor</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../exe/amc/README.html">amc - Algo Model Compiler: generate code under include/gen and cpp/gen</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of amc - Algo Model Compiler: generate code under include/gen and cpp/gen</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../exe/amc/enum.html">AMC Enumerated Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../exe/amc/exec.html">AMC Subprocess Invocation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../exe/amc/pmask.html">AMC Presence Masks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../exe/amc/pools.html">AMC Memory Pools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../exe/amc/proto.html">AMC Protocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../exe/amc/reflection.html">AMC Reflection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../exe/amc/reftypes.html">AMC Reftypes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../exe/amc/relnotes.html">AMC release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../exe/amc/runtime.html">AMC Runtime</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../exe/amc/strings.html">AMC Strings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../exe/amc/xref.html">AMC Cross-References (xrefs)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/amc_gc/README.html">amc_gc - Garbage collector for in-memory databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/amc_js/README.html">amc_js - Model compiler for javascript targets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/amc_vis/README.html">amc_vis - Draw access path diagrams</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/ams_cat/README.html">ams_cat - Algo Messaging System sample tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/ams_sendtest/README.html">ams_sendtest - Algo Messaging System test tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/apm/README.html">apm - Algo Package Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/atf_amc/README.html">atf_amc - Unit tests for amc (see amctest table)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/atf_ci/README.html">atf_ci - Normalization tests (see citest table)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/atf_cmdline/README.html">atf_cmdline - Test tool for command line parsing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/atf_comp/README.html">atf_comp - Algo Test Framework - Component test execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/atf_cov/README.html">atf_cov - Line coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/atf_cov/README.html#line-coverage">Line coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/atf_fuzz/README.html">atf_fuzz - Generator of bad inputs for targets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/atf_gcli/README.html">atf_gcli - test harness for gcli</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/atf_netio/README.html">atf_netio - Test driver for netio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/atf_nrun/README.html">atf_nrun - Run N subprocesses in parallel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/atf_unit/README.html">atf_unit - Unit tests (see unittest table)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/atf_wcli/README.html">atf_wcli - wiki management and test harness for wcli tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/atf_ws/README.html">atf_ws - Component test driver for lib_ws</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/bash2html/README.html">bash2html - Convert bash output and colours to html</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/dcli/README.html">dcli - command line tool for container operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/dcli_ed/README.html">dcli_ed - Docker Client Editor - generator of dcli commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/fast/README.html">fast - FAST utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/gcache/README.html">gcache - Compiler cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/gcli/README.html">gcli - Gcli - gitlab/github command-line client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/gmv/README.html">gmv - Utility to move parts of the project in or out to a different project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/lib_x2/README.html">lib_x2 -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/mdbg/README.html">mdbg - Gdb front-end</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/mysql2ssim/README.html">mysql2ssim - mysql -&gt; ssim conversion tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/orgfile/README.html">orgfile - Organize and deduplicate files by timestamp and by contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/samp_regx/README.html">samp_regx - Test tool for regular expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/samp_ws/README.html">samp_ws - WebSocket sample</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/sandbox/README.html">sandbox - Sandbox - sandbox management tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/spnx/README.html">spnx - website generator based on sphinx</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/src_func/README.html">src_func - Access / edit functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/src_hdr/README.html">src_hdr - Manage source copyright+license header in source files and scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/src_lim/README.html">src_lim - Enforce line length, function length, and indentation limits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/ssim2csv/README.html">ssim2csv - Ssim -&gt; csv conversion tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/ssim2mysql/README.html">ssim2mysql - Ssim -&gt; mysql</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/ssimfilt/README.html">ssimfilt - Tuple utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/strconv/README.html">strconv - A simple string utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/sv2ssim/README.html">sv2ssim - sv2ssim - Separated Value file processor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/ttrack/README.html">ttrack - Tool for keeping track of work time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/wcli/README.html">wcli - wiki cli to operate on wikis via API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/x2admin/README.html">x2admin - utility to generate admsvc control for containers etc…</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/x2cmt/README.html">x2cmt - X2 - Commit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/x2gf/README.html">x2gf - X2 - Gapfill</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/x2gw/README.html">x2gw - X2 - Gateway</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/x2mon/README.html">x2mon - X2 - Monitor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/x2node/README.html">x2node - ssh tool to access varios aops nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/x2read/README.html">x2read - X2 - Read client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/x2sup/README.html">x2sup - X2 - Supervisor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/x2txn/README.html">x2txn - X2 - Transaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exe/x2write/README.html">x2write - X2 - Write client</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../script/README.html">Scripts</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle navigation of Scripts</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../script/abt_md_filt.html">bin/abt_md_filt - Eliminate unstable fields from inline-command output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/ai.html">bin/ai - Bootstrapped compilation script</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/alexei-setup-soft-links.html">bin/alexei-setup-soft-links -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/break-long-lines.html">bin/break-long-lines - Read input and break long lines into multiple lines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/ci-show-log.html">bin/ci-show-log - Fetch gitlab runner output for current issue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/cpp-indent.html">bin/cpp-indent - Indent specified files using emacs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/delete-duplicate-lines.html">bin/delete-duplicate-lines - Read input and eliminate duplicate lines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/diff-to-errlist.html">bin/diff-to-errlist - Read standard diff format on input and produce output suitable for errlist</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/edit-conflicts.html">bin/edit-conflicts - Open any files marked as being in confict using EDITOR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/em.html">bin/em - Alias for ‘emacs -nw’</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/errlist.html">bin/errlist - Open error list in editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/ff.html">bin/ff - Find files and inside files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/find-non-copyrighted.html">bin/find-non-copyrighted - Find any files with missing copyrights</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/fix-gen-conflicts.html">bin/fix-gen-conflicts - Auto-fix for git merge- or rebase-related conflicts by re-running generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/git-add-to-last-commit.html">bin/git-add-to-last-commit - Add any currently modified changes to the most recent commit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/git-branch-gc.html">bin/git-branch-gc - Attempt to rebase all branches and delete branches merged into HEAD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/git-clean-branches.html">bin/git-clean-branches -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/git-commits-per-user.html">bin/git-commits-per-user -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/git-current-ref.html">bin/git-current-ref - Print gitref of current HEAD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/git-diff-annotate.html">bin/git-diff-annotate -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/git-grep-reflog.html">bin/git-grep-reflog - Find a commit in reflog whose delta contains given regex</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/git-mdiff.html">bin/git-mdiff - Git diff but exclude generated files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/git-mod-plot.html">bin/git-mod-plot -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/git-praise.html">bin/git-praise -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/git-rebase-origin.html">bin/git-rebase-origin - Rebase current branch onto origin master</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/git-rebase-remote.html">bin/git-rebase-remote - Rebase current branch onto given <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/git-recent-branches.html">bin/git-recent-branches - List recent branches that you worked on</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/git-rollback-file.html">bin/git-rollback-file - Roll back specified files to the previous commit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/git-update-config.html">bin/git-update-config -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/gitconfig-setup.html">bin/gitconfig-setup -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/grephunk.html">bin/grephunk - Patch file filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/hilite-error.html">bin/hilite-error - Read input and highlight errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/hilite.html">bin/hilite - Inline highlighter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/limit-output.html">bin/limit-output - Read input and show at most N lines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/lines-to-dots.html">bin/lines-to-dots - Read input and print a dot for each input line</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/lsfunc.html">bin/lsfunc - List all functions from all source files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/msloc.pl.html">bin/msloc.pl - Word count statistics for non-generated source files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/normalize.html">bin/normalize - Run standard normalization tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/select-bootstrap.html">bin/select-bootstrap -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/sha1.html">bin/sha1 -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/sloc.pl.html">bin/sloc.pl - Word count statistics for specified list of source files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/tags.html">bin/tags -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/targ-diff.html">bin/targ-diff - Show changes in TARG’s source code between this branch and REF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/test-orgfile.html">bin/test-orgfile -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/timestamps.html">bin/timestamps - Read input and timestamp each line</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/toamc.html">bin/toamc - Try to extract amc schema from specified C++ file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/todo.html">bin/todo -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/update-gitfile.html">bin/update-gitfile -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/update-hdr.html">bin/update-hdr -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/update-scriptfile.html">bin/update-scriptfile -</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script/zfs_snapshot.pl.html">bin/zfs_snapshot.pl -</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="algo-lib-support-library-for-all-executables">
<h1>algo_lib - Support library for all executables<a class="headerlink" href="#algo-lib-support-library-for-all-executables" title="Permalink to this heading">#</a></h1>
<section id="table-of-contents">
<h2>Table Of Contents<a class="headerlink" href="#table-of-contents" title="Permalink to this heading">#</a></h2>
<p><a href="#table-of-contents"></a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#printing---process-output"><span class="xref myst">Printing / Process output</span></a></p></li>
<li><p><a class="reference internal" href="#printing-to-stderr"><span class="xref myst">Printing to stderr</span></a></p></li>
<li><p><a class="reference internal" href="#log-categories"><span class="xref myst">Log categories</span></a></p></li>
<li><p><a class="reference internal" href="#verblog"><span class="xref myst">Verblog</span></a></p></li>
<li><p><a class="reference internal" href="#dbglog"><span class="xref myst">Dbglog</span></a></p></li>
<li><p><a class="reference internal" href="#environment-variables"><span class="xref myst">Environment variables</span></a></p></li>
<li><p><a class="reference internal" href="#ctypes"><span class="xref myst">Ctypes</span></a></p></li>
<li><p><a class="reference internal" href="#functions"><span class="xref myst">Functions</span></a></p></li>
<li><p><a class="reference internal" href="#sources"><span class="xref myst">Sources</span></a></p></li>
<li><p><a class="reference internal" href="#inputs"><span class="xref myst">Inputs</span></a></p></li>
</ul>
</section>
<section id="printing-process-output">
<h2>Printing / Process output<a class="headerlink" href="#printing-process-output" title="Permalink to this heading">#</a></h2>
<p><a href="#printing---process-output"></a></p>
<p>The standard way to print something to <code class="docutils literal notranslate"><span class="pre">stdout</span></code> is with the use of <code class="docutils literal notranslate"><span class="pre">prlog</span></code> macro.
Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">prlog</span><span class="p">(</span><span class="s2">&quot;hello, world&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Prlog uses a temporary string, so that convenient <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code> expressions are possible:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">prlog</span><span class="p">(</span><span class="s2">&quot;hello, world, my name is &quot;</span><span class="o">&lt;&lt;</span> <span class="n">_db</span><span class="o">.</span><span class="n">cmdline</span><span class="o">.</span><span class="n">name</span><span class="p">);</span>
</pre></div>
</div>
<p>prlog automatically appends a newline; to omit the newline, use the variant <code class="docutils literal notranslate"><span class="pre">prlog_</span></code>.
Prlog will automatically prefix each printed line with a nanosecond-level timestamp,
if the variable <code class="docutils literal notranslate"><span class="pre">algo_lib::_db.show_tstamp</span></code> is set.</p>
<p>Additionally, all <code class="docutils literal notranslate"><span class="pre">*log</span></code> macros ultimately call a function through the global pointer
<code class="docutils literal notranslate"><span class="pre">algo_lib::_db.Prlog</span></code>, which can be overridden to redirect output to some other channel.</p>
</section>
<section id="printing-to-stderr">
<h2>Printing to stderr<a class="headerlink" href="#printing-to-stderr" title="Permalink to this heading">#</a></h2>
<p><a href="#printing-to-stderr"></a></p>
<p>The prlog equivalent for stderr output is <code class="docutils literal notranslate"><span class="pre">prerr</span></code>.
prerr automatically appends a newline; to omit the newline, use the variant <code class="docutils literal notranslate"><span class="pre">prerr_</span></code>.</p>
</section>
<section id="log-categories">
<h2>Log categories<a class="headerlink" href="#log-categories" title="Permalink to this heading">#</a></h2>
<p><a href="#log-categories"></a></p>
<p><code class="docutils literal notranslate"><span class="pre">algo_lib</span></code> has a convenient notion of <code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">category</span></code>, controlled by table <code class="docutils literal notranslate"><span class="pre">dev.logcat</span></code>.
Each log category has a name and an <code class="docutils literal notranslate"><span class="pre">enable</span></code> flag, which can be switched at runtime.
Printing to a log category xyz is performed with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">prlog_cat</span><span class="p">(</span><span class="n">algo_lib_logcat_xyz</span><span class="p">,</span> <span class="s2">&quot;some output&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>And is equivalent to</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">algo_lib_logcat</span><span class="o">.</span><span class="n">xyz</span><span class="o">.</span><span class="n">enable</span><span class="p">)</span> <span class="p">{</span>
   <span class="n">prlog</span><span class="p">(</span><span class="s2">&quot;some output&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Stdout and stderr are generalized as log categories.
The table of log categories is given below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">inline</span><span class="o">-</span><span class="n">command</span><span class="p">:</span> <span class="n">acr</span> <span class="n">logcat</span>
<span class="n">dmmeta</span><span class="o">.</span><span class="n">logcat</span>  <span class="n">logcat</span><span class="p">:</span><span class="n">expect</span>  <span class="n">enabled</span><span class="p">:</span><span class="n">N</span>  <span class="n">builtin</span><span class="p">:</span><span class="n">N</span>  <span class="n">comment</span><span class="p">:</span><span class="s2">&quot;lib_ams expect implementation&quot;</span>
<span class="n">dmmeta</span><span class="o">.</span><span class="n">logcat</span>  <span class="n">logcat</span><span class="p">:</span><span class="n">stderr</span>  <span class="n">enabled</span><span class="p">:</span><span class="n">Y</span>  <span class="n">builtin</span><span class="p">:</span><span class="n">Y</span>  <span class="n">comment</span><span class="p">:</span><span class="s2">&quot;Standard error (cannot be disabled)&quot;</span>
<span class="n">dmmeta</span><span class="o">.</span><span class="n">logcat</span>  <span class="n">logcat</span><span class="p">:</span><span class="n">stdout</span>  <span class="n">enabled</span><span class="p">:</span><span class="n">Y</span>  <span class="n">builtin</span><span class="p">:</span><span class="n">Y</span>  <span class="n">comment</span><span class="p">:</span><span class="s2">&quot;Standard output (cannot be disabled)&quot;</span>
<span class="n">report</span><span class="o">.</span><span class="n">acr</span>  <span class="n">n_select</span><span class="p">:</span><span class="mi">3</span>  <span class="n">n_insert</span><span class="p">:</span><span class="mi">0</span>  <span class="n">n_delete</span><span class="p">:</span><span class="mi">0</span>  <span class="n">n_ignore</span><span class="p">:</span><span class="mi">0</span>  <span class="n">n_update</span><span class="p">:</span><span class="mi">0</span>  <span class="n">n_file_mod</span><span class="p">:</span><span class="mi">0</span>
</pre></div>
</div>
</section>
<section id="verblog">
<h2>Verblog<a class="headerlink" href="#verblog" title="Permalink to this heading">#</a></h2>
<p><a href="#verblog"></a></p>
<p>The macro <code class="docutils literal notranslate"><span class="pre">verblog(x)</span></code> is equivlent to <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">(algo_lib::_db.cmdline.verbose)</span> <span class="pre">{</span> <span class="pre">prlog(x);</span> <span class="pre">}</span></code></p>
<p>Verbose mode is enabled with flags <code class="docutils literal notranslate"><span class="pre">-v</span></code> or <code class="docutils literal notranslate"><span class="pre">-verbose</span></code>.
Multiple <code class="docutils literal notranslate"><span class="pre">-v</span></code> flags increment the verbose level to be higher.</p>
<p>When spawning a known amc-compatible subprocess using amc-generated code, the verbosity level
is automatically decremented by one. Thus, running a process with <code class="docutils literal notranslate"><span class="pre">-v</span> <span class="pre">-v</span></code> passes <code class="docutils literal notranslate"><span class="pre">-v</span></code> to each spawned
subprocess, which can be very useful to look “deeper” into the run.</p>
</section>
<section id="dbglog">
<h2>Dbglog<a class="headerlink" href="#dbglog" title="Permalink to this heading">#</a></h2>
<p><a href="#dbglog"></a></p>
<p>The macro <code class="docutils literal notranslate"><span class="pre">dbglog(x)</span></code> is equivlent to <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">(algo_lib::_db.cmdline.debug)</span> <span class="pre">{</span> <span class="pre">prlog(x);</span> <span class="pre">}</span></code></p>
<p>Debug mode is enabled with flags <code class="docutils literal notranslate"><span class="pre">-d</span></code> or <code class="docutils literal notranslate"><span class="pre">-debug</span> <span class="pre">Multiple</span> </code>-d` flags increment the debug level to be higher.
Debug level is similar to verbose level and is passed down to child processes on command line,
without being decremented.</p>
</section>
<section id="environment-variables">
<h2>Environment variables<a class="headerlink" href="#environment-variables" title="Permalink to this heading">#</a></h2>
<p><a href="#environment-variables"></a></p>
<p>We specifically avoid using the environment block to pass verbose/debug flags, in order to maintain
an exact correspondence between the command line and the process behavior.</p>
</section>
<section id="ctypes">
<h2>Ctypes<a class="headerlink" href="#ctypes" title="Permalink to this heading">#</a></h2>
<p><a href="#ctypes"></a>
Other ctypes in this namespace which don’t have own readme files</p>
<section id="algo-lib-bitset">
<h3>algo_lib.Bitset -<a class="headerlink" href="#algo-lib-bitset" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-bitset"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ary</p></td>
<td><p>u64</p></td>
<td><p>Tary</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-cmdline-can-t-move-this-to-command-namespace-because-of-circular-dependency">
<h3>algo_lib.Cmdline - <em>can’t move this to command namespace because of circular dependency</em><a class="headerlink" href="#algo-lib-cmdline-can-t-move-this-to-command-namespace-because-of-circular-dependency" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-cmdline"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>verbose</p></td>
<td><p>u8</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Verbosity level (0..255)</p></td>
</tr>
<tr class="row-odd"><td><p>debug</p></td>
<td><p>u8</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Debug level (0..255)</p></td>
</tr>
<tr class="row-even"><td><p>help</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Print help and exit</p></td>
</tr>
<tr class="row-odd"><td><p>version</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Print version and exit</p></td>
</tr>
<tr class="row-even"><td><p>signature</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Show signatures and exit</p></td>
</tr>
<tr class="row-odd"><td><p>v</p></td>
<td><p>u8</p></td>
<td><p>Alias</p></td>
<td><p></p></td>
<td><p>Alias for verbose</p></td>
</tr>
<tr class="row-even"><td><p>d</p></td>
<td><p>u8</p></td>
<td><p>Alias</p></td>
<td><p></p></td>
<td><p>Alias for debug</p></td>
</tr>
<tr class="row-odd"><td><p>sig</p></td>
<td><p>bool</p></td>
<td><p>Alias</p></td>
<td><p></p></td>
<td><p>Alias for signature</p></td>
</tr>
<tr class="row-even"><td><p>h</p></td>
<td><p>bool</p></td>
<td><p>Alias</p></td>
<td><p></p></td>
<td><p>Alias for help</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-csvparse">
<h3>algo_lib.CsvParse -<a class="headerlink" href="#algo-lib-csvparse" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-csvparse"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>input</p></td>
<td><p>algo.strptr</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Input string</p></td>
</tr>
<tr class="row-odd"><td><p>sep</p></td>
<td><p>char</p></td>
<td><p>Val</p></td>
<td><p>‘,’</p></td>
<td><p>Input: separator</p></td>
</tr>
<tr class="row-even"><td><p>quotechar1</p></td>
<td><p>char</p></td>
<td><p>Val</p></td>
<td><p>‘”’</p></td>
<td><p>Allow this quote</p></td>
</tr>
<tr class="row-odd"><td><p>quotechar2</p></td>
<td><p>char</p></td>
<td><p>Val</p></td>
<td><p>‘’’</p></td>
<td><p>Allow this quote as well</p></td>
</tr>
<tr class="row-even"><td><p>ary_tok</p></td>
<td><p>algo.cstring</p></td>
<td><p>Tary</p></td>
<td><p></p></td>
<td><p>Output: array of tokens</p></td>
</tr>
<tr class="row-odd"><td><p>openquote</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p>true</p></td>
<td><p>On output: set if unbalanced quote found</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-errorx">
<h3>algo_lib.ErrorX -<a class="headerlink" href="#algo-lib-errorx" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-errorx"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>str</p></td>
<td><p>algo.cstring</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-fdb-in-memory-database-for-algo-lib">
<h3>algo_lib.FDb - In-memory database for algo_lib<a class="headerlink" href="#algo-lib-fdb-in-memory-database-for-algo-lib" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-fdb"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>cstring</p></td>
<td><p>algo.cstring</p></td>
<td><p>Cppstack</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>sbrk</p></td>
<td><p>u8</p></td>
<td><p>Sbrk</p></td>
<td><p></p></td>
<td><p>Base allocator for everything</p></td>
</tr>
<tr class="row-even"><td><p>lpool</p></td>
<td><p>u8</p></td>
<td><p>Lpool</p></td>
<td><p></p></td>
<td><p>private memory pool</p></td>
</tr>
<tr class="row-odd"><td><p>next_loop</p></td>
<td><p>algo.SchedTime</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>limit</p></td>
<td><p>algo.SchedTime</p></td>
<td><p>Val</p></td>
<td><p>0x7fffffffffffffff</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>clocks_to_ms</p></td>
<td><p>double</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>n_iohook</p></td>
<td><p>u32</p></td>
<td><p>Val</p></td>
<td><p>0</p></td>
<td><p>Number of iohooks in epoll</p></td>
</tr>
<tr class="row-odd"><td><p>clock</p></td>
<td><p>algo.SchedTime</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Current cpu clock value</p></td>
</tr>
<tr class="row-even"><td><p>mainloop_clock</p></td>
<td><p>algo.SchedTime</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Mainloop cpu clock value</p></td>
</tr>
<tr class="row-odd"><td><p>start_clock</p></td>
<td><p>algo.SchedTime</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>cpu clock value at startup</p></td>
</tr>
<tr class="row-even"><td><p>hz</p></td>
<td><p>double</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>t_last_signal</p></td>
<td><p>algo.SchedTime</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Time last async signal was processed</p></td>
</tr>
<tr class="row-even"><td><p>exit_code</p></td>
<td><p>i32</p></td>
<td><p>Val</p></td>
<td><p>0</p></td>
<td><p>Exit code from main program. 0 = success (this is the unix exit code!)</p></td>
</tr>
<tr class="row-odd"><td><p>clocks_to_ns</p></td>
<td><p>double</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>n_temp</p></td>
<td><p>u32</p></td>
<td><p>Val</p></td>
<td><p>0</p></td>
<td><p>* initialization order is important *</p></td>
</tr>
<tr class="row-odd"><td><p>last_signal</p></td>
<td><p>u32</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Value of last signal (used by SetupExitSignals)</p></td>
</tr>
<tr class="row-even"><td><p>eol</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p>false</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>cpu_hz</p></td>
<td><p>u64</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Cpu HZ, determined at startup</p></td>
</tr>
<tr class="row-even"><td><p>fildes</p></td>
<td><p>algo_lib.FFildes</p></td>
<td><p>Cppstack</p></td>
<td><p></p></td>
<td><p>Provides default name for variables of this type</p></td>
</tr>
<tr class="row-odd"><td><p>temp_strings</p></td>
<td><p>algo.cstring</p></td>
<td><p>Inlary</p></td>
<td><p></p></td>
<td><p>* initialization order is important *</p></td>
</tr>
<tr class="row-even"><td><p>ArgvIdent</p></td>
<td><p>algo.Charset</p></td>
<td><p>Charset</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>BashQuotesafe</p></td>
<td><p>algo.Charset</p></td>
<td><p>Charset</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>RegxSqlSpecial</p></td>
<td><p>algo.Charset</p></td>
<td><p>Charset</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>SsimBreakName</p></td>
<td><p>algo.Charset</p></td>
<td><p>Charset</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>SsimBreakValue</p></td>
<td><p>algo.Charset</p></td>
<td><p>Charset</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>SsimQuotesafe</p></td>
<td><p>algo.Charset</p></td>
<td><p>Charset</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>_db</p></td>
<td><p>algo_lib.FDb</p></td>
<td><p>Global</p></td>
<td><p></p></td>
<td><p>* initialization order is important *</p></td>
</tr>
<tr class="row-odd"><td><p>imtable</p></td>
<td><p>algo_lib.FImtable</p></td>
<td><p>Lary</p></td>
<td><p></p></td>
<td><p>Array of all in-memory tables linked into this process</p></td>
</tr>
<tr class="row-even"><td><p>ind_imtable</p></td>
<td><p>algo_lib.FImtable</p></td>
<td><p>Thash</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>iohook</p></td>
<td><p>algo_lib.FIohook</p></td>
<td><p>Cppstack</p></td>
<td><p></p></td>
<td><p>Provides default name for variables of this type</p></td>
</tr>
<tr class="row-even"><td><p>timehook</p></td>
<td><p>algo_lib.FTimehook</p></td>
<td><p>Cppstack</p></td>
<td><p></p></td>
<td><p>Provides default name for variables of this type</p></td>
</tr>
<tr class="row-odd"><td><p>replscope</p></td>
<td><p>algo_lib.Replscope</p></td>
<td><p>Cppstack</p></td>
<td><p></p></td>
<td><p>Provides default name for variables of this type</p></td>
</tr>
<tr class="row-even"><td><p>error</p></td>
<td><p>algo_lib.ErrorX</p></td>
<td><p>Malloc</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>csvparse</p></td>
<td><p>algo_lib.CsvParse</p></td>
<td><p>Cppstack</p></td>
<td><p></p></td>
<td><p>Provides default name for variables of this type</p></td>
</tr>
<tr class="row-even"><td><p>regxparse</p></td>
<td><p>algo_lib.RegxParse</p></td>
<td><p>Cppstack</p></td>
<td><p></p></td>
<td><p>Provides default name for variables of this type</p></td>
</tr>
<tr class="row-odd"><td><p>regx</p></td>
<td><p>algo_lib.Regx</p></td>
<td><p>Cppstack</p></td>
<td><p></p></td>
<td><p>Provides default name for variables of this type</p></td>
</tr>
<tr class="row-even"><td><p>tabulate</p></td>
<td><p>algo_lib.Tabulate</p></td>
<td><p>Cppstack</p></td>
<td><p></p></td>
<td><p>Provides default name for variables of this type</p></td>
</tr>
<tr class="row-odd"><td><p>log_str</p></td>
<td><p>algo.cstring</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>bh_timehook</p></td>
<td><p>algo_lib.FTimehook</p></td>
<td><p>Bheap</p></td>
<td><p></p></td>
<td><p>Binary heap of time-based callbacks</p></td>
</tr>
<tr class="row-odd"><td><p>epoll_fd</p></td>
<td><p>i32</p></td>
<td><p>Val</p></td>
<td><p>-1</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>lock_core</p></td>
<td><p>algo_lib.FLockfile</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>c_timehook</p></td>
<td><p>algo_lib.FTimehook</p></td>
<td><p>Ptr</p></td>
<td><p></p></td>
<td><p>TEMP: here only for dependency reasons</p></td>
</tr>
<tr class="row-even"><td><p>_timehook</p></td>
<td><p>algo_lib.FTimehook</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Keep me here i’m special</p></td>
</tr>
<tr class="row-odd"><td><p>dispsigcheck</p></td>
<td><p>algo_lib.FDispsigcheck</p></td>
<td><p>Lary</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>ind_dispsigcheck</p></td>
<td><p>algo_lib.FDispsigcheck</p></td>
<td><p>Thash</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>imdb</p></td>
<td><p>algo_lib.FImdb</p></td>
<td><p>Inlary</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>ind_imdb</p></td>
<td><p>algo_lib.FImdb</p></td>
<td><p>Thash</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>malloc</p></td>
<td><p>u8</p></td>
<td><p>Malloc</p></td>
<td><p></p></td>
<td><p>Pool for everything else</p></td>
</tr>
<tr class="row-even"><td><p>txtcell</p></td>
<td><p>algo_lib.FTxtcell</p></td>
<td><p>Tpool</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>txtrow</p></td>
<td><p>algo_lib.FTxtrow</p></td>
<td><p>Tpool</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>txttbl</p></td>
<td><p>algo_lib.FTxttbl</p></td>
<td><p>Cppstack</p></td>
<td><p></p></td>
<td><p>Provides default name for variables of this type</p></td>
</tr>
<tr class="row-odd"><td><p>argc</p></td>
<td><p>i32</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Argc from main</p></td>
</tr>
<tr class="row-even"><td><p>argv</p></td>
<td><p>char*</p></td>
<td><p>Ptr</p></td>
<td><p></p></td>
<td><p>Argv from main</p></td>
</tr>
<tr class="row-odd"><td><p>xref_error</p></td>
<td><p>algo.cstring</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>errtext</p></td>
<td><p>algo.cstring</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>varlenbuf</p></td>
<td><p>algo.ByteAry</p></td>
<td><p>Ptr</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>replvar</p></td>
<td><p>algo_lib.FReplvar</p></td>
<td><p>Tpool</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>cmdline</p></td>
<td><p>algo_lib.Cmdline</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>h_fatalerror</p></td>
<td><p></p></td>
<td><p>Hook</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>giveup_count</p></td>
<td><p>u64</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>fatalerr</p></td>
<td><p>algo.cstring</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>stringtofile_nwrite</p></td>
<td><p>u32</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Global counter of # of files written</p></td>
</tr>
<tr class="row-even"><td><p>giveup_time</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p>true</p></td>
<td><p>Trigger for giveup_time loop</p></td>
</tr>
<tr class="row-odd"><td><p>sleep_roundup</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>last_sleep_clocks</p></td>
<td><p>u64</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>msgtemp</p></td>
<td><p>algo.ByteAry</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>show_insert_err_lim</p></td>
<td><p>u32</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>DigitChar</p></td>
<td><p>algo.Charset</p></td>
<td><p>Charset</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>NewLineChar</p></td>
<td><p>algo.Charset</p></td>
<td><p>Charset</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>WhiteChar</p></td>
<td><p>algo.Charset</p></td>
<td><p>Charset</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>DirSep</p></td>
<td><p>algo.Charset</p></td>
<td><p>Charset</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>IdentChar</p></td>
<td><p>algo.Charset</p></td>
<td><p>Charset</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>IdentStart</p></td>
<td><p>algo.Charset</p></td>
<td><p>Charset</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>AlphaChar</p></td>
<td><p>algo.Charset</p></td>
<td><p>Charset</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>HexChar</p></td>
<td><p>algo.Charset</p></td>
<td><p>Charset</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>UpperChar</p></td>
<td><p>algo.Charset</p></td>
<td><p>Charset</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>CmdLineNameBreak</p></td>
<td><p>algo.Charset</p></td>
<td><p>Charset</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>CmdLineValueBreak</p></td>
<td><p>algo.Charset</p></td>
<td><p>Charset</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>WordSeparator</p></td>
<td><p>algo.Charset</p></td>
<td><p>Charset</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>LowerChar</p></td>
<td><p>algo.Charset</p></td>
<td><p>Charset</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Urlsafe</p></td>
<td><p>algo.Charset</p></td>
<td><p>Charset</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>winjob</p></td>
<td><p>u64</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Prlog</p></td>
<td><p>algo.PrlogFcn</p></td>
<td><p>Val</p></td>
<td><p>algo::Prlog</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>logcat</p></td>
<td><p>algo_lib.FLogcat</p></td>
<td><p>Inlary</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>ind_logcat</p></td>
<td><p>algo_lib.FLogcat</p></td>
<td><p>Thash</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>show_tstamp</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>tstamp_fmt</p></td>
<td><p>algo.cstring</p></td>
<td><p>Val</p></td>
<td><p>“%Y/%m/%dT%H:%M:%S.%.6X “</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>fildes_stdout</p></td>
<td><p>algo.Fildes</p></td>
<td><p>Val</p></td>
<td><p>1</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>fildes_stderr</p></td>
<td><p>algo.Fildes</p></td>
<td><p>Val</p></td>
<td><p>2</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>pending_eol</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>exec_args</p></td>
<td><p>algo.cstring</p></td>
<td><p>Tary</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>dirstack</p></td>
<td><p>algo.cstring</p></td>
<td><p>Tary</p></td>
<td><p></p></td>
<td><p>Directory stack for PushDir/PopDir</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-fdispsigcheck">
<h3>algo_lib.FDispsigcheck -<a class="headerlink" href="#algo-lib-fdispsigcheck" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-fdispsigcheck"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>msghdr</p></td>
<td><p><a class="reference internal" href="../../ssimdb/dmmeta/dispsigcheck.html"><span class="std std-doc">dmmeta.Dispsigcheck</span></a></p></td>
<td><p>Base</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-ffildes-wrapper-for-unix-file-descritor-call-close-on-uninit">
<h3>algo_lib.FFildes - Wrapper for unix file descritor, call close() on Uninit<a class="headerlink" href="#algo-lib-ffildes-wrapper-for-unix-file-descritor-call-close-on-uninit" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-ffildes"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>fd</p></td>
<td><p>algo.Fildes</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-fimdb">
<h3>algo_lib.FImdb -<a class="headerlink" href="#algo-lib-fimdb" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-fimdb"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>msghdr</p></td>
<td><p>algo.Imdb</p></td>
<td><p>Base</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-fimtable">
<h3>algo_lib.FImtable -<a class="headerlink" href="#algo-lib-fimtable" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-fimtable"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>msghdr</p></td>
<td><p>algo.Imtable</p></td>
<td><p>Base</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-fiohook">
<h3>algo_lib.FIohook -<a class="headerlink" href="#algo-lib-fiohook" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-fiohook"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>callback</p></td>
<td><p>algo_lib.FIohook</p></td>
<td><p>Hook</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>fildes</p></td>
<td><p>algo.Fildes</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>File descriptor, possibly in epoll</p></td>
</tr>
<tr class="row-even"><td><p>evt_flags</p></td>
<td><p>algo.IOEvtFlags</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Flags subscribed to</p></td>
</tr>
<tr class="row-odd"><td><p>flags</p></td>
<td><p>algo.IOEvtFlags</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Flags during callback</p></td>
</tr>
<tr class="row-even"><td><p>in_epoll</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Registered in epoll?</p></td>
</tr>
<tr class="row-odd"><td><p>nodelete</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p>false</p></td>
<td><p>File descriptor is shared – do not close()</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-flockfile">
<h3>algo_lib.FLockfile -<a class="headerlink" href="#algo-lib-flockfile" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-flockfile"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>filename</p></td>
<td><p>algo.cstring</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>fildes</p></td>
<td><p>algo_lib.FFildes</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-flogcat">
<h3>algo_lib.FLogcat -<a class="headerlink" href="#algo-lib-flogcat" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-flogcat"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>base</p></td>
<td><p><a class="reference internal" href="../../ssimdb/dmmeta/logcat.html"><span class="std std-doc">dmmeta.Logcat</span></a></p></td>
<td><p>Base</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-freplvar">
<h3>algo_lib.FReplvar -<a class="headerlink" href="#algo-lib-freplvar" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-freplvar"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>p_replscope</p></td>
<td><p>algo_lib.Replscope</p></td>
<td><p>Upptr</p></td>
<td><p></p></td>
<td><p>Parent</p></td>
</tr>
<tr class="row-odd"><td><p>key</p></td>
<td><p>algo.cstring</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Key</p></td>
</tr>
<tr class="row-even"><td><p>value</p></td>
<td><p>algo.cstring</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Value</p></td>
</tr>
<tr class="row-odd"><td><p>nsubst</p></td>
<td><p>i32</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Number of times variable accessed</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-ftempfile">
<h3>algo_lib.FTempfile -<a class="headerlink" href="#algo-lib-ftempfile" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-ftempfile"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>filename</p></td>
<td><p>algo.cstring</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>fildes</p></td>
<td><p>algo_lib.FFildes</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-ftimehook">
<h3>algo_lib.FTimehook -<a class="headerlink" href="#algo-lib-ftimehook" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-ftimehook"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>time</p></td>
<td><p>algo.SchedTime</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Time the hook is scheduled to expire</p></td>
</tr>
<tr class="row-odd"><td><p>delay</p></td>
<td><p>algo.SchedTime</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Minimum delay between iterations</p></td>
</tr>
<tr class="row-even"><td><p>hook</p></td>
<td><p>algo_lib.FTimehook</p></td>
<td><p>Hook</p></td>
<td><p></p></td>
<td><p>Function to call</p></td>
</tr>
<tr class="row-odd"><td><p>recurrent</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>If true, automatically reschedule</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-ftxtcell">
<h3>algo_lib.FTxtcell -<a class="headerlink" href="#algo-lib-ftxtcell" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-ftxtcell"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>p_txtrow</p></td>
<td><p>algo_lib.FTxtrow</p></td>
<td><p>Upptr</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>justify</p></td>
<td><p>algo.TextJust</p></td>
<td><p>Val</p></td>
<td><p>algo_TextJust_j_left</p></td>
<td><p>Justification of text within cell</p></td>
</tr>
<tr class="row-even"><td><p>style</p></td>
<td><p>algo.TermStyle</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Text style</p></td>
</tr>
<tr class="row-odd"><td><p>span</p></td>
<td><p>i32</p></td>
<td><p>Val</p></td>
<td><p>1</p></td>
<td><p>Span in columns</p></td>
</tr>
<tr class="row-even"><td><p>width</p></td>
<td><p>i32</p></td>
<td><p>Val</p></td>
<td><p>0</p></td>
<td><p>Width in chars</p></td>
</tr>
<tr class="row-odd"><td><p>text</p></td>
<td><p>algo.cstring</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Cell contents</p></td>
</tr>
<tr class="row-even"><td><p>rsep</p></td>
<td><p>algo.cstring</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Right separator</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-ftxtrow-table-row-todo-absolute-index-for-cells">
<h3>algo_lib.FTxtrow - Table row. Todo: absolute index for cells?<a class="headerlink" href="#algo-lib-ftxtrow-table-row-todo-absolute-index-for-cells" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-ftxtrow"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>p_txttbl</p></td>
<td><p>algo_lib.FTxttbl</p></td>
<td><p>Upptr</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>select</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p>true</p></td>
<td><p>Select for processing</p></td>
</tr>
<tr class="row-even"><td><p>ishdr</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p>false</p></td>
<td><p>Is header row</p></td>
</tr>
<tr class="row-odd"><td><p>sortkey</p></td>
<td><p>algo.cstring</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Sort key</p></td>
</tr>
<tr class="row-even"><td><p>c_txtcell</p></td>
<td><p>algo_lib.FTxtcell</p></td>
<td><p>Ptrary</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-ftxttbl-table-row-todo-absolute-index-for-cells">
<h3>algo_lib.FTxttbl - Table row. Todo: absolute index for cells?<a class="headerlink" href="#algo-lib-ftxttbl-table-row-todo-absolute-index-for-cells" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-ftxttbl"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>c_txtrow</p></td>
<td><p>algo_lib.FTxtrow</p></td>
<td><p>Ptrary</p></td>
<td><p></p></td>
<td><p>Array of cells</p></td>
</tr>
<tr class="row-odd"><td><p>col_space</p></td>
<td><p>i32</p></td>
<td><p>Val</p></td>
<td><p>2</p></td>
<td><p>Extra space between columns</p></td>
</tr>
<tr class="row-even"><td><p>hdr_row</p></td>
<td><p>i32</p></td>
<td><p>Val</p></td>
<td><p>0</p></td>
<td><p>Index of header row (default -1)</p></td>
</tr>
<tr class="row-odd"><td><p>normalized</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Cell widths computed</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-intextfile">
<h3>algo_lib.InTextFile -<a class="headerlink" href="#algo-lib-intextfile" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-intextfile"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>file</p></td>
<td><p>algo_lib.FFildes</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>own_fd</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p>true</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>line_buf</p></td>
<td><p>algo.LineBuf</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>temp_buf</p></td>
<td><p>u8</p></td>
<td><p>Inlary</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-mmap">
<h3>algo_lib.Mmap -<a class="headerlink" href="#algo-lib-mmap" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-mmap"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>mem</p></td>
<td><p>algo.memptr</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Memory that has been mmap()ed</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-mmapfile">
<h3>algo_lib.MmapFile -<a class="headerlink" href="#algo-lib-mmapfile" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-mmapfile"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>map</p></td>
<td><p>algo_lib.Mmap</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Pointer to shared memory</p></td>
</tr>
<tr class="row-odd"><td><p>fd</p></td>
<td><p>algo_lib.FFildes</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Associated file descriptor</p></td>
</tr>
<tr class="row-even"><td><p>text</p></td>
<td><p>algo.strptr</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Alias to map.mem, accessible as text</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-regx-parsed-regular-expression">
<h3>algo_lib.Regx - Parsed regular expression<a class="headerlink" href="#algo-lib-regx-parsed-regular-expression" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-regx"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>expr</p></td>
<td><p>algo.cstring</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Original string expression in some unspecified regx dialect</p></td>
</tr>
<tr class="row-odd"><td><p>state</p></td>
<td><p>algo_lib.RegxState</p></td>
<td><p>Tary</p></td>
<td><p></p></td>
<td><p>Array of states</p></td>
</tr>
<tr class="row-even"><td><p>front</p></td>
<td><p>algo_lib.Bitset</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Temporary front (for matching)</p></td>
</tr>
<tr class="row-odd"><td><p>next_front</p></td>
<td><p>algo_lib.Bitset</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Next front (for matching)</p></td>
</tr>
<tr class="row-even"><td><p>start</p></td>
<td><p>algo_lib.Bitset</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Set of starting states</p></td>
</tr>
<tr class="row-odd"><td><p>accept</p></td>
<td><p>i32</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Accept state</p></td>
</tr>
<tr class="row-even"><td><p>parseerror</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Non-fatal error while parsing</p></td>
</tr>
<tr class="row-odd"><td><p>accepts_all</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>True if this regx matches anything</p></td>
</tr>
<tr class="row-even"><td><p>literal</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>True if expr may be matched literally (set during translation)</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-regxexpr">
<h3>algo_lib.RegxExpr -<a class="headerlink" href="#algo-lib-regxexpr" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-regxexpr"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>type</p></td>
<td><p>algo_lib.RegxToken</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>in</p></td>
<td><p>i32</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Input state</p></td>
</tr>
<tr class="row-even"><td><p>out</p></td>
<td><p>algo_lib.Bitset</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Output states</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-regxparse-function-to-parse-regx">
<h3>algo_lib.RegxParse - Function to parse regx<a class="headerlink" href="#algo-lib-regxparse-function-to-parse-regx" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-regxparse"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>input</p></td>
<td><p>algo.strptr</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Input string</p></td>
</tr>
<tr class="row-odd"><td><p>p_regx</p></td>
<td><p>algo_lib.Regx</p></td>
<td><p>Upptr</p></td>
<td><p></p></td>
<td><p>Output regx – by reference</p></td>
</tr>
<tr class="row-even"><td><p>ary_expr</p></td>
<td><p>algo_lib.RegxExpr</p></td>
<td><p>Tary</p></td>
<td><p></p></td>
<td><p>Output expression array</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-regxstate">
<h3>algo_lib.RegxState -<a class="headerlink" href="#algo-lib-regxstate" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-regxstate"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ch_class</p></td>
<td><p>algo.i32_Range</p></td>
<td><p>Tary</p></td>
<td><p></p></td>
<td><p>What to match</p></td>
</tr>
<tr class="row-odd"><td><p>out</p></td>
<td><p>algo_lib.Bitset</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Where to go on a match</p></td>
</tr>
<tr class="row-even"><td><p>accept_all</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Regx always succeeds from here</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-regxtoken">
<h3>algo_lib.RegxToken -<a class="headerlink" href="#algo-lib-regxtoken" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-regxtoken"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>type</p></td>
<td><p>i32</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>State</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-replscope">
<h3>algo_lib.Replscope -<a class="headerlink" href="#algo-lib-replscope" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-replscope"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>eatcomma</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p>true</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>fatal</p></td>
<td><p>bool</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>Kill process on bad substitution</p></td>
</tr>
<tr class="row-even"><td><p>ind_replvar</p></td>
<td><p>algo_lib.FReplvar</p></td>
<td><p>Thash</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-shhdr">
<h3>algo_lib.ShHdr -<a class="headerlink" href="#algo-lib-shhdr" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-shhdr"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>magic</p></td>
<td><p>u32</p></td>
<td><p>Val</p></td>
<td><p>0x09202017</p></td>
<td><p>Signature</p></td>
</tr>
<tr class="row-odd"><td><p>name</p></td>
<td><p>algo.RspaceStr32</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p>User defined name</p></td>
</tr>
<tr class="row-even"><td><p>dataoffset</p></td>
<td><p>u64</p></td>
<td><p>Val</p></td>
<td><p>4096</p></td>
<td><p>Offset to beginning of data</p></td>
</tr>
<tr class="row-odd"><td><p>eof</p></td>
<td><p>u64</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>sof</p></td>
<td><p>u64</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>bufsize</p></td>
<td><p>u64</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>pad</p></td>
<td><p>u64</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-srng-command-function-a-single-word">
<h3>algo_lib.Srng - Command function, a single word<a class="headerlink" href="#algo-lib-srng-command-function-a-single-word" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-srng"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>z</p></td>
<td><p>u32</p></td>
<td><p>Val</p></td>
<td><p>123</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>w</p></td>
<td><p>u32</p></td>
<td><p>Val</p></td>
<td><p>456</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="algo-lib-tabulate-function-to-tabulate-a-string">
<h3>algo_lib.Tabulate - Function to tabulate a string<a class="headerlink" href="#algo-lib-tabulate-function-to-tabulate-a-string" title="Permalink to this heading">#</a></h3>
<p><a href="#algo_lib-tabulate"></a></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/ctype.html"><span class="std std-doc">Type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="../../ssimdb/dmmeta/reftype.html"><span class="std std-doc">Reftype</span></a></p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>width</p></td>
<td><p>i32</p></td>
<td><p>Tary</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>temp</p></td>
<td><p>algo.cstring</p></td>
<td><p>Val</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this heading">#</a></h2>
<p><a href="#functions"></a>
Functions exported from this namespace:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">gitinfo_Get</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ShowStackTrace</span><span class="p">(</span><span class="kt">uintptr_t</span><span class="w"> </span><span class="n">start_ip</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FatalErrorExit</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="n">NORETURN</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// catch fatal signals and show backtrace</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SetupFatalSignals</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// print base64-encoded string</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintBase64</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">InitCpuHz</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="o">=</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">CRC32Step</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">old</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">len</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// This is a low-quality random number generator suitable for simple tasks...</span>
<span class="c1">// Set seed for srng state</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">srng_SetSeed</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Srng</span><span class="w"> </span><span class="o">&amp;</span><span class="n">srng</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">z</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">w</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// retrieve random u32</span>
<span class="n">u32</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">srng_GetU32</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Srng</span><span class="w"> </span><span class="o">&amp;</span><span class="n">srng</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// retrieve random double in 0..1 range</span>
<span class="kt">double</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">srng_GetDouble</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Srng</span><span class="w"> </span><span class="o">&amp;</span><span class="n">srng</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Normalize decimal, so mantissa does not contain tail 0</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Decimal_Normalize</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Decimal</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Try parse Decimal [+-][0-9]*[.][0-9]*</span>
<span class="c1">// Stop after first non-conforming char, error if no digit has been met.</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TryParseDecimal</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">iter</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Decimal</span><span class="w"> </span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Print Decimal</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Decimal_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Decimal</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Read Decimal from string</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Decimal_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Decimal</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Convert Decimal to double</span>
<span class="kt">double</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Decimal_GetDouble</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Decimal</span><span class="w"> </span><span class="n">parent</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Convert double to Decimal</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Decimal_SetDouble</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Decimal</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadField</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Reset value of algo_lib::_db.errtext and return it for further editing</span>
<span class="c1">// Usage:</span>
<span class="c1">// algo_lib::ResetBadTags() &lt;&lt; ...errors...</span>
<span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">ResetErrtext</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Add key-value pair to algo_lib::_db.errtext</span>
<span class="c1">// Error text beyond a reasonable limit is discarded -- keep errors short!</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SaveBadTag</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Better name than SaveBadTAg</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">AppendErrtext</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Retrieve whatever bad tags were saved with SaveBadTag,</span>
<span class="c1">// and clear the state.</span>
<span class="c1">// SaveBadTag is typically called by string read functions that encounter</span>
<span class="c1">// something unreadable. This is the only way to retrieve that</span>
<span class="c1">// additional information</span>
<span class="n">tempstr</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DetachBadTags</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Increment algo_lib::_db.trace.tot_insert_err</span>
<span class="c1">// And print accumulated &#39;bad tags&#39; using prerr.</span>
<span class="c1">// if SetShowInsertErrLim was previously called.</span>
<span class="c1">// Note: printing is disabled by default, and must be explicitly enabled.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">NoteInsertErr</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Specify how many times NoteInsertErr can use prerr</span>
<span class="c1">// to output.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SetShowInsertErrLim</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">ToCstr</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">to</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">x</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Copy file FROM to file TO, creating the file if necessary</span>
<span class="c1">// with mode MODE.</span>
<span class="c1">// Throw exception on failure.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">CopyFileX</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">to</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">mode</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Read all bytes from IN_FD and copy them to OUT_FD, using read/write.</span>
<span class="c1">// Return success status.</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">CopyFd</span><span class="p">(</span><span class="n">Fildes</span><span class="w"> </span><span class="n">in_fd</span><span class="p">,</span><span class="w"> </span><span class="n">Fildes</span><span class="w"> </span><span class="n">out_fd</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Test whether FNAME refers to a valid filesystem entity (file, directory, or special file)</span>
<span class="c1">// If FNAME is a soft link, then TRUE is returned even if the link points to</span>
<span class="c1">// a non-existent location.</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FileObjectExistsQ</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">fname</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Test whether PATH is an existing directory</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">DirectoryQ</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">path</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Test if F refers to an existing regular file (i.e. not a special file or directory)</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FileQ</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">fname</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Wrapper for c library realpath function.</span>
<span class="c1">// On Windows: read path and expand all soft links along the way; Also eat ..&#39;s.</span>
<span class="c1">// The following table shows successive values of LEFT and RIGHT as the loop executes</span>
<span class="c1">// ExpandLinks(&quot;bin/amc&quot;)</span>
<span class="c1">// LEFT                                   RIGHT</span>
<span class="c1">// bin                                    amc</span>
<span class="c1">// bin/amc</span>
<span class="c1">// link=../build/release/amc</span>
<span class="c1">// bin                                    ../build/release/amc</span>
<span class="c1">// build/release/amc</span>
<span class="c1">// build                                  release/amc</span>
<span class="c1">// build/release                          amc</span>
<span class="c1">// link=CYGWIN_NT-cl.release-x86_64</span>
<span class="c1">// build                                  CYGWIN_NT-cl.release-x86_64/amc</span>
<span class="c1">// build/CYGWIN_NT-cl.release-x86_64      amc</span>
<span class="c1">// build/CYGWIN_NT-cl.release-x86_64/amc</span>
<span class="n">tempstr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetFullPath</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">path</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Delete file F.</span>
<span class="c1">// Return success code.</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">DeleteFile</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">f</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Remove everything up to and including the last slash in A,</span>
<span class="c1">// and return that. This is equivalent to Pathcomp(A,&quot;/RR&quot;);</span>
<span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StripDirName</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Strip last slash and everything after it in A,</span>
<span class="c1">// and return that. This is equivalent to Pathcomp(A,&quot;/RL&quot;);</span>
<span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetDirName</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Recursively create directory S and all of its components,</span>
<span class="c1">// using mode MODE for newly created directories.</span>
<span class="c1">// if DO_THROW is specified, throw exceptions on failure.</span>
<span class="c1">// If DO_THROW is false, return success value.</span>
<span class="c1">// TODO: test on windows</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">CreateDirRecurse</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">do_throw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mo">0755</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Strip last component of a path.</span>
<span class="c1">// If the path ends in a slash, the slash is stripped as well.</span>
<span class="c1">// So, StripDirComponent(&quot;abcde/d/&quot;) -&gt; abcde/</span>
<span class="c1">// So, StripDirComponent(&quot;abcde/d&quot;) -&gt; abcde/</span>
<span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StripDirComponent</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Combine paths A and B, placing a slash in the middle if necessary.</span>
<span class="c1">// If B is already an absolute pathname, just return that.</span>
<span class="n">tempstr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">DirFileJoin</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Remove pathname A with any extension stripped.</span>
<span class="c1">// StripExt(&quot;abcd/e.txt&quot;) -&gt; &quot;abcd/e&quot;</span>
<span class="c1">// StripExt(&quot;abcd/e.txt/f&quot;) -&gt; &quot;abcd/e/f&quot;</span>
<span class="c1">// (The last slash shields the extension, so this function has no corresponding</span>
<span class="c1">// Pathcomp expression)</span>
<span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StripExt</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Return extension of pathname A, including the dot.</span>
<span class="c1">// GetFileExt(&quot;abcd/e.txt&quot;) -&gt; &quot;.txt&quot;</span>
<span class="c1">// GetFileExt(&quot;abcd/e.txt/f&quot;) -&gt; &quot;&quot;</span>
<span class="c1">// This function is equivalent to Pathcomp(A,&quot;/RR.RR&quot;)</span>
<span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetFileExt</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Check if path PATH is an absolute pathname,</span>
<span class="c1">// meaning that it starts with / or ~</span>
<span class="c1">// On windows, the same test is in force, but in addition any pathname</span>
<span class="c1">// where the second character is a : (e.g. c:\blah) is recognized as an absolute</span>
<span class="c1">// path name</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">AbsolutePathQ</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">path</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Replace extension in pathname A with string B.</span>
<span class="n">tempstr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ReplaceExt</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Return current directory name.</span>
<span class="n">tempstr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetCurDir</span><span class="p">()</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Change current directory to DIR and return success status</span>
<span class="c1">// errno is set as witih chdir() call</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SetCurDir</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_dir</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Calculate size of file referred to by FILENAME.</span>
<span class="c1">// If file is not found or an error occurs, 0 is returned.</span>
<span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetFileSize</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">filename</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Return size of file referred to by FD.</span>
<span class="c1">// On error, return zero.</span>
<span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetFileSize</span><span class="p">(</span><span class="n">Fildes</span><span class="w"> </span><span class="n">fd</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Strip directory name in PATH. and return the rest</span>
<span class="c1">// This is equivalent to Pathcomp(path,&quot;/RR&quot;);</span>
<span class="c1">// c:\dir\file.txt -&gt; file</span>
<span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetFileName</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">path</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// F  (&quot;a.txt&quot;,&quot;b&quot;) -&gt; &quot;b.txt&quot;;</span>
<span class="c1">// F  (&quot;a.txt&quot;,&quot;/b.jpg&quot;) -&gt; &quot;b.jpg.txt&quot;</span>
<span class="n">tempstr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ReplaceFileName</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ModTime</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">filename</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RemDir</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Destroy directory NAME, and any subdirectories.</span>
<span class="c1">// If REMOVE_TOPMOST is specified, delete the directory as well,</span>
<span class="c1">// (otherwise, only the contents are deleted).</span>
<span class="c1">// If filesystem entry exists and is NOT a directory, return true.</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RemDirRecurse</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">remove_topmost</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">dir_handle_Cleanup</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">DirEntry</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dir_entry</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">fildes_Cleanup</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FLockfile</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lockfile</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Open file FILENAME with flags FLAGS, return resulting file descriptor</span>
<span class="c1">// Possible flags:</span>
<span class="c1">// write   -&gt; open file for writing, create file if missing</span>
<span class="c1">// if write is specified, and append is not, then file is truncated upon opening</span>
<span class="c1">// append  -&gt; open file in append mode (automatically sets &#39;write&#39; flag)</span>
<span class="c1">// in append mode, seek to end of file after opening</span>
<span class="c1">// read    -&gt; open flag in read-only mode</span>
<span class="c1">// _throw  -&gt; throw exception if an error occurs</span>
<span class="c1">// NOTE: this function doesn&#39;t set O_APPEND flag, because it doesn&#39;t work&#39;</span>
<span class="c1">// on NFS mounted filesystems.</span>
<span class="c1">// Without O_APPEND, two processes cannot reliably append to the same file.</span>
<span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">OpenFile</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="n">flags</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Write BYTES to file FD;</span>
<span class="c1">// If FD is non-blocking, the function may fail.</span>
<span class="c1">// Throw exception on error. Upon completion, the function has succeeded</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WriteFileX</span><span class="p">(</span><span class="n">Fildes</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="n">memptr</span><span class="w"> </span><span class="n">bytes</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Set file position of FD to OFF</span>
<span class="c1">// Return success status</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SeekFile</span><span class="p">(</span><span class="n">Fildes</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">off</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Return current file position on FD</span>
<span class="c1">// There is no provision to return an error code; only the offset is returned</span>
<span class="c1">// (zero on failure?)</span>
<span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetPos</span><span class="p">(</span><span class="n">Fildes</span><span class="w"> </span><span class="n">fd</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Truncate file indicated by FD to size SIZE.</span>
<span class="c1">// Return success status</span>
<span class="c1">// TODO: Test on windows</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TruncateFile</span><span class="p">(</span><span class="n">Fildes</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Return contents of file as string.</span>
<span class="c1">// File is trimmed at first NULL character</span>
<span class="c1">// Implementation note:</span>
<span class="c1">// linux files in /proc directory lie about their size</span>
<span class="c1">// and are sometimes zero-terminated.</span>
<span class="c1">// File is read using a &quot;safe&quot; method of succesively calling read.</span>
<span class="c1">// relying on reported file size or using mmap does not work in all cases</span>
<span class="c1">// Todo: test on windows</span>
<span class="k">const</span><span class="w"> </span><span class="n">tempstr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FileToString</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">fname</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="n">flags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo_FileFlags__throw</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Read all bytes from IN_FD as a string.</span>
<span class="c1">// NUL characters in file will appear in the string --</span>
<span class="c1">// TODO: add option to sanitize string</span>
<span class="c1">// If FD is non-blocking, reading will terminate at first EAGAIN.</span>
<span class="c1">// If an error occurs, all data prior to occurrence of the error is returned.</span>
<span class="k">const</span><span class="w"> </span><span class="n">tempstr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FdToString</span><span class="p">(</span><span class="n">Fildes</span><span class="w"> </span><span class="n">in_fd</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">CreateReplacementFile</span><span class="p">(</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">oldfname</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">newfname</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dfltmode</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Compare STR to contents of FILENAME.</span>
<span class="c1">// If they differ, use a tempfile construction to atomically UPDATE file</span>
<span class="c1">// with contents of STR.</span>
<span class="c1">// NOTE: This will result in a new inode for file!</span>
<span class="c1">// No exceptions are thrown. If the function fails, check errno.</span>
<span class="c1">// Default mode for new file is provided by MODE.</span>
<span class="c1">// If the file is being replaced, MODE is ignored and copied from the old file.</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SafeStringToFile</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dfltmode</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SafeStringToFile</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">filename</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Replace contents of file FILENAME with string STR.</span>
<span class="c1">// If CHECK_SAME is specified, first compare contents and do not perform a write</span>
<span class="c1">// if the contents are the same.</span>
<span class="c1">// FLAGS may specify algo_FileFlags__throw, in which case an exception is thrown on error</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringToFile</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="n">flags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo_FileFlags__throw</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">check_same</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">OpenWrite</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="n">flags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="p">())</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">OpenRead</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="w"> </span><span class="n">flags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FileFlags</span><span class="p">())</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Write NWRITE bytes starting at START to file descriptor FILDES.</span>
<span class="c1">// Go until all bytes are written on an error occurs.</span>
<span class="c1">// If FILDES is non-blocking, spin indefinitely until bytes do get through.</span>
<span class="c1">// At the end, return success status (TRUE if all bytes written)</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WriteFile</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w"> </span><span class="n">fildes</span><span class="p">,</span><span class="w"> </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nwrite</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Dir_curs_Next</span><span class="p">(</span><span class="n">Dir_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Begin scanning files matching shell pattern PATTERN.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Dir_curs_Reset</span><span class="p">(</span><span class="n">Dir_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">pattern</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Dir_curs_ValidQ</span><span class="p">(</span><span class="n">Dir_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">DirEntry</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo</span><span class="o">::</span><span class="n">Dir_curs_Access</span><span class="p">(</span><span class="n">Dir_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Set blocking mode on file descriptor FD to BLOCKING</span>
<span class="c1">// Return result of FCNTL (0==success)</span>
<span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SetBlockingMode</span><span class="p">(</span><span class="n">Fildes</span><span class="w"> </span><span class="n">fildes</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">blocking</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// If PATH is an existing path, leave it unchanged</span>
<span class="c1">// On Windows, If PATH.EXE is an existing path, return that</span>
<span class="c1">// Return true if file exists</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">TryExeSuffix</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">path</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Update FNAME to be a filename that can be passed to Unix exec call.</span>
<span class="c1">// If FNAME is an absolute path, don&#39;t perform a search</span>
<span class="c1">// If FNAME is a relative path, perform a search using the PATH environment</span>
<span class="c1">// the first executable file that&#39;s found is the result.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">ResolveExecFname</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">fname</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Read soft link and return resulting path.</span>
<span class="c1">// If PATH is not a soft link, return empty string</span>
<span class="c1">// This is not the function to resolve symlinks (if link temp/x points to y, then</span>
<span class="c1">// this function will return string &quot;y&quot;, not &quot;temp/y&quot;), use GetFullPath for</span>
<span class="c1">// full service</span>
<span class="n">tempstr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLink</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">path</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Examine string VALUE</span>
<span class="c1">// Determine if it needs quoting as an ssim key/value,</span>
<span class="c1">// and return appropriate quote character. If no quote character is needed,</span>
<span class="c1">// return NUL.</span>
<span class="kt">char</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">PickSsimQuoteChar</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">char_ReadStrptrMaybe</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">float_ReadStrptrMaybe</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">double_ReadStrptrMaybe</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">bool_ReadStrptrMaybe</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Read time from STR to ROW</span>
<span class="c1">// Return success code.</span>
<span class="c1">// If funciton does not succeed, ROW is not modified</span>
<span class="c1">// Several formats are supported:</span>
<span class="c1">// %Y-%m-%dT%T</span>
<span class="c1">// %Y-%m-%d %T</span>
<span class="c1">// %Y/%m/%d %T</span>
<span class="c1">// %Y-%m-%d</span>
<span class="c1">// %Y/%m/%d</span>
<span class="c1">// Where %T is %H:%M:%S.%X</span>
<span class="c1">// And %X is the nanosecond portion</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff_ReadStrptrMaybe</span><span class="p">(</span><span class="n">UnDiff</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixTime_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">UnixTime</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Parse a URL from string STR to OUT.</span>
<span class="c1">// The format of a URL is</span>
<span class="c1">// protocol://user:password@somehost:port&lt;-source_interface/dir1/dir2</span>
<span class="c1">// URL fields are</span>
<span class="c1">// protocol, username, password, server, port, host, source_addr_host, dir</span>
<span class="c1">// </span>
<span class="c1">// </span>
<span class="c1">// Windows pathnames are supported, e.g.</span>
<span class="c1">// when parsing</span>
<span class="c1">// file://c:/dir/dir2</span>
<span class="c1">// c: will not be parsed as a username, but as part of the pathname.</span>
<span class="c1">// </span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">URL_ReadStrptrMaybe</span><span class="p">(</span><span class="n">URL</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">ietf</span><span class="o">::</span><span class="n">Ipv4_ReadStrptrMaybe</span><span class="p">(</span><span class="n">ietf</span><span class="o">::</span><span class="n">Ipv4</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ip</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Parse an IpV4 address from STR to IP</span>
<span class="c1">// Return success value. If not successful, output value is not modified.</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">ietf</span><span class="o">::</span><span class="n">Ipv4Addr_ReadStrptrMaybe</span><span class="p">(</span><span class="n">ietf</span><span class="o">::</span><span class="n">Ipv4Addr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ip</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Ipmask_ReadStrptrMaybe</span><span class="p">(</span><span class="n">Ipmask</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Ptr_Print</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">ptr</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// pads with zeros on the left so that at least &#39;atleast&#39; characters are output.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">i64_PrintPadLeft</span><span class="p">(</span><span class="n">i64</span><span class="w"> </span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">atleast</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Assuming SRC is a number, Transfer SRC to OUT, inserting</span>
<span class="c1">// commas between groups of 3 numbers.</span>
<span class="c1">// 0 -&gt; 0</span>
<span class="c1">// 11 -&gt; 11</span>
<span class="c1">// 222 -&gt; 222</span>
<span class="c1">// 3333 -&gt; 3,333</span>
<span class="c1">// 4567.3 -&gt; 4,567.3</span>
<span class="c1">// 1.11111 -&gt; 1.11111</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintWithCommas</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Assuming STR is a number, remove any unnecessary characters from the right of it.</span>
<span class="c1">// Unnecessary characters are trailing zeros after a dot.</span>
<span class="c1">// If the string contains no dot, nothing is done.</span>
<span class="c1">// If a trailing &#39;.&#39; or a single &#39;-&#39; remains, it is removed as well.</span>
<span class="c1">// If the resulting string is empty, a single zero is returned.</span>
<span class="c1">// </span>
<span class="c1">// 0         -&gt; 0</span>
<span class="c1">// 0.1       -&gt; 0.1</span>
<span class="c1">// 0.0       -&gt; 0</span>
<span class="c1">// 12345.000 -&gt; 12345</span>
<span class="c1">// -0        -&gt; -0</span>
<span class="c1">// .0        -&gt; 0</span>
<span class="c1">// -.0       -&gt; 0</span>
<span class="c1">// -0.0      -&gt; -0</span>
<span class="c1">// -10.0     -&gt; -10</span>
<span class="c1">// -&gt;            empty string is not touched</span>
<span class="c1">// Since the string may be edited, you can&#39;t pass compile-time constants</span>
<span class="c1">// to this function. In fact the only reason this function is not private to algo_lib</span>
<span class="c1">// is because of unit testing.</span>
<span class="c1">// If the initial string is empty, nothing is done.</span>
<span class="c1">// BEWARE: this function will happily convert 1e+60 to 1e+6</span>
<span class="c1">// </span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_TrimZerosRight</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Print double D into string OUT with PRECISION digits</span>
<span class="c1">// after the decimal point.</span>
<span class="c1">// If OMIT_ZEROS is specified, trailing zeros that are safe to omit are omitted.</span>
<span class="c1">// If COMMAS is specified, the large numbers are printed in groups of 3 digits</span>
<span class="c1">// with commas between them.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">double_PrintPrec</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">precision</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">omit_zeros</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">commas</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Print string, replacing &#39;_x&#39; with &#39;X&#39;, and capitalizing first word.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintCamel</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Convert CamelCase to lower_under.</span>
<span class="c1">// A consecutive run of caps gets a single leading underscore.</span>
<span class="c1">// Leading cap doesn&#39;t get an underscore</span>
<span class="c1">// Example: &quot;abcd testString&quot;  -&gt; &quot;abcd test_string&quot;</span>
<span class="c1">// Example: &quot;Abcd&quot; -&gt; &quot;abcd&quot;</span>
<span class="c1">// Example: &quot;BBOPrice&quot; -&gt; &quot;bboprice&quot;</span>
<span class="c1">// Example: &quot;SymbolID&quot; -&gt; &quot;symbol_id&quot;</span>
<span class="c1">// Example: &quot;A_B&quot; -&gt; &quot;a_b&quot;</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintLowerUnder</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Output string STR to OUT changing all characters to uppercase.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_ToUpper</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u128_PrintHex</span><span class="p">(</span><span class="n">u128</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">prefix</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_PrintHex</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">atleast</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">prefix</span><span class="p">,</span><span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">caps</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Print value VALUE to string OUT,</span>
<span class="c1">// producing least ATLEAST hex characters.</span>
<span class="c1">// Include prefix 0x.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_PrintHex</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">atleast</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Print value VALUE to string OUT,</span>
<span class="c1">// producing least ATLEAST hex characters.</span>
<span class="c1">// if PREFIX is specified, include prefix 0x.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_PrintHex</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">atleast</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">prefix</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// print character as c++ character, surrounded by single quotes</span>
<span class="c1">// and properly escaped according to c++ rules</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">char_PrintCppSingleQuote</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// prints a character suitable for appearance inside an XML string.</span>
<span class="c1">// character is either printed as-is, or is escaped so that its meaning does not change.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">char_PrintXml</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">quoted</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Print string NAME as a TeX identifier to OUT, converting digits to letters</span>
<span class="c1">// (0 -&gt; zero, etc) and squashing other characters not belonging to TeX</span>
<span class="c1">// identifier character class</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintTexIdent</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// print STR to OUT, escaping TeX characters that switch modes</span>
<span class="c1">// (_, #, &amp;, $)</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintTexString</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Print string using XML rules.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintXml</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">quoted</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Append N instances of character C to string OUT.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">char_PrintNTimes</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintAligned</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nplaces</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TextJust</span><span class="w"> </span><span class="n">align</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">i32_Print</span><span class="p">(</span><span class="n">i32</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">i64_Print</span><span class="p">(</span><span class="n">i64</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">i16_Print</span><span class="p">(</span><span class="n">i16</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">u16_Print</span><span class="p">(</span><span class="n">u16</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">u8_Print</span><span class="p">(</span><span class="n">u8</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">i8_Print</span><span class="p">(</span><span class="n">i8</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">u32_Print</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">u64_Print</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">u128_Print</span><span class="p">(</span><span class="n">u128</span><span class="w"> </span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Append a space unless the string already ends with a space</span>
<span class="kt">void</span><span class="w">  </span><span class="n">algo</span><span class="o">::</span><span class="n">MaybeSpace</span><span class="p">(</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// print value*100</span>
<span class="c1">// Example:</span>
<span class="c1">// double_PrintPercent(0.334, str, 1) -&gt; &quot;33.4%&quot;</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">double_PrintPercent</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">prec</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">i32_Range_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">i32_Range</span><span class="w"> </span><span class="o">&amp;</span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">o</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">double_Print</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">float_Print</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">double_PrintWithCommas</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">prec</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// ignore:bigret</span>
<span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">double_PrintWithCommas</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">prec</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Print scaled decimal.</span>
<span class="c1">// VALUE           integer value</span>
<span class="c1">// SCALE           log10 to get the real value: real value = value / pow(10,scale)</span>
<span class="c1">// BUF             target buffer. buffer must be large enough.</span>
<span class="c1">// FIXED           if true, make sure there are exactly SCALE characters after decimal point (and always emit decimal point)</span>
<span class="c1">// RETURN          number of characters printed.</span>
<span class="c1">// Example:</span>
<span class="c1">// u64_FmtBufDec(0    , 2, .. false ) -&gt; &quot;0&quot;</span>
<span class="c1">// u64_FmtBufDec(0    , 2, .. true  ) -&gt; &quot;0.00&quot;</span>
<span class="c1">// u64_FmtBufDec(123  , 1, .. false ) -&gt; &quot;12.3&quot;</span>
<span class="c1">// u64_FmtBufDec(123  , 2, .. false ) -&gt; &quot;1.23&quot;</span>
<span class="c1">// u64_FmtBufDec(123  , 2, .. true  ) -&gt; &quot;1.23&quot;</span>
<span class="c1">// u64_FmtBufDec(1230 , 3, .. false ) -&gt; &quot;1.23&quot;</span>
<span class="c1">// u64_FmtBufDec(1230 , 3, .. true  ) -&gt; &quot;1.230&quot;</span>
<span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">scale</span><span class="p">,</span><span class="w"> </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">fixed</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBufDec</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">scale</span><span class="p">,</span><span class="w"> </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// print TIME to STR, according to spec SPEC</span>
<span class="c1">// The following control characters are supported in SPEC.</span>
<span class="c1">// %Y     Year printed as 4 digits, e.g. 2002</span>
<span class="c1">// %y     Last 2 digits of year printed as 2 digits</span>
<span class="c1">// %B     Long month name (February)</span>
<span class="c1">// %b     Short month name (Feb)</span>
<span class="c1">// %a     Week day name (Monday)</span>
<span class="c1">// %m     Month printed as 2 digits, with January being 01</span>
<span class="c1">// %d     Day of month printed as at least 2 digits (or WIDTH)</span>
<span class="c1">// %.X    where X is a number -- set width</span>
<span class="c1">// %I     Hour using 12-hour format</span>
<span class="c1">// %H     Hour using 24-hour format, printed as 2 digits</span>
<span class="c1">// %M     Minute, printed as 2 digits</span>
<span class="c1">// %S     Second, printed as 2 digits</span>
<span class="c1">// %T     Shortcut for %H:%M:%S.%.9X</span>
<span class="c1">// %X     Print fractions of a second according to width</span>
<span class="c1">// %x     Print milliseconds with 3 decimal places</span>
<span class="c1">// %-     Print - sign if timespec is negative</span>
<span class="c1">// %%     Print % sign</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TimeStruct_Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">TimeStruct</span><span class="w"> </span><span class="o">&amp;</span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">spec</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row_</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">char_Print</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">bool_Print</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Bool_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Bool</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff_Print</span><span class="p">(</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixDiff_Print</span><span class="p">(</span><span class="n">UnixDiff</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixTime_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">UnixTime</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime_PrintSpec</span><span class="p">(</span><span class="n">UnTime</span><span class="w"> </span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">spec</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixTime_PrintSpec</span><span class="p">(</span><span class="n">UnixTime</span><span class="w"> </span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">spec</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff_PrintSpec</span><span class="p">(</span><span class="n">UnDiff</span><span class="w">   </span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">spec</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixDiff_PrintSpec</span><span class="p">(</span><span class="n">UnixDiff</span><span class="w"> </span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">spec</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">ietf</span><span class="o">::</span><span class="n">Ipv4_Print</span><span class="p">(</span><span class="n">ietf</span><span class="o">::</span><span class="n">Ipv4</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">ietf</span><span class="o">::</span><span class="n">Ipv4Addr_Print</span><span class="p">(</span><span class="n">ietf</span><span class="o">::</span><span class="n">Ipv4Addr</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Ipmask_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Ipmask</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Errcode_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Errcode</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">ErrorX_Print</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">ErrorX</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">ietf</span><span class="o">::</span><span class="n">Ipport_Print</span><span class="p">(</span><span class="n">ietf</span><span class="o">::</span><span class="n">Ipport</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">ietf</span><span class="o">::</span><span class="n">Ipport_ReadStrptrMaybe</span><span class="p">(</span><span class="n">ietf</span><span class="o">::</span><span class="n">Ipport</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Append STR to OUT, using comma-separated-values encoding</span>
<span class="c1">// If QUOTE is 0, the need for quotes and the type of quote is determined automatically.</span>
<span class="c1">// If it is any other value, then that type of quote is used</span>
<span class="c1">// According to the CSV standard, the quote itself is the escape character.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintCsv</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">quote</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Print CSV field, auto-determine quotes</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintCsv</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FTxttbl_Print</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FTxttbl</span><span class="w"> </span><span class="o">&amp;</span><span class="n">T_</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">URL_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">URL</span><span class="w"> </span><span class="o">&amp;</span><span class="n">url</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Append STR to OUT, and pad remainder with character FILL</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintPadRight</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nplaces</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">fill</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Append STR to OUT, and pad remainder with space characters</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintPadRight</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nplaces</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Append STR to OUT, padding start with character FILL</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintPadLeft</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nplaces</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">fill</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Append STR to OUT, padding start with spaces.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintPadLeft</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nplaces</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Append STR to OUT as an SQL string using quote character Q.</span>
<span class="c1">// Escaped characters:</span>
<span class="c1">// &#39;\&#39; (backslash)</span>
<span class="c1">// &#39; quoted with &#39;&#39; if q is &#39; and not quoted otherwise. (Compatible with MariaDB &amp; T-SQL.)</span>
<span class="c1">// &quot; quoted with &quot;&quot; if q is &quot; and not quoted otherwise. (Compatible with MariaDB &amp; T-SQL.)</span>
<span class="c1">// NUL (ascii zero)</span>
<span class="c1">// \n</span>
<span class="c1">// \r</span>
<span class="c1">// \t</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintSql</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">q</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintSql</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Attr_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Attr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">attr</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Print a string suitable for parsing with Tuple</span>
<span class="c1">// If the string doesn&#39;t need quotes, it is printed as-is.</span>
<span class="c1">// If quotes are needed, first determine whether to use single or double quotes to minimize</span>
<span class="c1">// escaping. Then print the string using char_PrintCppEsc for quoting.</span>
<span class="c1">// Empty string is printed as &quot;&quot;</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">PrintAttrSpace</span><span class="p">(</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ListSep_Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ListSep</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// copy string B to TO, using ORIG as a case template</span>
<span class="c1">// I.e. PrintCopyCase(&quot;AbcD&quot;, to, &quot;somestring&quot;) -&gt; &quot;SomEstring&quot;</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintCopyCase</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">orig</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">to</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple_ReadStrptrMaybe</span><span class="p">(</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// T             target tuple. the tuple is not emptied before parsing.</span>
<span class="c1">// STR           source string</span>
<span class="c1">// ATTRONLY        if set, all loaded attrs are appended to the ATTRS</span>
<span class="c1">// array. otherwise, the first attr becomes HEAD.</span>
<span class="c1">// CMT_CHAR      character at which to stop parsing.</span>
<span class="c1">// Parse sequence of attrs (name-value pairs) into tuple T.</span>
<span class="c1">// Roughly:</span>
<span class="c1">// ATTR       -&gt; VALUE | VALUE &#39;:&#39; VALUE</span>
<span class="c1">// VALUE      -&gt; IDENTIFIER | C++-STRING</span>
<span class="c1">// Return value: FALSE if unterminated string or other badness found in data.</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple_ReadStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">attronly</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Implementations of built-in read functions for AMC.</span>
<span class="c1">// basis function for reading tuples.</span>
<span class="c1">// scan ITER for identifier, or quoted string.</span>
<span class="c1">// return FALSE if attribute is malformed (i.e. unterminated string)</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring_ReadCmdarg</span><span class="p">(</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">is_value</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Read Charset from list of chars.</span>
<span class="c1">// Every character in RHS is simply added to the bitset</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Charset_ReadStrptrPlain</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Charset</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">desc</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Charset_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Charset</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Print STR to OUT in a way that&#39;s acceptable as input for bash.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintBash</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Escape S according to bash rules and return result</span>
<span class="n">tempstr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_ToBash</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Escape S according to ssim rules and return result</span>
<span class="n">tempstr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_ToSsim</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// encode uri component.</span>
<span class="c1">// before ? use plus=false (no + substitution by space)</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintUri</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">plus</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Print string, escaping characters in a way suitable for graphviz dot format</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintDot</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// print binary octet string as hex</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Sha1sig_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Sha1sig</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sha1sig</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Sha1sig_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Sha1sig</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sha1sig</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Write character C into string OUT, using C++ character escapement rules</span>
<span class="c1">// QUOTE_CHAR also gets escaped.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">char_PrintCppEsc</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">quote_char</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Print STR, surrounded by quotes as C++ string</span>
<span class="c1">// surrounded by QUOTE_CHAR quotes, to buffer OUT.</span>
<span class="c1">// All string characters are escaped using char_PrintCppEsc.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintCppQuoted</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">quote_char</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Print STR as a C++ string to OUT.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintCpp</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Print STR as a valid SSIM key/value to OUT.</span>
<span class="c1">// SSIM tokens use quotes only when the printed value contains</span>
<span class="c1">// characters outside of the &#39;safe&#39; set a-zA-Z0-9_;&amp;*^%$@.!:,+/-</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintSsim</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Begin append key/value to string LHS</span>
<span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">BeginKeyval</span><span class="p">(</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">name</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// End append key/value to string LHS</span>
<span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo</span><span class="o">::</span><span class="n">EndKeyval</span><span class="p">(</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">start</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Append key-value pair NAME:VALUE to string STR</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">PrintAttr</span><span class="p">(</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Append key-value pair NAME:VALUE to string STR, and remove all</span>
<span class="c1">// characters from VALUE (used by amc)</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">PrintAttrSpaceReset</span><span class="p">(</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Append key-value pair NAME:VALUE to string STR,</span>
<span class="c1">// and remove all characters from VALUE (used by amc)</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">PrintAttrSpaceReset</span><span class="p">(</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">value</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Convert VALUE to a string, encoded as a u64.</span>
<span class="c1">// Value must be &gt;=0 and &lt;100000000.</span>
<span class="c1">// Resulting u64 is little-endian -- MSB contains first byte</span>
<span class="c1">// of the resulting string. To be used as an ascii string, value</span>
<span class="c1">// 0x3030303030303030 (8 ascii &#39;0&#39;s) must be added to the result.</span>
<span class="c1">// Don&#39;t use this function. Use u32_FmtBufSmall, and u64_FmtBuf.</span>
<span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_CvtLestr8Small</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Format VALUE, which should be &gt;=0 and &lt;100000000,</span>
<span class="c1">// as a string and write it to buffer BUF. Return length of resulting string.</span>
<span class="c1">// Buffer must be big enough.</span>
<span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_FmtBufSmall</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Format VALUE, which is an arbitrary u64,</span>
<span class="c1">// as a string and write it to buffer BUF.</span>
<span class="c1">// Return length of resulting string.</span>
<span class="c1">// Buffer must be big enough.</span>
<span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_FmtBuf</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Format VALUE, which is an arbitrary u32,</span>
<span class="c1">// as a string and write it to buffer BUF.</span>
<span class="c1">// Return length of resulting string.</span>
<span class="c1">// Buffer must be big enough.</span>
<span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_FmtBuf</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aParseNum16</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// STR         little-endian string up to 2 chars in length</span>
<span class="c1">// LEN         length of STR</span>
<span class="c1">// RESULT      value of hex number encoded in STR</span>
<span class="c1">// RETURN      number of characters to skip (0 - unsuccessful)</span>
<span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ParseHex2</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="p">,</span><span class="w"> </span><span class="n">u8</span><span class="w"> </span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// STR        little-endian string up to 4 chars</span>
<span class="c1">// LEN        length of STR</span>
<span class="c1">// RESULT     Octal value encoded in str</span>
<span class="c1">// RETURN     number of characters to skip (0 - unsuccessful)</span>
<span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ParseOct3</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="p">,</span><span class="w"> </span><span class="n">u8</span><span class="w"> </span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ParseNum4</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">len</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ParseNum8</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">len</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Print a string as a classic regex, escaping all special</span>
<span class="c1">// characters. This regex will only match the specified string.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_PrintRegxSql</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WTime_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">WTime</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WTime_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">WTime</span><span class="w"> </span><span class="o">&amp;</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">in_str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_PrintBase32</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">IohookInit</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Register IOHOOK to be called whenever an IO operation is possible.</span>
<span class="c1">// OK to add an fd twice with different flags. Subsequent calls override previous ones.</span>
<span class="c1">// Add iohook to epoll in read, write or read/write mode</span>
<span class="c1">// Optionally, add as edge triggered</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">IohookAdd</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FIohook</span><span class="o">&amp;</span><span class="w"> </span><span class="n">iohook</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">IOEvtFlags</span><span class="w"> </span><span class="n">inflags</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// De-register interest in iohook</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">IohookRemove</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FIohook</span><span class="o">&amp;</span><span class="w"> </span><span class="n">iohook</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// give up unused time to the OS.</span>
<span class="c1">// Compute number of clocks to sleep before next scheduling cycle</span>
<span class="c1">// If there was no sleep on the previous cycle, the sleep is zero.</span>
<span class="c1">// This last bit is important because it prevents deadlocks</span>
<span class="c1">// when one step implicitly creates work for another step</span>
<span class="c1">// that occurs before it in the main loop.</span>
<span class="c1">// Sleep will not extend beyond algo_lib::_db.limit</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">giveup_time_Step</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Execute unix command and return output.</span>
<span class="n">tempstr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SysEval</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">cmd</span><span class="p">,</span><span class="w"> </span><span class="n">FailokQ</span><span class="w"> </span><span class="n">fail_ok</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">max_output</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Execute unix command and return status code.</span>
<span class="c1">// Execute command using system().</span>
<span class="c1">// fail_ok: if true, command must succeed or throw exception</span>
<span class="c1">// dry_run: if true, do not run command, just print</span>
<span class="c1">// echo: print command. command alwyas echoed if verbose mode is on</span>
<span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SysCmd</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">cmd</span><span class="p">,</span><span class="w"> </span><span class="n">FailokQ</span><span class="w"> </span><span class="n">fail_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FailokQ</span><span class="p">(</span><span class="nb">true</span><span class="p">),</span><span class="w"> </span><span class="n">DryrunQ</span><span class="w"> </span><span class="n">dry_run</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DryrunQ</span><span class="p">(</span><span class="nb">false</span><span class="p">),</span><span class="w"> </span><span class="n">EchoQ</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EchoQ</span><span class="p">(</span><span class="nb">false</span><span class="p">))</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Return a human-readable description of STATUS as returned by wait() / waitpid()</span>
<span class="n">tempstr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">DescribeWaitStatus</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">status</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// The several variants of Throw are all the same -- the goal is to get as many</span>
<span class="c1">// setup instructions out of the execution path as possible, to avoid polluting instruction</span>
<span class="c1">// cache.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Throw</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="n">Errcode</span><span class="w"> </span><span class="n">err</span><span class="p">)</span><span class="w"> </span><span class="n">NORETURN</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Throw</span><span class="p">()</span><span class="w"> </span><span class="n">NORETURN</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Set exit time of main loop to current time.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">ReqExitMainLoop</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">fd_Cleanup</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FFildes</span><span class="w"> </span><span class="o">&amp;</span><span class="n">fildes</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tuple_EqualQ</span><span class="p">(</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t1</span><span class="p">,</span><span class="w"> </span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t2</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">Attr</span><span class="o">*</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">attr_Find</span><span class="p">(</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">occurence</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">attr_GetString</span><span class="p">(</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">dflt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">strptr</span><span class="p">())</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Append new attribute with specified name and value.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">attr_Add</span><span class="p">(</span><span class="n">Tuple</span><span class="w"> </span><span class="o">&amp;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">fildes_Cleanup</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FIohook</span><span class="w"> </span><span class="o">&amp;</span><span class="n">iohook</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Call sleep/usleep, giving up MS milliseconds</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SleepMsec</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">ms</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">Errcode</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FromErrno</span><span class="p">(</span><span class="n">i64</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">Errcode</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FromWinErr</span><span class="p">(</span><span class="n">i64</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">I64Power10</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">power</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Copy bytes from one location to another in blocks of 16 bytes.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StreamFromToB16</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">to</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">CopyFromToB16</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">to</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// SSE implementation of fast exponentiation idea from</span>
<span class="c1">// http//nic.linotune.com/pubs/Schraudolph99.pdf</span>
<span class="c1">// ExpFast(x) goes bad at x &lt; -709 (exp doesn&#39;t)</span>
<span class="c1">// Where it works, ExpFast makes a steady relative error of about 2%.</span>
<span class="kt">double</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ExpFast</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// lock all presently, and future allocated bytes in physical memory.</span>
<span class="c1">// Return success value. Errno provides more info.</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LockAllMemory</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SetupExitSignals</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">sigint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">bh_timehook_Step</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Check signature on incoming data</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">dispsigcheck_InputMaybe</span><span class="p">(</span><span class="n">dmmeta</span><span class="o">::</span><span class="n">Dispsigcheck</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dispsigcheck</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="n">tempstr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetHostname</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="n">tempstr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetDomainname</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Die when parent process dies</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">DieWithParent</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Create temporary file</span>
<span class="c1">// tempfile.fildes points to the new temp file after this</span>
<span class="c1">// temp file is created under temp/</span>
<span class="c1">// prefix is a namespace-unique name, such as &quot;amc.xyz&quot;</span>
<span class="c1">// Actual file that&#39;s created becomes &quot;temp/amc.xyz.XXXXXX&quot;</span>
<span class="c1">// Computed filename is saved to tempfile.filename</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">TempfileInitX</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FTempfile</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tempfile</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">prefix</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">fildes_Cleanup</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FTempfile</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tempfile</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">double_WeakRandom</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">scale</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">i32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">i32_WeakRandom</span><span class="p">(</span><span class="n">i32</span><span class="w"> </span><span class="n">modulo</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Interpret redirect string, return resulting fd</span>
<span class="c1">// If no redirect applies, return -1</span>
<span class="c1">// If a valid fd is returned, it is unique and may be closd with close()</span>
<span class="c1">// Supported redirects:</span>
<span class="c1">// &gt;filename  -- on exit, dst_fd is writing to a file</span>
<span class="c1">// &lt;filename  -- on exit, dst_fd is reading from a file</span>
<span class="c1">// &gt;&gt;filename -- on exit, dst_fd is appending to a file</span>
<span class="c1">// &gt;&amp;fd       -- on exit, dst_fd is pointing to fd</span>
<span class="c1">// &lt;&amp;fd       -- on exit, dst_fd is pointing to fd</span>
<span class="c1">// This function could be called openex</span>
<span class="kt">int</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">CreateRedirect</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">redirect</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Interpret redirect string and make DST_FD consistent with</span>
<span class="c1">// the intended state. Return 0 on success, -1 on failure</span>
<span class="c1">// This function is usually called in the child process right after fork</span>
<span class="c1">// See CreateRedirect for interpretation of redirect string</span>
<span class="kt">int</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">ApplyRedirect</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">redirect</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dst_fd</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">IpmaskValidQ</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">ipmask</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Return TRUE if current user is root.</span>
<span class="c1">// #AL# is this more correct than checking that effective uid is 0?</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">RootQ</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Return name of user executing this command.</span>
<span class="c1">// If the command is being executed under sudo, return name</span>
<span class="c1">// of original user.</span>
<span class="n">tempstr</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">EffectiveUser</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// if OWN_FD is cleared, clean up file descriptor before it is closed</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">file_Cleanup</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">InTextFile</span><span class="w"> </span><span class="o">&amp;</span><span class="n">file</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Walk child process tree for parent process pid, in post-order traversal way,</span>
<span class="c1">// and send signal sig to each process. Kill_topmost is an option whether</span>
<span class="c1">// to send signal to parent process itself. Return value - number of processes</span>
<span class="c1">// to whose the signal has been actually sent.</span>
<span class="c1">// Does not throw exceptions, just prints error message if kill() fails.</span>
<span class="c1">// Linux only.</span>
<span class="kt">int</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">KillRecurse</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">pid</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">sig</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">kill_topmost</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Return computed name for sandbox SANDBOX</span>
<span class="n">tempstr</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">SandboxDir</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">sandbox</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Enter sandbox directory remember previous directory</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">PushDir</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">dir</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Change to the directory that was current before sandbox mode</span>
<span class="c1">// Must be balanced with PushDir</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">PopDir</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Accept data block DATA as input for the line buffer</span>
<span class="c1">// LinebufNext will attempt to return pointers to a subregion of DATA until</span>
<span class="c1">// it returns false, so this block must be valid until then.</span>
<span class="c1">// If IMPLIED_EOF is set, then this is the last call to LinebufBegin.</span>
<span class="c1">// LinebufNext will know to return a partial line (with no \n) and set the</span>
<span class="c1">// EOF flag</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LinebufBegin</span><span class="p">(</span><span class="n">LineBuf</span><span class="w"> </span><span class="o">&amp;</span><span class="n">L</span><span class="p">,</span><span class="w"> </span><span class="n">memptr</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">implied_eof</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Scan memory provided by LinebufBegin for line separator (hard-coded to be &#39;\n&#39;)</span>
<span class="c1">// If the function returns FALSE, and there is a partial line remaining,</span>
<span class="c1">// it is saved to an internal buffer in LineBuf (called BUF).</span>
<span class="c1">// It will be subsequently recombined with incoming data to form a contiguous line,</span>
<span class="c1">// but copying memory is avoided whenever possible.</span>
<span class="c1">// Usage:</span>
<span class="c1">// LinebufBegin(linebuf,data,true);</span>
<span class="c1">// for (strptr line; LinebufNext(linebuf,line); ) {</span>
<span class="c1">// &lt;process line&gt;</span>
<span class="c1">// }</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LinebufNext</span><span class="p">(</span><span class="n">LineBuf</span><span class="w"> </span><span class="o">&amp;</span><span class="n">L</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Read characters up to newline or end of file.  Return</span>
<span class="c1">// resulting substring, skipping the newline</span>
<span class="c1">// (which is either \n or \r\n).</span>
<span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetLine</span><span class="p">(</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">S</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Line_curs uses strptr to hold on to the string being scanned</span>
<span class="c1">// (to avoid copying a potentially huge string)</span>
<span class="c1">// The use of &quot;strptr&amp;&quot; prevents passing a temporary.</span>
<span class="c1">// Line_curs handling of newlines is identical to that of FileLine_curs</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Line_curs_Reset</span><span class="p">(</span><span class="n">Line_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">text</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Line_curs_Reset</span><span class="p">(</span><span class="n">Line_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">text</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Scan for next line.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Line_curs_Next</span><span class="p">(</span><span class="n">Line_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Read next line from FILE into RESULT</span>
<span class="c1">// When end of file is reached, return FALSE.</span>
<span class="c1">// If error occurs during reading, return false.</span>
<span class="c1">// Typical usage:</span>
<span class="c1">// InTextFile file;</span>
<span class="c1">// file.file = OpenRead(filename);</span>
<span class="c1">// for (strptr line; ReadLine(file,line); ) {</span>
<span class="c1">// &lt;do something with LINE&gt;</span>
<span class="c1">// }</span>
<span class="c1">// A partial line at the end of the file is returned.</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">ReadLine</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">InTextFile</span><span class="w"> </span><span class="o">&amp;</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FileLine_curs_Reset</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileLine_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">filename</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FileLine_curs_Reset</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileLine_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w"> </span><span class="n">fd</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FileLine_curs_Next</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileLine_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Attempt to lock the file named NAME, updating state of LOCKFILE.</span>
<span class="c1">// Return TRUE if lock is successfully applied.</span>
<span class="c1">// If FAIL_OK is false, an error causes an exception (function always returns true)</span>
<span class="c1">// If an exception is thrown, the text contains error description.</span>
<span class="c1">// Otherwise, algo_lib::_db.errtext (DetachBadTags()) contains human-readable description of error.</span>
<span class="c1">// If WAIT_TIMEOUT is non-zero, block up to WAIT_TIMEOUT seconds before failing</span>
<span class="c1">// Write pid to file specified in NAME, and lock file using flock().</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">LockFileInit</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FLockfile</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lockfile</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FailokQ</span><span class="w"> </span><span class="n">fail_ok</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">wait_timeout</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Write pid to lockfile, separate function to update pid after fork().</span>
<span class="c1">// Sets error text in case of error, and return false.</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">WritePid</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FLockfile</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lockfile</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Non-blocking attempt to lock LOCKFILE</span>
<span class="c1">// Return success status</span>
<span class="c1">// If FAIL_OK is FALSE, throw exception on error (must succeed)</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">LockFileInit</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FLockfile</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lockfile</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FailokQ</span><span class="w"> </span><span class="n">fail_ok</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Non-blocking attempt to lock LOCKFILE.</span>
<span class="c1">// Throw exception on error.</span>
<span class="c1">// If the function returns, it has succeeded.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">LockFileInit</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FLockfile</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lockfile</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Read contents of lock file FNAME, extracting the pid that&#39;s stored in there.</span>
<span class="c1">// On failure, return 0</span>
<span class="kt">pid_t</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">LockFileRead</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">fname</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// User-defined cleanup function for MMAP.MEM</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">mem_Cleanup</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Mmap</span><span class="w"> </span><span class="o">&amp;</span><span class="n">mmap</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Attach mmapfile MMAPFILE to FD.</span>
<span class="c1">// Return success code.</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">MmapFile_LoadFd</span><span class="p">(</span><span class="n">MmapFile</span><span class="w"> </span><span class="o">&amp;</span><span class="n">mmapfile</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Fildes</span><span class="w"> </span><span class="n">fd</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Attach mmapfile MMAPFILE to FNAME</span>
<span class="c1">// Return success code.</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">MmapFile_Load</span><span class="p">(</span><span class="n">MmapFile</span><span class="w"> </span><span class="o">&amp;</span><span class="n">mmapfile</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">fname</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Default implementation of prlog handler</span>
<span class="c1">// </span>
<span class="c1">// Notes on WriteFile use:</span>
<span class="c1">// some tools set fd 1 to nonblocking mode, which causes EAGAIN during fast writes,</span>
<span class="c1">// so we must use WriteFile (which contains a loop) to write all the bytes out.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Prlog</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FLogcat</span><span class="w"> </span><span class="o">*</span><span class="n">logcat</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SchedTime</span><span class="w"> </span><span class="n">tstamp</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// there is not enough information in a regx expression to fully specify it.</span>
<span class="c1">// sql vs shell vs classic regx, vs acr, partial vs full.</span>
<span class="c1">// we print back the original expression that was read in, but the information</span>
<span class="c1">// about what function read it is lost.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx_Print</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w"> </span><span class="o">&amp;</span><span class="n">regx</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Check if REGX matches S, return result</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx_Match</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w"> </span><span class="o">&amp;</span><span class="n">regx</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">text</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Parse string INPUT as regex and store in REGX.</span>
<span class="c1">// Supported features:</span>
<span class="c1">// \n,\r,\t,\a,\e,\v,\f, [..], $, ^,</span>
<span class="c1">// ., *, +, (..), {..}, \d,\D,\w,\W,\s,\S</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx_ReadDflt</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w"> </span><span class="o">&amp;</span><span class="n">regx</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Parse bash-style regx:</span>
<span class="c1">// * -&gt; .*</span>
<span class="c1">// ? -&gt; .?</span>
<span class="c1">// All other regx chars are escaped away</span>
<span class="c1">// if FULL is set to false, input is treated as &quot;.*input.*&quot;</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx_ReadShell</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w"> </span><span class="o">&amp;</span><span class="n">regx</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">full</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Parse SQL-style regx:</span>
<span class="c1">// % is rewritten as .*</span>
<span class="c1">// _ is rewritten as .</span>
<span class="c1">// (, ), [, ] are passed through</span>
<span class="c1">// ., *, ?, + are escaped</span>
<span class="c1">// if FULL is set to false, input is treated as &quot;.*input.*&quot;</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx_ReadSql</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w"> </span><span class="o">&amp;</span><span class="n">regx</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">full</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Parse ACR-style regx:</span>
<span class="c1">// % is rewritten as .*</span>
<span class="c1">// (, ), [, ], _ are passed through</span>
<span class="c1">// ., *, ?, + are escaped</span>
<span class="c1">// if FULL is set to false, input is treated as &quot;.*input.*&quot;</span>
<span class="c1">// If the input expression can be matched as a string, set REGX.LITERAL to true</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx_ReadAcr</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w"> </span><span class="o">&amp;</span><span class="n">regx</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">full</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Set REGX to match string INPUT literally</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx_ReadLiteral</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w"> </span><span class="o">&amp;</span><span class="n">regx</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx_ReadStrptrMaybe</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Regx</span><span class="w"> </span><span class="o">&amp;</span><span class="n">regx</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// S         source string</span>
<span class="c1">// EXPR      string in the form (XYZ)*</span>
<span class="c1">// - X is the character to search</span>
<span class="c1">// - Y is L to search from left, R to search from right</span>
<span class="c1">// - Z is which site to pick: L=left, R=right</span>
<span class="c1">// If the character to search is not found, it assumed to be found</span>
<span class="c1">// at the far end of the string with respect to search direction.</span>
<span class="c1">// Function processes characters from expr in groups of 3.</span>
<span class="c1">// Example:</span>
<span class="c1">// s = &quot;a.b.c.d&quot;</span>
<span class="c1">// expr = &quot;.LR.LL&quot;</span>
<span class="c1">// first, search for . from left; pick right hand side (b.c.d)</span>
<span class="c1">// then, search for . from left. pick left hand side (b)</span>
<span class="c1">// result: b</span>
<span class="c1">// More examples:</span>
<span class="c1">// s = &quot;abcd&quot;; expr = &quot;.LL&quot;; result = &quot;abcd&quot;</span>
<span class="c1">// s = &quot;abcd&quot;; expr = &quot;.LR&quot;; result = &quot;&quot;</span>
<span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Pathcomp</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">expr</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Check if the Pathcomp expression PATHCOMP</span>
<span class="c1">// refers to the leftmost part of the key</span>
<span class="c1">// (The third character of each Pathcomp step must be &#39;L&#39;)</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LeftPathcompQ</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">pathcomp</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Append NUL character to the end of the string and return a</span>
<span class="c1">// pointer to the C string.</span>
<span class="c1">// There is no guarantee that there are no NUL characters in the middle</span>
<span class="c1">// of STR, that is up to the user.</span>
<span class="c1">// cstring is normally NOT null terminated (it is length-based),</span>
<span class="c1">// so this function is necessary when passing strings to C library functions</span>
<span class="c1">// or the OS</span>
<span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">algo</span><span class="o">::</span><span class="n">Zeroterm</span><span class="p">(</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Same thing but with tempstr.</span>
<span class="c1">// Typical usage is to take a strptr</span>
<span class="c1">// expression and pass it to some unix call</span>
<span class="c1">// some_unix_call(Zeroterm(tempstr(some_strptr)))</span>
<span class="c1">// </span>
<span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">algo</span><span class="o">::</span><span class="n">Zeroterm</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">tempstr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Construct ssim filename from key</span>
<span class="c1">// SsimFname(&quot;data&quot;, &quot;abcd&quot;) -&gt; data/abcd.ssim</span>
<span class="c1">// SsimFname(&quot;data/&quot;, &quot;abcd.ef&quot;) -&gt; data/abcd/ef.ssim</span>
<span class="n">tempstr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SsimFname</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">rel</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Extract Namespace name from &quot;ns.name&quot; format.</span>
<span class="c1">// This is equivalent to Pathcomp(s,&quot;.LL&quot;)</span>
<span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetNs</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// if IDENT starts with NS_NAME., return ident without prefix</span>
<span class="c1">// otherwise return ident</span>
<span class="c1">// if NS_NAME is empty, removes any dotted prefix from IDENT.</span>
<span class="c1">// NS_NAME      name of &#39;current&#39; namespace (optional)</span>
<span class="c1">// IDENT        identifier in question</span>
<span class="c1">// </span>
<span class="c1">// StripNs(&quot;abc&quot;, &quot;abc.def&quot;) -&gt; &quot;def&quot;</span>
<span class="c1">// StripNs(&quot;&quot;   , &quot;abc.def&quot;) -&gt; &quot;def&quot;</span>
<span class="c1">// StripNs(&quot;abc&quot;, &quot;def.ghi&quot;) -&gt; &quot;def.ghi&quot;</span>
<span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StripNs</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">ns_name</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">ident</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// This function echoes the corresponding MySQL function.</span>
<span class="c1">// Treat STR as an array of tokens separated by C.</span>
<span class="c1">// Locate and return tokens 1..IDX. Negative numbers cause scanning from the right.</span>
<span class="c1">// Indexes are 1-based</span>
<span class="c1">// Example:</span>
<span class="c1">// SubstringIndex(&quot;a.b.c&quot;, &#39;.&#39;,  1) -&gt; &quot;a&quot;</span>
<span class="c1">// SubstringIndex(&quot;a.b.c&quot;, &#39;.&#39;,  2) -&gt; &quot;a.b&quot;</span>
<span class="c1">// SubstringIndex(&quot;a.b.c&quot;, &#39;.&#39;,  3) -&gt; &quot;a.b.c&quot;</span>
<span class="c1">// SubstringIndex(&quot;a.b.c&quot;, &#39;.&#39;,  4) -&gt; &quot;a.b.c&quot;</span>
<span class="c1">// SubstringIndex(&quot;a.b.c&quot;, &#39;.&#39;, -1) -&gt; &quot;c&quot;</span>
<span class="c1">// SubstringIndex(&quot;a.b.c&quot;, &#39;.&#39;, -2) -&gt; &quot;b.c&quot;</span>
<span class="c1">// SubstringIndex(&quot;a.b.c&quot;, &#39;.&#39;, -3) -&gt; &quot;a.b.c&quot;</span>
<span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SubstringIndex</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FindFrom</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">case_sensitive</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FindFrom</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">from</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FindFrom</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">from</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Search for character/string from left to right</span>
<span class="c1">// If found, return index where match occurs.</span>
<span class="c1">// If not found, return -1</span>
<span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FindChar</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FindStr</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">case_sensitive</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FindStr</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">CompareNoCase</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Check strings for equality, optionally in a case-insensitive way</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StrEqual</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">case_sens</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StartsWithQ</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">sstr</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">case_sensitive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">EndsWithQ</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">sstr</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">MakeLower</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">MakeUpper</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Locate all occurences of SEP in string IN, scanning line-by-line.</span>
<span class="c1">// Compute column widths; Scan string IN again.</span>
<span class="c1">// Expand each column to the required width, leaving COLSPACE characters between</span>
<span class="c1">// columns.</span>
<span class="c1">// String FMT specifies, for each column, whether to align its contents left,center,or right</span>
<span class="c1">// (&#39;l&#39;,&#39;c&#39;,&#39;r&#39;). Default is &#39;l&#39;.</span>
<span class="c1">// Example text</span>
<span class="c1">// aa\tcc\tbb</span>
<span class="c1">// asdfasdf\t\tyy</span>
<span class="c1">// Tabulated(text, &quot;\t&quot;, &quot;rl&quot;, 2) -&gt;</span>
<span class="c1">// aa  cc  bb</span>
<span class="c1">// asdfasdf      yy</span>
<span class="n">tempstr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tabulated</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">sep</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">fmt</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">colspace</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">tempstr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Tabulated</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">in</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">sep</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Given a string of up to 4 characters encoded in u32 STR</span>
<span class="c1">// (LSB = first char, etc.)</span>
<span class="c1">// Decode character into RESULT, returning number of characters read.</span>
<span class="c1">// The character is C++-escaped: \a, \b, \f, \n, \r, \t, \v, \&#39;, \&quot;, \\, \? are supported</span>
<span class="c1">// as well as octal (\OOO) and hex (\xHH) sequences.</span>
<span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnescapeC</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="p">,</span><span class="w"> </span><span class="n">u8</span><span class="w"> </span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Replace</span><span class="p">(</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">to</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">case_sensitive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">preserve_case</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Scan S. For any character in S that occurs in string FROM, replace with corresponding</span>
<span class="c1">// character from string TO.</span>
<span class="c1">// Example:</span>
<span class="c1">// Translate(&quot;aabcd&quot;, &quot;bd&quot;, &quot;xy&quot;) -&gt; &quot;aaxcy&quot;</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Translate</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">to</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">ind_replvar_Cleanup</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Replscope</span><span class="w"> </span><span class="o">&amp;</span><span class="n">replscope</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Set value of key KEY value VALUE</span>
<span class="c1">// KEY        string to replace</span>
<span class="c1">// VALUE      value to replace it with</span>
<span class="c1">// SUBST      If set, $-expand the VALUE parameter</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Set</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Replscope</span><span class="w"> </span><span class="o">&amp;</span><span class="n">scope</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">to</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">subst</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Append TEXT to OUT, performing $-substitution using variables from SCOPE (must be non-NULL)</span>
<span class="c1">// if EOL is set, then new line is appended at the end.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Ins</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Replscope</span><span class="w"> </span><span class="o">*</span><span class="n">scope</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">eol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Enable comma-eating (default true)</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">eatcomma_Set</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Replscope</span><span class="w"> </span><span class="o">&amp;</span><span class="n">scope</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">enable</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Enable strict mode (default true -- any failed substitution kills process)</span>
<span class="c1">// If strict mode is off, failed substitution acts as if there was no substitution</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">fatal_Set</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Replscope</span><span class="w"> </span><span class="o">&amp;</span><span class="n">scope</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">enable</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Perform $-substitutions in TEXT and return new value.</span>
<span class="n">tempstr</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Subst</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Replscope</span><span class="w"> </span><span class="o">&amp;</span><span class="n">scope</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">text</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// read TEXT into a tuple.</span>
<span class="c1">// perform variable substitution on key-value pairs.</span>
<span class="c1">// write tuple back.</span>
<span class="c1">// return resulting string</span>
<span class="n">tempstr</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Tuple_Subst</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">Replscope</span><span class="w"> </span><span class="o">&amp;</span><span class="n">R</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">text</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="o">::</span><span class="n">tempstr</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="o">::~</span><span class="n">tempstr</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Return a run of characters up to next occurence of SEP (or to end of string)</span>
<span class="c1">// Skip any characters equal to SEP that follow the run</span>
<span class="c1">// sep=&quot;|&quot;, string = &quot;a||b|&quot;; return value -&gt; &quot;a&quot;, rest -&gt; &quot;b|&quot;;</span>
<span class="c1">// sep=&quot;|&quot;, string = &quot;a&quot;;     return value -&gt; &quot;a&quot;, rest -&gt; &quot;&quot;;</span>
<span class="c1">// sep=&quot;|&quot;, string = &quot;|x&quot;;    return value -&gt; &quot;&quot; , rest -&gt; &quot;x&quot;;</span>
<span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetTokenChar</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">sep</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Skip leading characters matching SEP</span>
<span class="c1">// Return run of characters up to next matching SEP, or EOF.</span>
<span class="c1">// Do not skip trailing separators.</span>
<span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetWordCharf</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">iter</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">sep</span><span class="p">)(</span><span class="n">u32</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">WhiteCharQ</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Skip any leading whitespace in STR.</span>
<span class="c1">// Read and return next word.</span>
<span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetTypeTag</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TryParseI32</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">iter</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TryParseI64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">iter</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TryParseU32</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">iter</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TryParseU64</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">iter</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TryParseU128</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">iter</span><span class="p">,</span><span class="w"> </span><span class="n">u128</span><span class="w"> </span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Read a series of digits and return resulting number.</span>
<span class="c1">// Return success code</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TryParseDigits</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// TODO: document these more carefully</span>
<span class="c1">// Read a series of digits N, returning N / pow(10, length(N))</span>
<span class="c1">// If successful, advance index. Otherwise, leave index where it was.</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TryParseFraction</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TryParseDouble</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">iter</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Search for the next occurence of SEP. If not found, assume it occurs at EOF</span>
<span class="c1">// Return any characters between current position and the occurence of SEP</span>
<span class="c1">// Skip SEP, if needed.</span>
<span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetTokenStrptr</span><span class="p">(</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">iter</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">separator</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// if the next characters match STR, skip and return true</span>
<span class="c1">// optionally do case sensitive comparison</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SkipStrptr</span><span class="p">(</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">iter</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">case_sens</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Case-sensitive version</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SkipStrptr</span><span class="p">(</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">iter</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ParseI64</span><span class="p">(</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">iter</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Convert string to numeric type.</span>
<span class="c1">// If there is an error, or string is empty, return DFLT.</span>
<span class="c1">// If there is junk at the end of the string, silently ignore it.</span>
<span class="c1">// Use StringIter version to check for junk, or use -X version to throw exception.</span>
<span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ParseU64</span><span class="p">(</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">iter</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ParseI32</span><span class="p">(</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">iter</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ParseU32</span><span class="p">(</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">iter</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringIter</span><span class="o">::</span><span class="n">GetDigit</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">RunCsvParse</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">CsvParse</span><span class="w"> </span><span class="o">&amp;</span><span class="n">csvparse</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Find first occurence of MATCH in S</span>
<span class="c1">// If found, return range corresponding to the match.</span>
<span class="c1">// If not found, return range (S.n_elems,S.n_elems) -- an empty range positioned at</span>
<span class="c1">// the end of S</span>
<span class="n">algo</span><span class="o">::</span><span class="n">i32_Range</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">substr_FindFirst</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">match</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Same as above but search right-to-left.</span>
<span class="c1">// In case of failure, return range (0,0) -- empty range positioned at start of S.</span>
<span class="n">algo</span><span class="o">::</span><span class="n">i32_Range</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">substr_FindLast</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">match</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Strip leading whitespace, return new strptr.</span>
<span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TrimmedLeft</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Strip trailing whitespace, return new strptr.</span>
<span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TrimmedRight</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// TrimmedLeft + TrimmedRight</span>
<span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Trimmed</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// scan STR until character SEP is found.</span>
<span class="c1">// if SEP is not found, it is assumed to be beyond the right side of the string</span>
<span class="c1">// set LEFT to point to the characters to the left of found location.</span>
<span class="c1">// set STR to point to the characters to the right of found location.</span>
<span class="c1">// Example:</span>
<span class="c1">// str = &quot;abc.def&quot;, sep=&#39;.&#39;; After NextSep, str=&quot;def&quot;, left=&quot;abc&quot;</span>
<span class="c1">// str = &quot;abc-def&quot;, sep=&#39;.&#39;; After NextSep, str=&quot;&quot;, left=&quot;abc-def&quot;</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">NextSep</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">sep</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">left</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Word_curs_Reset</span><span class="p">(</span><span class="n">Word_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">text</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Word_curs_Next</span><span class="p">(</span><span class="n">Word_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Skip any leading whitespace.</span>
<span class="c1">// Read next word (GetWordCharf) and compare to typetag.</span>
<span class="c1">// Skip any subsequent whitespace as well.</span>
<span class="c1">// Return true if type typetag matches</span>
<span class="c1">// if typetag doesn&#39;t match, input string remains unchanged</span>
<span class="c1">// &quot; a  b &quot; -&gt; typetag is &quot;a&quot;, rest is &quot;b &quot;</span>
<span class="c1">// &quot;a    b&quot; -&gt; typetag is &quot;a&quot;, rest is &quot;b&quot;</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StripTypeTag</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">in_str</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">typetag</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Limit length of string S ot at most LEN characters</span>
<span class="c1">// If S is trimmed, append &quot;...&quot; to the end</span>
<span class="n">tempstr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LimitLengthEllipsis</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">i32_Range</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_FindFirst</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">match</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">i32_Range</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_FindLast</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">match</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_ReadStrptrMaybe</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Append / to string STR unless STR already ends in one.</span>
<span class="c1">// str &lt;&lt; dirname &lt;&lt; MaybeDirSep &lt;&lt; filename.</span>
<span class="c1">// The separator is always /. To support windows-specific pathnames,</span>
<span class="c1">// use ToWindows path where appropriate.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">MaybeDirSep</span><span class="p">(</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">i32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_Cmp</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">Attr_curs</span><span class="o">::</span><span class="n">Attr_curs</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Attr_curs_Reset</span><span class="p">(</span><span class="n">Attr_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">line</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Attr_curs_Next</span><span class="p">(</span><span class="n">Attr_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Compare two strings whose start address is 16-byte aligned</span>
<span class="c1">// Do not use this function --</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">AlignedEqual</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// insert TEXT into OUT, indenting as necessary;</span>
<span class="c1">// Initial indentation is INDENT, it&#39;s adjusted as necessary as { and } are found</span>
<span class="c1">// in the TEXT.</span>
<span class="c1">// Each indent is 4 spaces.</span>
<span class="c1">// Trailing //-sytle comments are stripped</span>
<span class="c1">// /* */-style comments are not supported</span>
<span class="c1">// Lines beginning with # (#ifdef, etc) are printed at column zero.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">InsertIndent</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">indent</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Convert unix path to windows path</span>
<span class="c1">// This replaces slashes with backslashes</span>
<span class="n">tempstr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToWindowsPath</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">path</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// compatibility</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">reset</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">DayRange_curs_Reset</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">DayRange_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">DayRange</span><span class="o">&amp;</span><span class="w"> </span><span class="n">range</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">DayRange_curs_Next</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">DayRange_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">DayRange_curs_ValidQ</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">DayRange_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="o">&amp;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">DayRange_curs_Access</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">DayRange_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">u64_Ranges_curs</span><span class="o">::</span><span class="n">u64_Ranges_curs</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">cur</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">end</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">valid</span><span class="p">(</span><span class="nb">false</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_Ranges_curs_Reset</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">u64_Ranges_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_Ranges_curs_Next</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">u64_Ranges_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_Ranges_curs_ValidQ</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">u64_Ranges_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">u64</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo</span><span class="o">::</span><span class="n">u64_Ranges_curs_Access</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">u64_Ranges_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Sep_curs_Reset</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Sep_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">line</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">sep</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Sep_curs_Next</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Sep_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TimeStruct_Read</span><span class="p">(</span><span class="n">TimeStruct</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">iter</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">spec</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">TimeStruct</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToTimeStruct</span><span class="p">(</span><span class="n">UnDiff</span><span class="w">   </span><span class="n">U</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">TimeStruct</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToTimeStruct</span><span class="p">(</span><span class="n">UnixDiff</span><span class="w"> </span><span class="n">U</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">UnixDiff</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToUnixDiff</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">TimeStruct</span><span class="w"> </span><span class="o">&amp;</span><span class="n">S</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToUnDiff</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">TimeStruct</span><span class="w"> </span><span class="o">&amp;</span><span class="n">S</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixTime</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LocalDate</span><span class="p">(</span><span class="n">UnixTime</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">TimeStruct</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetLocalTimeStruct</span><span class="p">(</span><span class="n">UnixTime</span><span class="w"> </span><span class="n">U</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">TimeStruct</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetLocalTimeStruct</span><span class="p">(</span><span class="n">UnTime</span><span class="w"> </span><span class="n">U</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LocalDate</span><span class="p">(</span><span class="n">UnTime</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StripDate</span><span class="p">(</span><span class="n">UnTime</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">TimeStruct</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetGMTimeStruct</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="n">U</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">UnixTime</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToUnixTime</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">TimeStruct</span><span class="w"> </span><span class="o">&amp;</span><span class="n">S</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToUnTime</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">TimeStruct</span><span class="w"> </span><span class="o">&amp;</span><span class="n">S</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// empty string -&gt; 0</span>
<span class="c1">// invalid weekday -&gt; -1</span>
<span class="c1">// All other weeks days map to 0..6, numbers compatible with struct tm&#39;s tm_wday field</span>
<span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetWeekday</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">wday</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetWeekdayName</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetMonthZeroBased</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">month</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetWholeMonthZeroBased</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Inverse mapping to abbreviated month names (Jan, Feb, etc.)</span>
<span class="c1">// If short_name==false, returns full name (January, February, etc.)</span>
<span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetMonthNameZeroBased</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetMonthNameZeroBasedShort</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// DateCache -- Roughly 200x faster LocalDate</span>
<span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">DateCache_LocalDate</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">DateCache</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dc</span><span class="p">,</span><span class="w"> </span><span class="n">UnTime</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToUnTime</span><span class="p">(</span><span class="n">WTime</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ParseUnTime</span><span class="p">(</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">spec</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ParseUnTime</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">spec</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Change TZ environment variable to specified value</span>
<span class="c1">// and notify C runtime lib of the change</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SetTz</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">zone</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Initialize time hook TH as non-recurrent, with delay DELAY.</span>
<span class="c1">// Usage:</span>
<span class="c1">// ThInit(th, SchedTime());     // schedule at current time</span>
<span class="c1">// hook_Set0(th, myfunction);   // set callback</span>
<span class="c1">// bh_timehook_Reheap(th);      // insert into timehook heap</span>
<span class="c1">// ... eventually algo_lib::Step() will call the hook</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">ThInit</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FTimehook</span><span class="o">&amp;</span><span class="w"> </span><span class="n">th</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SchedTime</span><span class="w"> </span><span class="n">delay</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Similar to the above, but recurrent.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">ThInitRecur</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FTimehook</span><span class="o">&amp;</span><span class="w"> </span><span class="n">th</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SchedTime</span><span class="w"> </span><span class="n">delay</span><span class="p">)</span><span class="w"> </span><span class="n">NOTHROW</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Allowing only for fixed length formats.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">tstamp_cache_Init</span><span class="p">(</span><span class="n">TstampCache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">cache</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">spec</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">gmt</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">tstamp_cache_Print</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">TstampCache</span><span class="o">&amp;</span><span class="w"> </span><span class="n">cache</span><span class="p">,</span><span class="w"> </span><span class="n">UnTime</span><span class="w"> </span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="n">cstring</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Add new cell to the given row.</span>
<span class="n">algo_lib</span><span class="o">::</span><span class="n">FTxtcell</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">AddCell</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FTxtrow</span><span class="w"> </span><span class="o">&amp;</span><span class="n">txtrow</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">algo_TextJustEnum</span><span class="w"> </span><span class="n">justify</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">span</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FTxtcell</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">AddCell</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FTxtrow</span><span class="w"> </span><span class="o">&amp;</span><span class="n">txtrow</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">algo_TextJustEnum</span><span class="w"> </span><span class="n">justify</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Add new cell to the last row of of table and return references to its text</span>
<span class="n">algo_lib</span><span class="o">::</span><span class="n">FTxtrow</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">AddRow</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FTxttbl</span><span class="w"> </span><span class="o">&amp;</span><span class="n">txttbl</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Add column to the last row of table and return reference to it</span>
<span class="n">algo_lib</span><span class="o">::</span><span class="n">FTxtcell</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">AddCellEx</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FTxttbl</span><span class="w"> </span><span class="o">&amp;</span><span class="n">txttbl</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Text table.</span>
<span class="c1">// Text table is a table with rows; Each row has an array of cells.</span>
<span class="c1">// Each call has text, col span, text justification, and optional style (color).</span>
<span class="c1">// Add column to the last row of table.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">AddCol</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FTxttbl</span><span class="w"> </span><span class="o">&amp;</span><span class="n">txttbl</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">col</span><span class="p">,</span><span class="w"> </span><span class="n">algo_TextJustEnum</span><span class="w"> </span><span class="n">justify</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">AddCol</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FTxttbl</span><span class="w"> </span><span class="o">&amp;</span><span class="n">txttbl</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">col</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">AddCell</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FTxttbl</span><span class="w"> </span><span class="o">&amp;</span><span class="n">txttbl</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Use prlog(txttbl) to print.</span>
<span class="kt">void</span><span class="w"> </span><span class="n">algo_lib</span><span class="o">::</span><span class="n">TxttblCsv</span><span class="p">(</span><span class="n">algo_lib</span><span class="o">::</span><span class="n">FTxttbl</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tbl</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SaneTerminalQ</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">U128</span><span class="w"> </span><span class="n">U128</span><span class="o">::</span><span class="k">operator</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">count</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">U128</span><span class="w"> </span><span class="n">U128</span><span class="o">::</span><span class="k">operator</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">count</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">U128</span><span class="w"> </span><span class="n">U128</span><span class="o">::</span><span class="k">operator</span><span class="w"> </span><span class="o">&amp;</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">U128</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">U128</span><span class="w"> </span><span class="n">U128</span><span class="o">::</span><span class="k">operator</span><span class="w"> </span><span class="o">|</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">U128</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">U128</span><span class="w"> </span><span class="n">U128</span><span class="o">::</span><span class="k">operator</span><span class="w"> </span><span class="o">-</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">U128</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">U128</span><span class="w"> </span><span class="n">U128</span><span class="o">::</span><span class="k">operator</span><span class="w"> </span><span class="o">+</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">U128</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">U128</span><span class="w"> </span><span class="n">U128</span><span class="o">::</span><span class="k">operator</span><span class="w"> </span><span class="o">%</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">U128</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">U128</span><span class="w"> </span><span class="n">U128</span><span class="o">::</span><span class="k">operator</span><span class="w"> </span><span class="o">/</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">U128</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">U128</span><span class="w"> </span><span class="n">U128</span><span class="o">::</span><span class="k">operator</span><span class="w"> </span><span class="o">*</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">U128</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">fork</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">alarm</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// redirect to MS implementation</span>
<span class="kt">int</span><span class="w"> </span><span class="n">pipe</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">kill</span><span class="p">(</span><span class="kt">pid_t</span><span class="w"> </span><span class="n">pid</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">signal</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// not too important</span>
<span class="kt">int</span><span class="w"> </span><span class="n">fchmod</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">mode</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">pid_t</span><span class="w"> </span><span class="n">waitpid</span><span class="p">(</span><span class="kt">pid_t</span><span class="w"> </span><span class="n">pid</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">options</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">srandom</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">random</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">mkdir</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">path</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">mode</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">mkstemp</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">tmpl</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">isatty</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">flock</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">flags</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">usleep</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">microsec</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">sleep</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">setenv</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">overwrite</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">strsignal</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">sig</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">WIFSIGNALED</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">status</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">WCOREDUMP</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">status</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">WIFEXITED</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">status</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">WEXITSTATUS</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">status</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">WTERMSIG</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">status</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">WIFSTOPPED</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">status</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">WSTOPSIG</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">status</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">getrlimit</span><span class="p">(</span><span class="n">RlimitEnum</span><span class="w"> </span><span class="n">what</span><span class="p">,</span><span class="w"> </span><span class="n">rlimit</span><span class="w"> </span><span class="o">*</span><span class="n">r</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">setrlimit</span><span class="p">(</span><span class="n">RlimitEnum</span><span class="w"> </span><span class="n">what</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">rlimit</span><span class="w"> </span><span class="o">*</span><span class="n">r</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Create linux-type soft link</span>
<span class="c1">// Return 0 if success</span>
<span class="kt">int</span><span class="w"> </span><span class="n">symlink</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">target</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">link</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">target</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">path</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">sigemptyset</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="o">*</span><span class="n">mask</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// no sigaciton on windows</span>
<span class="kt">int</span><span class="w"> </span><span class="n">sigaction</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">signal</span><span class="p">,</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">sigaction</span><span class="w"> </span><span class="o">*</span><span class="n">sa</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">strerror_r</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bufsize</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">getdomainname</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bufsize</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">DIR</span><span class="w"> </span><span class="o">*</span><span class="n">opendir</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">path</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">closedir</span><span class="p">(</span><span class="kt">DIR</span><span class="w"> </span><span class="o">*</span><span class="n">dir</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">fnmatch</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">flags</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Windows doesn&#39;t support soft links.</span>
<span class="c1">// So implement lstat via stat</span>
<span class="kt">int</span><span class="w"> </span><span class="n">lstat</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">path</span><span class="p">,</span><span class="w"> </span><span class="n">StatStruct</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">stat</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">path</span><span class="p">,</span><span class="w"> </span><span class="n">StatStruct</span><span class="w"> </span><span class="o">*</span><span class="n">s</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">fstat</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="n">StatStruct</span><span class="w"> </span><span class="o">*</span><span class="n">s</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">gettimeofday</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">timeval</span><span class="w"> </span><span class="o">*</span><span class="n">tv</span><span class="p">,</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">timezone</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">ftruncate</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// https://gcc.gnu.org/onlinedocs/gcc-4.1.1/gcc/Atomic-Builtins.html</span>
<span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">sync_lock_test_and_set</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">**</span><span class="n">addr</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// https://gcc.gnu.org/onlinedocs/gcc-4.1.1/gcc/Atomic-Builtins.html</span>
<span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">sync_val_compare_and_swap</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">**</span><span class="n">addr</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">oldval</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">newval</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Close specified handle if it open</span>
<span class="c1">// Set value to NULL</span>
<span class="kt">void</span><span class="w"> </span><span class="n">CloseHandleSafe</span><span class="p">(</span><span class="n">HANDLE</span><span class="w"> </span><span class="o">&amp;</span><span class="n">handle</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">dospawn</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">path</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">cmdline</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">timeout</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">fstdin</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">fstdout</span><span class="p">,</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">fstderr</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">readlink</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">path</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bufsize</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">sysconf</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">selector</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">mmap</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">base_addr</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">MmapProt</span><span class="w"> </span><span class="n">prot</span><span class="p">,</span><span class="w"> </span><span class="n">MmapFlags</span><span class="w"> </span><span class="n">mapflags</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">flags2</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">munmap</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">base_addr</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">pthread_create</span><span class="p">(</span><span class="n">pthread_t</span><span class="w"> </span><span class="o">*</span><span class="kr">thread</span><span class="p">,</span><span class="w"> </span><span class="n">pthread_attr_t</span><span class="w"> </span><span class="o">*</span><span class="n">attr</span><span class="p">,</span><span class="w"> </span><span class="n">ThreadFunc</span><span class="w"> </span><span class="n">func</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">arg</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">pthread_t</span><span class="w"> </span><span class="n">pthread_self</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="n">tempstr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo</span><span class="o">::</span><span class="k">operator</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">tempstr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Refurbish: destroy and re-create object in place.</span>
<span class="c1">// This function is exception-safe: if ~T throws an exception, T::T still gets</span>
<span class="c1">// called.</span>
<span class="c1">// Implementation note: explicit calls to destructor are checked for NULL pointer</span>
<span class="c1">// by GCC, so the nonnull attribute is required.</span>
<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Refurbish</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="n">F_NONNULL</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">elems_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ary</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ary</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Fill</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">aryptr</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="k">operator</span><span class="w"> </span><span class="p">[](</span><span class="n">u32</span><span class="w"> </span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">U</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Find</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">U</span><span class="o">&amp;</span><span class="n">t</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FirstN</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">LastN</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">RestFrom</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">qGetRegion</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">lo</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">GetRegion</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">lo</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">u8</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">BytesOf</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">aryptr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="o">*</span><span class="n">e</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">in_n</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">elems</span><span class="p">(</span><span class="k">const_cast</span><span class="o">&lt;</span><span class="n">T</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">e</span><span class="p">))</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">(</span><span class="n">in_n</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">aryptr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">elems</span><span class="p">(</span><span class="k">const_cast</span><span class="o">&lt;</span><span class="n">T</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">e</span><span class="p">))</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">n_elems</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">ImpliedLength</span><span class="p">((</span><span class="n">T</span><span class="o">*</span><span class="p">)</span><span class="nb">NULL</span><span class="p">,</span><span class="n">e</span><span class="p">))</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo</span><span class="o">::</span><span class="n">qLast</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ary</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Taylor series expansion. For x around 0.01, this produces 2 digits per</span>
<span class="c1">// iteration, so with N=4 will be reasonably fast.</span>
<span class="kr">inline</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ExpTaylor</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ParseNum8</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ParseNum4</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aParseNum8</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aParseNum4</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ok</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ParseOct1</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">u8</span><span class="w"> </span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// C           single hex character, upper or lowercase</span>
<span class="c1">// RETURN      value of hex character</span>
<span class="c1">// RESULT      value of hex digit</span>
<span class="c1">// RETURN      success code</span>
<span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ParseHex1</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">u8</span><span class="w"> </span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">PageBufInit</span><span class="p">(</span><span class="n">PageBuf</span><span class="w"> </span><span class="o">&amp;</span><span class="n">F</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">align</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">u8_Hash</span><span class="w"> </span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">u8</span><span class="w">  </span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">u16_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">u16</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">u32_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">u64_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i8_Hash</span><span class="w"> </span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">i8</span><span class="w">  </span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i16_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">i16</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i32_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">i64_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">bool_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w">  </span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">char_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w">  </span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">float_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">double_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w">  </span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">u128_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">u128</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring_Hash</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">u8_Cmp</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u8</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">u16_Cmp</span><span class="p">(</span><span class="n">u16</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u16</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">u32_Cmp</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">u64_Cmp</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">i8_Cmp</span><span class="w"> </span><span class="p">(</span><span class="n">i8</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">i8</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">i16_Cmp</span><span class="p">(</span><span class="n">i16</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">i16</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">i32_Cmp</span><span class="p">(</span><span class="n">i32</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">i64_Cmp</span><span class="p">(</span><span class="n">i64</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">bool_Cmp</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">char_Cmp</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">float_Cmp</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">double_Cmp</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">u128_Cmp</span><span class="p">(</span><span class="n">u128</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u128</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">u8_Lt</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u8</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">u16_Lt</span><span class="p">(</span><span class="n">u16</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u16</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">u32_Lt</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">u64_Lt</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">i8_Lt</span><span class="w"> </span><span class="p">(</span><span class="n">i8</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">i8</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">i16_Lt</span><span class="p">(</span><span class="n">i16</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">i16</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">i32_Lt</span><span class="p">(</span><span class="n">i32</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">i64_Lt</span><span class="p">(</span><span class="n">i64</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">bool_Lt</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">char_Lt</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">float_Lt</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">double_Lt</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">u128_Lt</span><span class="p">(</span><span class="n">u128</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u128</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">u8_Eq</span><span class="w"> </span><span class="p">(</span><span class="n">u8</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u8</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">u16_Eq</span><span class="p">(</span><span class="n">u16</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u16</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">u32_Eq</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">u64_Eq</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">i8_Eq</span><span class="w"> </span><span class="p">(</span><span class="n">i8</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">i8</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">i16_Eq</span><span class="p">(</span><span class="n">i16</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">i16</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">i32_Eq</span><span class="p">(</span><span class="n">i32</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">i64_Eq</span><span class="p">(</span><span class="n">i64</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">bool_Eq</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">char_Eq</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">float_Eq</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">double_Eq</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">u128_Eq</span><span class="p">(</span><span class="n">u128</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u128</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// this is inefficient because it would be nice to be able to overrun strings.</span>
<span class="c1">// however, we don&#39;t check byte alignment at the beginning,</span>
<span class="c1">// so a 2-byte string that lies 4 bytes before the end of a page could fault.</span>
<span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">CRC32Step</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">old</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">len</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">_mm_crc32_u64</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">_mm_crc32_u32</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">_mm_crc32_u16</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">u16</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">_mm_crc32_u8</span><span class="w"> </span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">prev</span><span class="p">,</span><span class="w"> </span><span class="n">u8</span><span class="w">  </span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">P1Mod</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w">  </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">==</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">!=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">&lt;</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixTime</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">+</span><span class="w">  </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixTime</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixDiff</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixTime</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">-</span><span class="w">  </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixTime</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixDiff</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixDiff</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixTime</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixTime</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">-</span><span class="w">    </span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">-</span><span class="w">    </span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">-</span><span class="w">    </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixDiff</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">*</span><span class="w">  </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixDiff</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixDiff</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">/</span><span class="w">  </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixDiff</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixDiff</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">+</span><span class="w">  </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixDiff</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixDiff</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixDiff</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">-</span><span class="w">  </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixDiff</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixDiff</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">+</span><span class="w">    </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">-</span><span class="w">    </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">*</span><span class="w">  </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">/</span><span class="w">  </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WTime</span><span class="w"> </span><span class="k">operator</span><span class="o">+</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WTime</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t2</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff</span><span class="w"> </span><span class="k">operator</span><span class="o">+</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t2</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WTime</span><span class="w"> </span><span class="k">operator</span><span class="o">-</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WTime</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t2</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff</span><span class="w"> </span><span class="k">operator</span><span class="o">-</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WTime</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WTime</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t2</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff</span><span class="w"> </span><span class="k">operator</span><span class="o">-</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t2</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SchedTime</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">+</span><span class="w">  </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SchedTime</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SchedTime</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SchedTime</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">-</span><span class="w">  </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SchedTime</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SchedTime</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// move ctor</span>
<span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">tempstr</span><span class="o">::</span><span class="n">tempstr</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">tempstr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="p">(</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_Count1s</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u8_Count1s</span><span class="p">(</span><span class="n">u8</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u16_Count1s</span><span class="p">(</span><span class="n">u16</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_Count1s</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u128_Count1s</span><span class="p">(</span><span class="n">u128</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ZeroBytes</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">U</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">PtrAdd</span><span class="p">(</span><span class="n">U</span><span class="w"> </span><span class="o">*</span><span class="n">ptr</span><span class="p">,</span><span class="w"> </span><span class="n">int_ptr</span><span class="w"> </span><span class="n">offset</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TSwap</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span><span class="w">  </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Default, and invalid, value for Fildes is -1. 0 is a valid value (stdin)!</span>
<span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ValidQ</span><span class="p">(</span><span class="n">Fildes</span><span class="w"> </span><span class="n">fd</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">i32_NegateIf</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">i64_NegateIf</span><span class="p">(</span><span class="n">i64</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">float_NegateIf</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">double_NegateIf</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">DRound</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">DCeiling</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">DFloor</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">DTrunc</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo_FileFlagsEnum</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">|</span><span class="p">(</span><span class="n">algo_FileFlagsEnum</span><span class="w"> </span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="n">algo_FileFlagsEnum</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Clipping to an open interval (exclisive upper limit) [0..hi-1] or [lo..hi-1]</span>
<span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Clipped</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">hi</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Clipped</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">lo</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">hi</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Clipping to a closed interval lo..hi</span>
<span class="kr">inline</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Clippedf</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">lo</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">hi</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// unsigned subtract with clipping</span>
<span class="kr">inline</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_SubClip</span><span class="p">(</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_SubClip</span><span class="p">(</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u16</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u16_SubClip</span><span class="p">(</span><span class="w"> </span><span class="n">u16</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u16</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Abs</span><span class="p">(</span><span class="n">i8</span><span class="w">  </span><span class="n">a</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Abs</span><span class="p">(</span><span class="n">i16</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Abs</span><span class="p">(</span><span class="n">i32</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Abs</span><span class="p">(</span><span class="n">i64</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">f32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Abs</span><span class="p">(</span><span class="n">f32</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">f64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Abs</span><span class="p">(</span><span class="n">f64</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">f80</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Abs</span><span class="p">(</span><span class="n">f80</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Read big-endian word</span>
<span class="kr">inline</span><span class="w"> </span><span class="n">u16</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ReadBE16</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ReadBE32</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ReadBE64</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Read little-endian word</span>
<span class="kr">inline</span><span class="w"> </span><span class="n">u16</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE16</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE32</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ReadLE64</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">val</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Forward:  returns 0-based index of least significant bit that is set</span>
<span class="c1">// Reverse:  returns 0-based index of most  significant bit that is set.</span>
<span class="c1">// input argument must not be zero.</span>
<span class="c1">// input result in 0 is undefined (see Intel manual)</span>
<span class="c1">// http://www.intel.com/content/dam/doc/manual/64-ia-32-architectures-software-developer-vol-2a-2b-instruction-set-a-z-manual.pdf</span>
<span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_BitScanForward</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_BitScanForward</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_BitScanReverse</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_BitScanReverse</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u16_BitScanForward</span><span class="p">(</span><span class="n">u16</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u16_BitScanReverse</span><span class="p">(</span><span class="n">u16</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u8_BitScanForward</span><span class="p">(</span><span class="n">u8</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u8_BitScanReverse</span><span class="p">(</span><span class="n">u8</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w">  </span><span class="n">algo</span><span class="o">::</span><span class="n">CeilingLog2</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">orig</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u64</span><span class="w">  </span><span class="n">algo</span><span class="o">::</span><span class="n">CeilingLog2</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">orig</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w">  </span><span class="n">algo</span><span class="o">::</span><span class="n">FloorLog2</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u64</span><span class="w">  </span><span class="n">algo</span><span class="o">::</span><span class="n">FloorLog2</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">BumpToPow2</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">BumpToPow2</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u64</span><span class="w">   </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_CeilPow2</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w">   </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_CeilPow2</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u64</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_ModPow2</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w">    </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_ModPow2</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w">     </span><span class="n">algo</span><span class="o">::</span><span class="n">u64_Pow2Q</span><span class="p">(</span><span class="n">u64</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w">     </span><span class="n">algo</span><span class="o">::</span><span class="n">u32_Pow2Q</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">PageBuf</span><span class="o">::~</span><span class="n">PageBuf</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// get CPU HZ value as u64</span>
<span class="kr">inline</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">get_cpu_hz_int</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// get CPU HZ value as double</span>
<span class="kr">inline</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">get_cpu_hz</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// cpu_hz (untyped SchedTime)</span>
<span class="c1">// use this for timestamps.</span>
<span class="c1">// these calls may be pipelined and reordered, so measuring instruction</span>
<span class="c1">// latency with these is not possible. for that, use rdtscp</span>
<span class="kr">inline</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">get_cycles</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Convert scheduler time units to seconds.</span>
<span class="kr">inline</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToSecs</span><span class="p">(</span><span class="n">SchedTime</span><span class="w"> </span><span class="n">ticks</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToUnDiff</span><span class="p">(</span><span class="n">SchedTime</span><span class="w"> </span><span class="n">ticks</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SchedTime</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToSchedTime</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">secs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToUnTime</span><span class="p">(</span><span class="n">UnixTime</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixTime</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToUnixTime</span><span class="p">(</span><span class="n">UnTime</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToSecs</span><span class="p">(</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToSecs</span><span class="p">(</span><span class="n">UnTime</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixTime</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">CurrUnixTime</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// use this for performance measurements.</span>
<span class="c1">// according to Intel software manual, lfence followed by rdtsc</span>
<span class="c1">// is the beez knees.</span>
<span class="kr">inline</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">rdtscp</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixDiff</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixDiffHMS</span><span class="p">(</span><span class="n">i64</span><span class="w"> </span><span class="n">h</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiffSecs</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiffMsecs</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiffUsecs</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnTimeSecs</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiffSecs</span><span class="p">(</span><span class="n">i64</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiffSecs</span><span class="p">(</span><span class="n">i32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiffHMS</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">h</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Current value of get_cycles();</span>
<span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SchedTime</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">CurrSchedTime</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Elapsed time in seconds between two SchedTimes.</span>
<span class="kr">inline</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ElapsedSecs</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">SchedTime</span><span class="w"> </span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SchedTime</span><span class="w"> </span><span class="n">end</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TimeStruct</span><span class="o">::</span><span class="n">TimeStruct</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TimeStruct</span><span class="o">::</span><span class="n">TimeStruct</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">tm</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">tm</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToWDiff</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">UnixDiff</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToWDiff</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixDiff</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToUnixDiff</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WTime</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToWTime</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnDiff</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToUnDiff</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnixTime</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToUnixTime</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">WTime</span><span class="w"> </span><span class="n">nt</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">WTime</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToWTime</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">UnixTime</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToSecs</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">WDiff</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Append and end-of-line sequence to string S.</span>
<span class="kr">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">eol</span><span class="p">(</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">s</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToStrPtr</span><span class="p">(</span><span class="n">memptr</span><span class="w"> </span><span class="n">buf</span><span class="p">)</span><span class="w">  </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Note: cstring &lt;&lt; algo::ToLower(int) will output an *integer*, not a character</span>
<span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToLower</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w">  </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Note: cstring &lt;&lt; algo::ToUpper(int) will output an *integer*, not a character</span>
<span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToUpper</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w">  </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToLower</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w">  </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ToUpper</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w">  </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringIter</span><span class="o">::</span><span class="n">EofQ</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringIter</span><span class="o">::</span><span class="n">Peek</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringIter</span><span class="o">::</span><span class="n">GetChar</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo</span><span class="o">::</span><span class="n">StringIter</span><span class="o">::</span><span class="n">Ws</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">i32_Range</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TFind</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">match</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">i32_Range</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">TRevFind</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">match</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_FirstN</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_LastN</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_RestFrom</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_GetRegion</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">lo</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ImpliedLength</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ImpliedLength</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">s</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_First</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dflt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_Last</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dflt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ch_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">tempstr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">range_N</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">i32_Range</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">u8</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_ToMemptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">memptr_ToStrptr</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="n">u8</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// if next character matches WHAT, skip and return true</span>
<span class="c1">// otherwise return false</span>
<span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SkipChar</span><span class="p">(</span><span class="n">StringIter</span><span class="w"> </span><span class="o">&amp;</span><span class="n">iter</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">what</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Convert string to numeric type.</span>
<span class="c1">// If there is an error, or string is empty, return DFLT.</span>
<span class="c1">// If there is junk at the end of the string, silently ignore it.</span>
<span class="c1">// Use StringIter version to check for junk, or use -X version to throw exception.</span>
<span class="kr">inline</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ParseI32</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ParseU32</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ParseI64</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ParseU64</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">u64</span><span class="w"> </span><span class="n">dflt</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">StringIter</span><span class="o">::</span><span class="n">Rest</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Attr_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo</span><span class="o">::</span><span class="n">Attr_curs_Access</span><span class="p">(</span><span class="n">Attr_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Attr_curs_ValidQ</span><span class="p">(</span><span class="n">Attr_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Line_curs_ValidQ</span><span class="p">(</span><span class="n">Line_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo</span><span class="o">::</span><span class="n">Line_curs_Access</span><span class="p">(</span><span class="n">Line_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Word_curs_ValidQ</span><span class="p">(</span><span class="n">Word_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo</span><span class="o">::</span><span class="n">Word_curs_Access</span><span class="p">(</span><span class="n">Word_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Init_Set</span><span class="p">(</span><span class="n">StringDesc</span><span class="w"> </span><span class="o">&amp;</span><span class="n">desc</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="n">fcn</span><span class="p">)(</span><span class="n">T</span><span class="o">&amp;</span><span class="p">))</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SetnumMaybe_Set</span><span class="p">(</span><span class="n">StringDesc</span><span class="w"> </span><span class="o">&amp;</span><span class="n">desc</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="p">(</span><span class="o">*</span><span class="n">fcn</span><span class="p">)(</span><span class="n">T</span><span class="o">&amp;</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">num</span><span class="p">))</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Geti64_Set</span><span class="p">(</span><span class="n">StringDesc</span><span class="w"> </span><span class="o">&amp;</span><span class="n">desc</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="p">(</span><span class="o">*</span><span class="n">fcn</span><span class="p">)(</span><span class="n">T</span><span class="o">&amp;</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">&amp;</span><span class="p">))</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Getary_Set</span><span class="p">(</span><span class="n">StringDesc</span><span class="w"> </span><span class="o">&amp;</span><span class="n">desc</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">aryptr</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="n">fcn</span><span class="p">)(</span><span class="n">T</span><span class="o">&amp;</span><span class="p">))</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo</span><span class="o">::</span><span class="n">FileLine_curs_Access</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileLine_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">FileLine_curs_ValidQ</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">FileLine_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">ListSep</span><span class="o">::</span><span class="n">ListSep</span><span class="p">(</span><span class="n">strptr</span><span class="w"> </span><span class="n">sep_</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">sep</span><span class="p">(</span><span class="n">sep_</span><span class="p">),</span><span class="w"> </span><span class="n">iter</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Line_curs</span><span class="o">::</span><span class="n">Line_curs</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">eof</span><span class="p">(</span><span class="nb">true</span><span class="p">),</span><span class="n">i</span><span class="p">(</span><span class="mi">-1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Word_curs</span><span class="o">::</span><span class="n">Word_curs</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">index</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Sep_curs_ValidQ</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Sep_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo</span><span class="o">::</span><span class="n">Sep_curs_Access</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Sep_curs</span><span class="w"> </span><span class="o">&amp;</span><span class="n">curs</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">Sep_curs</span><span class="o">::</span><span class="n">Sep_curs</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">sep</span><span class="p">(</span><span class="sc">&#39;\0&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">index</span><span class="p">(</span><span class="mi">-1</span><span class="p">),</span><span class="w"> </span><span class="n">state</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">Sep_curs</span><span class="o">::</span><span class="n">State</span><span class="o">::</span><span class="n">invalid</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">u32</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u16_FmtBuf</span><span class="p">(</span><span class="n">u32</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">u8</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo</span><span class="o">::</span><span class="k">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo</span><span class="o">::</span><span class="k">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">ListSep</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo</span><span class="o">::</span><span class="k">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">strptr</span><span class="w"> </span><span class="o">&amp;</span><span class="n">t</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">algo</span><span class="o">::</span><span class="k">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">t</span><span class="p">)(</span><span class="n">algo</span><span class="o">::</span><span class="n">cstring</span><span class="w"> </span><span class="o">&amp;</span><span class="p">))</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// SameSign returns false if one of the arguments is zero.</span>
<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">SameSignQ</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Compare two strings for equality, case-sensitively</span>
<span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_Eq</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Test if string A is lexicographically less than string B.</span>
<span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr_Lt</span><span class="p">(</span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">strptr</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// reverse bit order in a byte</span>
<span class="kr">inline</span><span class="w"> </span><span class="n">u8</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">u8_ReverseBits</span><span class="p">(</span><span class="n">u8</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Return unix-epoch time with nanosecond resolution</span>
<span class="c1">// On Linux, this function calls clock_gettime() which takes about</span>
<span class="c1">// 30ns and uses rdtsc() to increase underlying clock resolution</span>
<span class="kr">inline</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">UnTime</span><span class="w"> </span><span class="n">algo</span><span class="o">::</span><span class="n">CurrUnTime</span><span class="p">()</span><span class="w"> </span>
</pre></div>
</div>
</section>
<section id="sources">
<h2>Sources<a class="headerlink" href="#sources" title="Permalink to this heading">#</a></h2>
<p><a href="#sources"></a>
The source code license is GPL
The following source files are part of this tool:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Source File</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="../../../cpp/gen/_gen.html"><span class="std std-doc">cpp/gen/_gen.cpp</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../cpp/gen/algo_gen.html"><span class="std std-doc">cpp/gen/algo_gen.cpp</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../cpp/gen/algo_lib_gen.html"><span class="std std-doc">cpp/gen/algo_lib_gen.cpp</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../cpp/gen/command_gen.html"><span class="std std-doc">cpp/gen/command_gen.cpp</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../cpp/gen/dev_gen.html"><span class="std std-doc">cpp/gen/dev_gen.cpp</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../cpp/gen/dmmeta_gen.html"><span class="std std-doc">cpp/gen/dmmeta_gen.cpp</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../cpp/gen/report_gen.html"><span class="std std-doc">cpp/gen/report_gen.cpp</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../cpp/lib/algo/arg.html"><span class="std std-doc">cpp/lib/algo/arg.cpp</span></a></p></td>
<td><p>Parse command-line</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../cpp/lib/algo/backtrace.html"><span class="std std-doc">cpp/lib/algo/backtrace.cpp</span></a></p></td>
<td><p>Print stack trace in case of crash</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../cpp/lib/algo/base64.html"><span class="std std-doc">cpp/lib/algo/base64.cpp</span></a></p></td>
<td><p>base64 encoding</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../cpp/lib/algo/cpu_hz.html"><span class="std std-doc">cpp/lib/algo/cpu_hz.cpp</span></a></p></td>
<td><p>Grab cpu_hz from OS</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../cpp/lib/algo/crc32.html"><span class="std std-doc">cpp/lib/algo/crc32.cpp</span></a></p></td>
<td><p>Software-based CRC32</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../cpp/lib/algo/decimal.html"><span class="std std-doc">cpp/lib/algo/decimal.cpp</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../cpp/lib/algo/errtext.html"><span class="std std-doc">cpp/lib/algo/errtext.cpp</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../cpp/lib/algo/file.html"><span class="std std-doc">cpp/lib/algo/file.cpp</span></a></p></td>
<td><p>File functions</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../cpp/lib/algo/fmt.html"><span class="std std-doc">cpp/lib/algo/fmt.cpp</span></a></p></td>
<td><p>Print to string / Read from string</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../cpp/lib/algo/iohook.html"><span class="std std-doc">cpp/lib/algo/iohook.cpp</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../cpp/lib/algo/lib.html"><span class="std std-doc">cpp/lib/algo/lib.cpp</span></a></p></td>
<td><p>Main file</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../cpp/lib/algo/line.html"><span class="std std-doc">cpp/lib/algo/line.cpp</span></a></p></td>
<td><p>Line processing</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../cpp/lib/algo/lockfile.html"><span class="std std-doc">cpp/lib/algo/lockfile.cpp</span></a></p></td>
<td><p>Lock file</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../cpp/lib/algo/mmap.html"><span class="std std-doc">cpp/lib/algo/mmap.cpp</span></a></p></td>
<td><p>Mmap wrapper</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../cpp/lib/algo/prlog.html"><span class="std std-doc">cpp/lib/algo/prlog.cpp</span></a></p></td>
<td><p>prlog macro</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../cpp/lib/algo/regx.html"><span class="std std-doc">cpp/lib/algo/regx.cpp</span></a></p></td>
<td><p>Sql Regx implementation</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../cpp/lib/algo/string.html"><span class="std std-doc">cpp/lib/algo/string.cpp</span></a></p></td>
<td><p>cstring functions</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../cpp/lib/algo/time.html"><span class="std std-doc">cpp/lib/algo/time.cpp</span></a></p></td>
<td><p>UnTime / UnDiff functions</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../cpp/lib/algo/timehook.html"><span class="std std-doc">cpp/lib/algo/timehook.cpp</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../cpp/lib/algo/tstamp.html"><span class="std std-doc">cpp/lib/algo/tstamp.cpp</span></a></p></td>
<td><p>timestamp cache</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../cpp/lib/algo/txttbl.html"><span class="std std-doc">cpp/lib/algo/txttbl.cpp</span></a></p></td>
<td><p>Ascii table</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../cpp/lib/algo/u128.html"><span class="std std-doc">cpp/lib/algo/u128.cpp</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../cpp/lib/algo/win32.html"><span class="std std-doc">cpp/lib/algo/win32.cpp</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../include/algo.html"><span class="std std-doc">include/algo.h</span></a></p></td>
<td><p>Main header</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../include/algo.inl.html"><span class="std std-doc">include/algo.inl.h</span></a></p></td>
<td><p>Inline functions</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../include/define.html"><span class="std std-doc">include/define.h</span></a></p></td>
<td><p>Macros</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../include/gen/_gen.html"><span class="std std-doc">include/gen/_gen.h</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../include/gen/_gen.inl.html"><span class="std std-doc">include/gen/_gen.inl.h</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../include/gen/algo_gen.html"><span class="std std-doc">include/gen/algo_gen.h</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../include/gen/algo_gen.inl.html"><span class="std std-doc">include/gen/algo_gen.inl.h</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../include/gen/algo_lib_gen.html"><span class="std std-doc">include/gen/algo_lib_gen.h</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../include/gen/algo_lib_gen.inl.html"><span class="std std-doc">include/gen/algo_lib_gen.inl.h</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../include/gen/command_gen.html"><span class="std std-doc">include/gen/command_gen.h</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../include/gen/command_gen.inl.html"><span class="std std-doc">include/gen/command_gen.inl.h</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../include/gen/dev_gen.html"><span class="std std-doc">include/gen/dev_gen.h</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../include/gen/dev_gen.inl.html"><span class="std std-doc">include/gen/dev_gen.inl.h</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../include/gen/report_gen.html"><span class="std std-doc">include/gen/report_gen.h</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../include/gen/report_gen.inl.html"><span class="std std-doc">include/gen/report_gen.inl.h</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../include/sha.html"><span class="std std-doc">include/sha.h</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../include/sysincl.html"><span class="std std-doc">include/sysincl.h</span></a></p></td>
<td><p>System header includes</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../include/typedef.html"><span class="std std-doc">include/typedef.h</span></a></p></td>
<td><p>Typedefs</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../include/u128.html"><span class="std std-doc">include/u128.h</span></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../include/win32.html"><span class="std std-doc">include/win32.h</span></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="inputs">
<h2>Inputs<a class="headerlink" href="#inputs" title="Permalink to this heading">#</a></h2>
<p><a href="#inputs"></a>
<code class="docutils literal notranslate"><span class="pre">algo_lib</span></code> takes the following tables on input:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ssimfile</p></th>
<th class="head"><p>comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="../../ssimdb/dmmeta/dispsigcheck.html"><span class="std std-doc">dmmeta.dispsigcheck</span></a></p></td>
<td><p>Check signature of input data against executable’s version</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../lib_amcdb/README.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">lib_amcdb - Library used by amc</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../README.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Libraries</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, AlgoRND
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on Apr 25, 2024</div>
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="algornd/arnd.313/-/commit/f8df17b9ffe2ee281b418863917c6ef10eaf02fa" aria-label="gitlab"><p style="font-family: Courier, monospace; font-size:12px; "> commit:2024-04-25.f8df17b9 </p></a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">algo_lib - Support library for all executables</a><ul>
<li><a class="reference internal" href="#table-of-contents">Table Of Contents</a></li>
<li><a class="reference internal" href="#printing-process-output">Printing / Process output</a></li>
<li><a class="reference internal" href="#printing-to-stderr">Printing to stderr</a></li>
<li><a class="reference internal" href="#log-categories">Log categories</a></li>
<li><a class="reference internal" href="#verblog">Verblog</a></li>
<li><a class="reference internal" href="#dbglog">Dbglog</a></li>
<li><a class="reference internal" href="#environment-variables">Environment variables</a></li>
<li><a class="reference internal" href="#ctypes">Ctypes</a><ul>
<li><a class="reference internal" href="#algo-lib-bitset">algo_lib.Bitset -</a></li>
<li><a class="reference internal" href="#algo-lib-cmdline-can-t-move-this-to-command-namespace-because-of-circular-dependency">algo_lib.Cmdline - <em>can’t move this to command namespace because of circular dependency</em></a></li>
<li><a class="reference internal" href="#algo-lib-csvparse">algo_lib.CsvParse -</a></li>
<li><a class="reference internal" href="#algo-lib-errorx">algo_lib.ErrorX -</a></li>
<li><a class="reference internal" href="#algo-lib-fdb-in-memory-database-for-algo-lib">algo_lib.FDb - In-memory database for algo_lib</a></li>
<li><a class="reference internal" href="#algo-lib-fdispsigcheck">algo_lib.FDispsigcheck -</a></li>
<li><a class="reference internal" href="#algo-lib-ffildes-wrapper-for-unix-file-descritor-call-close-on-uninit">algo_lib.FFildes - Wrapper for unix file descritor, call close() on Uninit</a></li>
<li><a class="reference internal" href="#algo-lib-fimdb">algo_lib.FImdb -</a></li>
<li><a class="reference internal" href="#algo-lib-fimtable">algo_lib.FImtable -</a></li>
<li><a class="reference internal" href="#algo-lib-fiohook">algo_lib.FIohook -</a></li>
<li><a class="reference internal" href="#algo-lib-flockfile">algo_lib.FLockfile -</a></li>
<li><a class="reference internal" href="#algo-lib-flogcat">algo_lib.FLogcat -</a></li>
<li><a class="reference internal" href="#algo-lib-freplvar">algo_lib.FReplvar -</a></li>
<li><a class="reference internal" href="#algo-lib-ftempfile">algo_lib.FTempfile -</a></li>
<li><a class="reference internal" href="#algo-lib-ftimehook">algo_lib.FTimehook -</a></li>
<li><a class="reference internal" href="#algo-lib-ftxtcell">algo_lib.FTxtcell -</a></li>
<li><a class="reference internal" href="#algo-lib-ftxtrow-table-row-todo-absolute-index-for-cells">algo_lib.FTxtrow - Table row. Todo: absolute index for cells?</a></li>
<li><a class="reference internal" href="#algo-lib-ftxttbl-table-row-todo-absolute-index-for-cells">algo_lib.FTxttbl - Table row. Todo: absolute index for cells?</a></li>
<li><a class="reference internal" href="#algo-lib-intextfile">algo_lib.InTextFile -</a></li>
<li><a class="reference internal" href="#algo-lib-mmap">algo_lib.Mmap -</a></li>
<li><a class="reference internal" href="#algo-lib-mmapfile">algo_lib.MmapFile -</a></li>
<li><a class="reference internal" href="#algo-lib-regx-parsed-regular-expression">algo_lib.Regx - Parsed regular expression</a></li>
<li><a class="reference internal" href="#algo-lib-regxexpr">algo_lib.RegxExpr -</a></li>
<li><a class="reference internal" href="#algo-lib-regxparse-function-to-parse-regx">algo_lib.RegxParse - Function to parse regx</a></li>
<li><a class="reference internal" href="#algo-lib-regxstate">algo_lib.RegxState -</a></li>
<li><a class="reference internal" href="#algo-lib-regxtoken">algo_lib.RegxToken -</a></li>
<li><a class="reference internal" href="#algo-lib-replscope">algo_lib.Replscope -</a></li>
<li><a class="reference internal" href="#algo-lib-shhdr">algo_lib.ShHdr -</a></li>
<li><a class="reference internal" href="#algo-lib-srng-command-function-a-single-word">algo_lib.Srng - Command function, a single word</a></li>
<li><a class="reference internal" href="#algo-lib-tabulate-function-to-tabulate-a-string">algo_lib.Tabulate - Function to tabulate a string</a></li>
</ul>
</li>
<li><a class="reference internal" href="#functions">Functions</a></li>
<li><a class="reference internal" href="#sources">Sources</a></li>
<li><a class="reference internal" href="#inputs">Inputs</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/scripts/furo.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    </body>
</html>